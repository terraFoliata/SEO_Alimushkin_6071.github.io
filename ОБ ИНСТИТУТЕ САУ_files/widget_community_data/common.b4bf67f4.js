/*! For license information please see common.b4bf67f4.js.LICENSE.txt */
try{(self.webpackChunkvkweb=self.webpackChunkvkweb||[]).push([[23592],{146322:(e,t,i)=>{"use strict";i.d(t,{API_VERSION:()=>o});const o="5.269"},1109:(e,t,i)=>{"use strict";i.d(t,{AccountSecurityLevelEnumNames:()=>o});const o={NOTHING_TO_SAY:0,HAVE_ISSUES:1,HAVE_RECOMMENDATIONS:10,GOOD:20}},216497:(e,t,i)=>{"use strict";i.d(t,{BaseSexEnumNames:()=>o});const o={UNKNOWN:0,FEMALE:1,MALE:2}},903413:(e,t,i)=>{"use strict";i.d(t,{FriendsFriendStatusStatusEnumNames:()=>o});const o={NOT_A_FRIEND:0,OUTCOMING_REQUEST:1,INCOMING_REQUEST:2,IS_FRIEND:3}},486831:(e,t,i)=>{"use strict";i.d(t,{GroupsGroupAdminLevelEnumNames:()=>o});const o={MODERATOR:1,EDITOR:2,ADMINISTRATOR:3}},600222:(e,t,i)=>{"use strict";function o(){return{icon:'<svg fill="none" height="8" viewBox="0 0 12 8" width="12" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M2.16 2.3a.75.75 0 0 1 1.05-.14L6 4.3l2.8-2.15a.75.75 0 1 1 .9 1.19l-3.24 2.5c-.27.2-.65.2-.92 0L2.3 3.35a.75.75 0 0 1-.13-1.05z" fill="currentColor" fill-rule="evenodd"/></svg>',name:"dropdown_12"}}i.d(t,{getIcon12Dropdown:()=>o})},447931:(e,t,i)=>{"use strict";function o(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="currentColor" d="M10.48 1.07c.55.05 1.03.14 1.47.37a3.74 3.74 0 0 1 1.64 1.63c.23.44.32.92.37 1.47.04.53.04 1.18.04 2v5.48c0 .5 0 .92-.03 1.25-.03.33-.1.72-.35 1.03a1.8 1.8 0 0 1-1.35.7c-.4.01-.76-.15-1.04-.32-.3-.17-.64-.41-1.04-.7l-1.7-1.2a7.21 7.21 0 0 0-.43-.3.25.25 0 0 0-.12 0l-.08.05c-.08.04-.18.12-.35.24l-1.7 1.2c-.4.3-.75.54-1.04.71-.28.17-.64.33-1.04.32a1.8 1.8 0 0 1-1.35-.7c-.25-.32-.32-.7-.35-1.03C2 12.94 2 12.52 2 12.02V6.53c0-.7 0-1.3.03-1.79a9.01 9.01 0 0 1 .01-.2c.05-.55.14-1.03.37-1.47a3.75 3.75 0 0 1 1.64-1.63c.44-.23.92-.32 1.47-.37.23-.02.48-.03.76-.03 1.4-.03 2.82-.08 4.2.03Z"/></svg>',name:"bookmark_16"}}i.d(t,{getIcon16Bookmark:()=>o})},667309:(e,t,i)=>{"use strict";function o(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="currentColor" fill-rule="evenodd" d="M6.72 1h2.56c.67 0 1.23 0 1.67.04.47.03.88.12 1.28.31a3.25 3.25 0 0 1 1.42 1.42c.2.4.28.81.31 1.28.04.44.04 1 .04 1.67v6.05c0 .56 0 1.02-.03 1.4-.04.36-.11.76-.37 1.1a1.9 1.9 0 0 1-1.45.73c-.42.01-.8-.17-1.11-.36-.32-.2-.7-.47-1.14-.8L8.5 12.8a7.25 7.25 0 0 0-.44-.3.25.25 0 0 0-.12 0s-.03 0-.08.04c-.08.05-.19.12-.37.26L6.1 13.84c-.45.33-.82.6-1.14.8-.31.19-.69.37-1.1.36a1.9 1.9 0 0 1-1.46-.73 2.06 2.06 0 0 1-.37-1.1C2 12.78 2 12.32 2 11.76V5.72c0-.67 0-1.23.04-1.67.03-.47.12-.88.31-1.28a3.25 3.25 0 0 1 1.42-1.42c.4-.2.81-.28 1.28-.31C5.49 1 6.05 1 6.72 1Zm1.22 11.5Zm.12 0Zm-2.9-9.97c-.36.03-.56.09-.7.16a1.75 1.75 0 0 0-.77.77c-.07.14-.13.34-.16.7-.03.39-.03.88-.03 1.59v5.98c0 .6 0 1 .03 1.3.02.24.05.31.06.32a.4.4 0 0 0 .3.15s.08-.02.3-.14l1.05-.75L6.6 11.6l.07-.05c.27-.2.56-.41.89-.5a1.75 1.75 0 0 1 .88 0c.33.09.62.3.89.5l.07.05 1.36 1c.49.37.8.6 1.06.76.2.12.29.14.3.14a.4.4 0 0 0 .3-.15s.03-.08.05-.32c.03-.3.03-.7.03-1.3V5.75c0-.71 0-1.2-.03-1.58a1.88 1.88 0 0 0-.16-.71 1.75 1.75 0 0 0-.77-.77 1.88 1.88 0 0 0-.7-.16c-.39-.03-.88-.03-1.59-.03h-2.5c-.71 0-1.2 0-1.58.03Z" clip-rule="evenodd"/></svg>',name:"bookmark_outline_16"}}i.d(t,{getIcon16BookmarkOutline:()=>o})},959156:(e,t,i)=>{"use strict";function o(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" fill="none" viewBox="0 0 12 16"><path fill="currentColor" d="M7.23 8 3.86 4.64a.9.9 0 0 1 1.28-1.28l4 4a.9.9 0 0 1 0 1.28l-4 4a.9.9 0 0 1-1.28-1.28L7.23 8Z"/></svg>',name:"chevron_16"}}i.d(t,{getIcon16Chevron:()=>o})},440180:(e,t,i)=>{"use strict";function o(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="currentColor" fill-rule="evenodd" d="M5.63 13.23c.74.23 1.55.36 2.38.36 3.77 0 6.99-2.62 6.99-6.04 0-3.43-3.22-6.05-6.99-6.05S1.02 4.12 1.02 7.55c0 1.13.36 2.18.98 3.08a7.35 7.35 0 0 1-.78 2.32 57.53 57.53 0 0 0-.14.33.87.87 0 0 0 .83 1.22c1.56-.06 2.84-.45 3.72-1.27Zm-.38-1.7.83.27c.6.19 1.25.3 1.93.3 3.18 0 5.49-2.18 5.49-4.55S11.2 3 8.01 3C4.83 3 2.52 5.17 2.52 7.55c0 .8.26 1.56.72 2.23l.3.43-.04.52a6.09 6.09 0 0 1-.44 1.77 13.08 13.08 0 0 1-.16.39 3.35 3.35 0 0 0 1.7-.76l.65-.6Z" clip-rule="evenodd"/></svg>',name:"message_outline_16"}}i.d(t,{getIcon16MessageOutline:()=>o})},801746:(e,t,i)=>{"use strict";function o(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 3.25a4.75 4.75 0 0 0-4.15 7.07.75.75 0 1 1-1.3.73A6.25 6.25 0 1 1 8 14.25a.75.75 0 0 1 0-1.5 4.75 4.75 0 1 0 0-9.5Z" clip-rule="evenodd"/></svg>',name:"spinner_16"}}i.d(t,{getIcon16Spinner:()=>o})},706891:(e,t,i)=>{"use strict";function o(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 3a.75.75 0 0 1 .75.75v5.5h5.5a.75.75 0 0 1 0 1.5h-5.5v5.5a.75.75 0 0 1-1.5 0v-5.5h-5.5a.75.75 0 0 1 0-1.5h5.5v-5.5A.75.75 0 0 1 10 3Z" clip-rule="evenodd"/></svg>',name:"add_20"}}i.d(t,{getIcon20Add:()=>o})},680208:(e,t,i)=>{"use strict";function o(){return{icon:'<svg fill="none" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M4.72 4.72c.3-.3.77-.3 1.06 0L10 8.94l4.22-4.22a.75.75 0 1 1 1.06 1.06L11.06 10l4.22 4.22a.75.75 0 1 1-1.06 1.06L10 11.06l-4.22 4.22a.75.75 0 0 1-1.06-1.06L8.94 10 4.72 5.78a.75.75 0 0 1 0-1.06z" fill="currentColor" fill-rule="evenodd"/></svg>',name:"cancel_20"}}i.d(t,{getIcon20Cancel:()=>o})},893980:(e,t,i)=>{"use strict";function o(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M17.53 5.22a.75.75 0 0 1 0 1.06l-9.5 9.5a.75.75 0 0 1-1.06 0l-4.5-4.5a.75.75 0 1 1 1.06-1.06l3.97 3.97 8.97-8.97a.75.75 0 0 1 1.06 0Z" clip-rule="evenodd"/></svg>',name:"check_20"}}i.d(t,{getIcon20Check:()=>o})},899690:(e,t,i)=>{"use strict";function o(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 20 20"><path fill="currentColor" fill-rule="evenodd" d="m12.75 4.04-.8 3.3 1.91.35c.96.17 1.82.62 2.07 1.53.26.92-.25 1.84-.82 2.52l-5.08 5.75c-.33.35-.66.64-.99.81-.3.16-.8.33-1.27.05-.46-.26-.58-.76-.6-1.1-.03-.38.03-.82.15-1.3l.84-3.35-1.81-.32c-.92-.16-1.84-.59-2.2-1.45-.39-.92 0-1.9.8-2.76l1.41-1.5c.84-.91 2.07-2.26 3.68-4.05.31-.35.64-.64.96-.82.31-.16.8-.32 1.26-.07.47.25.6.74.64 1.1.03.38-.02.83-.15 1.31Zm-1.37-.75a3.95 3.95 0 0 0-.22.22A330.83 330.83 0 0 1 6.05 9.1c-.63.69-.57 1.05-.52 1.15.16.38.73.5 1.08.56l2.33.41c.56.1.95.67.8 1.24l-.96 3.86a4.71 4.71 0 0 0-.08.4 4.42 4.42 0 0 0 .23-.24l5.04-5.7c.53-.65.55-1.02.52-1.15-.02-.07-.15-.32-.88-.45l-2.45-.44c-.56-.1-.94-.68-.8-1.24l.94-3.81a4.29 4.29 0 0 0 .08-.4Z" clip-rule="evenodd"/></svg>',name:"flash_outline_20"}}i.d(t,{getIcon20FlashOutline:()=>o})},497185:(e,t,i)=>{"use strict";function o(){return{icon:'<svg fill="none" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path d="M2 4.75c0-.41.34-.75.75-.75h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 4.75zm0 5c0-.41.34-.75.75-.75h12.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 9.75zm0 5c0-.41.34-.75.75-.75h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1-.75-.75z"/><path clip-rule="evenodd" d="M19.28 12.22c.3.3.3.77 0 1.06l-4.5 4.5c-.29.29-.76.29-1.05 0l-2.5-2.5a.75.75 0 0 1 1.05-1.06l1.97 1.97 3.97-3.97c.3-.3.77-.3 1.06 0z" fill-rule="evenodd"/></g></svg>',name:"list_add_outline_20"}}i.d(t,{getIcon20ListAddOutline:()=>o})},472240:(e,t,i)=>{"use strict";function o(){return{icon:'<svg fill="none" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><clipPath id="list_play_outline_20__a"><path d="M0 0h20v20H0z"/></clipPath><g clip-path="url(#list_play_outline_20__a)" fill="currentColor"><path d="M19.68 11.43c.43.25.43.89 0 1.14l-4.73 2.84c-.42.25-.95-.06-.95-.57V9.16c0-.5.53-.82.95-.57zM2 4.75c0-.41.34-.75.75-.75h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 4.75zm0 5c0-.41.34-.75.75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 2 9.75zm0 5c0-.41.34-.75.75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5a.75.75 0 0 1-.75-.75z"/></g></svg>',name:"list_play_outline_20"}}i.d(t,{getIcon20ListPlayOutline:()=>o})},827087:(e,t,i)=>{"use strict";function o(){return{icon:'<svg fill="none" height="20" viewBox="0 0 20 20" width="20" xmlns="http://www.w3.org/2000/svg"><path d="M15 8.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm-5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm-5 0a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3z" fill="currentColor"/></svg>',name:"more_20"}}i.d(t,{getIcon20More:()=>o})},433849:(e,t,i)=>{"use strict";function o(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M12 8.13a7.85 7.85 0 0 1-1.5 2.37A7.83 7.83 0 0 1 8.13 12c.83.37 1.72.86 2.37 1.51a7.83 7.83 0 0 1 1.5 2.37c.37-.84.86-1.72 1.51-2.37a7.83 7.83 0 0 1 2.37-1.5 7.85 7.85 0 0 1-2.37-1.51 7.83 7.83 0 0 1-1.5-2.37Zm-.78-2.18c-.42 1.32-1.02 2.72-1.78 3.49-.77.77-2.17 1.36-3.49 1.78a21.07 21.07 0 0 1-1.16.34c-.38.1-.38.79 0 .9a27.15 27.15 0 0 1 .91.25l.25.08c1.32.42 2.72 1.01 3.49 1.78.76.77 1.36 2.17 1.78 3.49a20.84 20.84 0 0 1 .27.9l.07.26c.1.38.79.38.9 0a27.49 27.49 0 0 1 .25-.91l.08-.25c.42-1.32 1.01-2.72 1.78-3.49s2.17-1.36 3.49-1.78a20.84 20.84 0 0 1 .9-.27l.26-.07c.38-.1.38-.8 0-.9a27.49 27.49 0 0 1-.91-.25 20.84 20.84 0 0 1-.25-.08c-1.32-.42-2.72-1.01-3.49-1.78s-1.36-2.17-1.78-3.49a21.13 21.13 0 0 1-.34-1.16c-.1-.38-.8-.38-.9 0a27.15 27.15 0 0 1-.25.91 21.13 21.13 0 0 1-.08.25ZM4.36.76a.39.39 0 0 0-.73 0L3.24 2A1.93 1.93 0 0 1 2 3.22l-1.24.41a.39.39 0 0 0 0 .74l1.24.4A1.93 1.93 0 0 1 3.22 6l.41 1.24a.39.39 0 0 0 .74 0L4.77 6A1.93 1.93 0 0 1 6 4.78l1.24-.42a.39.39 0 0 0 0-.73L6 3.24A1.93 1.93 0 0 1 4.78 2L4.36.76Z"/></svg>',name:"stars_20"}}i.d(t,{getIcon20Stars:()=>o})},655623:(e,t,i)=>{"use strict";function o(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 20 20"><path d="M2.75 4a.75.75 0 0 0 0 1.5H6v9.75a.75.75 0 0 0 1.5 0V5.5h3.25a.75.75 0 0 0 0-1.5h-8Z"/><path d="M10.75 7.5a.75.75 0 0 0 0 1.5h2.5v6.25a.75.75 0 0 0 1.5 0V9h2.5a.75.75 0 0 0 0-1.5h-6.5Z"/></svg>',name:"text_tt_outline_20"}}i.d(t,{getIcon20TextTtOutline:()=>o})},73245:(e,t,i)=>{"use strict";function o(){return{icon:'<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M13.08 2.65A2.21 2.21 0 0 1 14.64 2c.57 0 1.14.22 1.57.65l1.14 1.14a2.21 2.21 0 0 1 0 3.13l-.94.94-9.17 9.18A3.3 3.3 0 0 1 4.9 18H3a1 1 0 0 1-1-1v-1.9a3.29 3.29 0 0 1 .96-2.33l8.13-8.13 1.99-2zm2.28 4.13.93-.92a.71.71 0 0 0 0-1.02l-1.14-1.13a.71.71 0 0 0-.5-.21.71.71 0 0 0-.51.2l-.93.93 2.15 2.15zm-3.22-1.07-8.11 8.12a1.79 1.79 0 0 0-.53 1.26v1.11a.3.3 0 0 0 .3.3h1.11c.47 0 .93-.19 1.27-.53l8.1-8.11-2.15-2.15z" fill="currentColor"/></svg>',name:"write_outline_20"}}i.d(t,{getIcon20WriteOutline:()=>o})},702510:(e,t,i)=>{"use strict";function o(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M11.08 3h1.84c1.05 0 1.9 0 2.58.06.7.05 1.32.17 1.88.46a4.79 4.79 0 0 1 2.1 2.1c.28.56.4 1.17.46 1.88.06.68.06 1.53.06 2.58v7.62c0 .77 0 1.41-.05 1.91-.04.5-.14 1.03-.48 1.46a2.46 2.46 0 0 1-1.9.93c-.54 0-1.02-.24-1.44-.5-.42-.27-.93-.66-1.55-1.13l-1.61-1.24c-.61-.47-.72-.53-.8-.55a.66.66 0 0 0-.34 0c-.08.02-.19.08-.8.55l-1.61 1.24c-.62.47-1.13.86-1.55 1.13-.42.26-.9.5-1.45.5a2.46 2.46 0 0 1-1.9-.93 2.68 2.68 0 0 1-.48-1.46C4 19.11 4 18.47 4 17.7v-7.62c0-1.05 0-1.9.06-2.58.05-.7.18-1.32.46-1.88a4.79 4.79 0 0 1 2.1-2.1c.56-.28 1.17-.4 1.88-.46C9.18 3 10.03 3 11.08 3Z" clip-rule="evenodd"/></svg>',name:"bookmark_24"}}i.d(t,{getIcon24Bookmark:()=>o})},880526:(e,t,i)=>{"use strict";function o(){return{icon:'<svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M11.08 3h1.84c1.05 0 1.9 0 2.59.06.7.05 1.31.17 1.88.46.9.46 1.63 1.2 2.09 2.1.29.56.4 1.17.46 1.87.06.69.06 1.54.06 2.6v7.6c0 .78 0 1.42-.05 1.92-.04.5-.14 1.03-.48 1.46-.46.58-1.15.92-1.9.93-.54 0-1.02-.24-1.44-.5-.42-.27-.93-.66-1.55-1.13l-1.61-1.24c-.61-.47-.72-.53-.8-.55a.66.66 0 0 0-.34 0c-.08.02-.19.08-.8.55l-1.61 1.24c-.62.47-1.13.86-1.55 1.13-.42.26-.9.5-1.45.5a2.46 2.46 0 0 1-1.9-.93 2.68 2.68 0 0 1-.47-1.46C4 19.11 4 18.47 4 17.7v-7.62c0-1.05 0-1.9.06-2.59.05-.7.17-1.31.46-1.88.46-.9 1.2-1.63 2.1-2.09.56-.29 1.17-.4 1.87-.46C9.18 3 10.03 3 11.1 3zM8.64 4.85c-.6.05-.94.14-1.2.28-.57.28-1.03.74-1.31 1.3-.14.27-.23.62-.28 1.21-.05.6-.05 1.38-.05 2.48v7.53c0 .83 0 1.4.04 1.8.04.41.1.5.1.5.12.16.3.25.5.25 0 0 .12 0 .47-.22.34-.22.79-.56 1.45-1.07l1.58-1.2.1-.09c.44-.33.85-.65 1.32-.78.42-.1.86-.1 1.28 0 .47.13.88.45 1.32.78l.1.08 1.58 1.21c.66.5 1.1.85 1.45 1.07.35.22.46.22.46.22.2 0 .39-.1.5-.25 0 0 .07-.09.11-.5.04-.4.04-.97.04-1.8v-7.53c0-1.1 0-1.88-.05-2.48-.05-.6-.14-.94-.28-1.2a2.99 2.99 0 0 0-1.3-1.31 3.17 3.17 0 0 0-1.21-.28 33.8 33.8 0 0 0-2.48-.05h-1.76c-1.1 0-1.88 0-2.48.05z" fill="currentColor" fill-rule="evenodd"/></svg>',name:"bookmark_outline_24"}}i.d(t,{getIcon24BookmarkOutline:()=>o})},963251:(e,t,i)=>{"use strict";function o(){return{icon:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g id="browser_back_24__Master" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="browser_back_24__browser_back_24"><path id="browser_back_24__body" d="M0 0h24v24H0z"/><path d="m8.66 12 7.12 7.12a1.1 1.1 0 1 1-1.56 1.56l-7.9-7.9a1.1 1.1 0 0 1 0-1.56l7.9-7.9a1.1 1.1 0 0 1 1.56 1.56L8.66 12Z" id="browser_back_24__Path" fill="currentColor" fill-rule="nonzero"/></g></g></svg>',name:"browser_back_24"}}i.d(t,{getIcon24BrowserBack:()=>o})},936492:(e,t,i)=>{"use strict";function o(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M7.54 6.26a.9.9 0 0 0-1.28 1.28L10.73 12l-4.47 4.46a.9.9 0 0 0 1.28 1.28L12 13.27l4.46 4.47a.9.9 0 1 0 1.28-1.28L13.27 12l4.47-4.46a.9.9 0 1 0-1.28-1.28L12 10.73 7.54 6.26Z"/></svg>',name:"cancel_24"}}i.d(t,{getIcon24Cancel:()=>o})},138431:(e,t,i)=>{"use strict";function o(){return{icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 0a12 12 0 1 1 0 24 12 12 0 0 1 0-24Zm0 1.5a10.5 10.5 0 1 0 0 21 10.5 10.5 0 0 0 0-21Z" fill="currentColor"/></svg>',name:"check_circle_off_24"}}i.d(t,{getIcon24CheckCircleOff:()=>o})},740361:(e,t,i)=>{"use strict";function o(){return{icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 24a12 12 0 1 0 0-24 12 12 0 0 0 0 24Zm6.2-14.8a1 1 0 0 0-1.4-1.4L10 14.58l-2.8-2.8a1 1 0 0 0-1.4 1.42l3.5 3.5a1 1 0 0 0 1.4 0l7.5-7.5Z" fill="currentColor"/></svg>',name:"check_circle_on_24"}}i.d(t,{getIcon24CheckCircleOn:()=>o})},248812:(e,t,i)=>{"use strict";function o(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M14.96 9.26a.9.9 0 0 1 1.28 1.28l-4.6 4.6a.9.9 0 0 1-1.28 0l-2.6-2.6a.9.9 0 0 1 1.28-1.28L11 13.23l3.96-3.97Z"/><path fill-rule="evenodd" d="M12 2.1a9.9 9.9 0 1 1 0 19.8 9.9 9.9 0 0 1 0-19.8Zm0 1.8A8.1 8.1 0 0 0 3.9 12a8.1 8.1 0 0 0 8.1 8.1 8.1 8.1 0 0 0 8.1-8.1A8.1 8.1 0 0 0 12 3.9Z" clip-rule="evenodd"/></svg>',name:"check_circle_outline_24"}}i.d(t,{getIcon24CheckCircleOutline:()=>o})},321903:(e,t,i)=>{"use strict";function o(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M12 13.7 6.64 9.23a1 1 0 0 0-1.28 1.54l6 5a1 1 0 0 0 1.28 0l6-5a1 1 0 1 0-1.28-1.54L12 13.7Z"/></svg>',name:"chevron_down_24"}}i.d(t,{getIcon24ChevronDown:()=>o})},81930:(e,t,i)=>{"use strict";function o(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="m12 10.3-5.36 4.47a1 1 0 1 1-1.28-1.54l6-5a1 1 0 0 1 1.28 0l6 5a1 1 0 1 1-1.28 1.54L12 10.3Z"/></svg>',name:"chevron_up_24"}}i.d(t,{getIcon24ChevronUp:()=>o})},38050:(e,t,i)=>{"use strict";function o(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M12.4 8a.9.9 0 1 0-1.8 0v4.5a.9.9 0 0 0 .58.84l4 1.5a.9.9 0 0 0 .64-1.68l-3.42-1.28V8Z"/><path fill-rule="evenodd" d="M12 2.1a9.9 9.9 0 1 0 0 19.8 9.9 9.9 0 0 0 0-19.8ZM3.9 12a8.1 8.1 0 1 1 16.2 0 8.1 8.1 0 0 1-16.2 0Z" clip-rule="evenodd"/></svg>',name:"clock_outline_24"}}i.d(t,{getIcon24ClockOutline:()=>o})},799306:(e,t,i)=>{"use strict";function o(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M4.93 4.93A9.97 9.97 0 0 1 12 2a9.97 9.97 0 0 1 7.07 2.93A9.97 9.97 0 0 1 22 12a9.97 9.97 0 0 1-2.93 7.07A9.97 9.97 0 0 1 12 22a9.97 9.97 0 0 1-7.07-2.93A9.97 9.97 0 0 1 2 12a9.97 9.97 0 0 1 2.93-7.07ZM12 3.8a8.17 8.17 0 0 0-5.8 2.4A8.17 8.17 0 0 0 3.8 12a8.17 8.17 0 0 0 2.4 5.8 8.17 8.17 0 0 0 5.8 2.4 8.17 8.17 0 0 0 5.8-2.4 8.17 8.17 0 0 0 2.4-5.8 8.17 8.17 0 0 0-2.4-5.8A8.17 8.17 0 0 0 12 3.8ZM13 16a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm-1-9a.9.9 0 0 1 .9.9v5.2a.9.9 0 0 1-1.8 0V7.9A.9.9 0 0 1 12 7Z" clip-rule="evenodd"/></svg>',name:"error_circle_outline_24"}}i.d(t,{getIcon24ErrorCircleOutline:()=>o})},784394:(e,t,i)=>{"use strict";function o(){return{icon:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g id="favorite_24__Page-2" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="favorite_24__favorite_24"><path id="favorite_24__Bounds" d="M0 0h24v24H0z"/><path d="m15.34 8.48 4.43.43c1.54.15 2.02 1.65.83 2.64l-3.47 2.88 1.29 4.7c.42 1.54-.9 2.48-2.2 1.55L12 17.7l-4.21 2.98c-1.31.92-2.63 0-2.2-1.55l1.28-4.7-3.47-2.88c-1.2-1-.72-2.5.83-2.64l4.43-.43 1.95-4.5c.6-1.4 2.17-1.4 2.78 0l1.95 4.5Z" id="favorite_24__Mask" fill="currentColor" fill-rule="nonzero"/></g></g></svg>',name:"favorite_24"}}i.d(t,{getIcon24Favorite:()=>o})},977202:(e,t,i)=>{"use strict";function o(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M12.55 4.7a.6.6 0 0 0-1.1 0L9.83 8.6a.9.9 0 0 1-.77.55l-4.13.26a.6.6 0 0 0-.35 1.05l3.26 2.86a.9.9 0 0 1 .29.9l-.94 3.84a.6.6 0 0 0 .89.66l3.47-2a.9.9 0 0 1 .9 0l3.47 2a.6.6 0 0 0 .88-.66l-.93-3.85a.9.9 0 0 1 .29-.89l3.26-2.86a.6.6 0 0 0-.35-1.05l-4.13-.26a.9.9 0 0 1-.77-.56l-1.62-3.9ZM9.78 4a2.4 2.4 0 0 1 4.44 0l1.4 3.39 3.56.23a2.4 2.4 0 0 1 1.43 4.2l-2.86 2.5.8 3.32a2.4 2.4 0 0 1-3.53 2.64L12 18.54l-3.02 1.74a2.4 2.4 0 0 1-3.54-2.64l.8-3.32-2.85-2.5a2.4 2.4 0 0 1 1.43-4.2l3.56-.23L9.78 4Z" clip-rule="evenodd"/></svg>',name:"favorite_outline_24"}}i.d(t,{getIcon24FavoriteOutline:()=>o})},901098:(e,t,i)=>{"use strict";function o(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M6 6.6c0-.56 0-.84.1-1.05a1 1 0 0 1 .45-.44C6.76 5 7.04 5 7.6 5h.8c.56 0 .84 0 1.05.1a1 1 0 0 1 .44.45c.11.21.11.49.11 1.05v10.8c0 .56 0 .84-.1 1.05a1 1 0 0 1-.45.44c-.21.11-.49.11-1.05.11h-.8c-.56 0-.84 0-1.05-.1a1 1 0 0 1-.44-.45C6 18.24 6 17.96 6 17.4V6.6Zm8 0c0-.56 0-.84.1-1.05a1 1 0 0 1 .45-.44C14.76 5 15.04 5 15.6 5h.8c.56 0 .84 0 1.05.1a1 1 0 0 1 .44.45c.11.21.11.49.11 1.05v10.8c0 .56 0 .84-.1 1.05a1 1 0 0 1-.45.44c-.21.11-.49.11-1.05.11h-.8c-.56 0-.84 0-1.05-.1a1 1 0 0 1-.44-.45c-.11-.21-.11-.49-.11-1.05V6.6Z"/></svg>',name:"pause_24"}}i.d(t,{getIcon24Pause:()=>o})},660596:(e,t,i)=>{"use strict";function o(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M18.5 11.13a1 1 0 0 1 0 1.74l-9 5.2A1 1 0 0 1 8 17.2V6.8a1 1 0 0 1 1.5-.86l9 5.2Z"/></svg>',name:"play_24"}}i.d(t,{getIcon24Play:()=>o})},53495:(e,t,i)=>{"use strict";function o(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M12 9.1a.4.4 0 0 0 .67.3l4.29-3.9a.67.67 0 0 0 0-1L12.67.6a.4.4 0 0 0-.67.3V4a8 8 0 1 0 8 8 1 1 0 1 0-2 0 6 6 0 1 1-6-6v3.1Z"/></svg>',name:"refresh_24"}}i.d(t,{getIcon24Refresh:()=>o})},312311:(e,t,i)=>{"use strict";function o(){return{icon:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g id="song_24__Page-2" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="song_24__song_24"><path id="song_24__Bounds" d="M0 0h24v24H0z"/><path d="M13 11.48v5.65c0 4.52-.87 5.39-4.37 5.85C6.96 23.19 5 22.44 5 19.8c0-1.28.8-2.5 2.46-2.81 1.27-.25-.09.02 2.78-.52.7-.13.77-.37.77-.9V3.97c0-1.24.67-1.69 2.66-2.09l4.68-.87c.37-.07.65.07.65.49v4.05c0 .42-.17.6-.59.68l-4.86.86c-.38.1-.55.36-.55.74v3.64Z" id="song_24__Mask" fill="currentColor"/></g></g></svg>',name:"song_24"}}i.d(t,{getIcon24Song:()=>o})},950189:(e,t,i)=>{"use strict";function o(){return{icon:'<svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M16.4 5.08A8.2 8.2 0 0 0 4.57 15.49a.9.9 0 0 1-1.63.77A10 10 0 1 1 12 22a.9.9 0 0 1 0-1.8 8.2 8.2 0 0 0 4.4-15.12z" fill="currentColor" fill-rule="evenodd"/></svg>',name:"spinner_24"}}i.d(t,{getIcon24Spinner:()=>o})},627872:(e,t,i)=>{"use strict";function o(){return{icon:'<svg fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path clip-rule="evenodd" d="M9.49 4.55a2.9 2.9 0 0 1 5.02 0l6.93 12a2.9 2.9 0 0 1-2.51 4.35H5.07a2.9 2.9 0 0 1-2.51-4.35zm3.46.9a1.1 1.1 0 0 0-1.9 0l-6.93 12c-.42.73.1 1.65.95 1.65h13.86c.85 0 1.37-.92.95-1.65z" fill-rule="evenodd"/><path clip-rule="evenodd" d="M12 8c.5 0 .9.37.9.84v4.82c0 .47-.4.84-.9.84s-.9-.37-.9-.84V8.84c0-.47.4-.84.9-.84z" fill-rule="evenodd"/><path d="M13 16.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/></g></svg>',name:"warning_triangle_outline_24"}}i.d(t,{getIcon24WarningTriangleOutline:()=>o})},480888:(e,t,i)=>{"use strict";function o(){return{icon:'<svg width="28" height="28" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg"><g id="check_circle_outline_28__Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="check_circle_outline_28__check_circle_outline_28" fill-rule="nonzero"><path d="M0 0h28v28H0z"/><path d="M14 2a12 12 0 1 1 0 24 12 12 0 0 1 0-24Zm0 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20Zm4.29 6.29a1 1 0 0 1 1.42 0 1 1 0 0 1 0 1.42l-7 7a1 1 0 0 1-1.42 0l-3.5-3.5a1 1 0 0 1 1.42-1.42L12 16.6Z" id="check_circle_outline_28__Icon-Color" fill="currentColor"/></g></g></svg>',name:"check_circle_outline_28"}}i.d(t,{getIcon28CheckCircleOutline:()=>o})},127760:(e,t,i)=>{"use strict";function o(){return{icon:'<svg fill="none" height="28" viewBox="0 0 28 28" width="28" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path d="M21.46 7.16a1 1 0 0 1 1.38.3A1 1 0 0 1 23 8v12.35a1 1 0 1 0 2 0V8a3 3 0 0 0-4.61-2.53L16.42 8h-3.77a1 1 0 1 0 0 2H15v2.34a1 1 0 1 0 2 0V10z"/><path clip-rule="evenodd" d="M16.75 17.34a1.01 1.01 0 0 0-.09-.1L4.71 5.3A1 1 0 0 0 3.3 6.7L5.48 8.9c-.18.12-.34.25-.5.37a5.52 5.52 0 0 0-.37 8.12 5.49 5.49 0 0 0 2.98 1.53l.45 2.6a3 3 0 1 0 5.91-1.04L13.7 19h1.9l6.7 6.71a1 1 0 0 0 1.42-1.41zm-9.82-7a7.37 7.37 0 0 0-.9.68 3.49 3.49 0 0 0 0 4.95c.63.64 1.5 1.03 2.47 1.03h5.08zM10 21.17 9.63 19h2.03l.32 1.82a1 1 0 0 1-.8 1.16 1 1 0 0 1-1.17-.8z" fill-rule="evenodd"/></g></svg>',name:"loudspeaker_slash_outline_28"}}i.d(t,{getIcon28LoudspeakerSlashOutline:()=>o})},518996:(e,t,i)=>{"use strict";function o(){return{icon:'<svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M28 52a24 24 0 1 0 0-48 24 24 0 0 0 0 48z" fill="#FC3"/><path fill-rule="evenodd" clip-rule="evenodd" d="M31.86 40.86a1.29 1.29 0 0 1 0 2.57h-7.72a1.29 1.29 0 0 1 0-2.57h7.72zm-1.29-12c.86-.86 1.72 1.71 6 1.71 3.43 0 6.43-1.71 6.86-.86.43.86-2.57 4.29-6.86 4.29-5.14 0-6.86-4.29-6-5.14zm-5.14 0c.86.85-.86 5.14-6 5.14-4.29 0-7.29-3.43-6.86-4.29.43-.85 3.43.86 6.86.86 4.28 0 5.14-2.57 6-1.71zm9.43-10.29c.85-.86 2.57 2.14 6 3.43s4.28 1.29 4.28 2.57c0 .86-.85 1.72-5.14 0-4.29-1.71-6-5.14-5.14-6zm-13.72 0c.86.86-.85 4.29-5.14 6-4.29 1.72-5.14.86-5.14 0 0-1.28.85-1.28 4.28-2.57 3.43-1.29 5.15-4.29 6-3.43z" fill="#805446"/></svg>',name:"pensive_face_56"}}i.d(t,{getIcon56PensiveFace:()=>o})},800418:(e,t,i)=>{"use strict";i.d(t,{AudioAds:()=>u});var o=i(898848),r=i(598129),n=i(330882),a=i(392358),s=i(251458),c=i(636576),l=i(690027),d=i(255818);class u{get isActive(){return!!this._isActive}set isActive(e){this._isActive=e,this.player.notify(a.events.PLAYER_IS_AD_CHANGED,e)}isPlaying(){return this.isActive}getCurrentAd(){return this._currentAd}setAdsConfig(e){this._adsConfig=e}getCurrentProgress(){return this._adsCurrentProgress}getDuration(){return this._duration}loadAdman(e){const t=t=>e&&e(t);if(this._admanLoaded)return void t();let i=0;(0,r.loadScript)(u.ADMAN_SRC,{onLoad:()=>{this._admanLoaded=!0,t()},onError:()=>{window.abp?(this._admanLoaded=!0,t()):(i+=1,3===i&&(this._admanLoaded=!0),t("script_load_fail"))}})}_fetchAd(e,t,i,r,n){this.loadAdman((s=>{if(!window.AdmanHTML)return this._sendEvent("no_adman",t,u.AD_TYPE,s),r&&r();this._adman=new AdmanHTML;const c=this._adsConfig||vk.audioAdsConfig||window.audioAdsConfig,l={_SITEID:276,ver:251116,vk_id:vk.id,puid1:554,duration:e.duration,content_id:_(e.ownerId,e.id),vk_catid:u.CAT_IDS[t]||u.CAT_IDS.other,sign:c?.sign||""};Object.assign(l,e.ads||{}),nav.objLoc&&nav.objLoc.preview&&(l.preview=(0,o.intval)(nav.objLoc.preview)),cur.adsPreview&&(l.preview=1,l.vk_id=398724832),this._adman.setDebug(!!l.preview),this._adman.onError((()=>r&&r())),this._adman.onReady((()=>{if(!this._adman)return;const e=this._adman.getBannersForSection(u.AD_TYPE);if(e&&e.length){const[o]=e;"statistics"===o.type?(this._play(!0,t),r&&r()):(this._sendEvent("received",t),i?(this._sendEvent("rejected",t,u.AD_TYPE,n),this.deinit(),r&&r()):(this._sendEvent("ready",t),this.player.notify(a.events.AD_READY),this._play(!1,t,r,o)))}else i||this._sendEvent("not_received",t),r&&r()})),this._adman.init({slot:3514,wrapper:document.createElement("div"),params:l,browser:{adBlock:!!window.abp,mobile:!1}}),this._sendEvent("requested",t)}))}_sendEvent(e,t,i,r){const n=i?"/"+i:"",a=r?"/"+r:"";this._adEvents.push(e+"/"+t+n+a),clearTimeout(this._adEventDelay),this._adEventDelay=setTimeout((()=>{ajax.post(this.adsStatUrl,{act:"ad_event",events:this._adEvents.join(","),v:this.playerVersion,abp:(0,o.intval)(window.abp)},{onFail:()=>!0}),this._adEvents=[]}),500)}_play(e,t,i,r){this._adman.onCompleted((()=>{this.deinit(!0),e?this._sendEvent("statistics",t):(this.player.notify(a.events.PROGRESS,0),this.player.notify(a.events.AD_COMPLETED),this.isActive=!1,this._currentAd=null,this._adsCurrentProgress=0,this._sendEvent("completed",t),this.isMvk||(window.document.title=(0,o.replaceEntities)(this._adsPrevTitle)),i&&i())})),this._adman.onStarted((()=>{e||(this.player.setIsPlaying(!0),this.player.notify(a.events.PLAY),this.player.notify(a.events.PROGRESS,0),this.player.notify(a.events.AD_STARTED,(0,d.makeAudioAdFromAdman)(r)),this.updateVolume(),this._sendEvent("started",t),window.statlogsValueEvent&&(0,c.statlogsValueEvent)("audio_web_ad_link","show"))})),this._adman.onPaused((()=>{this.player.setIsPlaying(!1),this.player.notify(a.events.PAUSE)})),this._adman.onPlayed((()=>{this.player.setIsPlaying(!0),this.player.notify(a.events.PLAY)}));const n=[.25,.5,.75];if(this._adman.onTimeRemained((e=>{this._duration=isNaN(e.duration)?0:e.duration,this._adsCurrentProgress=(isNaN(e.percent)?0:e.percent)/100,this.player.notify(a.events.PROGRESS,this._adsCurrentProgress,this._duration),(0,o.each)(n,((e,i)=>{if(this._adsCurrentProgress>=i)return n.shift(),this._sendEvent("progress_"+(0,o.intval)(100*i),t),!1}))})),this._adman.start(u.AD_TYPE),e)return i&&i();this._currentAd=(0,d.makeAudioAdFromAdman)(r),this.isActive=!0,this._adsPrevTitle=document.title,this.isMvk||(window.document.title=getLang("global_audio_ad"))}updateVolume(){this._adman&&this._adman.setVolume(.7*this.player.getVolume())}deinit(e){this._adman=null,!e&&this.player.notify(a.events.AD_DEINITED)}pause(){this._adman&&(this.player.setIsPlaying(!1),this._adman.pause())}stop(){this._adman&&(this.player.setIsPlaying(!1),this._adman.stop())}resume(){this._adman&&(this.player.setIsPlaying(!0),this._adman.resume(),this.player.notify(a.events.PLAY))}checkPlay(e,t){const i=this.player._getPlayingContextSection(),{type:o,reason:r}=this._isAllowed(e),n=()=>t&&t();switch(o){case u.ALLOW_ALLOWED:this._fetchAd(e,i,!1,n);break;case u.ALLOW_DISABLED:n();break;case u.ALLOW_REJECT:this._fetchAd(e,i,!0,!1,r),n()}}hasAdsSupport(){const e=(0,o.intval)(n.browser.version.split(".")[0]);return!(n.browser.ios||n.browser.safari&&this.isMvk||n.browser.chrome&&e<50)}_isAllowed(e){if(vk.widget||(0,s.isPodcast)(e)||(0,l.isExternalStream)(e))return{type:u.ALLOW_DISABLED};const t=this._adsConfig||vk.audioAdsConfig||window.audioAdsConfig;if(t){if(!t.enabled||!this.hasAdsSupport())return{type:u.ALLOW_DISABLED};if(cur.adsPreview)return{type:u.ALLOW_ALLOWED};if(t.day_limit_reached)return{type:u.ALLOW_REJECT,reason:u.REJECT_REASON_LIMIT};return"im"!==this.player._getPlayingContextSection()?{type:u.ALLOW_ALLOWED}:{type:u.ALLOW_REJECT,reason:u.REJECT_REASON_SECTION}}return{type:u.ALLOW_REJECT,reason:u.REJECT_REASON_UNKNOWN}}startPlay(e,t){this.checkPlay(e,t)}constructor(e,t,i){this._isActive=!1,this._currentAd=null,this._adsCurrentProgress=0,this._adman=null,this._admanLoaded=!1,this._adEvents=[],this.player=e||{},this.playerVersion=t||null,this._startAdsTO=null,this._adsConfig=null,this._duration=0,this.isMvk=Boolean(i),this.adsStatUrl=this.isMvk?"audio":"al_audio.php"}}function _(e,t){const i=e.toString(16);let o=t.toString(16);for(;o.length<8;)o="0"+o;return i+o}u.ADMAN_SRC="//ad.mail.ru/static/admanhtml/rbadman-html5.min.js",u.CAT_IDS={my:101,my_playlists:101,audio_feed:109,recent:113,user_wall:104,group_wall:104,user_list:102,group_list:103,user_playlists:102,group_playlists:103,feed:105,search:110,global_search:110,replies:104,im:106,group_status:104,user_status:104,recs:107,recs_audio:107,recs_album:107,other:114},u.AD_TYPE="preroll",u.ALLOW_DISABLED=1,u.ALLOW_ALLOWED=2,u.ALLOW_REJECT=3,u.REJECT_REASON_UNKNOWN="unknown",u.REJECT_REASON_LIMIT="track_limit_exceeded",u.REJECT_REASON_SECTION="section_not_allowed"},899841:(e,t,i)=>{"use strict";i.d(t,{DEFAULT_VOLUME:()=>r,SILENCE:()=>o});const o="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA",r=.4761515102104643},722574:(e,t,i)=>{"use strict";i.d(t,{AudioPlayerHTML5:()=>_});var o=i(434518),r=i(763812),n=i(330882),a=i(434810),s=i(899841),c=i(71935);var l=(0,r._)("_network"),d=(0,r._)("_networkAnalytics"),u=(0,r._)("_handleProgressUpdate");class _{destroy(){}getPlayedTime(){const e=this._currentAudioEl.played;let t=0;for(let i=0;i<e.length;i++)t+=e.end(i)-e.start(i);return t}getCurrentTime(){return this._currentAudioEl.currentTime}clearAudioNode(){this._currentAudioEl=this._createAudioNode(s.SILENCE)}isCurrent(e){return e===this._currentAudioEl}_createAudioNode(e){const t=new c.HTMLAudioNode({network:(0,o._)(this,l)[l],networkAnalytics:(0,o._)(this,d)[d],url:e,volume:this.hasOwnProperty("_volume")?this._volume:this.opts.defaultVolume,callbacks:{onUrlInstalled:()=>{(0,o._)(this,u)[u]()},onBufferUpdate:()=>{(0,o._)(this,u)[u]()},onProgressUpdate:()=>{(0,o._)(this,u)[u]()},onEnd:()=>{this.isCurrent(t)&&t.src!==s.SILENCE&&this.opts.onEnd(),(0,o._)(this,u)[u]()},onSeeked:()=>{this.isCurrent(t)&&this.opts.onSeeked(),(0,o._)(this,u)[u]()},onSeek:()=>{this.isCurrent(t)&&this.opts.onSeek(),(0,o._)(this,u)[u]()},onFail:e=>{this._prefetchAudioEl===t?this._prefetchAudioEl=this._createAudioNode():this.isCurrent(t)&&t.src!==s.SILENCE&&(this._hlsError=e,this.opts.onFail&&this.opts.onFail()),(0,o._)(this,u)[u]()},onDurationChange:()=>{this.isCurrent(t)&&this._seekOnReady&&t.duration>0&&(this.seek(this._seekOnReady),this._seekOnReady=!1),(0,o._)(this,u)[u]()},onCanPlay:()=>{this.isCurrent(t)&&this.opts.onCanPlay&&this.opts.onCanPlay(),(0,o._)(this,u)[u]()},onPause:(...e)=>{this.isCurrent(t)&&t.src!==s.SILENCE&&this.opts.onPause(...e),(0,o._)(this,u)[u]()},onPlay:(...e)=>{this.isCurrent(t)&&t.src!==s.SILENCE&&this.opts.onPlay(...e),(0,o._)(this,u)[u]()}}});return t}onReady(e){e()}prefetch(e){const t=(0,a.audioUnmaskSource)(e);this._prefetchAudioEl&&this._prefetchAudioEl.url===t||(this._prefetchAudioEl=this._createAudioNode(t))}seek(e){const t=this._currentAudioEl;t.duration>0&&t.src&&t.src!==s.SILENCE?(t.currentTime=t.duration*e,(0,o._)(this,u)[u]()):this._seekOnReady=e}setVolume(e){void 0===e&&(e=this._currentAudioEl.volume),this._currentAudioEl.volume=e,this._prefetchAudioEl&&(this._prefetchAudioEl.volume=e),this._volume=e}setPlaybackRate(e){this._currentAudioEl.playbackRate=e}getCurrentProgress(){return this._currentAudioEl.currentProgress}getCurrentBuffered(){return this._currentAudioEl&&this._currentAudioEl.currentBuffered}getDuration(){return this._currentAudioEl?this._currentAudioEl.duration:0}isFullyLoaded(){return this._currentAudioEl.isFullyLoaded}setUrl(e,t=()=>{}){let i;if(!e)return t&&t(!1);const r=(0,a.audioUnmaskSource)(e);let n=this._currentAudioEl;if(this._currentAudioEl.src&&this._currentAudioEl.src!==s.SILENCE&&(this._seekOnReady=!1),this._currentAudioEl.src===r)return this.opts.onCanPlay&&this.opts.onCanPlay(),(0,o._)(this,u)[u](),void(t&&t(!0));if(this._prefetchAudioEl){if(this._prefetchAudioEl.src===r)return this._currentAudioEl.pause(),this._currentAudioEl.setUrl(s.SILENCE),this._prefetchAudioEl.readyState>=3&&setTimeout((()=>this.opts.onCanPlay&&this.opts.onCanPlay())),this._currentAudioEl=this._prefetchAudioEl,this._prefetchAudioEl=null,(0,o._)(this,u)[u](),void(t&&t(!0));r!==s.SILENCE&&(this._prefetchAudioEl.setUrl(s.SILENCE),(0,o._)(this,u)[u]())}n.src!==r&&(i=n.setUrl(r).then((()=>this._stopFrequencyAnalise()))),i?i.then((()=>t(!0))).catch((()=>t(!1))):t(!0)}play(){this._stopFrequencyAnalise();const e=this._currentAudioEl;if(e.src){const t=e.play();return this._startFrequencyAnalise(),t}return Promise.resolve()}preparePlay(){if(n.browser.safari)return this._currentAudioEl.setUrl(s.SILENCE).then((()=>this._currentAudioEl.play()))}_startFrequencyAnalise(){function e(e,t,i,o){return(i-t)*e/o+t}function t(e,t){return Math.random()*(t-e)+e}this._stopFrequencyAnalise();let i=999,o=null,r=null;this._freqUpdateInterval=setInterval((()=>{let n;this._currentAudioEl.paused?n=[0,0,0,0]:(i++,i>3&&(i=0,o=r,r=[t(.7,1),t(.55,.8),t(.3,.55),t(.03,.45)],o||(o=[t(.7,1),t(.55,.8),t(.3,.55),t(.03,.45)])),n=[e(i,o[0],r[0],3),e(i,o[1],r[1],3),e(i,o[2],r[2],3),e(i,o[3],r[3],3)]),this.opts.onFrequency&&this.opts.onFrequency(n)}),50)}_stopFrequencyAnalise(){clearInterval(this._freqUpdateInterval),this.opts.onFrequency&&this.opts.onFrequency([0,0,0,0])}pause(){this._currentAudioEl.pause(),this._stopFrequencyAnalise()}stop(){this._currentAudioEl.pause(),this.seek(0),this._stopFrequencyAnalise()}_setFadeVolumeInterval(e){if(e){if(!this._fadeVolumeWorker&&window.Worker&&window.Blob){const e=new Blob(["\n          var interval;\n          onmessage = function(e) {\n            clearInterval(interval);\n            if (e.data == 'start') {\n              interval = setInterval(function() { postMessage({}); }, 20);\n            }\n          }\n        "]);try{this._fadeVolumeWorker=new Worker(window.URL.createObjectURL(e))}catch(e){this._fadeVolumeWorker=!1}}this._fadeVolumeWorker?(this._fadeVolumeWorker.onmessage=e,this._fadeVolumeWorker.postMessage("start")):this._fadeVolumeInterval=setInterval(e,60)}else this._fadeVolumeWorker&&(this._fadeVolumeWorker.terminate(),this._fadeVolumeWorker=null),this._fadeVolumeInterval&&clearInterval(this._fadeVolumeInterval)}fadeVolume(e,t,i){e=Math.max(0,Math.min(1,e));const o=this._currentAudioEl;let r=0;if(t){const i=e-o.volume;r=i/(t/20||1)}else r=e<o.volume?-.06:.001;if(Math.abs(e-o.volume)<=.001)return this._setFadeVolumeInterval(),i&&i();let n=o.volume;this._setFadeVolumeInterval((()=>{!t&&r>0&&(r*=1.35),n+=r;let o=!1;if(o=r<0?n<=e:n>=e,o)return this.setVolume(e),this._setFadeVolumeInterval(),i&&i();this.setVolume(n)}))}getErrorData(){const e=this._currentAudioEl.error||{};return{is_hls:this._currentAudioEl.hls?1:0,url:this._currentAudioEl.src,error_code:e.code,error_message:e.message,hls_error:this._hlsError?JSON.stringify(this._hlsError):null}}constructor(e,t,i){Object.defineProperty(this,u,{value:p}),Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),this.type="html5",(0,o._)(this,l)[l]=e,(0,o._)(this,d)[d]=t,this.opts=i||{},this._audioNodes=[],this._currentAudioEl=this._createAudioNode(),this._prefetchAudioEl=this._createAudioNode()}}function p(){this.opts.onProgressUpdate(this.getCurrentProgress(),this.getPlayedTime(),this.getCurrentTime()),this.opts.onBufferUpdate(this.getCurrentBuffered())}},434810:(e,t,i)=>{"use strict";i.d(t,{audioUnmaskSource:()=>a});var o=i(898848);const r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMN0PQRSTUVWXYZO123456789+/=",n={v:function(e){return e.split("").reverse().join("")},r:function(e,t){let i;e=e.split("");const o=r+r;let n=e.length;for(;n--;)i=o.indexOf(e[n]),~i&&(e[n]=o.substr(i-t,1));return e.join("")},s:function(e,t){let i=e.length;if(i){const o=function(e,t){const i=e.length;if("bigint"==typeof t)return function(e,t){const i=new Array(t);if(0===t)return i;const o=window.BigInt(t);e<0n&&(e=-e);for(let r=t-1;r>=0;r--){const t=window.BigInt(r);e=(o*window.BigInt(r+1)^e+t)%o,i[r]=Number(e)}return i}(t,e.length);const o=[];if(i){let e=i;for(t=Math.abs(t);e--;)t=(i*(e+1)^t+e)%i,o[e]=t}return o}(e,t);let r=0;for(e=e.split("");++r<i;)e[r]=e.splice(o[i-1-r],1,e[r])[0];e=e.join("")}return e},i:function(e,t){const i=window.BigInt(parseInt(t,10)||0),o=window.BigInt(vk.id??0)^i;return n.s(e,o)},x:function(e,t){const i=[];return t=t.charCodeAt(0),(0,o.each)(e.split(""),(function(e,o){i.push(String.fromCharCode(o.charCodeAt(0)^t))})),i.join("")}};function a(e){if((!window.wbopen||!~(window.open+"").indexOf("wbopen"))&&~e.indexOf("audio_api_unavailable")){let t,i,o=e.split("?extra=")[1].split("#"),r=""===o[1]?"":s(o[1]);if(o=s(o[0]),"string"!=typeof r||!o)return e;r=r?r.split(String.fromCharCode(9)):[];let a=r.length;for(;a--;){if(i=r[a].split(String.fromCharCode(11)),t=i.splice(0,1,o)[0],!n[t])return e;o=n[t].apply(null,i)}if(o&&"http"===o.substr(0,4))return o}return e}function s(e){if(!e||e.length%4==1)return!1;let t,i,o=0,n=0,a="";for(;i=e.charAt(n++);)i=r.indexOf(i),~i&&(t=o%4?64*t+i:i,o++%4)&&(a+=String.fromCharCode(255&t>>(-2*o&6)));return a}},280213:(e,t,i)=>{"use strict";function o(e,t){let i="";return e.forEach((function(o,r){let n="/audio?performer=1&q="+encodeURIComponent(o.name),a=window.getWebHost?window.getWebHost():"";o.id&&(n=`/artist/${o.id}`),i+=t?`<a class="artist_link" href="${a}${n}">${o.name}</a>`:o.name,r<e.length-1&&(i+=", ")})),i}i.d(t,{getAudioArtistsString:()=>o})},349581:(e,t,i)=>{"use strict";i.d(t,{getAudioPerformers:()=>a});var o=i(251458),r=i(280213),n=i(867366);function a(e,t=!0){let i="";const a=!(0,o.isPodcast)(e)&&t;if(Array.isArray(e[n.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_MAIN_ARTISTS])&&(i=(0,r.getAudioArtistsString)(e[n.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_MAIN_ARTISTS],a)),Array.isArray(e[n.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_FEAT_ARTISTS])&&(i+=" feat. ",i+=(0,r.getAudioArtistsString)(e[n.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_FEAT_ARTISTS],a)),!i){let t=e[n.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_PERFORMER]?e[n.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_PERFORMER].replace(/<\/?em>/g,""):"";if(a){i=`<a class="artist_link" data-performer="${t}" href="${"/audio?performer=1&q="+encodeURIComponent(t)}">${t}</a>`}else i=t}return i}},251458:(e,t,i)=>{"use strict";i.d(t,{isPodcast:()=>n});var o=i(867366),r=i(898848);function n(e){if(!e)return!1;let t=(0,r.isObject)(e)?e.extra:e[o.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_EXTRA];return(0,r.isObject)(t)||(t=JSON.parse(t||"{}")),!!t.podcast}},8236:(e,t,i)=>{"use strict";i.d(t,{serializeAudio:()=>r});var o=i(867366);function r(e){if(!e)return null;if(Array.isArray(e))return e;const t=[e.addHash,e.editHash,e.actionHash,e.deleteHash,e.replaceHash,e.urlHash,e.restoreHash].join("/"),i=[e.coverUrl_l,e.coverUrl_p].join(","),r=[];return r[o.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_ID]=e.id,r[o.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_OWNER_ID]=e.owner_id,r[o.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_URL]=e.url,r[o.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_TITLE]=e.title,r[o.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_PERFORMER]=e.performer,r[o.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_DURATION]=e.duration,r[o.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_ALBUM_ID]=e.albumId,r[o.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_AUTHOR_LINK]=e.authorLink,r[o.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_LYRICS]=e.lyrics,r[o.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_FLAGS]=e.flags,r[o.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_CONTEXT]=e.context,r[o.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_EXTRA]=e.extra,r[o.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_HASHES]=t,r[o.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_COVER_URL]=i,r[o.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_ADS]=e.ads,r[o.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_SUBTITLE]=e.subTitle,r[o.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_MAIN_ARTISTS]=e.mainArtists,r[o.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_FEAT_ARTISTS]=e.featArtists,r[o.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_ALBUM]=e.album,r[o.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_TRACK_CODE]=e.trackCode,r[o.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_RESTRICTION]=e.restrictionStatus,r[o.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_ALBUM_PART]=e.albumPart,r[o.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_ACCESS_KEY]=e.accessKey,r[o.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_CHART_INFO_INDEX]=e.chartInfo,r}},762701:(e,t,i)=>{"use strict";function o(e,t){if(!window.Worker||!window.Blob)return setTimeout(e,t);{const i=new Blob([`\n      var timeout;\n      onmessage = function(e) {\n        clearTimeout(timeout);\n        if (e.data == 'start') {\n          timeout = setTimeout(function() { postMessage({}); }, ${t});\n        }\n      }\n    `]);try{const t=new Worker(window.URL.createObjectURL(i));return t.onmessage=function(){t.terminate(),e()},t.postMessage("start"),t}catch(i){return setTimeout(e,t)}}}i.d(t,{setWorkerTimeout:()=>o})},43866:(e,t,i)=>{"use strict";function o(e){try{return e.play()||Promise.resolve()}catch(e){return Promise.reject(e)}}i.d(t,{wrapAudioPlay:()=>o})},556048:(e,t,i)=>{"use strict";i.d(t,{init:()=>s});var o=i(636576),r=i(878701),n=i(553608);const a="supportedFeatures";function s(){const e={is_schemes_supported:(0,r.isCSSVariablesSupported)(),is_auto_schemes_supported:(0,r.isAutoSchemesSupported)(),current_scheme:(0,r.isDarkTheme)()?2:(0,r.isLightTheme)()},t=Object.keys(e).sort().map((t=>`${t}:${Number(e[t])}`)).join("/"),i=n.vkLocalStorage.getItem(a);null!==i&&t===i||(n.vkLocalStorage.setItem(a,t),(0,o.statlogsValueEvent)("browser_features",t))}},664659:(e,t,i)=>{"use strict";i.d(t,{mediascopeTrackPage:()=>a});var o=i(898848),r=i(636576),n=i(540462);function a(e,t){const i=location.protocol,a=`^https?:\\/\\/(?:(?:www|m)\\.)?(?:\\w+\\.)*${(0,o.escapeRE)("vk.com")}`,s=window._tns&&(window._tns.tnsPixelSocdem||"83"),c=t.replace(/\*/g,"%2a").split("#")[0],l=window._tns&&window._tns.tnsPixelType;if((0,o.vkImage)().src=`${i}//www.tns-counter.ru/V13a**clid:${s}*${c}*vk_com/ru/UTF-8/tmsec=vksite_total/${Math.round(1e9*Math.random())}`,(0,n.partConfigEnabled)("tns_track_sections")){const t="content",i="messenger",o="photo",n="music",s="podcasts",c="video",l="clips",d="services",u="taxi",_="eda",p="worki",m="ecomm",g="games",v="docs",f="other",y="feed",E="friends",A="groups",S="idpublicclub",b="longread",T="bookmarks",I="stickers",C="likes",k="messenger",P="photo",O="music",M="podcasts",L="video",D="clips",R="services",N="taxi",x="eda",F="worki",U="ecomm",B="gamesapp",V="gamesapppage",H="docs",j="docdoc",W="other",G=[...[[/w=story-?\d+_\d+/,t,"story"],[/z=video-?\d+_\d+/,c,"videoview"],[/z=(photo(_tag)?-?\d+_\d+|albums?-?\d+)/,o,"photoview"],[/z=audio_playlist-?\d+_\d+/,n,"playlistview"],[/z=podcast-?\d+_\d+/,n,"podcastview"],[/z=clip-?\d+_\d+/,l,"clipsview"],[/w=app\d+/,g,"gamesappview"],[/w=product-?\d+_\d+/,m,"product"]].map((([e,t,i])=>[new RegExp(a+"\\b.*?\\b"+e.source),t,i])),...[[/feed\?section=likes(\/|\&|$)/,t,C],[/feed(\/|\?|$)/,t,y],[/friends(\/|\?|$)/,t,E],[/groups(\/|\?|$)/,t,A],[/(id|public|club)\d+(\/|\?|$)/,t,S],[/@[\w-\.]+(\/|\?|$)/,t,b],[/bookmarks(\/|\?|$)/,t,T],[/stickers(\/|\?|$)/,t,I],[/im(\/|\?|$)/,i,k],[/(photos|tag\d+|(albums|photos)-?\d+|(album|photo)-?\d+_\d+)(\/|\?|$)/,o,P],[/(audio(s-?\d+)?|music)(\/|\?|$)/,n,O],[/podcasts(-?\d+)(\/|\?|$)/,s,M],[/(videos-?\d+|video(-?\d+_\d+)?)(\/|\?|$)/,c,L],[/(clips(-?\d+)?|clip-?\d+_\d+)(\/|\?|$)/,l,D],[/services(\/|\?|$)/,d,R],[/taxi(\/|\?|$)/,u,N],[/eda(\/|\?|$)/,_,x],[/worki(\/|\?|$)/,p,F],[/market(-?\d+)?(\/|\?|$)/,m,U],[/apps(\/|\?|$)/,g,B],[/app\d+(_-?\d+)(\/|\?|$)/,g,V],[/docs(\/|\?|$)/,v,H],[/doc-?\d+_\d+(\/|\?|$)/,v,j]].map((([e,t,i])=>[new RegExp(a+"\\/"+e.source),t,i]))],z=window.cur&&window.cur.module||"other";let K=f,Y=W;G.some((t=>{if(t[0].test(e))return K=t[1],Y=t[2],!0})),(0,r.statlogsValueEvent)("counters_check_tns",K,Y,z)}"unauth"===l?(0,o.vkImage)().src=i+"//www.tns-counter.ru/V13a****vk_ad/ru/UTF-8/tmsec=vkad_cid1015708-posid1184674/"+Math.round(1e9*Math.random()):"has_rough"===l?(0,o.vkImage)().src=i+"//www.tns-counter.ru/V13a****vk_ad/ru/UTF-8/tmsec=vkad_cid1015708-posid1184675/"+Math.round(1e9*Math.random()):"not_has_rough"===l&&((0,o.vkImage)().src=i+"//www.tns-counter.ru/V13a****vk_ad/ru/UTF-8/tmsec=vkad_cid1015708-posid1184677/"+Math.round(1e9*Math.random()))}},814516:(e,t,i)=>{"use strict";i.d(t,{counterId:()=>o,getCustomCounterIdTmrUtils:()=>s,tmrFinishTimespent:()=>p,tmrPushRawEvent:()=>a,tmrSendTimespentEvent:()=>u,tmrStartTimespent:()=>_,tmrTrackCustomGoal:()=>d,tmrTrackMiniAppClose:()=>v,tmrTrackMiniAppCustom:()=>f,tmrTrackMiniAppEvent:()=>m,tmrTrackMiniAppOpen:()=>g,tmrTrackPage:()=>l,tmrUpdateUserId:()=>c});const o="2579437",r={MINI_APP_EVENT:"miniAppEvent"};function n(){return window.vk&&window.vk.id?window.vk.id:0}function a(e){window.vk&&window.vk.zero||window.__dev||(i._dG("_tmr",window._tmr||[]),window._tmr.push(e))}function s(e){const t=t=>{const i=n();n&&a({id:e,type:r.MINI_APP_EVENT,params:{...t,platformUserId:String(i)}})},i="open",o="close",s="custom";return{tmrUpdateUserId:()=>{a({type:"setUserID",userid:n()})},tmrTrackPage:(t,i)=>{a({id:e,url:t,referrer:i,type:"pageView",start:(new Date).getTime(),pid:n(),userid:n(),timespent:!0})},tmrTrackCustomGoal:(t,i={})=>{a({id:e,type:"reachGoal",goal:t,userid:n(),params:i})},tmrSendTimespentEvent:t=>{a({id:e,type:"incrementEventTimespent",activity:t,userid:n()})},tmrStartTimespent:(t,i=!1)=>{a({id:e,type:"startTimespent",activity:t,userid:n(),canUseInBackground:i})},tmrFinishTimespent:(t,i=!1)=>{a({id:e,type:"stopTimespent",activity:t,userid:n(),canUseInBackground:i})},tmrTrackMiniAppEvent:t,tmrTrackMiniAppOpen:(e,o)=>{t({eventType:i,miniAppId:e,queryParams:o})},tmrTrackMiniAppClose:e=>{t({eventType:o,miniAppId:e})},tmrTrackMiniAppCustom:(e,i)=>{t({eventType:s,miniAppId:e,...i})}}}const{tmrUpdateUserId:c,tmrTrackPage:l,tmrTrackCustomGoal:d,tmrSendTimespentEvent:u,tmrStartTimespent:_,tmrFinishTimespent:p,tmrTrackMiniAppEvent:m,tmrTrackMiniAppOpen:g,tmrTrackMiniAppClose:v,tmrTrackMiniAppCustom:f}=s(o)},21871:(e,t,i)=>{"use strict";i.d(t,{updateCounters:()=>a});var o=i(664659),r=i(251703),n=i(636576);function a(e,t){if(window.__dev||window.vk&&(window.vk.zero||window.vk.__dev))return;t=t||document.referrer||"";[[/(hash|dl)=\w+/g,"$1="],[/(\/(?:write|mail|im|al_im.php))(?:\?[a-z0-9&=_-]*)?$/,"$1"],[/(\/write)\d*(?:\?[a-zA-Z0-9&=_-]*)?$/,"$1"]].forEach((([i,o])=>{e=e.replace(i,o),t=t.replace(i,o)})),(0,r.tmrTrackPage)(e,t);const i=[/\/login\?.*$/];i.some((t=>t.test(e)))||i.some((e=>e.test(t)))||((0,o.mediascopeTrackPage)(e,t),(0,n.statlogsValueEvent)("counters_check",1))}},613715:(e,t,i)=>{"use strict";i.d(t,{EMOJI_HINTS:()=>s,EMOJI_PREFIXED_REPLACES:()=>n,EMOJI_REPLACES:()=>a,emojiRegex:()=>o.emojiRegex,skinToneModifierRegex:()=>r});var o=i(649632);const r=/\uFE0F?\uD83C[\uDFFB-\uDFFF]/,n={e29da4:/(\s|^)([0OО]:\))([\s\.,]|$)/g,f09f9887:/(\s|^)(;-\)+)([\s\.,]|$)/g,f09f9889:/(\s|^)([XХxх]-?D)([\s\.,]|$)/g,f09f9886:/(\s|^)(B-\))([\s\.,]|$)/g,f09f988e:/(\s|^)(3-\))([\s\.,]|$)/g,f09f988c:/(\s|^)(&gt;\()([\s\.,]|$)/g,f09f98a0:/(\s|^)(;[oоOО])([\s\.,]|$)/g,f09f98b0:/(\s|^)(8\|)([\s\.,]|$)/g,f09f98b3:/(\s|^)(8-?[oоOО])([\s\.,]|$)/g,f09f98b2:/(\s|^)(8-\))([\s\.,]|$)/g,f09f988d:/(\s|^)(:[XХ])([\s\.,]|$)/g,f09f98b7:/(\s|^)(:[oоOО])([\s\.,]|$)/g,f09f98a8:/(\s|^)(&lt;3)([\s\.,]|$)/g},a={f09f988a:/(:-\))([\s\.,]|$)/g,f09f9883:/(:-D)([\s\.,]|$)/g,f09f989c:/(;-[PР])([\s\.,]|$)/g,f09f988b:/(:-[pр])([\s\.,]|$)/g,f09f9892:/(:-\()([\s\.,]|$)/g,e298ba:/(:-?\])([\s\.,]|$)/g,f09f988f:/(;-\])([\s\.,]|$)/g,f09f9894:/(3-?\()([\s\.,]|$)/g,f09f98a2:/(:&#039;\()([\s\.,]|$)/g,f09f98ad:/(:_\()([\s\.,]|$)/g,f09f98a9:/(:\(\()([\s\.,]|$)/g,f09f9890:/(:\|)([\s\.,]|$)/g,f09f98a1:/(&gt;\(\()([\s\.,]|$)/g,f09f989a:/(:-\*)([\s\.,]|$)/g,f09f9888:/(\}:\))([\s\.,]|$)/g,f09f918d:/(:like:)([\s\.,]|$)/g,f09f918e:/(:dislike:)([\s\.,]|$)/g,e2989d:/(:up:)([\s\.,]|$)/g,e29c8c:/(:v:)([\s\.,]|$)/g,f09f918c:/(:ok:|:ок:)([\s\.,]|$)/g},s={e29da4:[0,"<3"],f09f988a:[1,":-)"],f09f9883:[2,":-D"],f09f9889:[3,";-)"],f09f9886:[4,"xD"],f09f989c:[5,";-P"],f09f988b:[6,":-p"],f09f988d:[7,"8-)"],f09f988e:[8,"B-)"],f09f9892:[9,":-("],f09f988f:[10,";-]"],f09f9894:[11,"3("],f09f98a2:[12,":'("],f09f98ad:[13,":_("],f09f98a9:[14,":(("],f09f98a8:[15,":o"],f09f9890:[16,":|"],f09f988c:[17,"3-)"],f09f98a0:[18,">("],f09f98a1:[19,">(("],f09f9887:[20,"O:)"],f09f98b0:[21,";o"],f09f98b3:[22,"8|"],f09f98b2:[23,"8o"],f09f98b7:[24,":X"],f09f989a:[25,":-*"],f09f9888:[26,"}:)"],f09f918d:[27,":like:"],f09f918e:[28,":dislike:"],e2989d:[29,":up:"],e29c8c:[30,":v:"],f09f918c:[31,":ok:"]}},573859:(e,t,i)=>{"use strict";i.d(t,{emojiReplace:()=>l,emojiToHTML:()=>s,getEmojiHTML:()=>c});var o=i(330882),r=i(613715),n=i(261347),a=i(351118);function s(e,t){if(o.browser.ipad||o.browser.iphone)return e;e=(e+"").replace(/&nbsp;/g," ").replace(/<br>/g,"\n");for(let t=0;t<2;t++)Object.keys(r.EMOJI_PREFIXED_REPLACES).forEach((t=>{e.replace(r.EMOJI_PREFIXED_REPLACES[t],((e,i,o,r)=>(i||"")+c(t)+(r||"")))}));return Object.keys(r.EMOJI_REPLACES).forEach((t=>{e=e.replace(r.EMOJI_REPLACES[t],((e,i,o)=>c(t)+(o||"")))})),e=e.replace(/\n/g,"<br>"),t&&(e=e.replace(/\uFE0F/g,"").replace((0,r.emojiRegex)(),l)),e}function c(e,t,i,r){if(!i&&t)return t;if(r){return`<i class="emoji @${e}" emoji="${e}"${t?` title="${t}"`:""}></i>`}return`<img class="emoji" src="/emoji/e/${e}${window.devicePixelRatio>=2?"_2x":""}.png"${t?` alt="${t}"`:""}${o.browser.msie&&Number(o.browser.version)>8?' contenteditable="false"':""}>`}function l(e){return c((0,n.emojiSymbolToByteHex)(e),(0,a.encodeHTMLEntities)((0,a.escape)(e)),!0)}},261347:(e,t,i)=>{"use strict";i.d(t,{emojiByteHexToSymbol:()=>r.emojiByteHexToSymbol,emojiRemoveSkinToneModifiers:()=>n,emojiSymbolToByteHex:()=>r.emojiSymbolToByteHex});var o=i(613715),r=i(979640);function n(e){return e.replace((0,o.emojiRegex)(),a)}function a(e){return e.replace(o.skinToneModifierRegex,"")}},312641:(e,t,i)=>{"use strict";i.d(t,{MASS_MENTION_ALIASES:()=>r,MASS_MENTION_REGEXP:()=>n,PINNED_CONVERSATION_BIT_MASK:()=>o,VK_OFFICIAL_PEER_ID:()=>a});const o=112,r={all:["all","everyone","все"],online:["online","here","здесь","тут"]},n=new RegExp(['(?!,|;|:|\\.|\\s|<br ?/?>|"|\\(|\\)|\\[|\\]|!|\\?)',"(",[].concat(r.all).concat(r.online).map((e=>`@${e}|\\*${e}`)).join("|"),")",'(?=$|,|;|:|\\.(?![a-z0-9_-])|\\s|<br ?/?>|"|\\(|\\)|\\[|\\]|!|\\?)'].join(""),"gi"),a=-22822305},34231:(e,t,i)=>{"use strict";i.d(t,{checkIfInternal:()=>s,checkIfInternalSafe:()=>c,wrapAway:()=>a,wrapAwayIfExternal:()=>n,wrapAwaySafe:()=>l});var o=i(105330);const r=new RegExp(`^(https?:\\/\\/)?([a-z0-9_\\-.]+\\.)?${o.VK_SITE_REGEX_SOURCE_UNSAFE}(\\/.*)?`);function n(e,t=!1){return s(e)?e:a(e,t)}function a(e,t){return"/away.php?to="+encodeURIComponent(decodeURIComponent(e))+(t?"&utf=1":"")}function s(e){const t=decodeURIComponent(e);return/^\/[^/]/.test(t)||r.test(t)}function c(e){let t=e;try{t=decodeURIComponent(e)}catch{}return/^\/[^/]/.test(t)||r.test(t)}function l(e,t){let i=e;try{i=encodeURIComponent(decodeURIComponent(e))}catch{}return"/away.php?to="+i+(t?"&utf=1":"")}},878818:(e,t,i)=>{"use strict";i.d(t,{browserFeatures:()=>d,getBrowserKeyMatch:()=>c,initBrowserUtils:()=>_,mobPlatforms:()=>l,redirectToMVK:()=>u});var o=i(878701),r=i(396858),n=i(969686),a=i(105330),s=i(402187);function c(){return Object.keys(s.browser).find((e=>!0===s.browser[e]))||null}const l={1:1,2:1,3:1,4:1,5:1,8:1},d=(window,{wheelEvent:"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":s.browser.mozilla?"MozMousePixelScroll":"DOMMouseScroll",hasBoundingClientRect:"getBoundingClientRect"in document.createElement("div"),cmaEnabled:navigator.credentials&&navigator.credentials.preventSilentAccess&&window.vk&&vk.cma});function u(){const[e,t]=location.href.split("?"),i=new URLSearchParams(t),o={};for(let e of i)o[e[0]]=e[1];if(o){if("1"===o.m)return;if(o.force_redirect_to_mvk){delete o.force_redirect_to_mvk;const t=(0,n.toQueryString)(o);return void(window.location=e.replace(a.VK_ORIGIN_REGEX_STRICT,"https://m."+(0,a.getHostName)())+(t?"?"+t:""))}}if(a.VK_URL_REGEX.test(e)&&!new RegExp("^"+a.VK_HOST_REGEX_UNSAFE.source+"\\/@").test(e)){const t=Object.assign(o,{force_redirect_to_mvk:1}),i=e+"?"+(0,n.toQueryString)(t);window.location=i}}function _(){!(0,o.isIPadOS)(s.browser)||window.isMobileLanding||(0,r.getCookie)("remixforce_full")||u(),window._ua||i._dG("_ua",navigator.userAgent.toLowerCase()),window.locDomain||i._dG("locDomain",location.host.toString().match(/[a-zA-Z]+\.[a-zA-Z]+\.?$/)[0]),i._dG("locHost",location.host),i._dG("locProtocol",location.protocol),i._dG("locHash",location.hash.replace("#/","").replace("#!",""))}},898848:(e,t,i)=>{"use strict";i.d(t,{clean:()=>U,copy:()=>N,each:()=>R,escapeAttr:()=>E,escapeRE:()=>o.escapeRegExp,floatval:()=>L,htsc:()=>y,inArray:()=>p,indexOf:()=>_,intval:()=>M,irand:()=>I,isArray:()=>d,isElement:()=>F,isEmpty:()=>m,isFormData:()=>c,isFunction:()=>s,isHttpHref:()=>k,isNumeric:()=>g,isObject:()=>u,isRetina:()=>o.isRetina,isString:()=>l,isUndefined:()=>a,locBase:()=>r,positive:()=>D,rand:()=>n,replaceEntities:()=>S,srand:()=>T,stripHTML:()=>f,stripTags:()=>b,trim:()=>v,unclean:()=>B,unescapeAttr:()=>A,utf2win:()=>C,vkImage:()=>x,vkNow:()=>O,winToUtf:()=>P});var o=i(351118);const r=()=>location.toString().replace(/#.+$/,""),n=(e,t)=>Math.random()*(t-e+1)+e,a=e=>void 0===e,s=e=>e&&"[object Function]"===Object.prototype.toString.call(e),c=e=>e&&"[object FormData]"===Object.prototype.toString.call(e),l=e=>"string"==typeof e,d=e=>"[object Array]"===Object.prototype.toString.call(e),u=e=>"[object Object]"===Object.prototype.toString.call(e);function _(e,t,i){for(let o=i||0,r=(e||[]).length;o<r;o++)if(e[o]==t)return o;return-1}function p(e,t){return-1!==_(t,e)}const m=e=>{if(!u(e))return!1;for(let t in e)if(e.hasOwnProperty(t))return!1;return!0},g=e=>!isNaN(parseFloat(e))&&isFinite(e)&&!Array.isArray(e),v=e=>(e||"").replace(/^\s+|\s+$/g,""),f=e=>e?e.replace(/<(?:.|\n|\r|\u2028|\u2029)*?>/g,""):"",y=e=>e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\'/g,"&#39;").replace(/%/g,"&#37;"),E=e=>e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/\'/g,"&#39;"),A=e=>e.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#39;/g,"'"),S=e=>{const t=document.createElement("textarea");return t.innerHTML=(e||"").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),t.value},b=e=>e.replace(/<[^>]+>/g,""),T=()=>Math.random().toString(36).substr(2),I=(e,t)=>Math.floor(n(e,t)),C=e=>unescape(encodeURIComponent(e));function k(e){let t=(e+"").split(":"),i=t[1]&&t[0]?t[0]+":":location.protocol;return"http:"===i||"https:"===i}function P(e=""){return String(e).replace(/&#(\d\d+);/g,((e,t)=>(t=parseInt(t))>=32?String.fromCharCode(t):e)).replace(/&quot;/gi,'"').replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/&amp;/gi,"&")}const O=()=>+new Date;function M(e){return!0===e?1:parseInt(e)||0}function L(e){return!0===e?1:parseFloat(e)||0}function D(e){return(e=M(e))<0?0:e}function R(e,t){if(!e)return e;if(u(e)||void 0===e.length){for(let i in e)if(e.hasOwnProperty(i)&&!1===t.call(e[i],i,e[i]))break}else for(let i=0,o=e.length;i<o;i++){const o=e[i];if(!1===t.call(o,i,o))break}return e}function N(e){return d(e)?e.concat([]):u(e)?Object.assign({},e):e}const x=()=>window.Image?new Image:document.createElement("img"),F=e=>"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName;function U(e=""){return e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):""}function B(e){return e?S(e.replace(/\t/g,"\n")):e}},506856:(e,t,i)=>{"use strict";i.d(t,{error:()=>a,log:()=>n});var o=i(540462);function r(){return window.console&&(0,o.partConfigEnabled)("js_console_logs")}function n(...e){r()&&window.console.log&&window.console.log(...e)}function a(...e){r()&&(window.console.error?window.console.error(...e):n(...e))}},396858:(e,t,i)=>{"use strict";i.d(t,{getCookie:()=>c,initCookies:()=>d,initStatlogsValueEvent:()=>s,setCookie:()=>l});var o=i(540462),r=i(298077),n=i(402187);let a;function s(e){a=e}function c(e){return function(){i._dG("_cookies",{});const e=document.cookie.split(";"),t=/^[\s]*([^\s]+?)$/i;for(let i=0,o=e.length;i<o;i++){const o=e[i].split("=");2===o.length&&(_cookies[o[0].match(t)[1]]=unescape(o[1].match(t)?o[1].match(t)[1]:""))}}(),"https:"!==location.protocol&&"localhost"!==location.hostname&&a?.("read_unsecure_cookie",e,location.href),_cookies[e]}function l(e,t,i,o,r="None",a=window.locDomain,s={}){const c=e+"="+escape(t),l=s.withoutSubdomains?".":"",d="; path=/"+(a?"; domain="+l+a:""),u=!1!==o,_="https:"===location.protocol&&u?"; secure":"",p=u&&n.browser.chrome&&parseInt(n.browser.version)>=71?`; SameSite=${r}`:"";let m="";if(i){const e=new Date;e.setTime(e.getTime()+24*i*60*60*1e3),m="; expires="+e.toGMTString()}return document.cookie=c+m+d+p+_,!0}function d(){i._dG("_cookies",{})}var u;(0,o.partConfigEnabled)("mvk_send_error_for_dummy_cookie_immediately")&&(u="dummy_cookie",(0,r.logError)(`This is dummy error for ${u}`))},366602:(e,t,i)=>{"use strict";i.d(t,{crc32:()=>r});let o=new Uint32Array(256);for(let e=256;e--;){let t=e;for(let e=8;e--;)t=1&t?3988292384^t>>>1:t>>>1;o[e]=t}function r(e){let t=-1;for(let i=0,r=e.length;i<r;i++)t=t>>>8^o[255&t^e[i]];return~t>>>0}},740342:(e,t,i)=>{"use strict";function o(e,t,i){let o;return function(){const r=arguments,n=i&&!o;clearTimeout(o),o=setTimeout((()=>{o=null,i||e.apply(this,r)}),t),n&&e.apply(this,r)}}i.d(t,{debounce:()=>o})},878701:(e,t,i)=>{"use strict";function o(e=window.browser){return!(!e.mac||e.iphone||e.ipad||e.ipod||!(navigator.maxTouchPoints>1))}i.d(t,{isAutoSchemesSupported:()=>l,isCSSVariablesSupported:()=>a,isDarkTheme:()=>r,isES2021supported:()=>y,isFlexboxSupported:()=>c,isGridsSupported:()=>u,isIPadOS:()=>o,isInstalledRelatedAppsSupported:()=>E,isIntersectionObserverSupported:()=>m,isLightTheme:()=>n,isMatchMediaSupported:()=>s,isMutationObserverSupported:()=>g,isPreloadSupported:()=>S,isResizeObserverSupported:()=>v,isSVGSupported:()=>_,isSupportsSupported:()=>d,isWebAssemblySupported:()=>b,isWebpSupported:()=>p});const r=()=>Boolean(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches),n=()=>Boolean(window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches),a=()=>Boolean(window.CSS&&CSS.supports&&CSS.supports("color","var(--custom-property)")),s=()=>Boolean(window.matchMedia),c=()=>document.documentElement.classList.contains("vk_flex_yes"),l=()=>Boolean(window.matchMedia&&window.matchMedia("(prefers-color-scheme)").matches),d=()=>Boolean(window.CSS&&CSS.supports),u=()=>Boolean("string"==typeof document.createElement("div").style.grid),_=()=>Boolean(document.createElementNS)&&Boolean(document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect),p=e=>{const t=new Image;t.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",t.onload=()=>{const i=t.width>0&&t.height>0;e(i)},t.onerror=()=>{e(!1)}},m=()=>"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,g=()=>"MutationObserver"in window,v=()=>"ResizeObserver"in window;let f=null;function y(){return f||(f=Boolean(String.prototype.replaceAll)&&function(){try{new Function("var v;v||=1")()}catch(e){return!1}return!0}()),f}const E=()=>Boolean("getInstalledRelatedApps"in navigator);let A=null;const S=()=>(null==A&&(A=Boolean(document.createElement("link").relList?.supports?.("preload"))),A),b=()=>{try{if("object"==typeof WebAssembly&&"function"==typeof WebAssembly.instantiate){const e=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(e instanceof WebAssembly.Module)return new WebAssembly.Instance(e)instanceof WebAssembly.Instance}}catch(e){}return!1}},825127:(e,t,i)=>{"use strict";i.d(t,{default:()=>n});var o=i(402210),r=i.n(o);i._dG("EventEmitter",r());const n=r()},556216:(e,t,i)=>{"use strict";i.d(t,{decodeHTMLEntitiesDEPRECATED:()=>n,prepareToWriting:()=>a});var o=i(351118),r=i(573859);function n(e){return(0,o.decodeHTMLEntities)(e)}function a(e){let t=(0,o.decodeHTMLEntities)(e);return t=t.replace(/\n\r/gi,"\n"),t=(0,o.escape)(t),t=(0,r.emojiToHTML)(t,!0),t}},384483:(e,t,i)=>{"use strict";i.d(t,{getReactRootEl:()=>a,getReactRootElId:()=>n,initReactApplication:()=>c,registerReactApplication:()=>s});var o=i(298077),r=i(540462);function n(e){return"react_root"+(e||"")}function a(e){const t="#"+n(e),i=document.querySelector(t);return(0,r.partConfigEnabled)("log_empty_react_root_dom_element")&&!i&&(0,o.logError)(new Error("Can't find React root element"),{breadcrumb:{data:{message:"Try to get React root element",element:t}}}),i}function s(e,t,i=!1){i&&window.applicationInitFunctions[e]||(window.applicationInitFunctions[e]=t);window.reactInitQueue[e]&&window.reactInitQueue[e].length&&(window.reactInitQueue[e].forEach((t=>{c(e,t)})),window.reactInitQueue[e]=[])}function c(e,t){window.applicationInitFunctions[e]?window.applicationInitFunctions[e](t):(window.reactInitQueue[e]||(window.reactInitQueue[e]=[]),window.reactInitQueue[e].push(t))}window.applicationInitFunctions||i._dG("applicationInitFunctions",{}),window.reactInitQueue||i._dG("reactInitQueue",{}),i._dG("initReactApplication",c)},166583:(e,t,i)=>{"use strict";i.d(t,{default:()=>r});var o=i(353440);const r={getConnection:o.getConnection,getConnectionType:o.getConnectionType,getConnectionEffectiveType:o.getConnectionEffectiveType,getConnectionTypeID:o.getConnectionTypeID,getConnectionEffectiveTypeID:o.getConnectionEffectiveTypeID}},42514:(e,t,i)=>{"use strict";function o(e,t){return new Promise((i=>{setTimeout(i.bind(null,t),1e3*e)}))}function r(e,t,i=null){let r=0;return function n(...a){return Promise.resolve().then((()=>e(...a))).catch((e=>{if(r++,r<=t){const e="function"==typeof i?i(r):0;return 0===e?n(...a):o(e).then((()=>n(...a)))}throw e}))}}function n(e,t,i){let o,r;return function(...n){return new Promise(((e,a)=>{const s=i&&!o;clearTimeout(o),r&&r.reject("debounce"),o=setTimeout((function(){o=null,r=null,i||e(n)}),t),s?e(n):i&&a("debounce"),r={resolve:e,reject:a}})).then((t=>e(...t)))}}function a(e,t){let i,o,r;return function(...n){return new Promise(((e,a)=>{const s=Date.now(),c=()=>{e(n),i=s};!i||i+t<s?c():(r&&(r.reject(),clearTimeout(o)),r={resolve:e,reject:a},o=setTimeout(c,t-(s-i)))})).then((t=>e(...t)))}}function s(e,t){let i;const o=new Promise((o=>{i=o,setTimeout(o.bind(null,t),1e3*e)}));return{pause:()=>o,abort(){i(t)}}}i.d(t,{abortablePause:()=>s,debouncedPromise:()=>n,pause:()=>o,retryFn:()=>r,throttledPromise:()=>a})},636576:(e,t,i)=>{"use strict";i.d(t,{statlogsValueEvent:()=>A});var o=i(898848),r=i(396858),n=i(366602),a=i(298077),s=i(105330),c=i(469004),l=i(540462),d=i(957994),u=i(558137);let _,p,m;(0,s.isMvk)()?(_="lock_m_stats_cookie_lock",p="lock_m_stats_cookie_locked_stats",m="remixmsts"):(_="lockkk_stats_cookie_lock",m="remixsts",p="lock_stats_cookie_locked_stats");const g=[],v={get stats(){return(c.ls.checkVersion()?JSON.parse(c.ls.get(p)):this._stats)||[]},unshift(e){const t=this.stats;t.unshift(...e),c.ls.checkVersion()?c.ls.set(p,JSON.stringify(t)):this._stats=t},push(e){const t=this.stats;t.push(...e),c.ls.checkVersion()?c.ls.set(p,JSON.stringify(t)):this._stats=t},clear(){c.ls.checkVersion()?c.ls.remove(p):delete this._stats}};let f=Promise.resolve();function y(e){async function t(){const t=v.stats;if(!t.length)return;const i=t.slice(0,30),r=i.map((e=>(0,n.crc32)(JSON.stringify(e))));await function(e,t=500,i=5){return function o(r){return e().catch((e=>{if(r>=i)return Promise.reject(new Error("retry attempts exceeded",{cause:e}));const n=2**r*t;return new Promise((e=>setTimeout(e,n))).then((()=>o(r+1)))}))}(1)}((()=>(0,d.api)("statEvents.addWebLegacy",{events:JSON.stringify(i),random_id:Math.floor((0,o.rand)(1,2**31-1))},{adhoc:{timeout:e.sendTimeoutMs??5e3}})));const a=v.stats.filter((e=>!r.includes((0,n.crc32)(JSON.stringify(e)))));v.clear(),v.push(a)}let i=-1;let r={};function s(){-1===i&&v.stats.length&&(!function(e={}){i=window.setTimeout((async()=>{await f;const{resolve:e,promise:o}=Promise.withResolvers();f=o;try{await t(),i=-1,s()}catch(e){(0,a.logError)(new Error("statlogs send fail",{cause:e})),i=setTimeout((()=>{i=-1,s()}),3e5)}finally{f=Promise.resolve(),e()}}),e.batchTimeoutMs??1e3)}(r),r={})}return{add:function(e){const t=[Math.round(Date.now()/1e3),e.name,e.value,...e.keys];v.push([t]),s()}}}const E=(0,u.makeSharedState)("statlogs-api-collector",(()=>({common:y({batchTimeoutMs:1e3,sendTimeoutMs:5e3}),fast:y({batchTimeoutMs:100,sendTimeoutMs:0})})),{version:1});function A(e,t,...i){if(void 0===e||void 0===t)return;if(g.forEach((o=>o(e,t,...i))),(0,l.partConfigEnabled)("frontend.web_statlogs_transport")||(0,l.isToggleEnabled)("core_api_statlogs")){const o=E();return void("audio_sts"===e?o.fast:o.common).add({name:e,value:t,keys:i})}const o=[Math.round(Date.now()/1e3),e,t].concat(i);b((()=>{!function(e){let t;try{t=JSON.parse((0,r.getCookie)(m)),t=t.data}catch(e){t=[]}t=[...t,...v.stats],e&&t.push(e);if(0===t.length)return;const i=1000000001*Math.random();let o=t.slice(-100);const n=(0,l.getConfigValue)("statlogs_cookie_size_limit")??3500;let a=0,c=0;for(;a<n&&c<t.length;){const e=t[c],i=S(JSON.stringify(e));if(i>=n)t.splice(c,1);else{if(a+i>=n)break;a+=i,c++}}o=t.slice(0,c);const d=t.slice(c);v.clear(),d.length>0&&v.push(d);v.clear(),o.length>0&&((0,l.partConfigEnabled)("frontend.statlog_host_domain")?((0,s.isMvk)()&&(0,r.setCookie)(m,"",-1),(0,r.setCookie)(m,JSON.stringify({data:o,uniqueId:i}),.01,void 0,void 0,window.location.host,{withoutSubdomains:!0})):((0,s.isMvk)()&&(0,r.setCookie)(m,"",-1,void 0,void 0,window.location.host,{withoutSubdomains:!0}),(0,r.setCookie)(m,JSON.stringify({data:o,uniqueId:i}),.01)))}(o)}))}function S(e){return encodeURIComponent(e).length}function b(e,t){if(c.ls.checkVersion()){if(!0!==c.ls.get(_)){c.ls.set(_,!0);try{e()}catch(e){}return void c.ls.set(_,!1)}t||setTimeout((()=>b(e,!0)),100)}else e()}(0,r.initStatlogsValueEvent)(A)},826981:(e,t,i)=>{"use strict";function o(e){if(/^\d+(\.\d+)?$/.test(e))return parseFloat(e);const t="string"==typeof e?e.match(/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/):null;return t?(3600*t[1]||0)+(60*t[2]||0)+(+t[3]||0):0}function r(e){let t="";return e>=3600&&(t+=Math.floor(e/3600)+"h",e%=3600),e>=60&&(t+=Math.floor(e/60)+"m",e%=60),e>0&&(t+=Math.floor(e)+"s"),t}i.d(t,{fromString:()=>o,toString:()=>r})},628459:(e,t,i)=>{"use strict";i.d(t,{DEFAULT_MEDIA_SESSION:()=>a,HAS_MEDIA_SESSION:()=>n,clear:()=>s,updateMediaSessionMetadata:()=>c});var o=i(899841);let r;const n=window&&window.navigator&&"mediaSession"in window.navigator&&"MediaMetadata"in window,a=n?navigator.mediaSession:null;async function s(){if(n){r=r||document.createElement("audio"),r.src=o.SILENCE;try{await r.play()}catch(e){}}}function c(e,t=a){if(!t||!n)return;(location.hostname+e.album).length>30&&(e.album=e.album.substring(0,30-location.hostname.length)+"…");const i=t.metadata;i?(i.title=e.title,i.artist=e.artist,i.album=e.album,i.artwork=e.artwork):t.metadata=new MediaMetadata(e)}},636111:(e,t,i)=>{"use strict";i.d(t,{isAdvertBlocked:()=>r});var o=function(){function e(e,t){var i=document.createElement("div"),o=function(e,t){for(var i,o,r=e.length,n=0;n<t;n++)o=Math.floor(Math.random()*r),i=e[n],e[n]=e[o],e[o]=i;return e.slice(0,t)}(String.fromCharCode(97,100,118,98,108,111,99,107,32,97,100,118,101,114,116,98,108,111,99,107,32,97,100,118,101,114,116,66,108,111,99,107,32,98,45,114,98,32,98,97,110,110,101,114,95,50,52,48,32,112,45,116,97,114,103,101,116,32,112,117,98,95,51,48,48,120,50,53,48,32,112,117,98,95,51,48,48,120,50,53,48,109,32,112,117,98,95,55,50,56,120,57,48,32,114,98,95,98,111,100,121,32,114,98,45,102,108,111,97,116,105,110,103,32,114,98,45,115,108,111,116,32,114,98,45,118,105,100,101,111,45,119,105,100,103,101,116,32,116,101,120,116,45,97,100,32,116,101,120,116,45,97,100,45,108,105,110,107,115,32,116,101,120,116,45,97,100,115,32,116,101,120,116,45,98,97,110,110,101,114,32,116,101,120,116,95,97,100,32,116,101,120,116,95,97,100,115,32,116,101,120,116,65,100,32,116,101,120,116,97,100,32,116,101,120,116,65,100,115,32,116,101,120,116,97,100,115,32,116,103,98,45,98,97,110,110,101,114,32,116,114,103,45,98,45,98,97,110,110,101,114,45,98,108,111,99,107).split(" "),7);i.setAttribute("class",o.join(" ")),i.setAttribute("style","position: absolute !important; top: -9999px !important; left: -9999px !important; width: 1px !important; height: 1px !important;"),i.setAttribute("id","trg-b-banners-1"),i.setAttribute("data-view","SlotView.mimic"),this.bait=document.body.appendChild(i),this.bait.offsetParent,this.bait.offsetHeight,this.bait.offsetLeft,this.bait.offsetTop,this.bait.offsetWidth,this.bait.clientHeight,this.bait.clientWidth,this.loopNumber=0,this.fnPositive=e||null,this.fnNegative=t||null;var r=this;setTimeout((function(){r._checkBait.call(r)}),1)}return e.prototype._checkBait=function(){var e=null!==document.body.getAttribute("abp")||!function(e,t){if(null===e.offsetParent||0==e.offsetHeight||0==e.offsetWidth||0==e.clientHeight||0==e.clientWidth)return!1;if(t&&(0==e.offsetLeft||0==e.offsetTop))return!1;if(void 0!==window.getComputedStyle){var i=window.getComputedStyle(e,null);return"none"!==i.display&&"hidden"!==i.visibility}return!0}(this.bait,!0);if((!0===e||++this.loopNumber>=10)&&this._stop(),e&&this.fnPositive)try{(0,this.fnPositive)()}catch(e){}else if(!e&&this.loopNumber<10){var t=this;setTimeout((function(){t._checkBait.call(t)}),50*this.loopNumber)}else try{(0,this.fnNegative)()}catch(e){}},e.prototype._stop=function(){try{document.body.removeChild(this.bait)}catch(e){}},function(t,i){new e(t,i)}}();function r(){return new Promise(((e,t)=>o(t,e))).then((()=>!1)).catch((()=>!0))}},540462:(e,t,i)=>{"use strict";function o(e){return Math.random()<e}function r(e){const{pe:t={}}=window.vk||{};return!!t[e]}function n(e){const{toggles:t={}}=window.vk||{};return!!t[e]}function a(e){const{toggles:t={}}=window.vk||{};return t[e]?.abGroupId}i.d(t,{getConfigValue:()=>s,getToggleAbGroupId:()=>a,isToggleEnabled:()=>n,partConfigEnabled:()=>r,randEnabled:()=>o});function s(e){const{cfg:t={}}=window.vk||{};return t[e]}},485950:(e,t,i)=>{"use strict";i.d(t,{handleSpaMiniAppLayer:()=>l,isMiniAppSpaLayer:()=>d});var o=i(951652),r=i(759339),n=i(973365),a=i(494675),s=i(608814),c=i(540462);async function l(e,t,i){const s=(0,n.ensureDIRootWebContainer)(),{layerParams:l}=e,{userId:d}=s.resolve(o.AuthService),{app_ref:u,ref:_=u,w:p,url_hash:m,install_community_app:g,tc:v}=i,{appId:f,actorId:y=d}=l,{onFail:E,onLoaded:A,onHide:S,tc:b=v,urlHash:T=m,hideCloseButton:I,hideActionMenu:C,noClickHide:k,asBox:P,isCloseForwardPush:O}=t,M={ref:_,tc:b};(0,c.partConfigEnabled)("frontend.fix_spa_web_feed_post_modal_reopen")&&(M.isCloseForwardPush=O);const{hash:L}=(0,a.parseLayerUrl)(p),D={appId:f,actorId:y,queryParams:M,location:T||L};try{const e=s.resolve(r.MiniAppLaunchService),{waitConnect:t}=await e.openInLayer(D,{noWrapperClick:Boolean(k),hasCloseButton:!I,hasActionMenu:!C,asBox:!!P,installCommunityApp:Boolean(g)});A?.();(await t).lifecycle.onDestroy.add((()=>{boxLayerBG&&boxLayerWrap&&(boxLayerBG.style.visibility="visible",boxLayerWrap.style.visibility="visible",boxLayerWrap.style.opacity="1"),S?.()}))}catch(e){E?.(e)}}function d(e){const{appInLayer:t,appInLayerWithActorId:i}=s.webLayersConfig,o=e?.config?.path;return(0,c.partConfigEnabled)("web_spa_new_modals")&&[t.path,i.path].includes(o)}},581034:(e,t,i)=>{"use strict";i.d(t,{ajax:()=>l,hideBox:()=>s,lockBoxButton:()=>a,showErrorBox:()=>c});i(351118);var o=i(270959),r=(i(898848),i(246429)),n=i(768602);i(478752),i(972332),i(458840),i(539977),i(540462);function a(){const e=(0,r.curBox)();if(e){const t=e.btns.ok[0];t&&window.lockButton(t)}}function s(){const e=(0,r.curBox)();e&&e.hide()}function c(e){s(),(0,o.showFastBox)((0,n.getLang)("global_error"),e)}function l(e,t){return new Promise(((i,o)=>{window.ajax.post(e,t,{onDone:(...e)=>{i(...e)},onFail:(...e)=>(o(...e),!0)})}))}},983567:(e,t,i)=>{"use strict";i.d(t,{AUDIO_PLAYER_INITED_EVENT:()=>o,getAudioPlayer:()=>r,getAudioPlayerUI:()=>n});const o="audio_player_inited";function r(){if(!window.ap&&window.AudioPlayer)try{i._dG("ap",new window.AudioPlayer),window.dispatchEvent(new CustomEvent(o))}catch(e){throw console.error(e),e}return window.ap||null}function n(){return i._dG("audioPlayerUI",window.audioPlayerUI||new window.AudioPlayerUI({audioPlayer:r()})),window.audioPlayerUI}},150681:(e,t,i)=>{"use strict";i.d(t,{default:()=>_});var o=i(478752),r=i(692543),n=i(754866),a=i(972332);const s="idle",c="pend_rows",l="pend_prefetch",d="done_prefetch",u="done";class _{getListEl(){return this._containerEl}setListEl(e,t){let i;this._containerEl=(0,n.ge)(e),this._scrollNode=t||_.closestOverflowParent(this._containerEl),i=this._scrollNode===window?0:(0,n.getXY)(this._scrollNode)[1],this._contentYOffset=(0,n.getXY)(this._containerEl)[1]-i}options(e){(0,o.extend)(this._opts,e)}_countRows(e){const t=this;let i=0;return(0,o.each)(e,(function(e,r){"string"==typeof r&&(r=(0,n.se)(r)),t._rowClasses?(0,o.each)(t._rowClasses,(function(e,t){if((0,n.hasClass)(r,t))return i++,!1})):i++})),i}_drawRows(e){const t=this;this._opts.drawRows?this._opts.drawRows(t._containerEl,e):(0,o.each)(e,(function(e,i){"string"==typeof i&&(i=(0,n.se)((0,o.trim)(i))),i&&t._containerEl.appendChild(i)})),this.toggleProgress(this._state!==u),!this._forceDrawCalled&&this._opts.onRendered&&this._opts.onRendered(this._offset)}toggleProgress(e){e?!this._isProgressShown&&this._opts.showProgress&&this._opts.showProgress():this._isProgressShown&&this._opts.hideProgress&&this._opts.hideProgress(),this._isProgressShown=e}drawMore(){(0,o.inArray)(this._state,[s,d])?(this._forceDrawCalled=!0,this._drawRows(this._prefetched),this._setState(l),this._prefetched=[],this._requestRows(),this._forceDrawCalled=!1):this._state===u&&this._opts.onNoMore&&this._opts.onNoMore(this._containerEl.childElementCount)}destroy(){this._ev_scroll&&((0,a.removeEvent)(this._scrollNode,"scroll",this._ev_scroll),this._ev_scroll=!1),this._ev_window_resize&&(0,a.removeEvent)(window,"resize",this._ev_window_resize),this._setState(u),this.toggleProgress(!1)}getOffset(){return this._offset}_requestRows(){if(!this.isDone()&&this._state!==d){function e(){this._opts.onNeedRows(this._onRowsProvided.bind(this),this._offset,this._page++,this._state===l,this)}this._initialRender=!1,e.apply(this)}}_onRowsProvided(e,t){if(this.isDone())return;if(!1===e)return this._requestRows();e=e||[];let i=!1;this._needUseExternalOffset?(this._offset=t??0,i=Boolean(t)):(this._offset+=void 0===t?this._countRows(e):t,i=Boolean(e.length));const o=this._containerEl.childElementCount;switch(this._state){case l:0!==e.length&&(this._prefetched=this._prefetched.concat(e)),i?(this._setState(s),this._opts.onHasMore&&this._opts.onHasMore()):(this._setState(d),this._opts.onNoMore&&this._opts.onNoMore(o),0===this._prefetched.length&&this._setState(u)),(i||0!==this._prefetched.length)&&this._onScroll();break;case c:this._drawRows(e),i?(this._setState(l),this._requestRows()):(this._setState(u),this._opts.onNoMore&&this._opts.onNoMore(o)),this.toggleProgress(!1);break;case s:this._prefetched=this._prefetched.concat(e)}}_setState(e){this._state=e}isDone(){return this._state===u}static closestOverflowParent(e){let t,i=e;for(;i&&i.tagName&&(t=(0,n.getStyle)(i,"overflow"),"visible"===t||"page_wrap"===i.id);)i=(0,n.domPN)(i);return i!==window.document&&i!==document.body&&i||(i=window),i}_onScroll(){if(this._forceDrawCalled)return;if(this._state===c)return;const e=this._scrollNode;let t,i,o;e===window?(o=Math.max(document.documentElement.clientHeight,window.innerHeight||0),t=(0,r.scrollGetY)()):(o=(0,n.getSize)(e)[1],t=this._scroll?this._scroll.data.scrollTop:e.scrollTop),o<10||(i=this._containerEl.scrollHeight,i-o-t+this._contentYOffset<10&&(this._state===c||!this._prefetched.length&&this._state===l?(this.toggleProgress(!0),this._setState(c)):this._state===l||this._state===s?(this._drawRows(this._prefetched),this._prefetched=[],this._setState(l),this._requestRows()):this._state===d&&(this._drawRows(this._prefetched),this._prefetched=[],this._setState(u),this._opts.onNoMore&&this._opts.onNoMore(),this.destroy())))}constructor(e,t){if(this.constructor!==_)throw new Error("AutoList: AutoList was called without 'new' operator");if(_._counter=_._counter||0,this._id=_._counter++,this.setListEl(e,t.scrollNode),this._opts=(0,o.extend)({threshold:0,renderImmediate:!1,fetchImmediate:!0},t),!this._containerEl)throw new Error("AutoList: container not found");this._rowClasses=!!this._opts.rowClass&&this._opts.rowClass.split(" "),delete this._opts.rowClass,this._initialRender=this._opts.renderImmediate,this._needUseExternalOffset=this._opts.needUseExternalOffset??!1,this._isProgressShown=!1,this._prefetched=[],this._needUseExternalOffset?this._offset=this._opts.offset??0:this._initialRender?this._offset=0:this._opts.offset?this._offset=this._opts.offset:this._opts.rowClasses?this._offset=this._countRows(this._containerEl.children):this._offset=this._containerEl.children.length,this._page=this._offset>0?1:0,(0,a.addEvent)(this._scrollNode,"scroll",this._ev_scroll=this._onScroll.bind(this)),(0,a.addEvent)(window,"resize",this._ev_window_resize=this._onScroll.bind(this)),this._setState(this._opts.renderImmediate?c:l),this._opts.fetchImmediate?this._requestRows():(this._setState(s),this._onScroll())}}},710533:(e,t,i)=>{"use strict";i.d(t,{initCallHub:()=>r});class o{done(e=1){this.count-=e,this.count<=0&&this.func()}constructor(e,t){this.count=t||1,this.func=e}}function r(){i._dG("callHub",o),i._dG("CallHub",o)}},246314:(e,t,i)=>{"use strict";i.d(t,{initDomNodes:()=>a});var o=i(540462),r=i(298077);function n(e,t){let i;Object.defineProperty(window,e,{get(){if(i)return i;const o=t();return o||(0,r.logError)(new Error(`The "${e}" is missing!`),{environment:"initDomNodes"}),o},set(e){i=e},enumerable:!0})}function a(){(0,o.partConfigEnabled)("avoid_multiple_init")?(n("headNode",(()=>document.getElementsByTagName("head")[0])),n("icoNode",(()=>headNode.querySelector('link[rel="shortcut icon"]'))),n("bodyNode",(()=>document.body)),n("htmlNode",(()=>document.getElementsByTagName("html")[0])),n("utilsNode",(()=>document.getElementById("utils"))),n("_tbLink",(()=>document.createElement("a")))):(i._dG("headNode",document.getElementsByTagName("head")[0]),i._dG("icoNode",headNode.querySelector('link[rel="shortcut icon"]')),i._dG("bodyNode",document.body),i._dG("htmlNode",document.getElementsByTagName("html")[0]),i._dG("utilsNode",document.getElementById("utils")),i._dG("_tbLink",document.createElement("a"))),i._dG("_fixedNav",!1)}},131455:(e,t,i)=>{"use strict";i.d(t,{initSw:()=>a,onSwReady:()=>r});const o=(0,i(558137).makeSharedState)("sw-loading-state",(()=>({isReady:!1,onReadyCallbacks:[]})),{version:1}),r=e=>{o().isReady?e():o().onReadyCallbacks.push(e)},n=()=>{o().isReady=!0;for(let e of o().onReadyCallbacks)e();o().onReadyCallbacks=[]};async function a(){if(!window.vk.disableSW)try{const[{SWClient:e},{default:t}]=await Promise.all([Promise.all([i.e(8716),i.e("langs/web/webSwClient")]).then(i.bind(i,510486)),Promise.all([i.e(41837),i.e("langs/web/webPushNotifier")]).then(i.bind(i,419970))]);i._dG("sw",new e),await window.sw.register(),i._dG("pushNotifier",new t(window.sw,e)),window.sw.storePushHash(),n()}catch(e){console.log(e)}}},146175:(e,t,i)=>{"use strict";i.d(t,{PIN_HIDDEN_ID_OP:()=>c,RECENT_SEARCH_OP:()=>s,imDbGet:()=>d,mount:()=>p});var o=i(740342),r=i(898848),n=i(636576),a=i(478752);const s="recent_search",c="pin_hide";function l(e){return"im_store_"+e}function d(e){return ls.get(l(e))||{}}function u(e,t,i){if(ls.checkVersion()){const o=JSON.stringify(t);(0,r.rand)(0,1e5)<=1&&(0,n.statlogsValueEvent)("im_local_store_size",o.length),i(l(e),o)}}function _(e,t,i){i.key===l(e)&&(t.db=JSON.parse(i.newValue),t.checkTime=Date.now())}function p(e){const t=(0,o.debounce)(((e,t)=>{localStorage.setItem(e,t)}),300);ls.checkVersion()&&function(e,t){const i=["fwd","draft","bind_attach"],o=d(e);let r=!1;for(let e=i.length;e--;)i[e]in o&&(delete o[i[e]],r=!0);r&&u(e,o,t)}(e,t);const i={db:d(e),checkTime:Date.now()},r=_.bind(null,e,i);return window.addEventListener("storage",r,!1),{select:(t,o)=>(Date.now()-i.checkTime>1e3&&(i.db=d(e)),function(e,t,i){return t===s?e[t]||[]:t===c?e[t]&&e[t][i]:e[t]?(0,a.extend)(!0,{},e[t][i]):null}(i.db,t,o)),selectByKey:t=>(Date.now()-i.checkTime>1e3&&(i.db=d(e)),i.db[t]),update(o,r){const n=function(e,t,i){switch(e[t]||(e[t]={}),t){case s:const o=i;o&&o.length>0?e[t]=o:delete e[t];break;case c:const[r,n]=i;n?e[t][r]=+n:delete e[t][r]}return e}(i.db,o,r);return i.db=n,i.checkTime=Date.now(),u(e,n,t)},updateByKey:(o,r)=>(i.db[o]=r,i.checkTime=Date.now(),u(e,i.db,t)),unmount(){window.removeEventListener("storage",r,!1)}}}},287470:(e,t,i)=>{"use strict";i.d(t,{handleOpenCommunityInfoSpaLayer:()=>c,isCommunityInfoSpaLayer:()=>s,isElementInViewport:()=>a});var o=i(319756),r=i(608814),n=i(540462);function a(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function s(e){const{communityInfoModal:t}=r.webLayersConfig,i=e?.config?.path;return(0,n.partConfigEnabled)("web_spa_new_modals")&&(0,n.partConfigEnabled)("frontend.web_spa_community_info_modals")&&i===t.path}function c(e){(0,o.ensureDIRootWebContainer)().resolve(r.WebLayers).open("communityInfoModal",{layerParams:e.layerParams})}},542789:(e,t,i)=>{"use strict";i.d(t,{vkIndexer:()=>r});var o=i(898848);function r(e,t,i,o){this.list=e,this.iterCur=0,this.iterEnd=e?e.length:0,this.index={},this.callback=i||function(){},this.prepareFunc=t||function(e){return e},this.additionalFiltrationField=o,setTimeout(this.indexIteration.bind(this),10)}r.prototype.delimiter=r.delimiter=new RegExp("[\\s\\-\\.,\\\"\\'\\«\\(\\)\\[\\]\\{\\}\\#\\+\\?\\\\]+","g"),r.prototype.trimmer=new RegExp("^[\\s\\-\\.,\\\"\\'\\«\\(\\)\\[\\]\\{\\}\\+\\?\\\\]+|[\\s\\-,\\\"\\'\\«\\(\\)\\[\\]\\{\\}\\\\]+$","g"),r.prototype.toTranslit={1072:"a",1073:"b",1074:"v",1075:"g",1076:"d",1077:"e",1078:"zh",1079:"z",1080:"i",1081:"y",1082:"k",1083:"l",1084:"m",1085:"n",1086:"o",1087:"p",1088:"r",1089:"s",1090:"t",1091:"u",1092:"f",1093:"h",1094:"ts",1095:"ch",1096:"sh",1097:"sh",1099:"y",1101:"e",1102:"yu",1103:"ya",1105:"e",1098:"",1100:""},r.prototype.toLocalCase={f:"a",",":"b","<":"b",d:"v",u:"g",l:"d",t:"e",";":"zh",":":"zh",p:"z",b:"i",q:"y",r:"k",k:"l",v:"m",y:"n",j:"o",g:"p",h:"r",c:"s",n:"t",e:"u",a:"f","[":"h","{":"kh",w:"ts",x:"ch",i:"sh",o:"sh",s:"y","'":"e",'"':"e",".":"yu",">":"yu",z:"ya","`":"e","~":"e",m:"","]":"","}":""},r.prototype.toLocalTranslit={1072:"f",1074:"d",1075:"u",1076:"l",1077:"t",1079:"p",1080:"b",1081:"q",1082:"r",1083:"k",1084:"v",1085:"y",1086:"j",1087:"g",1088:"h",1089:"c",1090:"n",1091:"e",1092:"a",1094:"w",1095:"x",1096:"i",1097:"o",1099:"s",1103:"z",1098:"m"},r.prototype.indexIteration=function(){let e=Math.min(this.iterEnd,this.iterCur+200),t=this.iterCur;for(;t<e;t++){let e=this.list[t];try{e._order=t}catch(e){}this.add(e)}this.iterCur=t,t>=this.iterEnd?this.callback(this):setTimeout(this.indexIteration.bind(this),10)},r.prototype.strToPrefixes=function(e){let t={},i=(0,o.winToUtf)(e).toLowerCase().split(this.delimiter),r=i.length;for(;r--;){let e=i[r],o="";if(e){for(let t=0;t<6;t++){let i=e.charCodeAt(t);if(i){let r=this.toTranslit[i],n=e.substr(t,1);o+=null!=r?r:n}}t[o]=1}}return t},r.prototype.strToSearchPrefixes=function(e){let t=[],i=e.toLowerCase().split(this.delimiter),o=i.length;for(;o--;){let e={},r=i[o],n="",a="",s="",c=r.length>1;if(r){for(let e=0;e<6;e++){let t=r.charCodeAt(e);if(t){let i=this.toTranslit[t],o=r.substr(e,1);if(n+=null!=i?i:o,c){let e=this.toLocalCase[o],i=this.toLocalTranslit[t];a+=null!=e?e:o,s+=null!=i?i:o}}}e[n]=1,c&&(e[a]=2,e[s]=3),t.push(e)}}return t},r.prototype.toIndexTree=function(e,t){let i=this.index;for(let t=0;t<6;t++){let o=e.substr(t,1)||-1;i=i[o]?i[o]:i[o]=5==t?[]:{}}i.push(t)},r.prototype.remove=function(e){let t=this.prepareFunc(e),i=this.strToPrefixes(t);for(let t in i)if(i.hasOwnProperty(t)){let i=this.index;for(let e=0;e<6;e++){let o=t.substr(e,1)||-1;if(!i[o])break;i=i[o]}if(i.length)for(let t in i)if(this.equals(i[t],e)){i.splice(t,1);break}}},r.prototype.equals=function(e,t){for(let i in e)if(e.hasOwnProperty(i))switch(typeof e[i]){case"object":if(!this.equals(e[i],t[i]))return!1;break;case"function":if(void 0===e[i]||e[i].toString()!=t[i].toString())return!1;break;default:if(e[i]!=t[i])return!1}for(let e in t)if(void 0===t[e])return!1;return!0},r.prototype.intersect=function(e,t){let i=[];if((0,o.isNumeric)(e[0])||(0,o.isNumeric)(t[0]))return e.filter((function(e){return-1!==t.indexOf(e)}));for(;e.length>0&&t.length>0;)e[0]._order<t[0]._order?e.shift():(e[0]._order>t[0]._order||this.equals(e[0],t[0])&&i.push(e.shift()),t.shift());return i},r.prototype.add=function(e){let t=this.prepareFunc(e),i=this.strToPrefixes(t);for(let t in i)i.hasOwnProperty(t)&&this.toIndexTree(t,e)},r.prototype.search=function(e){let t=this.index,i=this.strToSearchPrefixes(e),o=[],r=!1;for(let n in i)if(i.hasOwnProperty(n)){if(r&&!o)break;let a=this.localSearch(i[n],0,t);a.sort((function(e,t){return e._order-t._order})),this.additionalFiltrationField&&e.length>6&&(a=a.filter((t=>t[this.additionalFiltrationField].startsWith(e)))),o=r?this.intersect(o,a):a,r=!0}let n=o[0],a=o.length+1,s=[];for(let e=1;e<a;e++){let t=o[e];t!=n&&(s.push(n),n=t)}return s},r.prototype.localSearch=function(e,t,i){if(!i)return[];let o={};for(let i in e)if(e.hasOwnProperty(i)){const e=i.substr(t,1)||-1;o[e]||(o[e]={}),o[e][i]=1}if(6==t++||!i)return i;let r=[];for(let e in o)if(-1==e)for(let n in i)i.hasOwnProperty(n)&&r.push.apply(r,this.localSearch(o[e],t,i[n]));else{let n=this.localSearch(o[e],t,i[e]);r.push.apply(r,n)}return r}},576854:(e,t,i)=>{"use strict";i.d(t,{hasAccessibilityMode:()=>l,makeInteractiveMVKA11yProposal:()=>m,updateAriaCheckboxes:()=>u,updateAriaElements:()=>p,updateOnlineText:()=>d});var o=i(683234),r=i(478752),n=i(754866),a=i(102088),s=i(330882),c=i(636576);function l(){return!(!window.vk||!vk.a11y)}function d(){clearTimeout(cur.updateOnlineTO),cur.updateOnlineTO=setTimeout((function(){(0,r.each)((0,n.geByClass)("_online"),(function(){const e=(0,n.geByClass1)("_online_reader",this)||this,t=(0,n.hasClass)(this,"online"),i=(0,n.hasClass)(this,"mobile"),o=(0,n.geByTag)("img",e),s=function(e){const t=(0,n.domClosest)("_post",e),i=t&&(0,n.domByClass)(t,"author");return i?i.innerText||i.textContent:""};if(t){let t="";(0,r.each)(o,(function(){const e=(0,n.attr)(this,"alt")||(0,n.attr)(this,"data-alt")||s(this);e&&(t=(0,r.trim)(t+" "+e),this.setAttribute("data-alt",e),this.removeAttribute("alt"))})),t=(0,r.trim)(t+" "+(i?(0,a.getLang)("global_user_is_online_mobile"):(0,a.getLang)("global_user_is_online"))),e.setAttribute("aria-label",t)}else(0,r.each)(o,(function(){const e=(0,n.attr)(this,"data-alt")||s(this);e&&(this.setAttribute("alt",e),this.removeAttribute("data-alt"))})),e.removeAttribute("aria-label")}))}),100)}function u(){clearTimeout(cur.updateChkBoxTO),cur.updateChkBoxTO=setTimeout((function(){let e=[];(0,r.each)(["checkbox","checkbox_pic"],(function(){e=e.concat((0,n.geByClass)(this))})),(0,r.each)(e,(function(){"DIV"!==this.tagName||this.getAttribute("role")||(this.setAttribute("role","checkbox"),this.setAttribute("aria-checked",(0,o.isChecked)(this)?"true":"false"),this.setAttribute("tabindex",0))}))}),100)}function _(){clearTimeout(cur.updateRadioBtnsTO),cur.updateRadioBtnsTO=setTimeout((function(){const e=[];let t=(0,n.geByClass)("radiobtn");(0,r.each)(t,(function(){if("DIV"===this.tagName&&!this.getAttribute("role")){const t=(0,o.isChecked)(this);this.setAttribute("role","radio"),this.setAttribute("aria-checked",t?"true":"false"),this.setAttribute("tabindex",t?0:-1);const i=function(e){const t=5;let i=0,o=e;for(;i<t&&o!==document;){o=(0,n.domPN)(o);if((0,n.geByClass)("radiobtn",o).length>1)break;i++}return o}(this);~e.indexOf(i)||e.push(i)}})),(0,r.each)(e,(function(){if(!(0,n.geByClass)("on",this).length){const e=(0,n.geByClass)("radiobtn",this);e.length&&e[0].setAttribute("tabindex",0)}}))}),100)}function p(){d(),u(),_()}function m(){const e=document.getElementById("a11y_mvk_proposal");e&&e.getAttribute("aria-label")&&!e.getAttribute("role")&&(e.setAttribute("role","link"),e.style.display="block",e.classList.add("visually-hidden"),e.addEventListener("click",(e=>{(0,c.statlogsValueEvent)("accessibility","is_mvk_proposal_clicked",cur?.module),setTimeout((()=>{(0,s.redirectToMVK)()}),100)}),{passive:!0}))}},956460:(e,t,i)=>{"use strict";i.d(t,{__adsUpdate:()=>p,initAds:()=>v,updSeenAdsInfo:()=>u});var o=i(396858),r=i(478752),n=i(754866),a=i(707491),s=i(540462),c=i(962724),l=i(963763);const d=(0,s.partConfigEnabled)("spa_layout_web")?l.ADS_MENU_ID:"ads_left";function u(){let e=d;if((0,s.partConfigEnabled)("tgb_adblock_protection")){e=c.Locator.getInstance().lookupId(d)}if(!((0,n.getXY)(e,!0)||{})[1]||!vk.id)return;const t=(0,a.getLeftMenuHeight)(),l=Math.max(Math.floor(((window.lastWindowHeight||0)-t-42-10)/260),0),u=(0,o.getCookie)("remixseenads");i._dG("__seenAds",(0,r.intval)(u)),u&&__seenAds===l||(i._dG("__seenAds",l),(0,o.setCookie)("remixseenads",l,30))}function _(e,t){if(window.noAdsAtAll&&!(0,s.partConfigEnabled)("tgb_adblock_protection"))return!1;let i;return _=function(){return window.AdsLight&&AdsLight.getAjaxParams.apply(AdsLight.getAjaxParams,arguments)||{al_ad:null}},window.AdsLight?i=_(e,t):(i={al_ad:null},window.stManager.add([window.jsc("web/ads_light.js")],_.pbind(e,t))),i}function p(e){if(window.noAdsAtAll&&!(0,s.partConfigEnabled)("tgb_adblock_protection"))return!1;p=function(){window.AdsLight&&AdsLight.updateBlock.apply(AdsLight.updateBlock,arguments)},window.stManager.add([window.jsc("web/ads_light.js")],p.pbind(e))}function m(e,t,i,o,r,n){if(window.noAdsAtAll&&!(0,s.partConfigEnabled)("tgb_adblock_protection"))return!1;m=function(){let e="";arguments&&arguments[0]&&(e=arguments[0]),"\x3c!--criteo"===e.slice(0,10)&&Math.random()<.05&&(window.AdsLight&&AdsLight.setNewBlock?ajax.post("/wkview.php?act=mlet&mt=750",{},{onFail:()=>!0}):ajax.post("/wkview.php?act=mlet&mt=751",{},{onFail:()=>!0})),window.AdsLight&&AdsLight.setNewBlock.apply(AdsLight.setNewBlock,arguments)},window.stManager.add([window.jsc("web/ads_light.js")],m.pbind(e,t,i,o,r,n))}function g(e){if(window.noAdsAtAll&&!(0,s.partConfigEnabled)("tgb_adblock_protection"))return!1;g=function(){window.AdsLight&&AdsLight.updateExternalStats.apply(AdsLight.updateExternalStats,arguments)},window.stManager.add([window.jsc("web/ads_light.js")],g.pbind(e))}function v(){i._dG("__seenAds",(0,r.intval)((0,o.getCookie)("remixseenads"))),i._dG("__adsUpdate",p),i._dG("__adsSet",m),i._dG("__adsGetAjaxParams",_),i._dG("__adsUpdateExternalStats",g)}i._dG("__adsLoaded",(0,r.vkNow)())},246429:(e,t,i)=>{"use strict";i.d(t,{boxRefreshCoords:()=>m,curBox:()=>d,getAndCleanBoxQueueData:()=>A,getBoxLayerWrap:()=>O,getBoxQueue:()=>p,hideBoxLoader:()=>L,hideLastBoxForCaching:()=>T,initBoxQueue:()=>_,isBoxLoadingCancelled:()=>D,refreshBoxLoaderCoords:()=>u,requireDoneBox:()=>f,restoreBoxQueue:()=>S,showBoxLoader:()=>M,showDoneBox:()=>g,showDoneBoxAsync:()=>v,showDoneBoxFull:()=>y,showLastBoxForCaching:()=>I});var o=i(972332),r=i(478752),n=i(754866),a=i(330882),s=i(878163),c=i(871873),l=i(540462);function d(){const e=window._message_boxes[window.boxQueue.curBox];return e&&e.isVisible()?e:null}function u(){const e=document.querySelector("#box_loader");e&&m(e)}function _(){i._dG("boxQueue",s.boxQueue),i._dG("__bq",s.boxQueue),i._dG("curBox",d),window.boxQueue.hideLastCheck=window.boxQueue.hideLast.pbind(!0),i._dG("_message_box_guid",0),i._dG("_message_boxes",[])}function p(){return window.boxQueue}function m(e){const t=window.innerHeight||document.documentElement.clientHeight||boxLayerBG.offsetHeight,i=a.browser.mobile?(0,r.intval)(window.pageYOffset):0,o=(0,n.getSize)(e);e.style.marginTop=Math.max(10,i+(t-o[1])/3)+"px"}function g(e,t={},i={}){window.Notifier?E(e,t,i):window.stManager.add([window.jsc("web/notifier.js"),"notifier.css"],(()=>{E(e,t,i)}))}function v(e,t={},i={}){return f().then((()=>E(e,t,i)))}function f(){return new Promise((e=>{window.Notifier?e():window.stManager.add([window.jsc("web/notifier.js"),"notifier.css"],(()=>{window.Notifier?e():(0,c.onModuleReady)("notifier",(()=>{e()}))}))}))}function y(e,t={},i={}){g(e,t,{...i,type:"done_box_full"})}function E(e,t,i){window.curNotifier&&window.curNotifier.version||window.Notifier.init({version:-1,instance_id:-1});const o=void 0!==t.onHide?t.onHide:t.callback,r=void 0!==t.timeout?t.timeout:void 0!==t.out?t.out:null,n=null!==t.id&&void 0!==t.id?t.id:++window.curNotifier.showDoneBoxLastId,a={version:window.curNotifier.version,type:"done_box",text:e,onclick:t.onClick,top_count:-1,video_top_count:-1,id:n,timeout:r,onHide:o,preventHideByClick:!0,link:t.link,...i};return t.tooltipHandler&&(a.tooltipHandler=t.tooltipHandler),Notifier.pushEvent(a),a}function A(){const e={boxes:[...window._message_boxes],boxQueueIds:[...window.boxQueue._boxes],curBoxId:window.boxQueue.curBox};return window.boxQueue._boxes=[],i._dG("_message_boxes",[]),window.boxQueue.curBox=0,e}function S(e){i._dG("_message_boxes",e.boxes),window.boxQueue._boxes=e.boxQueueIds,window.boxQueue.curBox=e.curBoxId}function b(){if(!window._message_boxes?.length)return null;const e=window._message_boxes.filter(Boolean);return e.length?e[e.length-1]:null}function T(){const e=b();e&&(e._hide(!1,!0,!0),e.forceHide=!0)}function I(){const e=b();e&&(e.forceHide=!1,e._show(!0,!1,!0))}function C(){return window.boxLoaderState||i._dG("boxLoaderState",{id:0,isShown:!1,onHide:null}),window.boxLoaderState}function k(e){i._dG("boxLoaderState",{...C(),...e})}function P(){return document.querySelector("#box_loader")}function O(){return document.querySelector("#box_layer_wrap")}function M(e=!0){const t=C();t.isShown&&t.onHide?.();const i=P();(0,l.partConfigEnabled)("web_box_loader_refresh_coords_disabled_on_reused")&&t.isShown||m(i),(0,n.show)(i);const r=O(),a=()=>{L()};r.addEventListener("click",a,e);const s=e=>{e.keyCode==o.KEY.ESC&&L()};document.addEventListener("keypress",s,e);const c=t.id+1;return k({id:c,onHide(){r.removeEventListener("click",a,e),document.removeEventListener("keypress",s,e)},isShown:!0}),(0,n.show)(r),c}function L(){(0,n.hide)(P()),d()||(0,n.hide)(O()),C().onHide?.(),k({isShown:!1,onHide:null})}function D(e){const t=C();return!t.isShown||t.id!==e}},633009:(e,t,i)=>{"use strict";i.d(t,{cancelStackFilter:()=>n,cancelStackPop:()=>s,cancelStackPush:()=>a,getCancelStack:()=>r});var o=i(419733);function r(){return window.cancelStack||[]}function n(e,t=!1){const n=r();return t&&(0,o.topHeaderClearClose)(),i._dG("cancelStack",n.filter((t=>t.name!==e))),window.cancelStack}function a(e,t,r=!1){return r&&(0,o.topHeaderClose)((function(i){t(i),n(e)})),i._dG("cancelStack",n(e,!1).concat([{func:t,name:e,dclick:r}])),window.cancelStack}function s(e){const t=r();(0,o.topHeaderClearClose)(),t.length>0&&t.pop().func(e);const a=t[t.length-1];return a&&a.dclick&&(0,o.topHeaderClose)((function(){a.func(e),n(a.name)})),i._dG("cancelStack",t),window.cancelStack}},420839:(e,t,i)=>{"use strict";i.d(t,{checkPageBlocks:()=>n});var o=i(754866),r=i(576854);function n(){const e=(0,o.ge)("content");e&&((0,o.toggleClass)(e,"page_block",!(0,o.geByClass1)("page_block",e)),(0,r.updateAriaElements)())}},471984:(e,t,i)=>{"use strict";i.d(t,{clipboardProcessPaste:()=>u,copyToClipboard:()=>s._copyWithFakeElement,getFiles:()=>c});var o=i(967495),r=i(478752),n=i(972332),a=i(754866),s=i(695847);function c(e){let t=function(e){return e&&e.clipboardData?e.clipboardData:e&&e.originalEvent&&e.originalEvent.clipboardData?e.originalEvent.clipboardData:window.clipboardData}(e);if(!t)return[];let i=t.items;if(!i)return[];let o=[];for(let e=0;e<i.length;e++)0==i[e].type.indexOf("image")&&o.push(i[e].getAsFile());return o}let l=!1,d=null;function u(e){return new Promise(((t,i)=>{if(l)return(0,n.cancelEvent)(e),i();let[s,c,u,_,p]=(0,o.rangeGet)();if(s){if("paste"===e.type){let i=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData;if(i&&i.types&&i.getData){(0,n.cancelEvent)(e),l=!0;let a=i.getData("text/html")||(0,r.clean)(i.getData("text/plain"))||"";return t([a,e=>{(0,o.rangeInsert)(s,e),l=!1}])}let d=(0,a.cf)(),m=e.target||window.event.srcElement;for(;m.firstChild;)d.appendChild(m.firstChild);return new Promise((e=>setTimeout((()=>{let t=m.innerHTML||"";m.innerHTML="",m.appendChild(d),e([t,e=>{s=(0,o.rangeCreate)(c,u,_,p),(0,o.rangeInsert)(s,e),l=!1}])}),0)))}if("beforepaste"===e.type)return l=!0,function(){if(!d){let e=(0,a.ge)("utils");d=(0,a.ce)("div",{},{width:"10px",height:"10px",overflow:"hidden"}),(0,a.attr)(d,"contenteditable","true"),e.appendChild(d)}}(),d.focus(),void(d.onpaste=()=>{setTimeout((()=>{let e=d.innerHTML||"";d.innerHTML="",delete d.onpaste,t([e,e=>{s=(0,o.rangeCreate)(c,u,_,p),(0,o.rangeInsert)(s,e),l=!1}])}),0)})}return i()}))}},101148:(e,t,i)=>{"use strict";i.d(t,{formatTime:()=>s,getFormattedDiffTimeText:()=>u,getLastDay:()=>d,getServerTime:()=>c,isLeapYear:()=>l,isSameDate:()=>n,leadingZero:()=>a});var o=i(102088),r=i(478752);function n(e,t){const i=new Date(e),o=new Date(t);return i.getFullYear()===o.getFullYear()&&i.getMonth()===o.getMonth()&&i.getDate()===o.getDate()}function a(e){return e>=10?e:"0"+e}function s(e,t){let i;e=Math.max(e,0);const o=Math.floor(e%60);i=o<10?"0"+o:o;const r=(e=Math.floor(e/60))%60;return i=r+":"+i,((e=Math.floor(e/60))>0||t)&&(r<10&&(i="0"+i),i=e+":"+i),i}function c(){return vk.ts+Math.floor(((new Date).getTime()-vk.started)/1e3)}function l(e){return(e=parseInt(e))%4==0&&e%100!=0||e%400==0}function d(e,t){return 2==+t?l(e)?29:28:t>0&&(t<8&&t%2==0||t>7&&t%2==1)?30:31}function u(e,t="",i=!1){let n="";return n=e<5?(0,o.getLang)("global_just_now"):e<60?i?(0,o.getLang)("global_just_now"):(0,o.langWordNumeric)(e,(0,o.getLang)("global_word_secs_ago","raw"),(0,o.getLang)("global_secs_ago","raw")):e<3600?i?(0,o.langNumeric)((0,r.intval)(e/60),(0,o.getLang)("wall_post_mins_ago","raw")):(0,o.langWordNumeric)((0,r.intval)(e/60),(0,o.getLang)("global_word_mins_ago","raw"),(0,o.getLang)("global_mins_ago","raw")):e<14400?i?(0,o.langNumeric)((0,r.intval)(e/3600),(0,o.getLang)("wall_post_hours_ago","raw")):(0,o.langWordNumeric)((0,r.intval)(e/3600),(0,o.getLang)("global_word_hours_ago","raw"),(0,o.getLang)("global_hours_ago","raw")):t,n}},237625:(e,t,i)=>{"use strict";i.d(t,{debugLog:()=>l,debugLogDev:()=>d,initDebugTools:()=>s,logEvalError:()=>c});var o=i(330882),r=i(540462),n=i(298077);function a(){if((0,r.partConfigEnabled)("log_fetch_requests")){const e=(e,t)=>{try{if(~e.indexOf("/al_audio")||~e.indexOf("/like.php"))throw new Error(t)}catch(e){(0,n.logError)(e,{environment:"debugLog"})}};!function(e){const t=window.XMLHttpRequest;i._dG("XMLHttpRequest",(function(){const i=new t,o=i.open,n=i.send;let a,s;return i.open=function(){return[s,a]=arguments,o.apply(i,arguments)},i.send=function(){const t=arguments[0];return s=(s||"").toUpperCase(),("POST"===s||"GET"===s&&(0,r.partConfigEnabled)("log_fetch_requests_get"))&&e(a,[s,a,t].join(":")),n.apply(i,arguments)},i})),["DONE","HEADERS_RECEIVED","LOADING","OPENED","UNSENT"].forEach((e=>{Object.defineProperty(window.XMLHttpRequest,e,{enumerable:!1,configurable:!1,writable:!1,value:t[e]})}))}(e),window.fetch&&function(e){const t=window.fetch;window.fetch=function(){const i=new Array(arguments.length);for(let e=0;e<i.length;++e)i[e]=arguments[e];const o=i[0];let r,n="GET";"string"==typeof o?r=o:"Request"in window&&o instanceof window.Request?(r=o.url,o.method&&(n=o.method)):r=""+o,i[1]&&i[1].method&&(n=i[1].method);const a={method:n,url:r,status_code:null};return e(r,r),t.apply(this,i).then((function(e){return a.status_code=e.status,e})).catch((function(e){throw e}))}}(e)}}function s(){i._dG("_logTimer",(new Date).getTime()),a()}function c(e,t){(0,n.logError)(e,t)}function l(e){try{window.debuglogClient&&window.debuglogClient(e);const t="["+((new Date).getTime()-window._logTimer)/1e3+"] ";if(window.console&&console.log){const e=Array.prototype.slice.call(arguments);e.unshift(t),o.browser.msie||o.browser.mobile?console.log(e.join(" ")):console.log.apply(console,e)}}catch(e){}}function d(...e){0}},754866:(e,t,i)=>{"use strict";i.d(t,{$:()=>c,$$:()=>l,addClass:()=>_e,addClassDelayed:()=>pe,attr:()=>we,ce:()=>T,cf:()=>I,cleanElems:()=>Te,clientHeight:()=>ie,createElement:()=>Ne,data:()=>Ae,domByClass:()=>j,domCA:()=>z,domChildIndex:()=>G,domChildren:()=>B,domClosest:()=>A,domClosestByTag:()=>S,domClosestOverflowHidden:()=>Z,domClosestPositioned:()=>Q,domClosestSibling:()=>K,domData:()=>W,domFC:()=>M,domInsertAfter:()=>H,domInsertBefore:()=>V,domLC:()=>L,domNS:()=>P,domPN:()=>D,domPS:()=>O,domQuery:()=>y,domQuery1:()=>E,domReplaceEl:()=>U,elfocus:()=>Pe,emptyNode:()=>u,ge:()=>_,geByClass:()=>g,geByClass1:()=>v,geById:()=>s,geByTag:()=>p,geByTag1:()=>m,getClientRectOffsetY:()=>oe,getH:()=>de,getScroll:()=>X,getSize:()=>ce,getStyle:()=>ye,getW:()=>le,getXY:()=>se,getXYRect:()=>ae,getZoom:()=>Ce,gpeByClass:()=>f,gpeByTag:()=>b,hasClass:()=>ue,hide:()=>ee,initDomScripts:()=>Re,isAncestor:()=>q,isHover:()=>$,isVisible:()=>te,lockDocumentTitle:()=>De,matchesSelector:()=>Y,re:()=>C,removeAttr:()=>Se,removeClass:()=>he,removeClassDelayed:()=>me,removeData:()=>be,replaceClass:()=>fe,rs:()=>x,rsSafety:()=>F,se:()=>R,sech:()=>N,setDocumentTitle:()=>Le,setInnerText:()=>d,setStyle:()=>Ee,setTitle:()=>Ie,show:()=>J,toggle:()=>re,toggleClass:()=>ge,toggleClassDelayed:()=>ve,traverseParent:()=>Oe,val:()=>ke});var o=i(898848),r=i(624042),n=i(330882),a=i(237625);function s(e){return document.getElementById(e)}function c(e,t){return(t||document).querySelector(e)}function l(e,t){return(t||document).querySelectorAll(e)}function d(e,t){e&&(e.innerText=t)}function u(e){if(e)for(;e.firstChild;)e.removeChild(e.firstChild)}const _=e=>"string"==typeof e||"number"==typeof e?document.getElementById(e):e;function p(e,t){return(t=_(t)||document).getElementsByTagName(e)}function m(e,t){return(t=_(t)||document).querySelector&&t.querySelector(e)||p(e,t)[0]}function g(e,t,i){return t=_(t)||document,i=i||"*",e=("."+e).replace(/\s+/gm,"."),Array.prototype.slice.call(t.querySelectorAll(i+e))}function v(e,t,i){return i=i||"*",(t=_(t)||document).querySelector&&t.querySelector(i+("."+e).replace(/\s+/gm,"."))||g(e,t,i)[0]}function f(e,t,i){if(!(t=_(t)))return null;for(;i!==t&&(t=t.parentNode);)if(ue(t,e))return t;return null}function y(e,t){return(t||document).querySelectorAll(e)}function E(e,t){return(t||document).querySelector(e)}function A(e,t){return ue(t,e)?t:f(e,t)}function S(e,t){return e=e.toUpperCase(),t.nodeType===Node.ELEMENT_NODE&&t.tagName.toUpperCase()===e?t:b(e,t)}function b(e,t){if(!(t=_(t)))return null;for(e=e.toUpperCase();t=t.parentNode;)if(t.tagName&&t.tagName.toUpperCase()===e)return t;return null}function T(e,t=null,i=null){const o=document.createElement(e);return t&&(0,r.extend)(o,t),i&&Ee(o,i),o}const I=function(e){const t=e.createDocumentFragment(),i=e.createElement("div"),o=e.createRange&&e.createRange();return t.appendChild(i),o&&o.selectNodeContents(i),o&&o.createContextualFragment?t=>t?o.createContextualFragment(t):e.createDocumentFragment():t=>{if(!t)return e.createDocumentFragment();i.innerHTML=t;const o=e.createDocumentFragment();for(;i.firstChild;)o.appendChild(i.firstChild);return o}}(document);function C(e){return(e=_(e))&&e.parentNode&&e.parentNode.removeChild(e),e}function k(e,t){for(t=t?"previousSibling":"nextSibling";e&&!e.tagName;)e=e[t];return e}const P=e=>k((e||{}).nextSibling),O=e=>k((e||{}).previousSibling,1),M=e=>k((e||{}).firstChild),L=e=>k((e||{}).lastChild,1),D=e=>(e||{}).parentNode,R=e=>M(T("div",{innerHTML:e})),N=e=>B(T("div",{innerHTML:e}));function x(e,t){return(0,o.each)(t,(function(t,i){e=e.replace(new RegExp("%"+t+"%","g"),(void 0===i?"":i).toString().replace(/\$/g,"&#036;"))})),e}function F(e,t){const i=e=>new RegExp(`%${e}%`,"g"),o=/\$/g,r=Object.entries(t||{});let n,a=e;for(const[e,t]of r)n=(t??"").toString().replace(o,"&#036;"),a=a.replace(i(e),n);return a}function U(e,t){return(0,o.isString)(t)&&(t=R(t)),D(e).replaceChild(t,e),t}function B(e){const t=[],i=e.childNodes;for(let e=0;e<i.length;e++)i[e].tagName&&t.push(i[e]);return t}function V(e,t){const i=D(t);return i&&i.insertBefore(e,t)}function H(e,t){const i=D(t);return i&&i.insertBefore(e,P(t))}function j(e,t){return e?v(t,e):e}function W(e,t,i){return e?void 0!==i?(null===i?e.removeAttribute("data-"+t):e.setAttribute("data-"+t,i),i):e.getAttribute("data-"+t):null}function G(e){let t=0;for(;null!=(e=O(e));)t++;return t}function z(e,t){do{e=D(e)}while(e&&!Y(e,t));return e}function K(e,t,i){let o=null;for(;null===o&&e;)(e=-1===i?O(e):P(e))&&Y(e,t)&&(o=e);return o}function Y(e,t){if(!(e=_(e))||e===document)return!1;const i=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector||function(e){const t=(this.document||this.ownerDocument).querySelectorAll(e);let i=t.length;for(;--i>=0&&t.item(i)!==this;);return i>-1};return i.call(e,t)}function $(e){return Y(e,":hover")}function q(e,t){let i=_(e);if(t=_(t),!e||!t)return!1;for(;i=i.parentNode;)if(i===t)return!0;return!1}function X(){const e=n.browser.msie6?_("PageContainer"):document.body,t=document.documentElement;return[e.scrollLeft||t.scrollLeft||window.pageXOffset||0,e.scrollTop||t.scrollTop||window.pageYOffset||0,t.clientWidth||e.clientWidth||0,t.clientHeight||e.clientHeight||0]}function Q(e,t){let i=(t=t||{}).fromEl||D(e);const r=t.positions||["relative","absolute","fixed"];for(;i&&i!==document.body;){const e=ye(i,"position");if((0,o.inArray)(e,r)&&(!t.noOverflow||"hidden"!==ye(i,"overflow")))break;i=D(i)}return i}function Z(e,t){let i,o,r,a=e=_(e),s=!1;for(;a&&a.tagName&&a!==document.body;){if(i=ye(a,"position"),o=ye(a,"overflow"),r=ye(a,"transform"),t&&n.browser.mozilla){if("page_wrap"!=a.id&&a!==e&&"visible"!==o&&("static"===i?!s||"relative"===s:"fixed"!==s))break}else if(a!==e&&"visible"!==o&&("static"===i?!s||"relative"===s:"fixed"!==s))break;"none"!==r?s=void 0:"static"!==i&&"fixed"!==s&&(s=i),a=D(a)}return a}function J(e){const t=arguments.length;if(t>1){for(let e=0;e<t;e++)J(arguments[e]);return}if(!(e=_(e))||!e.style)return;const i=e.olddisplay,o=e.tagName.toLowerCase();let r="block";e.style.display=i||"","none"===ye(e,"display")&&(r=ue(e,"inline")||ue(e,"_inline")?"inline":ue(e,"_inline_block")?"inline-block":ue(e,"_flex")?"flex":"tr"!==o||n.browser.msie?"table"!==o||n.browser.msie?"block":"table":"table-row",e.style.display=e.olddisplay=r)}function ee(e){const t=arguments.length;if(t>1){for(let e=0;e<t;e++)ee(arguments[e]);return}if(!(e=_(e))||!e.style)return;const i=ye(e,"display");e.olddisplay="none"!==i?i:"",e.style.display="none"}function te(e){return!(!(e=_(e))||!e.style)&&"none"!==ye(e,"display")}function ie(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}function oe(e,t,i){i=i||0;const r=se(e=_(e))[1],n=ce(e)[1],a=window,s=document.documentElement,c=Math.max((0,o.intval)(a.innerHeight),(0,o.intval)(s.clientHeight)),l=_("page_header_cont"),d=s.scrollTop||document.body.scrollTop||window.scrollY||0,u=vk.staticheader?Math.max(0,ce(l)[1]-d):ce(l)[1];if(t){if(r+n<d+u+i)return r+n-d-u-i;if(r>d+c-i)return r-d-c+i}else{if(r<d+u+i)return r-d-u-i;if(r+n>d+c-i)return r+n-d-c+i}return 0}function re(e,t){return void 0===t&&(t=!te(e)),t?J(e):ee(e),t}function ne(e){return void 0!==e.getBoundingClientRect}function ae(e,t){let i;if(t&&"inline"===ye(e,"display")){const t=e.getClientRects();i=t&&t[0]||e.getBoundingClientRect()}else i=e.getBoundingClientRect();return i}function se(e,t){if(!(e=_(e)))return[0,0];const i=e.ownerDocument;let o={top:0,left:0};if(!i)return[0,0];const r=i.documentElement;ne(e)&&(o=ae(e,!0));const n=i===i.window?i:9===i.nodeType&&(i.defaultView||i.parentWindow);return[o.left+(t?0:n.pageXOffset||r.scrollLeft)-(r.clientLeft||0),o.top+(t?0:n.pageYOffset||r.scrollTop)-(r.clientTop||0)]}function ce(e,t,i){e=_(e);const r=document.documentElement;let n,a=[0,0];if(t&&"border-box"===ye(e,"boxSizing")&&(t=!1),e===document)a=[Math.max(r.clientWidth,document.body.scrollWidth,r.scrollWidth,document.body.offsetWidth,r.offsetWidth),Math.max(r.clientHeight,document.body.scrollHeight,r.scrollHeight,document.body.offsetHeight,r.offsetHeight)];else if(e){function s(){a=ne(e)&&(n=ae(e,i))&&void 0!==n.width?[n.width,n.height]:[e.offsetWidth,e.offsetHeight],t&&(0,o.each)(a,(function(t,i){const r=t?["Top","Bottom"]:["Left","Right"];(0,o.each)(r,(function(){a[t]-=parseFloat(ye(e,"padding"+this))||0,a[t]-=parseFloat(ye(e,"border"+this+"Width"))||0}))}))}if(te(e))s();else{const c={position:"absolute",visibility:"hidden",display:"block"},l={};let d=!1;e.style.cssText.indexOf("!important")>-1&&(d=e.style.cssText),(0,o.each)(c,(function(t,i){l[t]=e.style[t],e.style[t]=i})),s(),(0,o.each)(c,(function(t,i){e.style[t]=l[t]})),d&&(e.style.cssText=d)}}return a}function le(e){return ce(e)[0]}function de(e){return ce(e)[1]}function ue(e,t){const i=_(e);return i&&i.classList&&i.classList.contains(t)}function _e(e,t){const i=_(e);if(i&&i.classList)if(t.includes(" ")){` ${i.className} `.includes(` ${t} `)||(i.className=(i.className?`${i.className} `:"")+t)}else t.length&&!i.classList.contains(t)&&i.classList.add(t)}const pe=(e,t,i)=>{i=(0,o.positive)(i),setTimeout(_e.pbind(e,t),i)};function he(e,t){const i=_(e);t.length&&i&&i.classList&&i.classList.contains(t)&&i.classList.remove(t)}const me=(e,t,i)=>{i=(0,o.positive)(i),setTimeout(he.pbind(e,t),i)};function ge(e,t,i){const o=_(e);if(!t.length||!o||!o.classList)return!1;if(void 0===i)return o.classList.toggle(t);const r=o.classList.contains(t);return i&&!r?o.classList.add(t):!i&&r&&o.classList.remove(t),i}function ve(e,t,i,r){return r=(0,o.positive)(r),void 0===i&&(i=!ue(e,t)),(i?pe:me)(e,t,r),i}function fe(e,t,i){he(e,t),_e(e,i)}function ye(e,t,i){if(e=_(e),(0,o.isArray)(t)){const i={};return(0,o.each)(t,((t,o)=>i[o]=ye(e,o))),i}if(!e)return"";if(void 0===i&&(i=!0),!i&&"opacity"===t&&n.browser.msie){const t=e.style.filter;return t?t.indexOf("opacity=")>=0?parseFloat(t.match(/opacity=([^)]*)/)[1])/100+"":"1":""}if(!i&&e.style&&(e.style[t]||"height"===t))return e.style[t];let r;const a=document.defaultView||window;if(a.getComputedStyle){t=t.replace(/([A-Z])/g,"-$1").toLowerCase();const i=a.getComputedStyle(e,null);i&&(r=i.getPropertyValue(t))}else if(e.currentStyle){if("opacity"===t&&n.browser.msie){const t=e.currentStyle.filter;return t&&t.indexOf("opacity=")>=0?parseFloat(t.match(/opacity=([^)]*)/)[1])/100+"":"1"}const i=t.replace(/\-(\w)/g,(function(e,t){return t.toUpperCase()}));r=e.currentStyle[t]||e.currentStyle[i],"auto"===r&&(r=0),r=(r+"").split(" "),(0,o.each)(r,(function(t,i){if(!/^\d+(px)?$/i.test(i)&&/^\d/.test(i)){const o=e.style,n=o.left,a=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,o.left=i||0,r[t]=o.pixelLeft+"px",o.left=n,e.runtimeStyle.left=a}})),r=r.join(" ")}if(i&&("width"===t||"height"===t)){const i=ce(e,!0)[{width:0,height:1}[t]];r=((0,o.intval)(r)?Math.max((0,o.floatval)(r),i):i)+"px"}return r}function Ee(e,t,i){if(e=_(e))if((0,o.isObject)(t))(0,o.each)(t,((t,i)=>Ee(e,t,i)));else if("opacity"===t)n.browser.msie&&((i+"").length?e.style.filter=1!==i?"alpha(opacity="+100*i+")":"":e.style.cssText=e.style.cssText.replace(/filter\s*:[^;]*/gi,""),e.style.zoom=1),e.style.opacity!==i&&(e.style.opacity=i);else try{const o="number"==typeof i;o&&/height|width/i.test(t)&&(i=Math.abs(i)),i=o&&!/z-?index|font-?weight|opacity|zoom|line-?height/i.test(t)?i+"px":i,e.style[t]!==i&&(e.style[t]=i)}catch(e){(0,a.debugLog)("setStyle error: ",[t,i],e)}}function Ae(e,t,i){if(!e)return!1;let o=e[vkExpand];return o||(o=e[vkExpand]=++vkUUID),void 0!==i&&(vkCache[o]||(vkCache[o]={},window.__debugMode&&(vkCache[o].__elem=e)),vkCache[o][t]=i),t?vkCache[o]&&vkCache[o][t]:o}function we(e,t,i){return e=_(e),void 0===i?e.getAttribute(t):(e.setAttribute(t,i),i)}function Se(e){for(let t=0,i=arguments.length;t<i;++t){const i=arguments[t];if(void 0!==e[i])try{delete e[i]}catch(t){try{e.removeAttribute(i)}catch(e){}}}}function be(e,t){const i=!!e&&e[vkExpand];if(i)if(t){if(vkCache[i]){delete vkCache[i][t],t="";let o=0;for(const e in vkCache[i])if("__elem"!==e){o++;break}o||be(e)}}else window.removeEvent(e),Se(e,vkExpand),delete vkCache[i]}function Te(){const e=arguments;for(let t=0;t<e.length;++t){const i=_(e[t]);i&&(be(i),Se(i,"btnevents"))}}function Ie(e,t,i){if((e=_(e))&&!e.titleSet){if(t||(t=e),t.scrollWidth>t.clientWidth||t.scrollHeight>t.clientHeight)e.setAttribute("title",i||e.innerText||e.textContent);else{const t=m("b",e);t&&(t.scrollWidth>t.clientWidth||t.scrollHeight>t.clientHeight)?e.setAttribute("title",i||e.innerText||e.textContent):e.removeAttribute("title")}e.titleSet=1}}function Ce(){const e=_("zoom_test_1")||document.body.appendChild(T("div",{id:"zoom_test_1"},{left:"10%",position:"absolute",visibility:"hidden"}));return(_("zoom_test_2")||document.body.appendChild(T("div",{id:"zoom_test_2"},{left:e.offsetLeft+"px",position:"absolute",visibility:"hidden"}))).offsetLeft/e.offsetLeft}function ke(e,t=void 0,i=void 0){if(e=_(e))return void 0!==t&&(e.setValue?(e.setValue(t),!i&&e.phonblur&&e.phonblur()):"INPUT"===e.tagName||"TEXTAREA"===e.tagName?e.value=t:void 0!==e.emojiId&&window.Emoji?Emoji.val(e,t):e.innerHTML=t,!i&&window.triggerEvent(e,"valueChanged")),e.getValue?e.getValue():("INPUT"===e.tagName||"TEXTAREA"===e.tagName?e.value:e.innerHTML)||""}function Pe(e,t,i){e=_(e);try{if(e.focus(),void 0!==t&&!1!==t||(t=e.value.length),void 0!==i&&!1!==i||(i=t),e.setSelectionRange)e.setSelectionRange(t,i);else if(window.getSelection&&document.createRange){let t=document.createRange();t.selectNodeContents(e),t.collapse(!1);let i=window.getSelection();i.removeAllRanges(),i.addRange(t)}}catch(e){}}function Oe(e,t,i){for(e=_(e),i=i||999;e&&!t(e);){if(0===--i)return!1;try{if((e=D(e))===document)return!1}catch(t){e=!1}}return e}i._dG("cssTransformProp",function(){const e=document.createElement("div");if(null==e.style.transform){const t=["Webkit","Moz","ms"];for(const i in t)if(void 0!==e.style[t[i]+"Transform"])return t[i]+"Transform"}return"transform"}());let Me=!1;function Le(e){if(!Me)return window.document.title=(0,o.replaceEntities)(e)}function De(e){Me=e,e&&window.cur&&window.cur.destroy.push((()=>{De(!1)}))}function Re(){i._dG("vkExpand",window.vkExpand||"VK"+(0,o.vkNow)()),i._dG("vkUUID",window.vkUUID||0),i._dG("vkCache",window.vkCache||{})}const Ne=T},972332:(e,t,i)=>{"use strict";i.d(t,{KEY:()=>c,KEY_NAME:()=>l,addEvent:()=>d,cancelEvent:()=>p,checkEvent:()=>f,checkKeyboardEvent:()=>y,checkOver:()=>E,normEvent:()=>v,removeEvent:()=>u,stopEvent:()=>m,triggerEvent:()=>_});var o=i(754866),r=i(898848),n=i(137101),a=i(624042),s=i(330882);const c={LEFT:37,UP:38,RIGHT:39,DOWN:40,DEL:8,TAB:9,RETURN:13,ENTER:13,ESC:27,PAGEUP:33,PAGEDOWN:34,SPACE:32,CTRL:17,ALT:18,SHIFT:16,META_LEFT:91,META_RIGHT:93},l={Enter:"Enter"};function d(e,t,i,n,a,s){if(!(e=(0,o.ge)(e))||3==e.nodeType||8==e.nodeType)return;const c=a?function(){const e=function(e){const t=e.data;e.data=a;const o=i.apply(this,[e]);return e.data=t,o};return e.handler=i,e}():i;e.setInterval&&e!==window&&(e=window);const l=(0,o.data)(e,"events")||(0,o.data)(e,"events",{}),d=(0,o.data)(e,"handle")||(0,o.data)(e,"handle",function(e){return function(){g.apply(e,arguments)}}(e));(0,r.each)(t.split(/\s+/),(function(t,i){l[i]||(l[i]=[],!n&&e.addEventListener?e.addEventListener(i,d,s):!n&&e.attachEvent&&e.attachEvent("on"+i,d)),l[i].push(c)}))}function u(e,t,i,n){if(void 0===n&&(n=!1),!(e=(0,o.ge)(e)))return;const a=(0,o.data)(e,"events");if(a)if("string"==typeof t)(0,r.each)(t.split(/\s+/),(function(t,s){if(!(0,r.isArray)(a[s]))return;let c=a[s].length;if((0,r.isFunction)(i)){for(let e=c-1;e>=0;e--)if(a[s][e]&&(a[s][e]===i||a[s][e].handler===i)){a[s].splice(e,1),c--;break}}else{for(let e=0;e<c;e++)delete a[s][e];c=0}c||(e.removeEventListener?e.removeEventListener(s,(0,o.data)(e,"handle"),n):e.detachEvent&&e.detachEvent("on"+s,(0,o.data)(e,"handle")),delete a[s])})),(0,r.isEmpty)(a)&&((0,o.removeData)(e,"events"),(0,o.removeData)(e,"handle"));else for(const t in a)a.hasOwnProperty(t)&&u(e,t)}function _(e,t,i,r){e=(0,o.ge)(e);const n=(0,o.data)(e,"handle");if(n){const o=()=>n.call(e,(0,a.extend)(i||{},{type:t,target:e}));r?o():setTimeout(o,0)}}function p(e){if(!(e=e||window.event))return!1;for(;e.originalEvent;)e=e.originalEvent;return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.cancelBubble=!0,e.returnValue=!1,!1}function m(e){if(!(e=e||window.event))return!1;for(;e.originalEvent;)e=e.originalEvent;return e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,!1}function g(e){e=v(e);const t=Array.from(arguments);t[0]=e;const i=(0,o.data)(this,"events");if(!i||"string"!=typeof e.type||!i[e.type]||!i[e.type].length)return;const r=(i[e.type]||[]).slice();for(const i in r){if(!r.hasOwnProperty(i))continue;if("mouseover"===e.type||"mouseout"===e.type){let t=e.relatedElement;for(;t&&t!==this;)t=t.parentNode;if(t===this)continue}const o=r[i].apply(this,t);if(!1!==o&&-1!==o||p(e),-1===o)return!1}}function v(e){const t=e=e||window.event;if((e=(0,n.clone)(t)).originalEvent=t,e.target||(e.target=e.srcElement||document),3==e.target.nodeType&&(e.target=e.target.parentNode),!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement===e.target),null==e.pageX&&null!=e.clientX){const t=document.documentElement,i=document.body;e.pageX=e.clientX+(t&&t.scrollLeft||i&&i.scrollLeft||0)-(t.clientLeft||0),e.pageY=e.clientY+(t&&t.scrollTop||i&&i.scrollTop||0)-(t.clientTop||0)}return!e.which&&(e.charCode||0===e.charCode?e.charCode:e.keyCode)&&(e.which=e.charCode||e.keyCode),!e.metaKey&&e.ctrlKey?e.metaKey=e.ctrlKey:!e.ctrlKey&&e.metaKey&&s.browser.mac&&(e.ctrlKey=e.metaKey),!e.which&&e.button&&(e.which=1&e.button?1:2&e.button?3:4&e.button?2:0),e}function f(e){const t=e||window.event;return t&&("click"===t.type||"mousedown"===t.type||"mouseup"===t.type)&&(t.which>1||t.button>1||t.ctrlKey||t.shiftKey||s.browser.mac&&t.metaKey)||!1}function y(e){if(!(e=v(e))||!e.target)return!1;if(!e.screenX)return!0;const t=(0,o.getSize)(e.target),i=(0,o.getXY)(e.target),r=e.pageX-i[0],n=e.pageY-i[1];return r<-1||r>t[0]+1||n<-1||n>t[1]+1||Math.abs(e.pageX-i[0]-t[0]/2)<1&&Math.abs(e.pageY-i[1]-t[1]/2)<1}function E(e,t){if(!e)return!0;e=e.originalEvent||e,t=t||e.target;let i=e.fromElement||e.relatedTarget;if(!i||i===t||i===t.parentNode)return!0;for(;i!==t&&i.parentNode&&i.parentNode!==document.body;)i=i.parentNode;return i!==t}},450970:(e,t,i)=>{"use strict";i.d(t,{domReady:()=>T,domStarted:()=>b,initedCheck:()=>A,onLoaded:()=>S});var o=i(744968),r=i(330882),n=i(137771),a=i(616398),s=i(576854),c=i(556048),l=i(765362),d=i(469004),u=i(540462),_=i(898848),p=i(604723),m=i(246314),g=i(769771),v=i(754866),f=i(384903),y=i(131455),E=i(972332);let A=0;function S(e){vk.loaded?e():(0,E.addEvent)(window,"load",e)}function b(){(0,u.partConfigEnabled)("avoid_multiple_init")||(0,g.mountLayers)(),(0,u.partConfigEnabled)("avoid_multiple_init")||(0,m.initDomNodes)(),(0,E.addEvent)(document.body,"resize",n.onBodyResize.pbind(!1)),window.utilsNode&&(r.browser.mozilla?(0,v.addClass)(document.body,"firefox"):r.browser.mobile&&(0,v.addClass)(document.body,"mobfixed"),(0,p.initLegacyBrowserDetectionInAttribute)(),r.browser.mobile||(0,f.initStl)(),hab.init(),window._retinaInit?window._retinaInit():A=1,(0,y.initSw)())}function T(){if(!window.utilsNode)return;(0,o.updateSTL)();const e=(0,v.ge)("side_bar");if(i._dG("pageNode",(0,v.ge)("page_wrap")),i._dG("_fixedNav",e&&"fixed"===(0,v.getStyle)(e,"position")),r.browser.chrome||r.browser.msie_edge?i._dG("scrollNode",document.scrollingElement||document.body):i._dG("scrollNode",r.browser.safari?document.body:document.getElementsByTagName("html")[0]),(0,n.onBodyResize)(),vk.dt=(0,a.calculateTimeOffsets)(),setTimeout(n.onBodyResize.pbind(!1),0),(0,s.updateAriaElements)(),(0,s.makeInteractiveMVKA11yProposal)(),(0,c.init)(),(0,l.scheduleChecker)(),window.addEventListener("scroll",n.onBodyScroll,{passive:!0}),window.debuglogInit&&window.debuglogInit(),!vk.id&&d.ls.checkVersion()&&d.ls.get("last_reloaded"))try{const e=["sound_notify_off","im_ui_notify_off","_okcls_uuid","video-standalone-legal-recommendations"];(0,u.partConfigEnabled)("video_recom_tech_toast_fix")&&e.push("video-standalone-legal-recommendations");let t={};(0,_.each)(e,((e,i)=>{const o=d.ls.get(i);null!==o&&(t[i]=o)})),window.localStorage.clear(),(0,_.each)(t,((e,t)=>d.ls.set(e,t)))}catch(e){}if((0,u.partConfigEnabled)("web_spa_new_modals")){const e=new Event("legacyDomReadyFinished");document.dispatchEvent(e)}}},250598:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ElementTooltip:()=>u,default:()=>_});var o=i(754866),r=i(478752),n=i(972332),a=i(692543),s=i(672277),c=i(137771),l=i(153659),d=i(452223);class u{_initEvents(e){this._opts.autoShow&&(this._el_me_event=this._onMouseEnter.bind(this),(0,n.addEvent)(e,"mouseenter",this._el_me_event),this._opts.showOnKeyboard&&(this._el_kd_event=t=>{t.target!==e||t.keyCode!==n.KEY.ENTER&&t.keyCode!==n.KEY.SPACE||this.toggle()}),(0,n.addEvent)(e,"keydown",this._el_kd_event)),(this._opts.autoShow||this._opts.autoHide)&&(this._el_ml_event=this._onMouseLeave.bind(this),(0,n.addEvent)(e,"mouseleave",this._el_ml_event)),this._opts.autoShow||this._opts.customShow||(this._el_c_event=()=>{this._isShown&&this._opts.noHideOnClick||this.toggle(!this._isShown)},(0,n.addEvent)(e,"click",this._el_c_event))}_onMouseEnter(e){clearTimeout(this._hto),this._hto=!1,!this._isShown&&this._opts.autoShow&&(clearTimeout(this._reTimeout),this._reTimeout=!1,clearTimeout(this._sto),this._sto=setTimeout(this.show.bind(this),this._opts.delay))}_onMouseLeave(e){this._clearTimeouts(),this._hto=setTimeout(this._hide.bind(this),200)}_onMouseWindowClick(e){if(this._opts.noAutoHideOnWindowClick)return;let t=e.target;for(;t&&t!==this._ttel&&t!==document.body&&t!==this._el;)t=(0,o.domPN)(t);return(0,o.hasClass)(e.target,"_ap_layer__close")||t&&t!==document.body?void 0:(0,r.isFunction)(this._opts.onWindowClick)?(this._opts.onWindowClick(),(0,n.cancelEvent)(e)):(this.hide(!0),(0,n.cancelEvent)(e))}destroy(){let e;this._el_me_event&&(0,n.removeEvent)(this._el,"mouseenter",this._el_me_event),this._el_ml_event&&(0,n.removeEvent)(this._el,"mouseleave",this._el_ml_event),this._el_c_event&&(0,n.removeEvent)(this._el,"click",this._el_c_event),this._el_kd_event&&(0,n.removeEvent)(this._el,"keydown",this._el_kd_event),this._clearTimeouts(),(0,o.removeData)(this._el,"ett"),(0,o.re)(this._ttel),this._ev_wclick&&(0,n.removeEvent)(document,"mousedown",this._ev_wclick),this._ttel&&(e=(0,o.geByClass1)("_eltt_content",this._ttel)),this._opts.onDestroy&&this._opts.onDestroy(e)}hide(e,t){this._hide(e,t)}_onTooltipMouseEnter(e){this._clearTimeouts()}_onTooltipMouseLeave(e){this._onMouseLeave()}build(){if(!this._ttel){const e=this._opts.withCloseButton?"eltt_with_close_button":"";this._ttel=(0,o.se)(`\n        <div class="eltt ${this._opts.cls||""} ${e}" id="${this._opts.id}">\n          <div class="eltt_arrow_back _eltt_arrow_back">\n            <div class="eltt_arrow"></div>\n          </div>\n          <div class="eltt_content _eltt_content"></div>\n        </div>`),this._ttArrowEl=(0,o.geByClass1)("_eltt_arrow_back",this._ttel);const t=(0,o.geByClass1)("_eltt_content",this._ttel);if(this._opts.content&&((0,r.isString)(this._opts.content)?t.innerHTML=this._opts.content:t.appendChild(this._opts.content)),this._opts.withCloseButton){const e='\n          <div class="eltt_close_button"></div>\n        ';this._ttel.insertAdjacentHTML("beforeend",e),this._closeButton=this._ttel.lastElementChild;const t=e=>{e.stopPropagation(),this.hide(null,!0),this._opts.onCloseButtonClick&&this._opts.onCloseButtonClick()};this._closeButton.addEventListener("click",t),cur.destroy.push((()=>this._closeButton.removeEventListener("click",t)))}this._appendToEl&&this._appendToEl.appendChild(this._ttel),this._opts.onClick&&(this._ttel.addEventListener("click",this._opts.onClick),window.cur.destroy.push((()=>this._ttel.removeEventListener("click",this._opts.onClick))))}}show(){if(this._isShown)return void this.updatePosition();if(this._tooltipStats.handleShow(),this._opts.skipShow)return;if(this._clearTimeouts(),this._ttel||(this.build(),(this._opts.autoShow||this._opts.autoHide)&&(this._ev_ttenter=this._onTooltipMouseEnter.bind(this),this._ev_ttleave=this._onTooltipMouseLeave.bind(this),(0,n.addEvent)(this._ttel,"mouseenter",this._ev_ttenter),(0,n.addEvent)(this._ttel,"mouseleave",this._ev_ttleave))),this._opts.width){const e=(0,r.isFunction)(this._opts.width)?this._opts.width.call(this):this._opts.width;(0,o.setStyle)(this._ttel,"width",e)}(0,o.show)(this._ttel);const e=(0,o.geByClass1)("_eltt_content",this._ttel);this._opts.onFirstTimeShow&&!this._firstTimeShown&&this._opts.onFirstTimeShow.call(this,e,this._ttel),this._opts.onShow&&this._opts.onShow(e,!this._firstTimeShown),this._firstTimeShown=!0,this.updatePosition(),this._isShown=!0,this._el.setAttribute("aria-expanded","true"),this._visTO=setTimeout(o.addClass.pbind(this._ttel,"eltt_vis"),10),this._opts.elClassWhenShown&&(0,o.addClass)(this._el,this._opts.elClassWhenShown),this._ev_wclick&&(0,n.removeEvent)(document,"mousedown",this._ev_wclick),this._ev_wclick=this._onMouseWindowClick.bind(this),(0,n.addEvent)(document,"mousedown",this._ev_wclick)}static getType(e){switch(e){case"top":case"bottom":return u.TYPE_VERTICAL;case"right":case"left":return u.TYPE_HORIZONTAL}}getOptions(){return this._opts}updatePosition(){let e=this._opts.forceSide,t=!!this._opts.getTargetBoundingBox&&this._opts.getTargetBoundingBox(this);if(!t){const e=(0,o.getXY)(this._el),i=(0,o.getSize)(this._el);t={left:e[0],top:e[1],width:i[0],height:i[1]}}const i=this._opts.getWrapEl?this._opts.getWrapEl(this):(0,o.gpeByClass)("audio_layer_container",this._ttel),n=i||(0,o.domClosestOverflowHidden)(this._ttel),l=n!==document.body?(0,o.getXY)(n):[(0,s.scrollGetX)(),(0,a.scrollGetY)()+(0,c.getPageHeaderHeight)()],d=n!==document.body?(0,o.getSize)(n):[window.innerWidth,window.innerHeight],_=(0,o.getSize)(this._ttel),p=this._arrowSize,m=this._opts.noBorder?0:1,g=(0,r.isFunction)(this._opts.offset)?this._opts.offset():this._opts.offset;let v;const f=(e,i)=>{const r={},n=[vk.rtl?"marginRight":"marginLeft","marginTop"].indexOf(e);let a;a=this._opts.align===(vk.rtl?u.ALIGN_LEFT:u.ALIGN_RIGHT)?_[n]-Math.max(m+p+(i||0),Math.min(_[n],t[n?"height":"width"])/2):this._opts.align===(vk.rtl?u.ALIGN_RIGHT:u.ALIGN_LEFT)?Math.max(m+p+(i||0),Math.min(_[n],t[n?"height":"width"])/2):_[n]/2,r[e]=Math.floor(a)-m-p-(i||0),this._opts.onSetArrowPosition(r),(0,o.setStyle)(this._ttArrowEl,r)};if(this._opts.setPos)v=this._opts.setPos(this)||{},u.getType(e)===u.TYPE_VERTICAL?void 0!==v.arrowPosition?(0,o.setStyle)(this._ttArrowEl,{marginLeft:v.arrowPosition}):vk.rtl?f("marginRight"):f("marginLeft"):void 0!==v.arrowPosition?(0,o.setStyle)(this._ttArrowEl,{marginTop:v.arrowPosition}):f("marginTop");else{if(!e&&this._prevSide&&this._opts.preventSideChange)e=this._prevSide;else if(!e)if(this._opts.type===u.TYPE_VERTICAL){const i=document.body.classList.contains("body_im")?this._opts.bottomGap||60:this._opts.bottomGap||0,o=t.top-l[1]>_[1]+p-g[1],r=(0,a.scrollGetY)()+d[1]-(t.top+t.height+p)-i>_[1];e="top"===this._opts.defaultSide?o?"top":"bottom":r?"bottom":"top"}else e=t.left-l[0]<_[0]?"right":"left";let i,r,n,s,c,m,v=(0,o.getXY)(this._appendToEl),y=[t.left-v[0],t.top-v[1]],E=g[0]+y[0];this._opts.centerShift?(E+=this._opts.centerShift||0,i=this._opts.centerShift):this._opts.rightShift&&(i=-(_[0]/2-this._opts.rightShift),E+=i),this._prevSide=e;let A=20;const S=!this._opts.autoAdjustToViewport;switch(this._opts.align===(vk.rtl?u.ALIGN_LEFT:u.ALIGN_RIGHT)?(r=t.width-_[0],n=t.height-_[1]):this._opts.align===(vk.rtl?u.ALIGN_RIGHT:u.ALIGN_LEFT)?(r=0,n=0):(r=-_[0]/2+t.width/2,n=t.height/2-_[1]/2),e){case"bottom":c=r+E,m=t.height+p-g[1]+y[1],i||S||(s=r+t.left+g[0]+_[0]+A-(l[0]+d[0]),s<0&&(s=0),c-=s,i=-s),(0,o.setStyle)(this._ttel,{left:c,top:m});break;case"top":c=r+E,i||S||(s=r+t.left+g[0]+_[0]+A-(l[0]+d[0]),s<0&&(s=0),c-=s,i=-s),(0,o.setStyle)(this._ttel,{left:c}),m=-(0,o.getSize)(this._ttel)[1]-p+g[1]+y[1],(0,o.setStyle)(this._ttel,{top:m});break;case"right":c=t.width+p+E,m=n+g[1]+y[1],i||S||(s=n+t.top+g[1]-(l[1]+A),s>0&&(s=0),m-=s,i=-s),(0,o.setStyle)(this._ttel,{left:c,top:m});break;case"left":c=-_[0]-p+E,m=n+g[1]+y[1],i||S||(s=n+t.top+g[1]-(l[1]+A),s>0&&(s=0),m-=s,i=-s),(0,o.setStyle)(this._ttel,{left:c,top:m})}this._opts.type===u.TYPE_VERTICAL?vk.rtl?f("marginRight",i):f("marginLeft",i):f("marginTop",i)}(0,r.each)(["top","bottom","left","right"],function(t,i){e!==i&&(0,o.removeClass)(this._ttel,"eltt_"+i)}.bind(this)),(0,o.addClass)(this._ttel,"eltt_"+e),(0,o.setStyle)(this._ttel,v)}_hide(e,t){if(this.tempPreventHide)return;let i;if(e&&(i=d.ETooltipEventTypes.TOOLTIP_HIDE_BY_CLICK),t&&(i=d.ETooltipEventTypes.TOOLTIP_HIDE_BY_CROSS),this._tooltipStats.handleHide(i),this._isShown=!1,this._clearTimeouts(),this._reTimeout=setTimeout(function(){(0,o.hide)(this._ttel),this._el.setAttribute("aria-expanded","false"),this._opts.elClassWhenShown&&(0,o.removeClass)(this._el,this._opts.elClassWhenShown),this._opts.onHide&&this._opts.onHide(this._ttel,!!e,!!t)}.bind(this),u.FADE_SPEED),this._opts.onBeforeHide)try{this._opts.onBeforeHide(this._ttel,!!e,!!t)}catch(e){}(0,o.removeClass)(this._ttel,"eltt_vis"),this._ev_wclick&&(0,n.removeEvent)(document,"mousedown",this._ev_wclick)}isShown(){return this._isShown}toggle(){this.isShown()?this.hide():this.show()}_clearTimeouts(){this._visTO&&clearTimeout(this._visTO),this._visTO=!1,this._sto&&clearTimeout(this._sto),this._sto=!1,this._hto&&clearTimeout(this._hto),this._hto=!1,this._reTimeout&&clearTimeout(this._reTimeout),this._reTimeout=!1}getContent(){return(0,o.geByClass1)("_eltt_content",this._ttel)}constructor(e,t){if(this.constructor!==u)throw new Error("ElementTooltip was called without 'new' operator");if(!(e=(0,o.ge)(e))||!e.nodeType)throw new Error("First argument not a DOM element");if((0,o.data)(e,"ett"))return(0,o.data)(e,"ett");if(this._tooltipStats=new l.TooltipsStat(t.helpHintId||"unknown",t.skipShow||!1),this._opts=(0,r.extend)({delay:100,offset:[0,0],type:u.TYPE_VERTICAL,id:"",cls:"",width:null,appendToParent:!1,autoAdjustToViewport:!0,autoShow:!0,autoHide:!1,noHideOnClick:!1,arrowSize:"normal",customShow:!1,align:u.ALIGN_CENTER,withCloseButton:!1,skipShow:!1,onSetArrowPosition:()=>{}},t),this._opts.customShow&&(this._opts.autoShow=!1),this._opts.defaultSide||(this._opts.defaultSide=this._opts.type===u.TYPE_VERTICAL?"top":"left"),this._opts.cls+=" eltt_arrow_size_"+this._opts.arrowSize,this._opts.cls+=" eltt_align_"+this._opts.align,this._opts.noBorder&&(this._opts.cls+=" eltt_noborder"),this._opts.setPos&&!this._opts.forceSide)throw new Error("forceSide parameter should be set if you use setPos");if(this._appendToEl=this._opts.appendTo?this._opts.appendTo:this._opts.appendToParent?(0,o.domClosestPositioned)(e,{noOverflow:!0}):e,this._arrowSize={mini:u.ARROW_SIZE_MINI,normal:u.ARROW_SIZE_NORMAL,big:u.ARROW_SIZE_BIG}[this._opts.arrowSize],this._opts.forceSide){const e=u.getType(this._opts.forceSide);if(void 0===e)throw new Error("ElementTooltip: invalid 'forceSide' option provided: ",this._opts.forceSide);0,this._opts.type=e}this._opts.type===u.TYPE_HORIZONTAL&&void 0===t?.autoAdjustToViewport&&(this._opts.autoAdjustToViewport=!1),this._el=e,(0,o.data)(this._el,"ett",this),this._initEvents(e),this._clearTimeouts(),this._isShown=!1,this._el.setAttribute("aria-expanded","false")}}u.TYPE_VERTICAL=0,u.TYPE_HORIZONTAL=1,u.FADE_SPEED=100,u.ARROW_SIZE_MINI=9,u.ARROW_SIZE_NORMAL=8,u.ARROW_SIZE_BIG=16,u.ALIGN_LEFT="left",u.ALIGN_CENTER="center",u.ALIGN_RIGHT="right";const _=u},193694:(e,t,i)=>{"use strict";i.d(t,{initFavIcon:()=>n,setFavIcon:()=>r});var o=i(754866);function r(e,t){if(!window.icoNode)return;if(e=e+"?"+((stVersions||{}).favicon||""),icoNode.getAttribute("href")===e&&!t)return;const i=(0,o.ce)("link",{rel:"shortcut icon",type:"image/gif",href:e});headNode.replaceChild(i,icoNode),icoNode=i}function n(){i._dG("_iconAdd",window.devicePixelRatio>=2?"_2x":"")}},788789:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{giftsBox:()=>giftsBox,imageStatusPopup:()=>imageStatusPopup,mobilePromo:()=>mobilePromo,moneyTransferBox:()=>_moneyTransferBox__WEBPACK_IMPORTED_MODULE_16__.moneyTransferBox,reportAd:()=>reportAd,showAudioClaimWarning:()=>showAudioClaimWarning,showPollBox:()=>showPollBox,showSettingsAddressBox:()=>showSettingsAddressBox,showWriteMessageBox:()=>_writeMessageBox__WEBPACK_IMPORTED_MODULE_15__.showWriteMessageBox,sureDeleteAll:()=>sureDeleteAll});var _web_lib_message_box__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(270959),_web_audio_player_track_showAudioRestriction__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(183900),_web_audio_player_track_drawAudio__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(67609),_shared_audio_enums__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(867366),_web_lib_ui__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(683234),_web_lib_dom__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(754866),_web_lib_dom_events__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(972332),_web_lib_lang__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(102088),_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(237625),_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(246429),_shared_lib_web_stats__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(101272),_web_settings_addressBox__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(880789),_icons_desktop__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(936492),_web_ui_FlatButton__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(952661),_spa_web_infrastructure_layers__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(608814),_spa_web_features_gifts_UserGiftsModal_utils_isNewUserGiftsModalEnabled__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(579607),_web_di__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(319756),_writeMessageBox__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(149354),_moneyTransferBox__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(205597);function showSettingsAddressBox(){(0,_web_lib_message_box__WEBPACK_IMPORTED_MODULE_0__.showBox)("al_settings.php",{act:"address_box"},{stat:[window.jsc("web/settings.js"),"settings.css"],params:{bodyStyle:"padding: 0;",hideButtons:!0},onDone(e,{hash:t}){(0,_web_settings_addressBox__WEBPACK_IMPORTED_MODULE_11__.initSettingsAddressBox)(e,t)}})}function giftsBox(e,t,i){if(!(0,_spa_web_features_gifts_UserGiftsModal_utils_isNewUserGiftsModalEnabled__WEBPACK_IMPORTED_MODULE_17__.isNewUserGiftsModalEnabled)())return cur.viewAsBox?cur.viewAsBox():!(0,_web_lib_message_box__WEBPACK_IMPORTED_MODULE_0__.showBox)("al_gifts.php",{act:"box",tab:i||"received",mid:e},{cache:1,stat:["gifts.css",window.jsc("web/gifts.js")]},t);(0,_web_di__WEBPACK_IMPORTED_MODULE_14__.ensureDIRootWebContainer)().resolve(_spa_web_infrastructure_layers__WEBPACK_IMPORTED_MODULE_13__.WebLayers).open("userGiftsModal",{layerParams:{userId:e.toString()},replace:!0})}function reportAd(e,t){{let i="",o=null;const r=(0,_web_lib_message_box__WEBPACK_IMPORTED_MODULE_0__.showBox)("/reports.php",{act:"report_ad_box",ad_data:t},{onDone:function(){const e=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_5__.geByClass)("radiobtn","ad_report");window.radioBtns.ad_report={val:0,els:e};const t=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_5__.ge)("ad_csrf");i=t?t.value:i,o=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_5__.ge)("ad_comment")},params:{width:370,onClean:()=>{delete window.radioBtns.ad_report}},stat:["reports.css"]});r.removeButtons(),r.addButton((0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_7__.getLang)("box_send"),(n=>{ajax.post("reports.php",{act:"a_report_ad",ad_id:e,reason:window.radioBtns.ad_report.val,comment:o?o.value:"",ad_data:t,hash:i},{onDone:()=>{r.hide(),(0,_web_lib_box_utils__WEBPACK_IMPORTED_MODULE_9__.showDoneBox)((0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_7__.getLang)("reports_thanks_for_report"))},showProgress:()=>(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_4__.lockButton)(n),hideProgress:()=>(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_4__.unlockButton)(n)})})),r.addButton((0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_7__.getLang)("global_cancel"),!1,"no")}}const mobilePromo=()=>(0,_web_lib_message_box__WEBPACK_IMPORTED_MODULE_0__.showBox)("al_login.php",{act:"mobile",box:1});function showAudioClaimWarning(e,t,i){const{id:o,ownerId:r,title:n}=e,a=t.id,{reason:s,original:c}=t,l={width:470};let d,u;if(e.restrictionStatus)return(0,_web_audio_player_track_showAudioRestriction__WEBPACK_IMPORTED_MODULE_1__.showAudioRestriction)(e);"geo"===s?(d=(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_7__.getLang)("audio_claimed_geo"),u=(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_7__.getLang)("audio_claim_warning_title")):"site_rules_violation"===s?(d=(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_7__.getLang)("audio_site_rules_violation_warning"),u=(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_7__.getLang)("audio_site_rules_violation_header")):"replace"===s?(d=(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_7__.getLang)("audio_claimed_replacement_available"),u=(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_7__.getLang)("audio_claim_warning_title")):"subscription"===s?(l.hideButtons=!0,l.bodyStyle="padding: 0; border-radius: 4px;",l.width=450,u=!1,d=`\n      <div class="audio_claim_popup">\n        <div class="audio_claim_popup__title">${(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_7__.getLang)("global_audio_only_with_subscription_title")}</div>\n        <div class="audio_claim_popup__text">${(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_7__.getLang)("global_audio_only_with_subscription_text")}</div>\n        <div class="audio_claim_popup__close" onclick="curBox().hide()">${(0,_icons_desktop__WEBPACK_IMPORTED_MODULE_18__.getIcon24Cancel)().icon}</div>\n        ${_web_ui_FlatButton__WEBPACK_IMPORTED_MODULE_12__.FlatButton.render({appearance:_web_ui_FlatButton__WEBPACK_IMPORTED_MODULE_12__.FlatButtonAppearance.PRIMARY,size:_web_ui_FlatButton__WEBPACK_IMPORTED_MODULE_12__.FlatButtonSize.M,round:!0,restAttrs:{onclick:"AudioPlayer.showSubscriptionPopup()"},children:(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_7__.getLang)("global_audio_only_with_subscription_btn")}).outerHTML}\n      </div>`):(d=(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_7__.getLang)("audio_claim_warning"),u=(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_7__.getLang)("audio_claim_warning_title")),l.title=u,d=d.replace(/\{audio\}/g,`<b>${n}</b>`),d=d.replace(/\{objection_link\}/g,`<a href="/help?act=cc_objection&claim=${a}&content=audio${r}_${o}">${(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_7__.getLang)("audio_claim_objection")}</a>`),d=d.replace(/\{delete_link\}/g,`<a onclick="deleteAudioOnClaim(${r}, ${o}); return false;">${(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_7__.getLang)("audio_claim_delete")}</a>`);const _=[l,d];let p=null;if(i&&c){const e=(0,_web_audio_player_track_drawAudio__WEBPACK_IMPORTED_MODULE_2__.drawAudio)(c,"no_extra");_[1]=d.replace(/\{original\}/g,c[_shared_audio_enums__WEBPACK_IMPORTED_MODULE_3__.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_PERFORMER]+" - "+c[_shared_audio_enums__WEBPACK_IMPORTED_MODULE_3__.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_TITLE])+"<br/><br/>"+e,_.push((0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_7__.getLang)("audio_replace_with_original"),(function(){(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_4__.lockButton)(p.btns.ok[0]),i((()=>p.hide()))})),l.textControls=`<a onclick="deleteAudioOnClaim(${r}, ${o}); return false;">${(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_7__.getLang)("audio_claim_delete_capital")}</a>`}cur.claimWarning=p=_web_lib_message_box__WEBPACK_IMPORTED_MODULE_0__.showFastBox.apply(null,_)}function sureDeleteAll(title,text,where,objectId,toId,fromId,hash,event){if((0,_web_lib_dom_events__WEBPACK_IMPORTED_MODULE_6__.checkEvent)(event))return;const box=(0,_web_lib_message_box__WEBPACK_IMPORTED_MODULE_0__.showFastBox)({title},text,(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_7__.getLang)("global_delete"),(function(btn){ajax.post("/delete_all.php",{act:where,object_id:objectId,to_id:toId,from_id:fromId,hash,loc:nav.objLoc[0]},{onDone:function(res){if(__debugMode)eval(res);else try{eval(res)}catch(e){(0,_web_lib_debug_tools__WEBPACK_IMPORTED_MODULE_8__.logEvalError)(e,res)}box.hide()},showProgress:()=>(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_4__.lockButton)(btn),hideProgress:()=>(0,_web_lib_ui__WEBPACK_IMPORTED_MODULE_4__.unlockButton)(btn)})}),(0,_web_lib_lang__WEBPACK_IMPORTED_MODULE_7__.getLang)("global_cancel"));return!1}function imageStatusPopup(e,t){Object.assign(t,{act:"image_status"});const i=(0,_web_lib_message_box__WEBPACK_IMPORTED_MODULE_0__.showBox)("special_event.php",t,{containerClass:"ImageStatusPopup__container",params:{hideButtons:!0,needShadow:!1},onFail:function(){return window.cur.imageStatusBox&&window.cur.imageStatusBox.hide(),!0},onDone:function(e,t){const{status_id:i}=t;i&&(0,_shared_lib_web_stats__WEBPACK_IMPORTED_MODULE_10__.saveStatlogEvents)({name:"image_status",value:i,keys:["show_popup"]})}},e);i&&((0,_web_lib_dom_events__WEBPACK_IMPORTED_MODULE_6__.cancelEvent)(e),window.cur.imageStatusBox=i)}function showPollBox(e,{ref:t,className:i}={}){(0,_web_lib_message_box__WEBPACK_IMPORTED_MODULE_0__.showBox)("al_voting.php",{act:"get_layout",voting_id:e,for_box:!0,ref:t},{containerClass:i,params:{hideButtons:!0,width:510}})}},205597:(e,t,i)=>{"use strict";i.d(t,{moneyTransferBox:()=>d});var o=i(270959),r=i(478752),n=i(683234),a=i(754866),s=i(102088),c=i(246429),l=i(641608);function d(e,t,u,_,p,m,g){if(cur.viewAsBox)return cur.viewAsBox();if(p){if(!g){let i,r;return 2===p?(i=(0,s.curLang)("mail_money_transfer_cancel_confirm")||(0,s.getLang)("mail_money_transfer_cancel_confirm"),r=(0,s.curLang)("mail_money_transfer_cancel_btn")||(0,s.getLang)("mail_money_transfer_cancel_btn")):(i=(0,s.curLang)("mail_money_transfer_decline_confirm")||(0,s.getLang)("news_fb_money_transfer_decline_confirm"),r=(0,s.curLang)("mail_money_transfer_decline_btn")||(0,s.getLang)("news_fb_money_transfer_decline_btn")),void(cur.confirmBox=(0,o.showFastBox)((0,s.getLang)("global_action_confirmation"),i,r,d.pbind(e,t,u,_,p,!1,1),(0,s.getLang)("global_cancel")))}const i=(0,a.hasClass)((0,a.domPN)(_),"wall_postlink_preview_btn")||(0,a.hasClass)(_,"money_transfer__decline_button"),r=(0,a.geByClass1)("flat_button",(0,a.domPN)(_)),l=()=>{i?((0,a.addClass)(_.firstChild,"round_spinner"),(0,a.removeClass)(_.firstChild,"button")):(0,n.lockButton)(_)},m=()=>{i?((0,a.addClass)(_.firstChild,"button"),(0,a.removeClass)(_.firstChild,"round_spinner")):(0,n.unlockButton)(_)};return 2!==g&&((0,n.disableButton)(r,!0),l(_),cur.confirmBox&&cur.confirmBox.hide()),void ajax.post("al_payments.php?act=a_cancel_money_transfer",{tx_id:e,hash:t,from:i?"snippet":""},{onDone:function(o,n,s){0!==o?(i?((0,a.re)(_),(0,a.hasClass)(r,"secondary")||(0,a.domReplaceEl)(r,s)):(0,a.re)((0,a.domPN)(_)),(0,c.showDoneBox)(n),window.TopNotifier.invalidate()):setTimeout((()=>d(e,t,u,_,p,!1,2)),2e3)},onFail:function(e){return(0,n.disableButton)(r,!1),m(_),setTimeout((0,o.showFastBox)((0,s.getLang)("global_error"),e).hide,2e3),!0}})}return cur.acceptMoneyBtn=_,m?!l.MoneyTransfer.showMoneyTransferBox({request_id:e,request:m,hash:t},{stat:["payments.css",window.jsc("web/payments_legacy.js")]},(e=>((0,c.curBox)()&&(0,c.curBox)().hide(),setTimeout((0,o.showFastBox)((0,s.getLang)("global_error"),e).hide,2e3),!0))):!(0,o.showBox)("al_payments.php",{act:"accept_money_transfer_box",tx_id:e,hash:t},{stat:["payments.css",window.jsc("web/payments_legacy.js")],onFail:e=>((0,c.curBox)()&&(0,c.curBox)().hide(),setTimeout((0,o.showFastBox)((0,s.getLang)("global_error"),e).hide,2e3),!0),onDone(e,t){l.MoneyTransfer.initHandlers(),i._dG("cur",(0,r.extend)(window.cur,{paymentsOptions:t,paymentsPopupWrite(e){e.document.innerHTML!=cur._popup_text&&(e.document.write(window.cur._popup_text),e.document.close(),e.blur(),e.focus(),window.cur._popup_callback&&window.cur._popup_callback())}})),e.setOptions({width:510,bodyStyle:"padding: 0;",hideButtons:!0,onClean(){window.cur.moneyTranferCheckInt&&clearInterval(window.cur.moneyTranferCheckInt),window.removeEventListener("message",l.MoneyTransfer.frameMessage,!1)}}),l.MoneyTransfer.initAccept(t.chkData,t.frame)}},u)}},149354:(e,t,i)=>{"use strict";i.d(t,{showWriteMessageBox:()=>n});var o=i(270959),r=i(972332);function n(e,t,i={}){cur.onFriendMessage&&cur.onFriendMessage(),window.stManager.add([window.jsc("web/page.js"),window.jsc("web/wide_dd.js")]);const n=(0,o.showBox)("al_im.php",{act:"a_write_box",to:t,...i.params},{stat:[window.jsc("web/writebox.js"),"writebox.css","wide_dd.css","page.css","post.css",window.jsc("web/emoji.js"),"notifier.css"],cache:1},e);return n&&(0,r.cancelEvent)(e),window.WriteBox&&WriteBox.extractEmoji(),!n}},777730:(e,t,i)=>{"use strict";i.d(t,{bookmark:()=>c});var o=i(754866),r=i(898848),n=i(270959),a=i(866467),s=i(246429);function c(e,t,i,c,l=!1,d="",u="",_="",p=1,m,g){ajax.post("al_bookmarks.php",{act:"bookmark",owner_id:e,object_id:t,type:i,state:l?1:0,hash:c,item_access_hash:d,ref:u||cur.module,track_code:_,show_snack:p,source:m},{onDone:(c,l,d,u)=>{if(c&&!vk.widget){const _=function(s){const c=(0,o.geByClass1)("bookmarks_tag_set",s);if(c&&!(0,r.isEmpty)(l)){const s=[];(0,r.each)(l,((e,t)=>{s.push(t)})),s.sort(((e,t)=>e.order-t.order));let _='<div class="bookmarks_tags_list">';for(let e=0;e<s.length;e++){const t=s[e];_+=`<div class="bookmarks_tags_list_item" data-id="${t.id}">${t.name}</div>`}_+="</div>",_=(0,o.se)(_),_.addEventListener("click",(i=>{const s=(0,o.domClosest)("bookmarks_tags_list_item",i.target);if(s){const i=(0,o.domData)(s,"id"),c=(0,o.toggleClass)(s,"bookmarks_tags_list_item--selected");ajax.post("al_bookmarks.php",{act:"set_tag",item_type:d,item_oid:e,item_id:t,hash:u,tag_id:i,is_tagged:(0,r.intval)(!c),is_from_snackbar:!0},{onFail:e=>((0,n.showFastBox)((0,a.getLang)("global_error"),e),!0)})}})),cur.setBookmarksTagTooltip&&cur.setBookmarksTagTooltip.destroy(),window.stManager.add(["ui_common.css",window.jsc("web/ui_common.js")],(()=>{}));let p=new ElementTooltip(c,{content:_,appendToParent:!0,cls:"bookmarks_tag_set_tt",autoShow:!0,offset:"video"===i?[-95,-10]:[0,-36],onFirstTimeShow:e=>{window.stManager.add(["ui_common.css",window.jsc("web/ui_common.js")],(()=>{cur.setBookmarksTagTooltipScrolls||(cur.setBookmarksTagTooltipScrolls=[]),cur.setBookmarksTagTooltipScrolls.push(new uiScroll((0,o.domFC)(e),{theme:"dark"}))}))},onShow:function(){Notifier.freezeEvents(),curNotifier.tooltipShown=!0},onHide:function(){curNotifier.tooltipShown=!1,curNotifier.unfreezeAfterTooltipHide&&Notifier.unfreezeEvents()}});cur.destroy.push((()=>{cur.setBookmarksTagTooltipScrolls&&(cur.setBookmarksTagTooltipScrolls.forEach((function(e){e.destroy()})),delete cur.setBookmarksTagTooltipScrolls),p.destroy()}))}};(0,s.showDoneBox)(c,{tooltipHandler:_,link:"/bookmarks"})}g?.()}})}},444238:(e,t,i)=>{"use strict";i.d(t,{bookmarkArticle:()=>c});var o=i(972332),r=i(777730),n=i(814652),a=i(348112),s=i(601008);function c(e,t,i,c,l,d,u,_=!1){return t&&(u=(0,n.getIconBookmarked)(t),_?(0,s.setNewIconBookmarked)(t,u,24):(0,a.setIconBookmarked)(t,u)),(0,r.bookmark)(i,c,l,d,u),document.querySelectorAll(`._article_${i}_${c}`).forEach((e=>{const t=e.querySelector("._bookmark_btn");t&&(_?(0,s.setNewIconBookmarked)(t,u,24):(0,a.setIconBookmarked)(t,u))})),(0,o.cancelEvent)(e)}},702520:(e,t,i)=>{"use strict";i.d(t,{bookmarkEvent:()=>s});var o=i(246429),r=i(972332),n=i(814652),a=i(348112);function s(e,t,i,s){const c=(0,n.getIconBookmarked)(t);return(0,a.setIconBookmarked)(t,c),ajax.post("fave.php",{act:c?"a_delete_group":"a_add_group",gid:i,hash:s},{onDone:(e,t)=>{c||vk.widget||(0,o.showDoneBox)(t)}}),(0,r.cancelEvent)(e)}},253438:(e,t,i)=>{"use strict";i.d(t,{bookmarkLink:()=>c});var o=i(754866),r=i(972332),n=i(348112),a=i(814652),s=i(21548);function c(e,t,i){const c=(0,a.getIconBookmarked)(t);return(0,n.setIconBookmarked)(t,c),(0,s.sendBookmarkLink)(c,i,(0,o.domData)(t,"link-url"),(0,o.domData)(t,"link-img"),(0,o.domData)(t,"link-title"),(0,o.domData)(t,"track-code")),(0,r.cancelEvent)(e)}},871266:(e,t,i)=>{"use strict";i.d(t,{bookmarkNarrative:()=>c});var o=i(194025),r=i(972332),n=i(777730),a=i(348112),s=i(814652);function c(e,t,i,c,l,d){const u=(0,s.getIconBookmarked)(t);return(0,a.setIconBookmarked)(t,u),(0,n.bookmark)(i,c,l,d,u),u||(0,o.sendNarrativeAnalytic)(o.NarrativeAnalyticEventType.addToBookmarks,{ownerId:i,id:c},window.cur.module),(0,r.cancelEvent)(e)}},539092:(e,t,i)=>{"use strict";i.d(t,{bookmarkPodcast:()=>r});var o=i(972332);function r(e,t,r,n,a){return Promise.all([i.e(91498),i.e(89631),i.e(50560),i.e(62791),i.e(762),i.e(21529),i.e(79210),i.e(89887),i.e(22081),i.e(51915),i.e(18624),i.e(64007),i.e(36943),i.e(76573),i.e(98897),i.e(57859),i.e(70715),i.e(20089),i.e(6827),i.e("langs/web/podcasts_web")]).then(i.bind(i,525166)).then((function(i){i.default.toggleFave(e,t,r,a)})),n&&(0,o.cancelEvent)(n)}},985056:(e,t,i)=>{"use strict";i.d(t,{bookmarkPost:()=>s});var o=i(898848),r=i(754866),n=i(777730),a=i(814652);async function s(e,t,s,c,l,d,u="",_="",p=""){if(p){const{bookmarkClipPost:t}=await Promise.all([i.e(96851),i.e(95698),i.e(88651),i.e("langs/web/bookmarkClipPost")]).then(i.bind(i,697698));return t(e,p,(0,a.getIconBookmarked)(e))}if((0,o.isObject)(window.cur)&&(0,o.isFunction)(window.cur.viewAsBox))return window.cur.viewAsBox();const m=(0,a.getIconBookmarked)(e);e.innerHTML=m?(0,r.domData)(e,"add"):(0,r.domData)(e,"remove"),(0,r.domData)(e,"state",m?0:1),(0,n.bookmark)(t,s,c,l,m,d,u,_)}},269829:(e,t,i)=>{"use strict";i.d(t,{feedImageClick:()=>a});var o=i(800361),r=i(902642),n=i(468073);function a(e,t,i={}){const a=e.getAttribute("data-id");a&&((0,o.isVideoStandalone)()?(t.preventDefault(),nav.go(`/@${n.Ranges.isGroupId(a)?"club":"id"}${n.Ranges.convertOwnerIdToGroupId(a)}`)):(0,r.isFakeVideoStandalone)()&&window.cur?.vkvideo_link&&(t.preventDefault(),window.location.href=`${window.cur.vkvideo_link}@${n.Ranges.isGroupId(a)?"club":"id"}${n.Ranges.convertOwnerIdToGroupId(a)}`))}},404534:(e,t,i)=>{"use strict";i.d(t,{feedRPhotoClick:()=>n});var o=i(800361);const r=e=>e.endsWith("/")?e.slice(0,-1):e;function n(e,t){if(t.preventDefault(),(0,o.isVideoStandalone)()&&window.cur?.vkvideo_link){const{pathname:t}=new URL(e);nav.go(`${r(window.cur.vkvideo_link)}${t}`)}else nav.go(e)}},814652:(e,t,i)=>{"use strict";function o(e){return parseInt(e.dataset.state)}i.d(t,{getIconBookmarked:()=>o})},458840:(e,t,i)=>{"use strict";i.r(t),i.d(t,{bookmark:()=>o.bookmark,bookmarkArticle:()=>r.bookmarkArticle,bookmarkEvent:()=>n.bookmarkEvent,bookmarkLink:()=>a.bookmarkLink,bookmarkNarrative:()=>s.bookmarkNarrative,bookmarkPodcast:()=>c.bookmarkPodcast,bookmarkPost:()=>l.bookmarkPost,feedImageClick:()=>d.feedImageClick,feedRPhotoClick:()=>u.feedRPhotoClick,getIconBookmarked:()=>_.getIconBookmarked,initTopNotifier:()=>p.initTopNotifier,isArticleLayerOpen:()=>m.isArticleLayerOpen,isPhotoeditor3Available:()=>g.isPhotoeditor3Available,mentionClick:()=>v.mentionClick,openArticleEditor:()=>f.openArticleEditor,podcastStartFrom:()=>y.podcastStartFrom,sendBookmarkLink:()=>E.sendBookmarkLink,sendImageStatusStat:()=>A.sendImageStatusStat,setIconBookmarked:()=>S.setIconBookmarked,setNewIconBookmarked:()=>b.setNewIconBookmarked,shareAudioPlaylist:()=>T.shareAudioPlaylist,showAlbum:()=>I.showAlbum,showAlbums:()=>I.showAlbums,showApp:()=>C.showApp,showManyPhoto:()=>k.showManyPhoto,showNftInfo:()=>P.showNftInfo,showPhoto:()=>O.showPhoto,showPhotoTags:()=>M.showPhotoTags,showPodcast:()=>L.showPodcast,showVideoTags:()=>D.showVideoTags,showWiki:()=>R.showWiki,videoCallback:()=>N.videoCallback});var o=i(777730),r=i(444238),n=i(702520),a=i(253438),s=i(871266),c=i(539092),l=i(985056),d=i(269829),u=i(404534),_=i(814652),p=i(126107),m=i(613253),g=i(577473),v=i(772940),f=i(741791),y=i(85194),E=i(21548),A=i(402419),S=i(348112),b=i(601008),T=i(779259),I=i(862471),C=i(346028),k=i(36246),P=i(267999),O=i(254551),M=i(100538),L=i(984247),D=i(874669),R=i(414623),N=i(620692)},126107:(e,t,i)=>{"use strict";i.d(t,{initTopNotifier:()=>r});var o=i(972332);function r(){const e=[window.jsc("web/notifier.js"),"notifier.css",window.jsc("web/ui_common.js"),"ui_common.css"];return{preload:function(){window.stManager.add(e,(()=>window.TopNotifier.preload()))},show:function(t){if(!0!==(0,o.checkEvent)(t))return window.stManager.add(e,(()=>window.TopNotifier.show(t))),(0,o.cancelEvent)(t)},showTooltip:function(t){window.stManager.add(e,(()=>window.TopNotifier.showTooltip(t)))},invalidate:()=>{},setCount:()=>{},createNewEventsBox:()=>{},onBellClick:t=>{window.stManager.add(e,(()=>window.TopNotifier.onBellClick(t)))},onBellClickShow:(t,i,o)=>{window.stManager.add(e,(()=>window.TopNotifier.onBellClickShow(t,i,o)))},onBellClickHide:(t,i)=>{window.stManager.add(e,(()=>window.TopNotifier.onBellClickHide(t,i)))},onBellMouseDown:t=>{window.stManager.add(e,(()=>window.TopNotifier.onBellMouseDown(t)))},onBellMouseDownShow:(t,i,o)=>{window.stManager.add(e,(()=>window.TopNotifier.onBellMouseDownShow(t,i,o)))},onBellMouseDownHide:(t,i)=>{window.stManager.add(e,(()=>window.TopNotifier.onBellMouseDownHide(t,i)))},checkClick:(t,i)=>{window.stManager.add(e,(()=>window.TopNotifier.checkClick(t,i)))},showActionsMenu:t=>{window.stManager.add(e,(()=>window.TopNotifier.showActionsMenu(t)))},hideActionsMenu:t=>{window.stManager.add(e,(()=>window.TopNotifier.hideActionsMenu(t)))}}}},613253:(e,t,i)=>{"use strict";function o(){return window.ArticleLayer&&window.ArticleLayer.isShown()}i.d(t,{isArticleLayerOpen:()=>o})},577473:(e,t,i)=>{"use strict";i.d(t,{isPhotoeditor3Available:()=>r});var o=i(330882);function r(){return!o.browser.msie||parseInt(o.browser.version)>10}},772940:(e,t,i)=>{"use strict";i.d(t,{mentionClick:()=>l});var o=i(624042),r=i(969686),n=i(905366),a=i(800361),s=i(902642),c=i(613253);function l(e,t,i={}){e&&e.tt&&e.tt.hide&&e.tt.hide({fasthide:1});let l=e,d=!1;if((0,c.isArticleLayerOpen)()&&ArticleLayer.isStandalone()&&(d=!0),l.tagName&&"a"===l.tagName.toLowerCase()&&!l.getAttribute("target")&&!nav.baseBlank){const e=l.getAttribute("hrefparams");let t;e&&(i.params=(0,o.extend)(i.params||{},(0,r.fromQueryString)(e))),l=l.href||"",l=(0,n.stripVKSiteURLOrigin)(l),l.match(/#$/)||!(t=l.match(/^\/(.*?)(\?|#|$)/))?d=!0:(t=t[1],(t.indexOf(".php")>0||t.match(/^(doc\-?\d+_\d+|graffiti\d+|reg\d+|images|utils|\.js|js\/|\.css|css\/)/))&&(d=!0))}if(d){if(!!!(i&&i.params&&i.params._post&&i.params._post_click_type))return!0;e.setAttribute("data-change-location-with-post-away",1),l=e}const u=e.getAttribute("mention_id");if((0,a.isVideoStandalone)()&&u)l=`/@${u}`;else if((0,s.isFakeVideoStandalone)()&&window.cur?.vkvideo_link)return void(window.location.href=`${window.cur.vkvideo_link}@${u}`);return nav.go(l,t,i)}},741791:(e,t,i)=>{"use strict";i.d(t,{openArticleEditor:()=>a});var o=i(478752),r=i(270959),n=i(102088);function a(e,t,a,s={},c={}){if(cur.articleEditorLayer)return void cur.articleEditorLayer.openById(e,t);i._dG("initialFCCollapse","article");const l=[window.jsc("web/article_editor_layer.js"),"article.css","article_editor.css"];window.stManager.add(l,(()=>{}));const d=Object.assign({act:"open_editor",article_owner_id:e,article_id:t,from_post_convert:a?1:0,post_data_medias:a?a.medias.join(","):""},s);ajax.post("al_articles.php",d,{loader:!0,onFail:function(e){return c&&c.onFail&&c.onFail(e),"app"===c.from?c.errorHandler&&c.errorHandler("ServerError: Can't open article editor."):(0,r.showFastBox)((0,n.getLang)("global_error"),e),window.SAKIntegration&&window.SAKIntegration.isIntegrated&&window.SAKIntegration.sendMessage("error",{error:e}),!0},onDone:function(e,t,i,r,n,s){c&&c.onDone&&c.onDone(),window.WkView&&WkView.hide(),window.boxQueue&&boxQueue.hideAll(),a&&(s.postData=a),(0,o.extend)(window.cur.lang,s.lang),s.articleOwnerId?window.stManager.add(l,(function(){if(layers.fullhide=function(){cur.articleEditorLayer&&cur.articleEditorLayer.hide()},window.AuthorPage&&window.AuthorPage.isOpen()&&(cur.needAuthorPageHardBack=!0),cur.articleEditorLayer=new window.ArticleEditorLayer(e,t,i,r,s,n,(()=>delete cur.articleEditorLayer)),"app"===c.from){const e=e=>t=>{t.type=e,"publish"!==e&&"close"!==e||cur.articleEditorLayer&&cur.articleEditorLayer.hide(),c.eventHandler&&c.eventHandler(t)};cur.articleVkAppEditor={onSaveDraft:e("draft"),onPublish:e("publish"),onClose:e("close")}}})):nav.change({z:!1})}})}},85194:(e,t,i)=>{"use strict";i.d(t,{podcastStartFrom:()=>r});var o=i(972332);function r(e,t,r,n){return Promise.all([i.e(91498),i.e(89631),i.e(50560),i.e(62791),i.e(762),i.e(21529),i.e(79210),i.e(89887),i.e(22081),i.e(51915),i.e(18624),i.e(64007),i.e(36943),i.e(76573),i.e(98897),i.e(57859),i.e(70715),i.e(20089),i.e(6827),i.e("langs/web/podcasts_web")]).then(i.bind(i,525166)).then((function(i){i.default.goToTime(e,t,r,n)})),r&&(0,o.cancelEvent)(r)}},21548:(e,t,i)=>{"use strict";i.d(t,{sendBookmarkLink:()=>r});var o=i(246429);function r(e,t,i,r,n,a){ajax.post("al_bookmarks.php",{act:"bookmark_link",state:e?1:0,hash:t,url:i,img:r,title:n,ref:cur.module,track_code:a},{onDone:e=>{e&&!vk.widget&&(0,o.showDoneBox)(e)}})}},402419:(e,t,i)=>{"use strict";i.d(t,{sendImageStatusStat:()=>r});var o=i(101272);function r(e){e&&(0,o.saveStatlogEvents)({name:"image_status",value:e,keys:["popup_action"]})}},348112:(e,t,i)=>{"use strict";i.d(t,{setIconBookmarked:()=>n});var o=i(977202),r=i(784394);function n(e,t){e.dataset.state=String(t?0:1),e.innerHTML=t?(0,o.getIcon24FavoriteOutline)().icon:(0,r.getIcon24Favorite)().icon}},601008:(e,t,i)=>{"use strict";i.d(t,{setNewIconBookmarked:()=>s});var o=i(447931),r=i(702510),n=i(667309),a=i(880526);function s(e,t,i=16){e.dataset.state=String(t?0:1);const s={16:(0,o.getIcon16Bookmark)().icon,24:(0,r.getIcon24Bookmark)().icon}[i],c={16:(0,n.getIcon16BookmarkOutline)().icon,24:(0,a.getIcon24BookmarkOutline)().icon}[i];e.innerHTML=t?c:s}},779259:(e,t,i)=>{"use strict";i.d(t,{shareAudioPlaylist:()=>n});var o=i(270959),r=i(972332);function n(e,t,i,n){return(0,o.showBox)("like.php",{act:"publish_box",object:"audio_playlist"+t+"_"+i,list:n},{stat:[window.jsc("web/wide_dd.js"),"wide_dd.css",window.jsc("web/sharebox.js")],params:{shareButtonElement:e?.target??null}}),(0,r.cancelEvent)(e)}},862471:(e,t,i)=>{"use strict";i.d(t,{showAlbum:()=>n,showAlbums:()=>r});var o=i(972332);function r(e,t,i){return cur.viewAsBox?cur.viewAsBox():(0,o.checkEvent)(i)?void 0:(window.stManager.add([window.jsc("web/photoview.js"),"photoview.css"],(function(){Photoview.showAlbums(e,t)})),!1)}function n(e,t,i){return cur.viewAsBox?cur.viewAsBox():(0,o.checkEvent)(i)?void 0:(window.stManager.add([window.jsc("web/photoview.js"),"photoview.css"],(function(){Photoview.showAlbum(e,t)})),!1)}},346028:(e,t,i)=>{"use strict";i.d(t,{showApp:()=>n});var o=i(478752),r=i(414623);function n(e,t,i,n,a,s){s||(s={});let c=!1,l=(0,o.extend)({w:"app"+t},s);if(i=(0,o.intval)(i),n&&((0,o.isObject)(n)?l=(0,o.extend)(l,n):l.ref=n),s.layer&&(c=!0),(cur.apps&&cur.apps[t]||!i)&&!c){delete l.w;const i="app"+t+(a?"_"+a:""),o=nav.objLoc&&!nav.objLoc[1]&&nav.objLoc[0]===i;return nav.go("/"+i+nav.toStr(l),e,{nocur:o})}a&&(l.mid=a);const d={stat:[window.jsc("web/wkview.js"),"wkview.css",window.jsc("web/apps.js"),"apps.css"],...s?.wikiOptions};s.queue&&(d.queue=1);const u=cur.module;if(d.onHide=()=>{cur.module=u,s.onHide&&s.onHide()},s.urlHash&&(l.url_hash=s.urlHash),l["#"]){const e=l["#"];delete l["#"],d.onLoaded=()=>{nav.setLoc((0,o.extend)(nav.objLoc,{"#":e}))}}return d.isCloseForwardPush=s.isCloseForwardPush,(0,r.showWiki)(l,!1,e,d)}},396445:(e,t,i)=>{"use strict";i.d(t,{showDonutSubscribePopup:()=>l});var o=i(351118),r=i(972332),n=i(111476),a=i(153663),s=i(768035);function c(e,t,r){return(0,o.asyncImportLoader)((()=>Promise.all([i.e(2166),i.e("langs/web/showDonutSubscriptionModal")]).then(i.bind(i,255945))),3).then((({showDonutSubscriptionModal:i})=>{i(e,t,r)}))}function l(e,t,i,o={},l=""){if(!t&&!l)return;let d=!1;if("post_footer"===o.from||"post_likes"===o.from){const i=(0,a.getBaseDataFromPost)(e.target),{id:r}=(0,s.parseRawId)(i.postId),c=(0,a.resolveRefFromCur)();"post_footer"===o.from&&r&&n.FeedDonutPaymentStats.paymentFromFooter(r,t,i.trackCode,c),"post_likes"===o.from&&r&&n.FeedDonutPaymentStats.paymentFromLikes(r,t,i.trackCode,c)}const u={onAppClose:()=>{d&&(window.nav.objLoc.w&&(delete window.nav.objLoc.w,delete window.nav.objLoc.source,delete window.nav.objLoc.levelId,window.nav.setLoc(window.nav.objLoc)),window.nav.reload({noback:!0,force:["article_placeholder","im","video_placeholder"].includes(i)}))},levelId:o.levelId};"restore"===o.type?c("RevertModal",{ownerIdOrScreenName:t||l,onRevert:()=>{d=!0}},u):c("SubscribeModal",{ownerIdOrScreenName:t||l,source:i,levelId:o.levelId,sourceContentId:o.sourceContentId,sourceContentType:o.sourceContentType,screen:o.screen,onSubscription:e=>{d=!0,e||o?.onSuccessPayment?.()}},u),(0,r.cancelEvent)(e)}},36246:(e,t,i)=>{"use strict";function o(e,t,i,o){Page.showManyPhoto(e,t,i,o)}i.d(t,{showManyPhoto:()=>o})},267999:(e,t,i)=>{"use strict";i.d(t,{showNftInfo:()=>a});var o=i(246429),r=i(270959),n=i(972332);function a(e,t){return(0,o.curBox)()||(0,r.showBox)("al_nft.php",{act:"token_details_modal",tokenId:t},{params:{hideButtons:!0,noCloseButton:!0,titleTransparent:!0,bodyStyle:"padding: 16px 24px"}}),(0,n.cancelEvent)(e)}},254551:(e,t,i)=>{"use strict";i.d(t,{showPhoto:()=>d});var o=i(624042),r=i(246429),n=i(972332),a=i(683234),s=i(903687),c=i(672263),l=i(153663);function d(e,t,i={},u){if(i&&i.additional&&i.additional.open_pe&&i.temp&&(0,s.isImgBlurred)(i.temp)){const o=function(){d(e,t,i,u)};return void Page.showUnblurBox(i.temp.restrictionTitle,i.temp.restrictionText,i.temp.photoRaw,i.temp.unblurHash,o)}if(i&&i.additional&&i.additional.open_pe&&i.temp&&i.temp.restrictionGeo&&delete i.additional.open_pe,cur.viewAsBox)return cur.viewAsBox();if((0,n.checkEvent)(u)||cur._editMode&&cur._editMode(u))return;if((0,c.isUnauthorizedMediaLayerBoxAvailable)()&&!i.forceUnauth)return c.Unauthorized.showMoreBox(null,0,c.UnauthorizedSourceType.PHOTO,(()=>{i.preventPhotoShowingInLayer||d(e,t,{...i,forceUnauth:!0},u)})),!1;const _=[window.jsc("web/photoview.js"),"photoview.css",window.jsc("web/page.js"),"page.css"];if(i.img&&(i.showProgress=function(){(0,a.showProgress)(i.img)},i.hideProgress=function(){(0,a.hideProgress)(i.img)}),!e)return!1;let p=1;if((i?.additional?.open_pe||i?.noCache)&&(p=0),window.Photoview&&!1===Photoview.showPhoto(e,t,i)&&p)return!1;let m=!0;if(cur.pvOptions||(cur.pvOptions={}),cur.pvOptions.isLightMode=i.isLightMode,i.temp&&!(cur.pvNoTemp||{})[e]&&window.stManager.add(_,(function(){(0,o.extend)(cur,{pvCancelLoad:function(){m=!1},pvData:cur.pvData||{},pvOptions:cur.pvOptions||{}}),cur.pvData.temp=[i.temp],cur.pvOptions.temp_final=i.temp_final,cur.pvOptions.temp_summary=i.temp_summary,cur.pvOptions.queue=i.queue,i.onBeforeLayersPreparing&&(cur.pvOptions.onBeforeLayersPreparing=i.onBeforeLayersPreparing),Photoview.show("temp",0)})),(0,o.extend)(i,{onDone:function(o){Photoview.list(e,t,o),i.blog_text&&arguments[3]&&arguments[3][0]&&(arguments[3][0].album=i.blog_text),Photoview.loaded.apply(window,arguments),m&&("deleted"===o?Photoview.showDeleted.apply(window,arguments):Photoview.showPhoto(e,t,i,!0))},onHide:i.onHide,onChange:i.onChange,onFail:e=>((0,r.showDoneBox)(e),!0),stat:_,cache:p}),i.temp_final)return!1;let g="";nav.objLoc.dmcah&&(g=nav.objLoc.dmcah);const v=(0,l.getTrackCodeFromPost)(u?.target);return ajax.post("al_photos.php",(0,o.extend)({act:"show",gid:cur.gid,photo:e,list:t,dmcah:g,module:cur.module||"",list_info:i.list_info||null,track_code:v},i.additional),i),!1}},100538:(e,t,i)=>{"use strict";i.d(t,{showPhotoTags:()=>r});var o=i(972332);function r(e,t,i){return cur.viewAsBox?cur.viewAsBox():(0,o.checkEvent)(i)?void 0:(window.stManager.add([window.jsc("web/photoview.js"),"photoview.css"],(function(){Photoview.showTagged(e,t)})),!1)}},984247:(e,t,i)=>{"use strict";i.d(t,{showPodcast:()=>r});var o=i(972332);function r(e,t,r){if(!vk.widget)return async function(){const{ensureDIRootWebContainer:e}=await Promise.resolve().then(i.bind(i,319756)),t=e(),{WebLayers:o}=await Promise.resolve().then(i.bind(i,608814));return t.resolve(o)}().then((e=>{e.open("podcastEpisode",{layerParams:{rawId:t}})})),r&&(0,o.cancelEvent)(r)}},874669:(e,t,i)=>{"use strict";i.d(t,{showVideoTags:()=>r});var o=i(972332);function r(e,t,i){return cur.viewAsBox?cur.viewAsBox():(0,o.checkEvent)(i)?void 0:(window.stManager.add([window.jsc("web/video.js"),"video.css",window.jsc("web/photoview.js"),"photoview.css"],(function(){Photoview.showVideoTags(e,t)})),!1)}},414623:(e,t,i)=>{"use strict";i.d(t,{showWiki:()=>y});var o=i(478752),r=i(972332),n=i(153663),a=i(485950),s=i(287470),c=i(540462),l=i(12973),d=i(457872),u=i(694742),_=i(60512),p=i(608814),m=i(494675),g=i(955060),v=i(346368),f=i(785342);async function y(e,t,y,E={}){if((0,r.checkEvent)(y))return!0;const{pathname:A}=(0,m.parseLayerUrl)(e.w);let S=(0,_.matchLayer)({layerName:"w",layerPath:A,layersConfig:p.webLayersConfig,partConfigEnabled:c.partConfigEnabled,isToggleEnabled:c.isToggleEnabled});if(!S&&(0,c.partConfigEnabled)("frontend.resolve_screen_name_in_show_wiki")&&((0,r.cancelEvent)(y),S=await(0,v.resolveLayerScreenName)(A)),(0,a.isMiniAppSpaLayer)(S))return(0,a.handleSpaMiniAppLayer)(S,E,e),(0,r.cancelEvent)(y);if((0,s.isCommunityInfoSpaLayer)(S))return(0,s.handleOpenCommunityInfoSpaLayer)(S),(0,r.cancelEvent)(y);if(0!==cur.gid&&(e.gid=cur.gid),e.location_owner_id=cur.oid,window.wkcur&&wkcur.shown&&wkcur.wkRaw===e.w&&e.w&&!e.reply)return WkView.restoreLayer(E),(0,r.cancelEvent)(y);(window.wkcur&&wkcur.hideTitle||e.hide_title)&&(E.hide_title=e.hide_title=1);const b=E.stat||[window.jsc("web/wkview.js"),"wkview.css","wk.css",window.jsc("web/wk.js")];t&&b.push(window.jsc("web/wk_editor.js"),"wk_editor.css");const T=e.w&&"string"==typeof e.w&&e.w.startsWith("wall"),I={stat:b,loader:!E.noloader,onDone:function(t,i,r,a){window.Feed?.viewStats?.onWkLayer(e.postId),T&&l.feedOpenItemCollector.logEvent({source:E.clickSource??"news_item_click"},{track_code:E.trackCode},(0,n.resolveRefFromCur)()),WkView.show(t,i,(0,o.extend)(r,E),a,y)},onFail:function(e){return(0,o.isFunction)(E.onFail)?E.onFail(e):e?WkView.showError(e):void 0}};if(nav.objLoc.claim&&(e.claim=nav.objLoc.claim),nav.objLoc.tariff_act&&(e.tariff_act=nav.objLoc.tariff_act),nav.objLoc._post&&(e._post=nav.objLoc._post),nav.objLoc._post&&(e._post=nav.objLoc._post),e.w&&"/query"===e.w.substr(-6)){const t=(0,o.clone)(nav.objLoc);delete t[0],delete t.w,e.query=JSON.stringify(t)}let C,k;E.preload&&(0,o.extend)(I,E.preload),E.ads_params&&(C=E.ads_params,k=nav.getPostParams(y&&y.target),k.post_click_url&&(C._post_click_url=k.post_click_url));let P="";(0,c.partConfigEnabled)("feed_global_var_replaced_by_Feed")&&"feed"===cur.module&&window.Feed?P=window.Feed.getModuleRef():"feed"===cur.module&&window.feed?P=window.feed.getModuleRef():"public"===cur.module?P="club":"profile"===cur.module&&(P="profile"),E.customRef&&(P=E.customRef);let O="";const M=(0,o.clone)(nav.objLoc);if(M.dmcah&&(O=M.dmcah),"post_menu"===E?.clickSection&&E?.trackCode&&d.FeedPostMenuStats.postStat(E.trackCode,(0,n.resolveRefFromCur)()),window.performance?.mark?.(u.PERFORMANCE_MARK_SHOW_WIKI),!(0,c.partConfigEnabled)("web_spa_new_modals")||!S||!(0,f.isSpaEnabled)()&&T)ajax.post("wkview.php",(0,o.extend)({act:"show",loc:nav.objLoc[0].includes("market/category")||nav.objLoc[0].includes("market/section")||nav.objLoc[0].includes("market/compilation")?"market":nav.objLoc[0],is_znav:E.isZnav,dmcah:O,ref:P,track_code:E.trackCode},e,C,cur.getWkviewOpts&&cur.getWkviewOpts()),I);else if((0,c.partConfigEnabled)("feed_spa_layer_open_fix")&&(0,f.isSpaEnabled)()&&T){const{ensureDIRootWebContainer:t}=await Promise.resolve().then(i.bind(i,319756)),o=t();try{const t=/wall(-?\d+)_(\d+)/i.exec(e.w),[i,r]=t.slice(1);o.resolve(p.WebLayers).open("postModal",{layerParams:{ownerId:i,itemId:r,replyId:e.reply?`r${e.reply}`:void 0}})}catch(e){o.resolve(g.ErrorLogger).log(e)}}return(0,r.cancelEvent)(y)}},620692:(e,t,i)=>{"use strict";function o(e){const t=e.shift();if(window.Videoview&&window.Videoview.playerCallback[t])return window.Videoview.playerCallback[t].apply(window.Videoview,e);throw Error("Unregistered player callback: "+t)}i.d(t,{videoCallback:()=>o})},568775:(e,t,i)=>{"use strict";i.d(t,{audioShowActionTooltip:()=>_,bookmarkTooltip:()=>m,mentionOver:()=>p,mobileOnlineTip:()=>d,pageVerifiedTip:()=>u});var o=i(342879),r=i(384810),n=i(238270),a=i(478752),s=i(754866),c=i(902642),l=i(927848);function d(e,t){const i=t.asrtl?0:t.right?289:35,r=t.asrtl?" mobile_tt_asrtl":t.right?" mobile_tt_right":"";return(0,o.showTooltip)(e,{url:"al_login.php",params:{act:"mobile_tt",mid:t.mid,was:t.was},slide:15,ajxdt:200,showdt:200,hidedt:200,forcetoup:t.forcetoup,toup:!1,dir:"auto",asrtl:t.asrtl,appendParentCls:t.appendParentCls,shift:[i,8,7],className:"mobile_tt"+r})}function u(e,t){return(0,o.showTooltip)(e,{url:"/al_page.php",params:{act:"verified_tt",type:t.type,oid:t.oid,force_new_tab:t.forceNewTab?1:0,with_action:t.withAction},slide:15,ajxdt:200,showdt:200,hidedt:200,dir:"auto",shift:t.shift&&t.shift.length?t.shift:[95,5,7],className:"verified_tt",forcetodown:t.forceToDown,appendEl:t.appendEl})}function _(e,t,i){if(cur._addRestoreInProgress)return;const c=(0,s.gpeByClass)("_audio_row",e),d=(0,r.getAudioFromEl)(c,!0);if(!d)return;const u=(0,s.domData)(e,"action"),_=(0,n.getRowActionName)(u,d,c);if("snippet"===u){const t=l.AudioLongtapTooltip.ensure();if(t.isOpen)return;if(t.canShow())return void t.show(e)}const p={text:()=>_,black:1,shift:t||[7,4,0],needLeft:!0,forcetodown:i,noZIndex:!0};(0,a.each)(["_im_mess_stack","top_notify_wrap","_ape_audio_item","wk_history_audio_content"],(function(t,i){if((0,s.gpeByClass)(i,e))return p.appendParentCls=i,!1})),(0,s.gpeByClass)("_im_mess_stack",e)&&(p.shift=[7,10,0],p.noZIndex=!0);const m=e.closest(".CatalogBlock");m&&(p.appendEl=m),(0,o.showTooltip)(e,p)}function p(e,t={}){(0,c.isFakeVideoStandalone)()||(0,o.showTooltip)(e,{url:"al_wall.php",params:{act:"mention_tt",mention:e.getAttribute("mention_id"),from:"wall"},shift:t.shift||[52,7,7],hidedt:t.hidedt||500,showdt:500,needLeft:t.needLeft,slide:15,checkLeft:!0,reverseOffset:t.reverseOffset||112,dir:"auto",appendEl:t.appendEl||(0,s.domClosest)("im-page-history-w",e)||(0,s.domClosest)("rb_box_wrap",e)||(0,s.domClosest)("wk_cont",e)||(0,s.domClosest)("box_layout",e)||(0,s.domClosest)("scroll_fix_wrap",e)})}function m(e){let t="";(0,s.gpeByClass)("_im_mess_stack",e)?t="_im_mess_stack":(0,s.gpeByClass)("wall_text",e)&&(t="scroll_fix_wrap"),(0,o.showTooltip)(e,{className:"bookmarks_tt ",shift:[32,8],text:()=>"1"===(0,s.domData)(e,"state")?(0,s.domData)(e,"remove"):(0,s.domData)(e,"add"),black:1,appendParentCls:t})}},939646:(e,t,i)=>{"use strict";i.d(t,{Fx:()=>a,animate:()=>s,animateCount:()=>A,cubicBezier:()=>c,fadeIn:()=>g,fadeOut:()=>v,fadeTo:()=>l,fadeToggle:()=>f,genFx:()=>u,getColor:()=>E,getRGB:()=>y,slideDown:()=>_,slideToggle:()=>m,slideUp:()=>p});var o=i(478752),r=i(754866),n=i(330882);const a={Transitions:{linear:(e,t,i,o)=>i*e/o+t,sineInOut:(e,t,i,o)=>-i/2*(Math.cos(Math.PI*e/o)-1)+t,halfSine:(e,t,i,o)=>i*Math.sin(Math.PI*(e/o)/2)+t,easeOutBack:function(e,t,i,o){const r=1.70158;return i*((e=e/o-1)*e*((r+1)*e+r)+1)+t},easeInCirc:(e,t,i,o)=>-i*(Math.sqrt(1-(e/=o)*e)-1)+t,easeOutCirc:(e,t,i,o)=>i*Math.sqrt(1-(e=e/o-1)*e)+t,easeInQuint:(e,t,i,o)=>i*(e/=o)*e*e*e*e+t,easeOutQuint:(e,t,i,o)=>i*((e=e/o-1)*e*e*e*e+1)+t,easeOutCubic:(e,t,i,o)=>i*((e=e/o-1)*e*e+1)+t,swiftOut:(e,t,i,o)=>i*c(.4,0,.22,1,e/o,4/o)+t},Attrs:[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity","left","top"]],Timers:[],TimerId:null};function s(e,t,i,a){if(!(e=(0,r.ge)(e)))return;const s=(0,o.isFunction)(a)?a:()=>{},c=(0,o.extend)({},"object"==typeof i?i:{duration:i,onComplete:s}),l={},u={},_=(0,r.isVisible)(e);let p;c.orig={},(t=(0,o.clone)(t)).discrete&&(c.discrete=1,delete t.discrete),n.browser.iphone&&(c.duration=0);let m=(0,r.data)(e,"tween"),g=_?"hide":"show";m&&m.isTweening&&(c.orig=(0,o.extend)(c.orig,m.options.orig),m.stop(!1),m.options.show?g="hide":m.options.hide&&(g="show"));for(const i in t)if(t.hasOwnProperty(i)){if(!m&&("show"===t[i]&&_||"hide"===t[i]&&!_))return c.onComplete.call(this,e);if("height"!==i&&"width"!==i||!e.style||(t.overflow||(void 0===c.orig.overflow&&(c.orig.overflow=(0,r.getStyle)(e,"overflow")),e.style.overflow="hidden"),(0,r.hasClass)(e,"inl_bl")||"TD"===e.tagName||(e.style.display="block")),/show|hide|toggle/.test(t[i]))if("toggle"===t[i]&&(t[i]=g),"show"===t[i]){p=0,c.show=!0,void 0===c.orig[i]&&(c.orig[i]=(0,r.getStyle)(e,i,!1)||"",(0,r.setStyle)(e,i,0));const o=e.style[i];e.style[i]=c.orig[i],t[i]=parseFloat((0,r.getStyle)(e,i,!0)),e.style[i]=o,"height"===i&&n.browser.msie&&!t.overflow&&(e.style.overflow="hidden")}else void 0===c.orig[i]&&(c.orig[i]=(0,r.getStyle)(e,i,!1)||""),c.hide=!0,t[i]=0}return c.show&&!_&&(0,r.show)(e),m=new d(e,c),(0,o.each)(t,(function(t,i){if(/backgroundColor|borderBottomColor|borderLeftColor|borderRightColor|borderTopColor|color|borderColor|outlineColor/.test(t)){if(p=E(e,"borderColor"===t?"borderTopColor":t),i=y(i),void 0===p)return}else{const o=i.toString().match(/^([+-]=)?([\d+-.]+)(.*)$/);o&&(i=parseFloat(o[2]),o[1]&&(i=("-="==o[1]?-1:1)*i+i)),p=m.cur(t,!0),0!=p||"width"!==t&&"height"!==t||(p=1),"opacity"===t&&i>0&&!_&&((0,r.setStyle)(e,"opacity",0),p=0,(0,r.show)(e))}(p!=i||(0,o.isArray)(p)&&p.join(",")===i.join(","))&&(l[t]=p,u[t]=i)})),m.start(l,u),(0,r.data)(e,"tween",m),m}function c(e,t,i,o,r,n){const a=function(t){const o=1-t;return 3*o*o*t*e+3*o*t*t*i+t*t*t},s=function(e){const i=1-e;return 3*i*i*e*t+3*i*e*e*o+e*e*e},c=function(t){const o=1-t;return 3*(2*(t-1)*t+o*o)*e+3*(-t*t*t+2*o*t)*i},l=r;let d;{let e;for(d=l,e=0;e<8;e++){const e=a(d)-l;if(Math.abs(e)<n)return s(d);const t=c(d);if(Math.abs(t)<1e-6)break;d-=e/t}}let u=0,_=1;if(d=l,d<u)return s(u);if(d>_)return s(_);for(;u<_;){const e=a(d);if(Math.abs(e-l)<n)return s(d);l>e?u=d:_=d,d=.5*(_-u)+u}return s(d)}function l(e,t,i,o){return s(e,{opacity:i},t,o)}class d{start(e,t){this.from=e,this.to=t,this.time=(0,o.vkNow)(),this.isTweening=!0;const i=e=>this.step(e);return i.el=this.el,i()&&a.Timers.push(i)&&!a.TimerId&&(a.TimerId=setInterval((function(){const e=a.Timers;let t=e.length;for(let i=0;i<t;i++)e[i]()||(e.splice(i--,1),t--);t||(clearInterval(a.TimerId),a.TimerId=null)}),13)),this}stop(e){const t=a.Timers;for(let i=t.length-1;i>=0;i--)t[i].el===this.el&&(e&&t[i](!0),t.splice(i,1));this.isTweening=!1}step(e){const t=(0,o.vkNow)();if(!e&&t<this.time+this.options.duration){this.cTime=t-this.time,this.now={};for(const e in this.to)if((0,o.isArray)(this.to[e])){const t=[];for(let i=0;i<3;i++){if(void 0===this.from[e]||void 0===this.to[e])return!1;t.push(Math.min(parseInt(this.compute(this.from[e][i],this.to[e][i])),255))}this.now[e]=t}else this.now[e]=this.compute(this.from[e],this.to[e]),this.options.discrete&&(this.now[e]=(0,o.intval)(this.now[e]));return this.update(),!0}return setTimeout(this.options.onComplete.bind(this,this.el),10),this.now=(0,o.extend)(this.to,this.options.orig),this.update(),this.options.hide&&(0,r.hide)(this.el),this.isTweening=!1,!1}compute(e,t){const i=t-e;return this.options.transition(this.cTime,e,i,this.options.duration)}update(){this.options.onStep(this.now);for(const e in this.now)(0,o.isArray)(this.now[e])?(0,r.setStyle)(this.el,e,"rgb("+this.now[e].join(",")+")"):void 0!==this.el[e]?this.el[e]=this.now[e]:(0,r.setStyle)(this.el,e,this.now[e])}cur(e,t){return null==this.el[e]||this.el.style&&null!=this.el.style[e]?parseFloat((0,r.getStyle)(this.el,e,t))||0:this.el[e]}constructor(e,t,i){this.el=(0,r.ge)(e),this.name=i,this.options=(0,o.extend)({onStep:()=>{},onComplete:()=>{},transition:t.transition||a.Transitions.sineInOut,duration:500},t||{})}}function u(e,t){const i={};return(0,o.each)(a.Attrs.concat.apply([],a.Attrs.slice(0,t)),(function(){i[this]=e})),i}a.Base=d;const _=(e,t,i)=>s(e,u("show",1),t,i),p=(e,t,i)=>s(e,u("hide",1),t,i),m=(e,t,i)=>s(e,u("toggle",1),t,i),g=(e,t,i)=>s(e,{opacity:"show"},t,i),v=(e,t,i)=>s(e,{opacity:"hide"},t,i),f=(e,t,i)=>s(e,{opacity:"toggle"},t,i);function y(e){let t;return e&&(0,o.isArray)(e)&&3==e.length?e:(t=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e))?[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]:(t=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(e))?[2.55*parseFloat(t[1]),2.55*parseFloat(t[2]),2.55*parseFloat(t[3])]:(t=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e))?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:(t=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(e))?[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]:void 0}function E(e,t){let i;do{if(i=(0,r.getStyle)(e,t),0===i.indexOf("rgba")&&(i=""),""!=i&&"transparent"!==i||"body"===e.nodeName.toLowerCase())break;t="backgroundColor",e=e.parentNode}while(e);return y(i)}function A(e,t,i={}){if(e=(0,r.ge)(e),t=i.str?(0,o.trim)(t.toString())||"":(0,o.positive)(t),!e)return;if(n.browser.mobile&&!n.browser.safari_mobile&&!n.browser.android)return void(0,r.val)(e,t||"");let c=(0,r.data)(e,"curCount");const l=(0,r.data)(e,"nextCount");if("number"==typeof l||i.str&&"string"==typeof l)return void(t!=l&&(0,r.data)(e,"nextCount",t));if("number"==typeof c||i.str&&"string"==typeof c)return void(t!==c&&(0,r.data)(e,"nextCount",t));if(c=i.str?(0,o.trim)((0,r.val)(e).toString())||"":(0,o.positive)((0,r.val)(e)),"auto"===i.str&&(i.str=!c.match(/^\d+$/)||!t.match(/^\d+$/),i.str||(c=(0,o.positive)(c),t=(0,o.positive)(t))),c===t)return;(0,r.data)(e,"curCount",t);const d=i.str?c.length===t.length?c<t:c.length<t.length:c<t,u=(d?t:c).toString();let _,p,m=(d?c:t).toString(),g=[],v=[];for(i.str||(m=new Array(u.length-m.length+1).join("0")+m),_=0,p=u.length;_<p;_++){const e=u.charAt(_);if(e!==m.charAt(_))break;g.push(e)}let f=u.substr(_),y=m.substr(_);if(i.str){for(_=f.length;_>0;_--){const e=f.charAt(_);if(e!==y.charAt(_))break;v.unshift(e)}v.length&&(f=f.substr(0,_+1),y=y.substr(0,_+1))}g=g.join("").replace(/\s$/,"&nbsp;"),v=v.join("").replace(/^\s/,"&nbsp;"),(0,o.trim)((0,r.val)(e))||i.noSpaceIfEmpty||(0,r.val)(e,"&nbsp;");const E=e.clientHeight||e.offsetHeight;(0,r.val)(e,'<div class="counter_wrap inl_bl"></div>');const S=e.firstChild;let b,T,I,C,k=!0;g.length&&S.appendChild(b=(0,r.ce)("div",{className:"counter_const inl_bl",innerHTML:g})),g.length||i.allowZero||(y=y.replace(/^0+/,"")),y&&("0"!==y||i.allowZero||g.length)||(y=i.noSpaceIfEmpty?"":"&nbsp;",k=!!g.length),S.appendChild(I=(0,r.ce)("div",{className:"counter_anim_wrap inl_bl"})),I.appendChild(C=(0,r.ce)("div",{className:"counter_anim "+(d?"counter_anim_inc":"counter_anim_dec"),innerHTML:`<div class="counter_anim_big"><span class="counter_anim_big_c">${f}</span></div>`+(k?`<div class="counter_anim_small"><span class="counter_anim_small_c">${y}</span></div>`:"")},k?{marginTop:d?-E:0}:{right:0})),i.str&&(0,r.setStyle)(C,{textAlign:"right",right:0});const P=(0,r.getSize)((0,r.geByClass1)("counter_anim_big_c",C,"span"))[0];let O=k?"&nbsp;"===y?P:(0,r.getSize)((0,r.geByClass1)("counter_anim_small_c",C,"span"))[0]:0;!y&&i.noSpaceIfEmpty&&(O=0),v.length&&S.appendChild(T=(0,r.ce)("div",{className:"counter_const inl_bl",innerHTML:v})),i.noWrapWidth||(0,r.setStyle)(S,{width:(b&&(0,r.getSize)(b)[0]||0)+(T&&(0,r.getSize)(T)[0]||0)+P+0}),void 0===n.browser.csstransitions&&(n.browser.csstransitions=n.browser.chrome&&n.browser.version>=9||n.browser.mozilla&&n.browser.version>=4||n.browser.opera&&n.browser.version>=10.5||n.browser.safari&&n.browser.version>=3.2||n.browser.safari_mobile||n.browser.android);const M=n.browser.csstransitions;(0,r.setStyle)(I,{width:d?O:P});const L=function(){(0,r.val)(e,t||(i.noSpaceIfEmpty?"":" "));const o=(0,r.data)(e,"nextCount");(0,r.data)(e,"curCount",!1),(0,r.data)(e,"nextCount",!1),("number"==typeof o||i.str&&"string"==typeof o)&&setTimeout(A.pbind(e,o,i),0),i.onDone&&i.onDone()},D=k?{marginTop:d?0:-E}:{marginRight:d?-O:0};M?((0,r.getStyle)(I,"width"),(0,r.addClass)(I,"counter_css_anim_wrap"),P!==O&&(0,r.setStyle)(I,{width:d?P:O}),k&&(0,r.setStyle)(C,D),setTimeout(L,300),i.fadeMode&&((0,r.setStyle)((0,r.geByClass1)("counter_anim_big",e),"opacity",1),(0,r.setStyle)((0,r.geByClass1)("counter_anim_small",e),"opacity",0))):(P!==O&&s(I,{width:d?P:O},{duration:100}),k?s(C,D,{duration:300,transition:a.Transitions.easeOutCirc,onComplete:L}):setTimeout(L,300))}},265167:(e,t,i)=>{"use strict";i.d(t,{handleGlobalEsc:()=>b,onCtrlEnter:()=>S,onDocumentClick:()=>E,onEnter:()=>A});var o=i(31580),r=i(905366),n=i(636576),a=i(101148),s=i(540462),c=i(754866),l=i(972332),d=i(478752),u=i(983567),_=i(330882),p=i(469004),m=i(633009),g=i(969686),v=i(701563),f=i(298077),y=i(800361);function E(e){if((0,s.partConfigEnabled)("ignore_navgo_if_prevented")&&e.defaultPrevented)return;if((0,l.checkEvent)(e))return!0;if(p.ls.set("last_reloaded",[]),cur.onMouseClick&&cur.onMouseClick(e))return;if(!(e=window.event||e.originalEvent||e))return!0;e.target?.dataset?.donutLogEvent&&(0,v.logDonutEvent)(e.target.dataset.donutLogEvent);let t,i=8,u=e.target||e.srcElement;for(;u&&u!==document.body&&"A"!==u.tagName&&i--;)u=u.parentNode;if(!u||"A"!==u?.tagName)return!0;const _=(0,y.isVideoStandalone)()?Boolean(u.getAttribute("onclick")||u.getAttribute("onmousedown")):u.onclick||u.onmousedown;if((0,s.partConfigEnabled)("react_global_nav_handling")?Boolean(u.getAttribute("onclick")||u.getAttribute("onmousedown")):!(0,o.isAllowLinkOnclickWebForLink)(u)&&_)return!0;let m=u.href;const E=u.getAttribute("target")||nav.baseBlank;if(m&&E){if((0,c.domClosest)("bookmarks_row_type_link",u)){const e=(nav.fromStr(m)||{}).to;(0,n.statlogsValueEvent)("bookmarks_product_analytics",{link_url:e,time:(0,a.getServerTime)()})}return!0}m=(0,r.stripVKSiteURLOrigin)(m,(0,s.partConfigEnabled)("force_check_vkvideo_full_hostname_domains"));const A={};if((t=m.match(/^\/(.+?)#[\!\/](.+?)$/))&&!t[1].match(/^app(\d+)/)&&!(0,s.partConfigEnabled)("mini_apps_navgo_hash_fix")){const e=m;A.permanent=t[1],m="/"+t[2],(0,s.partConfigEnabled)("mini_apps_navgo_hash_stats")&&(0,f.logError)("Legacy hash navigation",{breadcrumb:{data:{oldHref:e,newHref:`${m}?_permanent=${A.permanent}`}}})}const S=!!(u.getAttribute&&u.getAttribute("data-post-click-type")&&u.getAttribute("data-post-id"));if(m.match(/#$/)&&!S)return!0;const b=(0,c.domData)(u,"post-id");let T;b&&(A.postId=b);let I=m,C=null;const k=m.match(/^\/(.*?)(\?|#|$)/);if(k)C=k[1];else{if(u.hostname)T=u.hostname,C=u.pathname+u.search;else{const e=/^([^:\/]+)?(?::(\d+))?(\/?[^#]*)(#?.*)$/i.exec(m);if(!e)return!0;T=e[1],C=e[3]||"/"}if(!T||!S)return!0;u.setAttribute("data-change-location-with-post-away",1),I=u}if((0,s.partConfigEnabled)("fix_jobs_link")){if(["add_community_app","jobs"].includes(C))return(0,c.attr)(u,"target","_blank"),!0}else if("add_community_app"===C)return(0,c.attr)(u,"target","_blank"),!0;if(/^s\/v(\d+)\/doc\/[A-Za-z0-9_\-]+$/.test(C))return!0;if(C.indexOf(".php")>0||C.match(/^(doc\-?\d+_\d+|graffiti\d+|reg\d+|images\/|utils\/|\.js|js\/|\.css|css\/|source\b)/)){if(!S)return!0;u.setAttribute("data-change-location-with-post-away",1),I=u}const P=u.getAttribute("hrefparams");P&&(A.params=(0,d.extend)(A.params||{},(0,g.fromQueryString)(P)));try{return nav.go(I,e,(0,d.extend)({},A,{throwErrorOnDisabledPath:!0})),(0,l.cancelEvent)(e)}catch(e){return!0}}function A(e,t){(t=t||window.event).keyCode===l.KEY.ENTER&&(e(),(0,l.cancelEvent)(t))}function S(e,t){(10===(e=e||window.event).keyCode||13===e.keyCode&&(e.ctrlKey||e.metaKey&&_.browser.mac))&&(t(),(0,l.cancelEvent)(e))}function b(e){if(i._dG("_wf",1),e.keyCode===l.KEY.ESC&&boxQueue.count()&&!cur._noEscHide)return boxQueue.hideLast(),-1;if(e.keyCode===l.KEY.ESC&&window.articleCloseImageFullSize&&window.articleCloseImageFullSize())return(0,l.cancelEvent)(e);if(e.keyCode===l.KEY.ESC&&window.isArticleLayerOpen&&window.isArticleLayerOpen())return window.ArticleLayer.close(!0),(0,l.cancelEvent)(e);if(e.keyCode===l.KEY.ESC&&window.AuthorPage&&!cur.articleEditorLayer)return window.AuthorPage.close(),(0,l.cancelEvent)(e);if(e.keyCode===l.KEY.ESC&&(0,s.partConfigEnabled)("vkm_reforged_in_vkcom")&&"im"===window.cur?.module)return void((0,m.getCancelStack)().length&&((0,m.cancelStackPop)(),(0,l.cancelEvent)(e)));if(e.keyCode===l.KEY.ESC)return(0,m.cancelStackPop)(),(0,l.cancelEvent)(e);const t=[176,177,178,179];let o=!1;window.audioPlayer&&(t.push(l.KEY.LEFT),t.push(l.KEY.RIGHT)),(0,d.each)(t,(function(t,i){if(e.keyCode===i)return o=!0,!1})),o&&(0,u.getAudioPlayer)().onMediaKeyPressedEvent(e)}},605565:(e,t,i)=>{"use strict";i.d(t,{initDomEventsJs:()=>r});var o=i(972332);function r(){i._dG("KEY",o.KEY),i._dG("addEvent",o.addEvent),i._dG("removeEvent",o.removeEvent),i._dG("triggerEvent",o.triggerEvent),i._dG("cancelEvent",o.cancelEvent),i._dG("stopEvent",o.stopEvent),i._dG("normEvent",o.normEvent),i._dG("checkEvent",o.checkEvent),i._dG("checkKeyboardEvent",o.checkKeyboardEvent),i._dG("checkOver",o.checkOver)}},749284:(e,t,i)=>{"use strict";i.d(t,{isInputActive:()=>l,placeholderInit:()=>_,placeholderSetup:()=>u});var o=i(754866),r=i(972332),n=i(939646),a=i(478752),s=i(330882),c=i(342018);function l(){return document.activeElement&&((0,o.attr)(document.activeElement,"contenteditable")||"INPUT"===document.activeElement.tagName||"textarea"===document.activeElement.tagName)}function d(e,t={},i,r){const a=e.phshown,c=e.phcont,{back:l,editable:d,hideBackAfter:u,timeout:_,phColor:p="#8C8E91",activeColor:m="#C0C8D0"}=t,g=_||0===_?_:100,v=t.period||200;let f;if(f=d?(void 0!==e.textContent?e.textContent:e.innerText)||(0,o.geByTag)("img",e).length:e.value,a&&(l&&f||!l&&(i&&!i.type||f))?((0,o.hide)(c),e.phshown=!1):a||f||!l&&!r||((0,o.show)(c),e.phshown=!0,s.browser.opera&&r&&(e.setAttribute("placeholder",""),e.removeAttribute("placeholder",""))),l&&!f){if(i&&!i.type){const t=u?o.hide.pbind(c.firstChild.firstChild):null;clearTimeout(e.phanim),e.phanim=setTimeout((function(){(0,n.animate)(c.firstChild.firstChild,{color:m},v,t)}),g)}r&&(clearTimeout(e.phanim),u&&(0,o.show)(c.firstChild.firstChild),e.phanim=setTimeout((function(){(0,n.animate)(c.firstChild.firstChild,{color:p},v)}),g))}}function u(e,t){const i=(0,o.ge)(e);if(!i)return!1;const n=t?(0,a.clone)(t):{};if(i.phevents&&!n.reload)return;const c=i.getAttribute?i.getAttribute("placeholder"):i.placeholder;if(!c)return;i.removeAttribute("placeholder");let l={},u=!1;const _=["Top","Bottom","Left","Right"];if(n.pad)l=n.pad;else{if(n.fast){for(let e=0;e<4;e++)l["padding"+_[e]]=3,l["margin"+_[e]]=0,l["border"+_[e]+"Width"]=1;(0,a.extend)(l,n.styles||{})}else{const e=[];for(let t=0;t<4;t++)e.push("margin"+_[t]),e.push("padding"+_[t]),e.push("border"+_[t]+"Width");l=(0,o.getStyle)(i,e)}for(let e=0;e<4;e++){const t="margin"+_[e],i="border"+_[e]+"Width";l[t]=(0,a.intval)(l[t])+(0,a.intval)(l[i])+"px",delete l[i]}}if(n.reload){const e=i.previousSibling;e&&(0,o.hasClass)(e,"input_back_wrap")&&(0,o.re)(e)}const p=n.big?" big":"",m=(0,o.getSize)(i)[0]-20,g=i.phcont=i.parentNode.insertBefore((0,o.ce)("div",{className:"input_back_wrap no_select",innerHTML:`<div class="input_back"><div class="input_back_content${p}" style="width: ${m}px;">${c}</div></div>`}),i),v=(0,o.domFC)(g);(0,o.setStyle)(v,l);const f=d.pbind(i,n),y=s.browser.mobile?f:(e,t)=>setTimeout(f.pbind(e,t),0);s.browser.msie&&s.browser.version<8&&(0,o.setStyle)(v,{marginTop:1}),i.phonfocus=function(e){u||(i.focused=!0,cur.__focused=i,!0===e&&((0,o.setStyle)(i,{backgroundColor:"#FFF"}),(0,o.hide)(v)),y(!0,!1))},i.phonblur=function(){u||(cur.__focused=i.focused=!1,(0,o.show)(v),y(!1,!0))},i.phshown=!0,i.phanim=null,(i.value||n.editable&&((void 0!==i.textContent?i.textContent:i.innerText)||(0,o.geByTag)("img",i).length))&&(i.phshown=!1,(0,o.hide)(g)),s.browser.opera_mobile||((0,r.addEvent)(g,"focus click",(function(e){u||(n.editableFocus?(setTimeout(n.editableFocus.pbind(i),0),i.phonfocus()):(i.blur(),i.focus()))})),(0,r.addEvent)(i,"focus"+(n.editable?" click":""),i.phonfocus),(0,r.addEvent)(i,"keydown paste cut input",y)),(0,r.addEvent)(i,"blur",i.phonblur),i.check=y,i.getValue=()=>n.editable?i.innerHTML:i.value,i.setPlaceholder=e=>(0,o.geByClass1)("input_back_content",g).textContent=e,i.setDisabled=e=>u=e,i.setValue=function(e){n.editable?i.innerHTML=e:i.value=e,d(i,n)},i.phevents=!0,i.phonsize=function(){},n.global||n.reload||(cur.__phinputs||(cur.__phinputs=[],cur.destroy.push(function(e){for(let t=0,i=e.length;t<i;t++)(0,o.removeData)(e[t])}.pbind(cur.__phinputs))),cur.__phinputs.push(i))}function _(e,t){const i=(0,o.ge)(e);if(!i)return!1;const n=t?(0,a.clone)(t):{},l=void 0===(0,o.ce)("input").placeholder||i&&i.getAttribute&&i.getAttribute("contenteditable");if(i.phevents&&!n.reload)return;const d=i.getAttribute?i.getAttribute("placeholder"):i.placeholder;if(!d)return;if(i.getValue=function(){return n.editable?i.innerHTML:i.value},i.setValue=function(e){n.editable?i.innerHTML=e:i.value=e,l&&u(i,n)},i.phonfocus=function(){},i.phonblur=function(){},!l)return;function u(e,t={}){const i=e.phshown,r=e.phcont;let n;t.editable?(n=void 0!==e.textContent?e.textContent:e.innerText,n&&s.browser.opera&&n.match(/^[ ]+$/)&&(n=""),n||(n=(0,o.geByTag)("img",e).length>0),n||(n=(0,o.geByTag)("br",e).length>1),n||(n=(0,o.geByTag)("p",e).length>1)):n=e.value,i&&n?((0,o.hide)(r),e.phshown=!1):i||n||((0,o.show)(r),e.phshown=!0)}if(i.removeAttribute("placeholder"),n.reload){const e=(0,o.domNS)(i);e&&(0,o.hasClass)(e,"placeholder")&&(0,o.re)(e)}const _=i.phcont=(0,o.domInsertAfter)((0,o.ce)("div",{className:"placeholder",innerHTML:'<div class="ph_input"><label class="ph_content" for="'+i.id+'">'+d+"</label></div>"}),i),p=u.pbind(i,n),m=s.browser.mobile?p:(e,t)=>setTimeout(p.pbind(e,t),0);i.phonfocus=function(){i.focused=!0,cur.__focused=i,m(!0,!1)},i.phonblur=function(){cur.__focused=i.focused=!1,m(!1,!0)},i.phshown=!0,(i.value||n.editable&&((void 0!==i.textContent?i.textContent:i.innerText)||(0,o.geByTag)("img",i).length))&&(i.phshown=!1,(0,o.hide)(_)),s.browser.opera_mobile||((0,r.addEvent)(_,"focus click contextmenu",(function(e){n.editableFocus?(setTimeout(n.editableFocus.pbind(i),0),"contextmenu"===e.type&&s.browser.msie&&n.editableFocus(i),i.phonfocus()):(i.blur(),i.focus())})),(0,r.addEvent)(i,"focus"+(n.editable?" click":""),i.phonfocus),(0,r.addEvent)(i,"keydown paste cut input",m)),(0,r.addEvent)(i,"blur",i.phonblur),i.check=m,i.phevents=!0,i.phonsize=function(){},n.global||n.reload||(cur.__phinputs||(cur.__phinputs=[],(0,c.pushNavDestroy)((()=>{if(cur.__phinputs)for(let e=0,t=cur.__phinputs.length;e<t;++e)(0,o.removeData)(cur.__phinputs[e])}))),cur.__phinputs.push(i))}},102088:(e,t,i)=>{"use strict";i.d(t,{addLangKeys:()=>d,curLang:()=>S,getBigDateNew:()=>E,getDateText:()=>y,getLang:()=>o.getLang,getShortDate:()=>m,getShortDateOrTime:()=>v,getShortDateWithTime:()=>g,getSmDate:()=>A,langDate:()=>p,langLink:()=>_,langNumeric:()=>o.langNumeric,langSex:()=>o.langSex,langStr:()=>l,langTag:()=>u,langWordNumeric:()=>f,parseCyr:()=>s,parseLatKeys:()=>c,parseLatin:()=>a});var o=i(768602),r=i(478752),n=i(351118);function a(e){const t=["yo","zh","kh","ts","ch","sch","shch","sh","eh","yu","ya","YO","ZH","KH","TS","CH","SCH","SHCH","SH","EH","YU","YA","'"],i=["ё","ж","х","ц","ч","щ","щ","ш","э","ю","я","Ё","Ж","Х","Ц","Ч","Щ","Щ","Ш","Э","Ю","Я","ь"];let o=e;for(let e=0,r=t.length;e<r;e++)o=o.split(t[e]).join(i[e]);const r="abvgdezijklmnoprstufhcyABVGDEZIJKLMNOPRSTUFHCYёЁ";for(let e=0,t=48;e<t;e++)o=o.split(r.charAt(e)).join("абвгдезийклмнопрстуфхцыАБВГДЕЗИЙКЛМНОПРСТУФХЦЫеЕ".charAt(e));return o===e?null:o}function s(e){const t=["yo","zh","kh","ts","ch","sch","shch","sh","eh","yu","ya","YO","ZH","KH","TS","CH","SCH","SHCH","SH","EH","YU","YA","'"],i=["ё","ж","х","ц","ч","щ","щ","ш","э","ю","я","Ё","Ж","Х","Ц","Ч","Щ","Щ","Ш","Э","Ю","Я","ь"],o="абвгдезийклмнопрстуфхцыАБВГДЕЗИЙКЛМНОПРСТУФХЦЫеЕ";let r=e;for(let e=0;e<i.length;e++)r=r.split(i[e]).join(t[e]);for(let e=0;e<48;e++)r=r.split(o.charAt(e)).join("abvgdezijklmnoprstufhcyABVGDEZIJKLMNOPRSTUFHCYёЁ".charAt(e));return r===e?null:r}function c(e){const t="qwertyuiop[]asdfghjkl;'zxcvbnm,./`";let i=e;for(let e=0;e<34;e++)i=i.split(t.charAt(e)).join("йцукенгшщзхъфывапролджэячсмитьбю.ё".charAt(e));return i==e?null:i}function l(e){const t=arguments,i=t.length;let o=e+"";for(let e=1;e<i;e+=2){const i="%"===t[e][0]?t[e]:"{"+t[e]+"}";o=o.replace(i,t[e+1])}return o}function d(e,t=!1){let i;i="object"==typeof t?t:t?window:window.cur,i.lang?(0,r.extend)(i.lang,e):i.lang=e}function u(e,t,i,o="tag"){let r=i;return r=r.replace(`{${o}}`,e),r=r.replace(`{/${o}}`,t),r}function _(e,t,i="link",o=""){return u(`<a ${!1!==e?`href="${e}"`:""} ${o}>`,"</a>",t,i)}function p(e,t,i,o,a,s){let c;if(s||(s=""),(0,r.isArray)(t)||(t=["",t,t,t,t]),"number"==typeof e||"string"==typeof e?(e>2147483646e3&&(e=0),e+=i,c=new Date(e)):c=e,a)t=t[1];else{let e="";e=(0,n.isDateToday)(c)?t[3]:(0,n.isDateYesterday)(c)?t[2]:(0,n.isDateToday)(c)?t[4]:t[1],!e&&t[1]&&(e=t[1]),t=e}const l={hours:c.getHours(),minutes:c.getMinutes(),seconds:c.getSeconds(),day:c.getDate(),month:c.getMonth()+1,year:c.getFullYear()};let d="";switch(3===vk.lang&&(d=c.getHours()>11?"pm":"am",l.hours=c.getHours()%12==0?12:c.getHours()%12),vk.lang){case 1:switch(c.getHours()){case 11:t=t.replace(" о "," об ");break;case 0:t=t.replace(" о "," в ")}break;case 3:!(0,n.isDateToday)(c)||(0,n.isDateYesterday)(c)||(0,n.isDateTomorrow)(c)||(t=s+t);break;case 12:case 73:1==c.getHours()&&(t=t.replace(" &#224;s "," &#224; "))}return 68===vk.lang&&(l.year=l.year+543),t.replace("{hour}",l.hours).replace("{num_hour}",(0,n.leadingZero)(l.hours)).replace("{minute}",(0,n.leadingZero)(l.minutes)).replace("{day}",l.day).replace("{num_day}",(0,n.leadingZero)(l.day)).replace("{month}",o[l.month]).replace("{year}",l.year).replace("{short_year}",l.year%100).replace("{second}",(0,n.leadingZero)(l.seconds)).replace("{am_pm}",d)}function m(e,t,i,r,n){e*=1e3,void 0===i&&(i=!0),void 0===r&&(r=(0,o.getLang)("months_of","raw")),t*=1e3;const a=Date.now(),s=new Date(a),c=new Date(e+t);return!n&&e>a&&e-a<864e5&&s.getDate()===c.getDate()?p(e,"{hour}:{minute} {am_pm}",t,[],!i):c.getYear()!==s.getYear()||e<a-157248e5?p(e,(0,o.getLang)("global_date","raw"),t,r,!i):p(e,(0,o.getLang)("global_short_date","raw"),t,r,!i)}function g(e,t,i,o){return(0,n.isDateToday)(new Date(1e3*e+1e3*t))?p(1e3*e,"{hour}:{minute} {am_pm}",1e3*t,[],!i):`${m(e,t,i,o)} ${p(1e3*e,"{hour}:{minute} {am_pm}",1e3*t,[],!i)}`}function v(e,t,i,o){return(0,n.isDateToday)(new Date(1e3*e+1e3*t))?p(1e3*e,"{hour}:{minute} {am_pm}",1e3*t,[],!i):m(e,t,i,o)}function f(e,t,i){return(0,r.isArray)(t)&&e<t.length?t[e]:(0,o.langNumeric)(e,i)}function y(e,t){e+=t;const i=parseInt(Date.now()/1e3)-e;let n="";if(i<60)n=(0,o.getLang)("global_just_now");else if(i<3600){n=f((0,r.intval)(i/60),(0,o.getLang)("global_word_mins_ago","raw"),(0,o.getLang)("global_mins_ago","raw"))}else if(i<14400){n=f((0,r.intval)(i/3600),(0,o.getLang)("global_word_hours_ago","raw"),(0,o.getLang)("global_hours_ago","raw"))}else n=E(e,0,!0,"_l");return n}function E(e,t,i,r){void 0===i&&(i=!0),void 0===t&&(t=0),void 0===r&&(r=""),t*=1e3;const n=new Date(1e3*e),a=new Date;return n.getFullYear()!==a.getFullYear()&&n.getTime()<a.getTime()-1728e5||Math.abs(n.getTime()-a.getTime())>157248e5?p(1e3*e,(0,o.getLang)("global_date"+r,"raw"),t,(0,o.getLang)("months_sm_of"),!i):p(1e3*e,(0,o.getLang)("global_short_date_time"+r,"raw"),t,(0,o.getLang)("months_sm_of"),!i)}function A(e,t,i){void 0===i&&(i=!0),void 0===t&&(t=0);const r=new Date,n=r.getFullYear(),a=r.getMonth(),s=new Date(1e3*e),c=s.getFullYear(),l=s.getMonth();return p(1e3*e,c<n&&(a>1||l<9||n-c>=2)?(0,o.getLang)("global_date","raw"):(0,o.getLang)("global_short_date_time","raw"),t,(0,o.getLang)("months_sm_of","raw"),!i)}function S(e){if(void 0!==window.cur&&void 0!==window.cur.lang)return window.cur.lang[e]}},834398:(e,t,i)=>{"use strict";i.d(t,{initLayers:()=>m});var o=i(754866),r=i(672277),n=i(478752),a=i(633009),s=i(204416),c=i(319756),l=i(392233),d=i(75385);async function u(){return Promise.resolve().then(i.bind(i,458840))}const _={sh:function(e,t){(0,o.show)(e),(0,n.isFunction)(t)&&t()},hd:function(e,t){(0,o.hide)(e),(0,n.isFunction)(t)&&t()},visible:!1,_show:function(e,t,i,n){const c="layers"+(boxQueue.count()+1);(0,a.cancelStackPush)(c,(function(){})),(0,o.setStyle)(e,{opacity:i||"",backgroundColor:n||""}),_.visible||(0,r.disableBodyScroll)(),_.visible||((0,s.pauseLastInlineVideo)(),Array.isArray(window.cur.beforeLayersShowHandlers)&&window.cur.beforeLayersShowHandlers.forEach((e=>{"function"==typeof e&&e()}))),_.visible=!0,(0,o.addClass)(document.body,"layers_shown"),t.visibilityHide?(0,o.removeClass)(t,"box_layer_hidden"):(0,o.show)(t),_.sh(e),window.updateWndVScroll&&updateWndVScroll()},_hide:function(e,t){_.hd(e,(function(){const e="layers"+(boxQueue.count()+1);(0,a.cancelStackFilter)(e),t&&t.visibilityHide?(0,o.addClass)(t,"box_layer_hidden"):(0,o.hide)(t),(0,o.isVisible)(layerWrap)||cur._inLayer||(0,o.isVisible)(boxLayerWrap)&&!boxLayerWrap.visibilityHide||!(window.mvcur&&mvcur.minimized||!(0,o.isVisible)(window.mvLayerWrap))||(0,o.isVisible)(window.wkLayerWrap)||(_.visible=!1,(0,o.removeClass)(document.body,"layers_shown"),(0,r.enableBodyScroll)()),window.updateWndVScroll&&updateWndVScroll()})),_.visible||((0,s.playLastInlineVideo)(),Array.isArray(window.cur.beforeLayersHideHandlers)&&window.cur.beforeLayersHideHandlers.forEach((e=>{"function"==typeof e&&e()})))}},p={push:function(e){let t;window.Calls&&window.Calls.isInActiveCall&&"function"==typeof window.Calls.collapseCall&&window.Calls.collapseCall();const i=!!p.count()&&p._layers[p._layers.length-1];if(cur.pvShown&&"temp"!=cur.pvListId)t=["photo",cur.pvData[cur.pvListId][cur.pvIndex].id,cur.pvListId,{onHide:cur.pvOptions.onHide,scroll:cur.pvNarrowScrollbar?cur.pvNarrowScrollbar.data.scrollTop:0,onShow:e,noHistory:!!cur.pvNoHistory,histLen:cur.pvHistoryLength}];else if(window.mvcur&&mvcur.mvShown&&!mvcur.minimized){const e=mvcur.options&&(mvcur.options.autoplay||mvcur.options.focusPlay);let i={scroll:mvLayerWrap.scrollTop,noHistory:!!mvcur.noHistory,nomin:1,autoplay:e,prevLoc:mvcur.mvPrevLoc};VideoPlaylist.getCurListId()&&(i=(0,n.extend)(i,{playlistId:VideoPlaylist.getCurListId(),module:Videoview.getVideoModule(),addParams:{force_no_repeat:1,show_next:1}})),t=["video",mvcur.videoRaw,mvcur.listId,i]}else if(window.wkcur&&wkcur.shown)t=["wiki",wkcur.wkRaw,!1,{toScroll:wkLayerWrap.scrollTop,prevLoc:wkcur.prevLoc,myLoc:wkcur.myLoc,onHide:wkcur.onHide}];else if(cur.storyLayer)t=["stories",cur.storyLayer.getList()];else{if(!(0,d.isSPAStoriesViewerEnabledWeb)()||!(0,c.ensureDIRootWebContainer)().resolve(l.StoriesViewerLayersService).getList())return!1;t=["stories",(0,c.ensureDIRootWebContainer)().resolve(l.StoriesViewerLayersService).getList()]}return i&&t[0]==i[0]&&t[1]==i[1]&&t[2]==i[2]||p._layers.push(t),p.skipVideo=!1,!0},noHistory:function(){for(let e=p._layers,t=e.length;t>0;--t)("photo"===e[t-1][0]||"video"===e[t-1][0])&&(e[t-1][3].noHistory=1)},hide:function(e=!0,t=!0,...i){p._bl=!0,window.WkView&&_.fullhide==WkView.hide?((0,o.hide)(wkLayerWrap),clearTimeout(wkcur.showT)):_.fullhide&&_.fullhide(e,t,...i),setTimeout(p.unblock,5)},unblock:function(){p._bl=!1},pop:async function(){if(!p.count()||p._bl)return;const e=p._layers.pop();if(p.skipVideo&&(p.skipVideo=!1,"video"==e[0]))return p._layers.push(e),void(p.skipVideo=!1);if("photo"===e[0])if((0,n.extend)(e[3],{fromQueue:!0}),window.showPhoto)window.showPhoto(e[1],e[2],e[3],!1);else{const{showPhoto:t}=await u();t(e[1],e[2],e[3],!1)}else if("video"===e[0])if((0,n.extend)(e[3],{fromQueue:!0}),window.showVideo)window.showVideo(e[1],e[2],e[3],!1);else{const{showVideo:t}=await async function(){return Promise.resolve().then(i.bind(i,432081))}();t(e[1],e[2],e[3],!1)}else if("wiki"===e[0])if(window.showWiki)window.showWiki({w:e[1]},!1,!1,e[3]);else{const{showWiki:t}=await u();t({w:e[1]},!1,!1,e[3])}else if("stories"===e[0])if(window.showStory)window.showStory(e[1]);else{const{showStory:t}=await async function(){return Promise.all([i.e(45055),i.e(56965),i.e("langs/web/stories_web_lib")]).then(i.bind(i,856771))}();t(e[1])}},back:function(e,t,i,o){for(let r=p._layers,n=r.length;n>0;--n)if(r[n-1][0]==e&&r[n-1][1]==t||r[n-1][0]==i&&r[n-1][1]==o)return p._layers=r.slice(0,n),p.pop(),!0;return!1},count:function(){return p._layers.length},clear:function(){p._layers=[]},_layers:[]};function m(e,t,o,r){return i._dG("layerQueue",p),window.cur.beforeLayersHideHandlers=[],(0,n.extend)(_,{show:_._show.pbind(e,t),boxshow:_._show.pbind(o,r),wrapshow:_._show.pbind(e),hide:_._hide.pbind(e,t),boxhide:_._hide.pbind(o,r),wraphide:_._hide.pbind(e)}),_}},137771:(e,t,i)=>{"use strict";i.d(t,{getPageHeaderHeight:()=>v,onBodyResize:()=>A,onBodyScroll:()=>E,redraw:()=>y,updateNarrow:()=>f});var o=i(754866),r=i(692543),n=i(330882),a=i(540462),s=i(11387),c=i(898848),l=i(478752),d=i(683234),u=i(956460),_=i(983567),p=i(744968),m=i(664441);let g;function v(){const e=(0,o.ge)("page_header");return g=g||(e?e.offsetHeight:0),g}function f(){cur.__narrowBar=cur.__narrowBar||{},cur.__narrowBar.bar=cur.__narrowBar.bar||(0,o.ge)("narrow_column"),cur.__narrowBar.barBlock=cur.__narrowBar.bar&&(0,o.geByClass1)("page_block",cur.__narrowBar.bar),cur.__narrowBar.wideCol=cur.__narrowBar.wideCol||(0,o.ge)("wide_column"),cur.__narrowBar.isBarFixed=cur.__narrowBar.isBarFixed||"fixed"===(0,o.getStyle)(cur.__narrowBar.bar,"position"),cur.__narrowBar.pl=cur.__narrowBar.pl||(0,o.ge)("page_layout");const e=cur.__narrowBar.bar,t=cur.__narrowBar.barBlock,i=cur.__narrowBar.wideCol,a=(0,r.scrollGetY)();if(n.browser.mobile||!e||!t||!i||(0,o.isVisible)(boxLoader)||(0,o.isVisible)(boxLayerBG)||(0,o.isVisible)(layerBG))return;const s=window.lastWindowHeight||0,d=Math.min(a,document.body.clientHeight-s),u=cur.__narrowBar.pl,_=vk.staticheader?Math.max(0,v()-d):v(),p=cur.__narrowBar.isBarFixed,m=(0,c.floatval)((0,o.getStyle)(cur.__narrowBar.barBlock,"marginTop")),g=(0,o.getSize)(e)[1]-(p?m:0),f=(0,o.getSize)(i)[1],y=(0,o.getXY)(i)[1],E=g>=f-m,A=m,S=d+s-f-y-A,b=Math.max(0,S),T=y-_,I=(0,o.getXY)(e)[1]+(p?m:0),C=cur.__narrowBar.lastSt||0,k=cur.__narrowBar.lastStyles||{},P=_+A+g+m+b<=s&&!cur.narrowHide,O=cur.__narrowBarForceNotFixed;let M,L=!1;d-1<T&&!(P&&n.browser.msie&&I<_+m)||E?M={marginTop:0}:!O&&(d-1<Math.min(C,I-_-m)||P)?(M={top:_,marginLeft:Math.min(-document.body.scrollLeft,Math.max(-document.body.scrollLeft,document.body.clientWidth-(0,o.getSize)(u)[0]))},L=!0):!O&&(d+1>Math.max(C,I+g+A-s)&&S<0&&!cur.narrowHide||cur.narrowHide&&d+1>Math.max(C,I+g-_))?(M={bottom:cur.narrowHide?s-_:A,marginLeft:Math.min(-document.body.scrollLeft,Math.max(-document.body.scrollLeft,document.body.clientWidth-(0,o.getSize)(u)[0]))},L=!0):M={marginTop:S>=0?f-g:Math.min(I-y,f-g+T)},function(e,t){const i=(0,l.clone)(e),o=(0,l.clone)(t);return(0,c.each)(i,(function(e,t){"position"!==e&&(i[e]=Math.round(t))})),(0,c.each)(o,(function(e,t){"position"!==e&&(o[e]=Math.round(t))})),JSON.stringify(i)===JSON.stringify(o)}(M,k)||((0,c.each)(k,(function(e){k[e]=null})),(0,o.setStyle)(e,(0,l.extend)(k,M)),cur.__narrowBar.lastStyles=M),L!==p&&(0,o.toggleClass)(e,"fixed",L),cur.__narrowBar.lastSt=d,cur.__narrowBar.isBarFixed=L}function y(e,t){e&&"fixed"===(0,o.getStyle)(e,"position")&&(t?(0,o.removeClass)(e,t):(0,o.setStyle)(e,{position:"relative"}),e.offsetLeft,t?(0,o.addClass)(e,t):(0,o.setStyle)(e,{position:"fixed"}))}function E(){if(!window.pageNode)return;const e=Math.min(0,Math.max(-document.body.scrollLeft,document.body.clientWidth-(0,o.getSize)((0,o.ge)("page_layout"))[0]));n.browser.mobile||vk.staticheader||(0,m.updateHeaderStyles)({marginLeft:e}),(0,m.updateLeftMenu)(),f(),(0,d.updSideTopLink)()}function A(e){if(!window.pageNode)return;const{clientWidth:t,clientHeight:r}=document.documentElement;let l=Math.max((0,c.intval)(window.innerWidth),(0,c.intval)(t)),g=Math.max((0,c.intval)(window.innerHeight),(0,c.intval)(r)),v=!1;if(n.browser.mobile&&(l=Math.max(l,(0,c.intval)(document.body.scrollWidth)),g=Math.max(g,(0,c.intval)(document.body.scrollHeight))),window.lastWindowWidth!==l||!0===e){v=!0;const e=(0,d.sbWidth)(!0);i._dG("lastInnerWidth",i._dG("lastWindowWidth",l)),layerWrap.style.width=boxLayerWrap.style.width=l+"px";const t=layer.style.width=boxLayer.style.width=l-e-2+"px";if(window.mvLayerWrap&&!mvcur.minimized&&(mvLayerWrap.style.width=l+"px",mvLayer.style.width=t),window.wkLayerWrap&&(wkLayerWrap.style.width=l+"px",wkLayer.style.width=t),document.body.offsetWidth<vk.width+e+2&&(l=vk.width+e+2),l)for(let t=pageNode.firstChild;t;t=t.nextSibling){if(!t.tagName)continue;const o=i._dG("lastInnerWidth",l-e-1)-1,r=Boolean(window.innerWidth-document.documentElement.clientWidth);for(let e=t.firstChild;e;e=e.nextSibling)"scroll_fix"!==e.className||(0,a.partConfigEnabled)("frontend.video_videopage_theater_mode")&&(0,s.isStandaloneOrVideoPage)()&&!r||(e.style.width=o+"px");document.documentElement.style.setProperty("--scroll-fixed-width",`${o}px`),vk.staticheader||(0,m.updateHeaderStyles)({width:o})}}if((window.lastWindowHeight!==g||!0===e)&&(v=!0,i._dG("lastWindowHeight",g),layerBG.style.height=boxLayerBG.style.height=layerWrap.style.height=boxLayerWrap.style.height=g+"px",window.mvLayerWrap&&!mvcur.minimized&&(mvLayerWrap.style.height=g+"px"),window.wkLayerWrap)){const e=n.browser.mobile?window.innerHeight:g;wkLayerWrap.style.height=e+"px"}if(vk.noSideTop||(0,d.updSideTopLink)(1),v&&window.curRBox&&window.curRBox.boxes&&window.getWndInner){const e=getWndInner();(0,c.each)(curRBox.boxes,((t,i)=>i._wnd_resize(e[0],e[1])))}setTimeout(u.updSeenAdsInfo,0);const E=(0,_.getAudioPlayer)();E.audioLayer&&E.audioLayer.isShown()&&E.audioLayer.updatePosition(),cur.pvShown&&window.Photoview&&setTimeout(Photoview.updatePhotoDimensions),window.tooltips&&tooltips.rePositionAll(),cur.lSTL&&(0,o.setStyle)(cur.lSTL,{width:Math.max((0,o.getXY)(cur.lSTL.el)[0],0),height:g-1}),(0,o.ge)("dev_top_nav")&&(0,o.setStyle)((0,o.ge)("dev_top_nav","left",null));const A=(0,o.geByClass)("ui_search_fixed"),S=(0,o.ge)("narrow_column");(0,c.each)(A,(function(){y(this,"ui_search_fixed"),setTimeout(y.pbind(this,"ui_search_fixed"),0)})),S&&(y(S,"fixed"),setTimeout(y.pbind(S,"fixed"),0)),(0,m.updateLeftMenu)(),f(),(0,p.updateSTL)()}},226220:(e,t,i)=>{"use strict";i.d(t,{TopMenu:()=>E,autosizeSetup:()=>y,checkPageBlocks:()=>g.checkPageBlocks,getProgressBarEl:()=>S,getProgressHtml:()=>A,leftBlockOut:()=>f,leftBlockOver:()=>v});var o=i(478752),r=i(754866),n=i(939646),a=i(972332),s=i(330882),c=i(633009),l=i(314309),d=i(187403),u=i(590151),_=i(957994),p=i(64323),m=i(965494),g=i(420839);function v(e){let t=1;e.id||(e=(0,r.ge)("left_hide"+e),t=0),!t&&e.timer||(e.showing?(0,r.removeAttr)(e,"showing"):((0,n.animate)(e,{opacity:t?1:.5},200),t&&(e.showing=1))),e.timer&&(clearTimeout(e.timer),(0,r.removeAttr)(e,"timer"))}function f(e){let t=.5;e.id||(e=(0,r.ge)("left_hide"+e),t=0),e.timer=setTimeout((function(){(0,n.animate)(e,{opacity:t},200),(0,r.removeAttr)(e,"timer")}),1)}function y(e,t={}){if(!(e=(0,r.ge)(e)))return;if(e.autosize)return void e.autosize.update();t.minHeight=(0,o.intval)(t.minHeight)||(0,o.intval)((0,r.getStyle)(e,"height")),t.maxHeight=(0,o.intval)(t.maxHeight);let i=(0,r.getSize)(e)[0]||(0,o.intval)((0,r.getStyle)(e,"width")),n=(0,r.getStyle)(e,"fontSize"),c=(0,r.getStyle)(e,"lineHeight");i<1&&(i=(0,o.intval)((0,r.getStyle)(e,"width",!1))),n.indexOf("em")>0&&(n=(0,o.floatval)(n)*parseInt(window.getComputedStyle(document.body).fontSize)),n=(0,o.intval)(n);const l={width:i,height:10,fontFamily:(0,r.getStyle)(e,"fontFamily"),fontSize:n+"px",lineHeight:c,boxSizing:(0,r.getStyle)(e,"boxSizing")};(0,o.each)(["Top","Bottom","Left","Right"],(function(){l["padding"+this]=(0,r.getStyle)(e,"padding"+this)})),e.autosize={options:t,helper:(0,r.ce)("textarea",{className:"ashelper"},l),handleEvent:function(t,i){let o=i.charCode?String.fromCharCode(i.charCode):i.charCode;if(void 0===o&&(o=String.fromCharCode(i.keyCode),10===i.keyCode||13===i.keyCode?o="\n":!s.browser.msie&&i.keyCode<=40&&(o="")),!o)return t;if(!s.browser.msie)return t.substr(0,e.selectionStart)+o+t.substr(e.selectionEnd);const r=document.selection.createRange();return r.text&&(t=t.replace(r.text,"")),t+o},update:function(t){let i=e.value;!t||"blur"===t.type||"keyup"===t.type||s.browser.msie&&"keypress"!==t.type||t.ctrlKey||t.altKey||t.metaKey||(i=e.autosize.handleEvent(i,t)),i||(i=" "),e.autosize.helper.value!==i&&(e.autosize.helper.value=i);const n=e.autosize.options,a=(0,r.getSize)(e,!0)[1];let l=e.autosize.helper.scrollHeight;const d=l%c;n.exact&&d>2&&(l-=d-2),l<n.minHeight&&(l=n.minHeight);const u={overflow:"hidden"},_=(0,r.getStyle)(e,"overflow").indexOf("auto")>-1?"auto":"hidden";n.maxHeight&&l>n.maxHeight&&(l=n.maxHeight,(0,o.extend)(u,{overflow:"auto",overflowX:"hidden"})),n.addHeight&&(l+=n.addHeight),a===l&&_===u.overflow||(u.height=l,(0,r.setStyle)(e,u),(0,o.isFunction)(n.onResize)&&n.onResize(l))}},t.exact&&("normal"===c&&(c="120%"),c.indexOf("%")>0&&(c=n*(0,o.intval)(c)/100)),utilsNode.appendChild(e.autosize.helper),s.browser.opera_mobile?((0,r.setStyle)(e,{overflow:"hidden"}),e.autosize.update(),(0,a.addEvent)(e,"blur",e.autosize.update)):((0,a.addEvent)(e,"keydown keyup keypress change",e.autosize.update),setTimeout((()=>{(0,r.setStyle)(e,{overflow:"hidden",resize:"none"});const t=(0,r.val)(e);(0,r.val)(e," ",!0),(0,r.val)(e,t,!0),e.autosize.update()}),0))}const E={init:function(){if(this.inited)return!1;this.ecoPlateAnalytics=new m.EcoPlateAnalytics;const e=(0,r.ge)("top_profile_link"),t=(0,r.ge)("top_profile_menu");if(!e||!t)return!1;(0,a.addEvent)(e,"mousedown",E.clicked),this.inited=!0,(0,d.initColorSchemeDropdowns)()},clicked:function(e){return(0,a.checkEvent)(e)||"mousedown"===e.type&&(0,a.checkKeyboardEvent)(e)||E.toggle(),!1},toggle:function(e){if(document.querySelector(".SaveUserForQuickLoginBox"))return;const t=(0,r.ge)("top_profile_link"),i=(0,r.ge)("top_profile_menu"),o=(0,r.hasClass)(i,"shown");if(void 0!==e&&o===e)return;void 0===e&&(e=!o);const n=(0,r.$)("[data-warning]")?.getAttribute("data-warning"),a=(0,r.$)("[data-security-svg]");((0,r.hasClass)(i,"top_profile_menu_new")||(0,r.hasClass)(i,"top_profile_menu_react"))&&(e?(l.vkConnectNavigationCollector.logAccountActionsOpen(n),(0,u.logSwitcherAccounts)(),null!==a&&(a.remove(),(0,_.api)("account.setSecurityIndicatorShown",{}))):l.vkConnectNavigationCollector.logAccountActionsClose(n)),this.ecoPlateAnalytics&&this.ecoPlateAnalytics.logTopNavToggle(e),(0,r.toggleClass)(t,"active",e),(0,r.toggleClass)(i,"shown",e),e?((0,c.cancelStackPush)("top_menu",E.toggle.bind(this,!1),!0),cur.introExitTooltipHide&&(cur.introExitTooltipHide(),delete cur.introExitTooltipHide)):(0,c.cancelStackFilter)("top_menu",!0)},show:function(){E.hidetimer&&(clearTimeout(E.hidetimer),E.hidetimer=0),E.toggle(!0)},hide:function(){E.hidetimer||(E.hidetimer=setTimeout((function(){E.toggle(!1),E.hidetimer=0}),200))},select:function(e,t){return!!(0,a.checkEvent)(t)||((0,p.logTopNavElements)(e.href),E.toggle(!1),nav.go(e,t,{noback:!0}))}};function A(e,t){return(0,r.rs)(window.vk.pr_tpl,{id:e||"",cls:t||""})}function S(e){return(0,r.geByClass1)("ui_progress_bar",e)}},604723:(e,t,i)=>{"use strict";i.d(t,{__qlClear:()=>y,cssAnim:()=>_,hideNewsAnnounce:()=>p,initLegacyBrowserDetectionInAttribute:()=>f,initPostsLegacyVars:()=>C,leftAdBlockClose:()=>m,leftBlockFriendTooltip:()=>v,leftBlockToggleFriend:()=>g,nodeUpdated:()=>I,onLoginCaptcha:()=>b,onLoginDone:()=>A,onLoginFailed:()=>S,onLoginReCaptcha:()=>T,storePasswordCredential:()=>E});var o=i(342879),r=i(683234),n=i(754866),a=i(939646),s=i(972332),c=i(478752),l=i(270959),d=i(330882),u=i(102088);function _(e,t,i,o){const r=(0,c.intval)(d.browser.version);if(e&&(d.browser.chrome&&r>14||d.browser.mozilla&&r>13||d.browser.opera&&r>2)){const r="all "+i.duration+"ms "+(i.func||"ease-out");e.style.WebkitTransition=r,e.style.MozTransition=r,e.style.OTransition=r,e.style.transition=r;const a=function(){return d.browser.opera&&(0,c.intval)(d.browser.version)<=12?e.removeEventListener("oTransitionEnd",a):(0,s.removeEvent)(e,"webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd",a),e.style.WebkitTransition="",e.style.MozTransition="",e.style.OTransition="",e.style.transition="",o&&o(),!1};o&&(d.browser.opera&&(0,c.intval)(d.browser.version)<=12?e.addEventListener("oTransitionEnd",a):(0,s.addEvent)(e,"webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd",a)),setTimeout(n.setStyle.pbind(e,t),0)}else(0,a.animate)(e,t,(0,c.extend)(i,{onComplete:o}))}function p(e,t){const i={act:"hide_block",block:e,hash:t};ajax.post("al_index.php",i),(0,n.hide)("news_announce_"+e)}function m(e,t,i){(0,n.setStyle)("left_hide"+e,{visibility:"hidden"}),function(e,t,i){let o="";const s=(0,l.showBox)("reports.php",{act:"hide_ad_box",ad_data:i},{onDone:function(){const e=(0,n.geByClass)("radiobtn","ad_hide");window.radioBtns.ad_hide={val:0,els:e};const t=(0,n.ge)("ad_csrf");o=t?t.value:o},params:{width:370,onClean:()=>{delete window.radioBtns.ad_hide}},stat:["reports.css"]});s.removeButtons(),s.addButton((0,u.getLang)("box_send"),(c=>{(0,r.lockButton)(c),ajax.post("reports.php",{act:"hide_ad",reason_id:window.radioBtns.ad_hide.val,ad_data:i,hash:o}),function(e,t,i){function o(t){if(!t.done)return;if("function"==typeof i&&i(),"ya_direct"===e)return(0,a.animate)(e,{opacity:0},200,(function(){(0,n.re)("ya_direct"),setTimeout((function(){AdsLight.updateBlock("force_hard",2)}),5e3)})),void(window.vk__adsLight.yaDirectAdActive=!1);const o=(0,n.ge)("ads_ad_close_info_"+e);if(!o)return!1;(0,n.setStyle)(o,{opacity:0}),o.style.setProperty("display","block","important"),setTimeout(r,0)}function r(){(0,a.animate)("ads_ad_close_info_"+e,{opacity:1},200,s)}function s(){(0,n.setStyle)("ads_ad_box2_"+e,{visibility:"hidden"})}ajax.post(t,{},{noAds:!0,onDone:o})}(e,t,(()=>{(0,r.unlockButton)(c),s.hide()}))})),s.addButton((0,u.getLang)("global_cancel"),!1,"no")}(e,t,i)}function g(e,t,i,o,r){o&&window.stManager.add(["tooltips.css",window.jsc("web/tooltips.js")]),cur.mfid=e,ajax.post("al_friends.php",{act:o?"add":"remove",mid:e,mf_type:t,hash:i,from:"leftblock"},{onDone:function(t,i,o){if(!t)return nav.reload();const r=(0,n.ge)("left_friend_status_"+e);(0,n.cleanElems)(r.firstChild),t?((0,n.show)(r),(0,n.val)(r,t)):(0,n.hide)(r),i&&(ajax.preload("al_friends.php",{act:"friend_tt",mid:e},[i,o]),setTimeout(v,0))},showProgress:function(){const t=((0,n.ge)("left_friend_subscribed")||{}).tt;t&&(t.hide({fasthide:1}),t.destroy()),(0,n.ge)("left_friend_status_"+e).innerHTML='<img src="/images/upload'+(window.devicePixelRatio>=2?"_2x":"")+'.gif" width="32" />'},hideProgress:()=>(0,n.hide)("left_friend_status_"+e),onFail:function(e){if(e)return(0,l.showFastBox)({title:(0,u.getLang)("global_error")},e),!0}}),(0,s.cancelEvent)(r)}function v(){return(0,o.showTooltip)((0,n.ge)("left_friend_subscribed"),{url:"al_friends.php",params:{act:"friend_tt",mid:cur.mfid,from:"leftblock"},slide:15,hidedt:500,shift:[40,-1,3],className:"preq_tt",forcetodown:!0})}function f(){let e=[];(0,c.each)(d.browser,(function(t,i){i&&!(0,c.inArray)(t,["version","mac","search_bot"])&&"flash"!==t.substr(0,5)&&e.push(t)})),e=e.join(" "),document.body.setAttribute("data-useragent",e)}function y(){clearTimeout(window.__qlTimer),setTimeout((()=>clearTimeout(window.__qlTimer)),2e3)}function E(e){if(!d.browserFeatures.cmaEnabled||!window.ResizeObserver||!(0,n.val)("quick_email"))return;if(void 0===window.PasswordCredential)return;const t=new PasswordCredential({id:(0,n.ge)("quick_email").value,password:(0,n.ge)("quick_pass").value,name:e.name,iconURL:e.photo_50});navigator.credentials.store(t)}function A(e,t){y(),E(t),nav.reload({force:!0,from:6})}function S(e,t){switch(y(),e){case-1:location.href=location.href.replace(/^http:/,"https:");break;case 4:let e="/login?m=1"+(t.expire?"&s=0":"");(0,c.each)(["email","ul","pch","to"],(function(i,o){t[o]&&(e+="&"+o+"="+t[o])})),location.href=e;break;case 7:location.href="/login?m=7";break;default:location.href="/login"}}function b(e,t){y(),(0,r.unlockButton)(window.__qfBtn),i._dG("qloginBox",(0,l.showCaptchaBox)(e,t,window.qloginBox,{onSubmit:function(e,t){!function(){const e=(0,n.ge)("quick_captcha_sid"),t=(0,n.ge)("quick_captcha_key"),i=(0,n.ge)("quick_recaptcha"),o=(0,n.ge)("quick_login_form");e||o.appendChild((0,n.ce)("input",{type:"hidden",name:"captcha_sid",id:"quick_captcha_sid",value:""})),t||o.appendChild((0,n.ce)("input",{type:"hidden",name:"captcha_key",id:"quick_captcha_key",value:""})),i||o.appendChild((0,n.ce)("input",{type:"hidden",name:"recaptcha",id:"quick_recaptcha",value:""}))}(),(0,n.ge)("quick_captcha_sid").value=e,(0,n.ge)("quick_captcha_key").value=t,(0,n.ge)("quick_login_form").submit()},onHide:()=>i._dG("qloginBox",!1)}))}function T(e,t){y(),(0,r.unlockButton)(window.__qfBtn),i._dG("qloginBox",(0,l.showReCaptchaBox)(e,t,window.qloginBox,{onSubmit:function(e){(0,n.ge)("quick_recaptcha").value=e,(0,n.ge)("quick_login_form").submit()},onHide:()=>i._dG("qloginBox",!1)}))}function I(e,t){(0,n.setStyle)(e,{backgroundColor:"#F5F7FA"}),(0,a.animate)(e,{backgroundColor:"#FFF"},t||6e3,(function(e){(0,n.setStyle)(e,{backgroundColor:null})}))}function C(){i._dG("_postsSeen",window._postsSeen??{}),i._dG("_postsSaved",window._postsSaved??{}),i._dG("_postsSaveTimer",window._postsSaveTimer??void 0),i._dG("_postsSendTimer",window._postsSendTimer??void 0),i._dG("_postsCleanTimer",window._postsCleanTimer??void 0),i._dG("_postsSeenModules",window._postsSeenModules??{}),i._dG("_postsExtras",window._postsExtras??{})}},191468:(e,t,i)=>{"use strict";i.d(t,{shortCurrency:()=>n});var o=i(478752),r=i(754866);function n(){const e={};(0,o.each)((0,r.geByClass)("_short_currency"),(function(){const t=(0,r.domData)(this,"short")||"";if(!t)return!0;const i=this.innerHTML,n=(0,o.winToUtf)(i).length,a=(0,r.getStyle)(this,"fontFamily")||"tahoma,arial,sans-serif";if(void 0===e[a]){let t="";for(let e=n-1;e>=0;e--)t+="&#8399;";const o=(0,r.ce)("div",{innerHTML:`<b>${i}</b><b>${t}</b>`},{fontFamily:a,fontSize:"24px"});(0,r.ge)("utils").appendChild(o),e[a]=Math.abs(o.firstChild.offsetWidth-o.lastChild.offsetWidth)>=2*n,(0,r.re)(o)}!1===e[a]&&(0,r.val)(this,t)}))}},967495:(e,t,i)=>{"use strict";i.d(t,{rangeCreate:()=>s,rangeGet:()=>n,rangeInsert:()=>c});var o=i(754866),r=i(330882);function n(){let e=null,t=window.getSelection();t.getRangeAt&&t.rangeCount&&(e=t.getRangeAt(0));let i=null,o=null,r=0,n=0,a=document.activeElement;return e&&("selectionStart"in a?(i=a,o=a,r=a.selectionStart,n=a.selectionEnd):t.rangeCount&&(i=e.startContainer,o=e.endContainer,r=e.startOffset,n=e.endOffset)),[e,i,r,o,n]}function a(e){let t=window.getSelection();return t.removeAllRanges(),t.addRange(e),e}function s(e,t,i,o){let r=document.createRange();return r.setStart(e,t),r.setEnd(i,o),a(r)}function c(e,t){if(t=t?t+"":"",!r.browser.msie&&document.execCommand)document.execCommand("insertHTML",!1,t);else if(e){e.deleteContents();let i=(0,o.cf)(t),r=i.lastChild;e.insertNode(i),r&&((e=e.cloneRange()).setStartAfter(r),e.collapse(!0),a(e))}return e}},892848:(e,t,i)=>{"use strict";i.d(t,{_destroyInlineVideoPlayer:()=>s,revertLastInlineVideo:()=>a});var o=i(754866),r=i(540462),n=i(980580);function a(e,t=!1){if(!window._videoLastInlined)return;if((0,r.partConfigEnabled)("video_infinity_loader_after_openning_linked_clip_in_editing_modal")&&(0,n.isVideoEditModalOpen)())return;let a,c=!1;const l=(0,o.ge)(e);if(l&&(a=window._videoLastInlined[0],a)){for(;a=a.parentNode;)if(a==l){c=!0;break}if(!c)return}(0,o.re)(window._videoLastInlined[0]),(0,o.show)(window._videoLastInlined[1]),window._videoLastInlined[1].removeAttribute("data-playing"),i._dG("_videoLastInlined",!1),s(t),delete cur.mvOpts}function s(e=!1){cur.videoInlinePlayer&&(cur.videoInlinePlayer.destroy(e),delete cur.videoInlinePlayer)}},672277:(e,t,i)=>{"use strict";i.d(t,{disableBodyScroll:()=>d,enableBodyScroll:()=>u,handleScroll:()=>_,scrollGetX:()=>l,scrollToTop:()=>c,scrollToY:()=>s});var o=i(683234),r=i(939646),n=i(754866),a=i(692543);function s(e,t,c,d,u){null==t&&(t=400);"ontouchstart"in document.documentElement&&(t=0),d||(e=Math.max(0,e-(vk.staticheader?0:(0,n.getSize)("page_header_cont")[1]))),(0,n.data)(document.body,"tween")&&(0,n.data)(document.body,"tween").stop(!1);const _=window.htmlNode||document.getElementsByTagName("html")[0];if((0,n.data)(_,"tween")&&(0,n.data)(_,"tween").stop(!1),i._dG("scrollAnimation",!1),t){const n=function(){i._dG("scrollAnimation",!1),2===c&&("profile"!=cur.module&&"public"!=cur.module&&"group"!=cur.module&&"groups"!=cur.module&&"event"!=cur.module||!window.Wall||Wall.scrollCheck(!1,void 0,!0),(0,o.updSideTopLink)()),"function"==typeof u&&u()};i._dG("scrollAnimation",!0),(0,r.animate)(_,{scrollTop:e},{duration:t,transition:r.Fx.Transitions.sineInOut,onComplete:n}),(0,r.animate)(document.body,{scrollTop:e},{duration:t,transition:r.Fx.Transitions.sineInOut,onComplete:n})}else{if(c&&2!==c){"profile"!=cur.module&&"public"!=cur.module&&"group"!=cur.module&&"event"!=cur.module||!window.Wall||Wall.scrollCheck(!1,e,!0);const t=(0,a.scrollGetY)()-e;return Math.abs(t)>6&&s(e+(t>0?6:-6),0,2,!0),(0,o.updSideTopLink)(),clearTimeout(window.scrlToTO),void i._dG("scrlToTO",setTimeout(s.pbind(e,100,2,!0,u),0))}window.scroll(l(),e),"function"==typeof u&&u(),c||(0,o.updSideTopLink)()}}function c(e){return s(0,e)}function l(){return window.pageXOffset||window.scrollNode?.scrollLeft||document.documentElement.scrollLeft}function d(){document.body.style.overflow="hidden"}function u(){document.body.style.overflow="auto"}function _(e){e=e.split(",");const t=cur.named||{};let i=e[0]&&(t[e[0]]||(0,n.ge)(e[0]))||!1;const o=e[1]&&(t[e[1]]||(0,n.ge)(e[1]))||!1;if(!i&&!o){if(i=document.getElementsByName(e[0])[0],!i)return;i=i.nextSibling}const r=(0,n.ge)("page_header_wrap")||(0,n.ge)("dev_top_nav_wrap");setTimeout((function(){i&&s((0,n.getXY)(i)[1]-(r?(0,n.getSize)(r)[1]:0),0),o&&(0,n.elfocus)(o)}),300)}},692543:(e,t,i)=>{"use strict";function o(){return window.pageYOffset||window.scrollNode?.scrollTop||document.documentElement.scrollTop}i.d(t,{scrollGetY:()=>o})},568129:(e,t,i)=>{"use strict";i.d(t,{blockNameEmpty:()=>be,blockNameOwn:()=>Te,blockNameSearch:()=>Ie,blockNameSearchGeoGroups:()=>ke,blockNameSearchGroups:()=>Ce,clickTypeAddFriendOut:()=>Ee,clickTypeJoinGroupOut:()=>fe,clickTypeLeaveGroupOut:()=>ye,clickTypeRemoveFriendOut:()=>Ae,generateQID:()=>pt,logLeftMenuClicks:()=>ut,outOfSerpGroup:()=>we,outOfSerpProfile:()=>Se,removeOutOfSerpClickLogging:()=>st,removeSearchPositionTracker:()=>dt,saveSearchAttemptStats:()=>_t,serviceApps:()=>P,serviceAppsList:()=>k,serviceAppsManage:()=>O,serviceAudio:()=>F,serviceBookmarksGroups:()=>I,serviceBookmarksUsers:()=>C,serviceDocs:()=>N,serviceEvents:()=>m,serviceFriends:()=>g,serviceFriendsFind:()=>f,serviceGamesCatalog:()=>G,serviceGroups:()=>u,serviceGroupsCatalog:()=>_,serviceManage:()=>U,serviceMarketV2:()=>H,serviceMessages:()=>x,serviceNews:()=>b,servicePhotos:()=>R,serviceSearchAudio:()=>T,serviceSearchClips:()=>L,serviceSearchCommunities:()=>p,serviceSearchPeople:()=>v,serviceSearchStatuses:()=>S,serviceSearchVideo:()=>M,serviceTopSearch:()=>D,serviceUserFriends:()=>W,serviceVideo:()=>B,serviceWall:()=>A,serviceWallGroups:()=>E,serviceWallUsers:()=>y,tryLogOutOfSerpClick:()=>at});var o=i(898848),r=i(972332),n=i(478752),a=i(754866),s=i(636576),c=i(553608),l=i(952661);const d={},u="groups",_="groups_catalog",p="search_communities",m="events",g="friends",v="search_people",f="friends_find",y="wall_users",E="wall_groups",A="wall",S="search_statuses",b="news",T="search_audio",I="bookmarks_groups",C="bookmarks_users",k="apps_list",P="apps",O="apps_manage",M="search_video",L="search_clips",D="top_search",R="photos",N="docs",x="messages",F="audio",U="manage",B="video",V="market",H="market_v2",j="market_groups",W="profile_user_friends",G="games_catalog",z="",K="tap",Y="join_group",$="leave_group",q="fave",X="unfave",Q="write_msg",Z="add_friend",J="remove_friend",ee="restore_friend",te="show_photo",ie="add",oe="remove",re="play",ne="open_artist",ae="open_author_group",se="open_author_user",ce="open_author",le="show_similar",de="search_by_tag",ue="edit",_e="like",pe="open_comments",he="share",me="expand",ge="mark_as_spam",ve="stats",fe="join_group_out",ye="leave_group_out",Ee="add_friend_out",Ae="remove_friend_out",we="group",Se="profile",be="",Te="own",Ie="search",Ce="search_groups",ke="search_communities_geo",Pe="own_playlists",Oe="global_clips",Me="own_audios",Le="search_artists",De="search_playlists",Re="search_global_playlists",Ne="search_audios",xe="own_conversations",Fe="own_messages",Ue="own_albums",Be="own_videos",Ve="video_playlists",He="search_videos",je="serps",We="SERPS_LOGS_DATA_LOCK",Ge=180,ze=100,Ke="",Ye="user",$e="group",qe="app",Xe="event",Qe="public",Ze="grid",Je="list";function et(e,t,i,r="",n=void 0,s=void 0){let c=0,l="",d=0,u=1,_=0,p=0;return e&&((0,o.isArray)(i)||(i=[i]),i.some((i=>{const o=e.classList.contains(i)?e:(0,a.gpeByClass)(i,e);let m=0;if(o){let i;if(i=r?document.querySelectorAll(r):o.parentNode.children,i){if(c=[...i].indexOf(o)+1,c&&n)for(const e in n)if(n.hasOwnProperty(e)){const t=document.querySelectorAll(n[e]);if(t){const i=[...t].indexOf(o)+1;if(i){d=i,l=e;break}}u++,m++}if(s)for(const t of s){const i=(0,a.gpeByClass)(t,e);i&&(u=i.getAttribute("data-block-num"))}return[_,p]=t(o,m),!0}}}))),[c,_,p,l,d,u]}function tt(e,t,i,o,r,n,s){if(!d[e])return;const c=s.target;if(c&&c.classList)switch(e){case u:return void function(e,t,i,o,r,n){if(!t)return;const s=n.classList,c=n.outerHTML,d=n.tagName;let[,u,_,p,m]=et(n,(e=>{let t=e.getAttribute("id")||e.getAttribute("data-id");return t=t?t.replace("gl_groups","").replace("gl_admin",""):0,[0,"-"+t]}),["_gl_row","search_row"],"#groups_list_tab_groups ._gl_row, #groups_list_search_wrap ._gl_row, #results .search_row, #groups_list_search_wrap .search_row",{[Te]:"#groups_list_tab_groups ._gl_row",[Ie]:"#groups_list_search_wrap ._gl_row, #groups_list_search_wrap .search_row"});if(!m)return;p===Te&&(o=0,r="");let g=z;if(s.contains("group_row_title")||s.contains("group_row_img")||s.contains("highlight")||s.contains("search_item_img")||"A"===d&&-1!==c.indexOf("return nav.go")){let e=(0,a.gpeByClass)("group_list_row",n)||(0,a.gpeByClass)("groups_row",n);if(!e)return;if(e.hasAttribute("data-clicked"))return;e.setAttribute("data-clicked",!0),g=K}(l.FlatButton.isFlatButton(n)&&l.FlatButton.getAppearance(n)!==l.FlatButtonAppearance.SECONDARY||s.contains("search_sub_button"))&&(g=Y);(l.FlatButton.isFlatButton(n)&&l.FlatButton.getAppearance(n)===l.FlatButtonAppearance.SECONDARY||s.contains("search_unsub_button"))&&(g=$);if(p===Te&&-1!==c.indexOf("GroupsList.subscribe")){if(s.contains("ui_actions_menu"))return;g=Y,!cur.scrollList.deleted[-_]&&(g=$)}if(p===Te&&-1!==c.indexOf("GroupsList.toggleFave")){if(s.contains("ui_actions_menu"))return;g=q,"1"===n.getAttribute("data-value")&&(g=X)}if(g===z)return;nt(),g===K&&rt(we,e,p,m,i,t,_,u,o,r);ct(e,p,m,g,i,t,_,u,o,r,Ke)}(e,t,i,o,r,c);case p:return void function(e,t,i,o,r,n,s){if(!t)return;const c=s.classList,l=s.outerHTML,d=s.tagName;let[u,_,p]=et(s,(e=>{let t=e.getAttribute("data-id");return t||(t=0),[0,"-"+t]}),"search_row","#results .search_row");const m=s?.closest(".search_communities_block.section_page")?ke:be;if(!u)return;let g=z;if(c.contains("search_item_img")||c.contains("highlight")||"A"===d&&-1!==l.indexOf("return nav.go")){let e=(0,a.gpeByClass)("groups_row",s);if(!e)return;if(e.hasAttribute("data-clicked"))return;e.setAttribute("data-clicked",!0),g=K}c.contains("search_sub_button")&&(g=Y);c.contains("search_unsub_button")&&(g=$);if(g===z)return;nt(),g===K&&rt(we,e,m,u,i,t,p,_,o,r);ct(e,m,u,g,i,t,p,_,o,r,Ke,"",n)}(e,t,i,o,r,n,c);case _:return void function(e,t,i,o,r,n){if(!t)return;const s=n.classList,c=n.outerHTML,l=n.tagName;let[d,u,_]=et(n,(e=>{let t=e.getAttribute("data-id");return t||(t=0),[0,"-"+t]}),"search_row","#results .search_row"),p=z;if(s.contains("search_item_img")||s.contains("highlight")||"A"===l&&-1!==c.indexOf("return nav.go")){let e=(0,a.gpeByClass)("groups_row",n);if(!e)return;if(e.hasAttribute("data-clicked"))return;e.setAttribute("data-clicked",!0),p=K}s.contains("search_sub_button")&&(p=Y);s.contains("search_unsub_button")&&(p=$);if(p===z)return;nt(),p===K&&rt(we,e,be,d,i,t,_,u,o,r);ct(e,be,d,p,i,t,_,u,o,r,Ke)}(e,t,i,o,r,c);case m:return void function(e,t,i,o,r,n){const s=n.classList,c=n.outerHTML,l=n.parentElement?n.parentElement.classList:null;let[d,u,_]=et(n,(e=>{let t=e.getAttribute("data-id");return t||(t=0),[0,"-"+t]}),"search_row","#groups_list_in_tab_search_all .search_row");if(!d)return;let p=z;if(s.contains("search_item_img")||-1!==c.indexOf("return nav.go")&&l&&l.contains("title")){let e=(0,a.gpeByClass)("search_row",n);if(!e)return;if(e.hasAttribute("data-clicked"))return;e.setAttribute("data-clicked",!0),p=K}s.contains("search_sub_button")&&(p=Y);s.contains("search_unsub_button")&&(p=$);if(p===z)return;nt(),p===K&&rt(we,e,be,d,i,t,_,u,o,r);ct(e,be,d,p,i,t,_,u,o,r,Ke)}(e,t,i,o,r,c);case g:case W:return void function(e,t,i,o,r,n){const s=n.classList,c=n.outerHTML,l=n.tagName;let[,d,u,_,p]=et(n,(e=>{let t=e.getAttribute("id");return t=t?t.replace("friends_user_row",""):0,[0,t]}),"friends_user_row","#list_content .friends_user_row, #friends_search_cont .friends_user_row",{[Te]:"#list_content .friends_user_row",[Ie]:"#friends_search_cont .friends_user_row"});if(!p)return;let m=z;_===Te&&-1!==c.indexOf("showWriteMessageBox")&&(m=Q);_===Te&&-1!==c.indexOf("deleteFriend")&&(m=J);_===Te&&s.contains("friends_restore_link")&&(m=ee);s.contains("ui_zoom_icon")&&(m=te);_===Ie&&n.id&&-1!==n.id.indexOf("friends_subsc")&&(m=Z);_===Ie&&n.id&&-1!==n.id.indexOf("friends_unsubsc")&&(m=J);if(s.contains("friends_photo_img")||_===Te&&"A"===l&&-1!==c.indexOf("return nav.go")||_===Ie&&"A"===l&&0===s.length){let e=(0,a.gpeByClass)("friends_user_row",n);if(!e)return;if(e.hasAttribute("data-clicked"))return;e.setAttribute("data-clicked",!0),m=K}if(m===z)return;nt(),m===K&&rt(Se,e,_,p,i,t,u,d,o,r);ct(e,_,p,m,i,t,u,d,o,r,Ke)}(e,t,i,o,r,c);case f:return void function(e,t,i,o,r,n){const s=n.classList,c=n.outerHTML,l=n.parentElement?n.parentElement.classList:null;if(!t)return;let[d,u,_]=et(n,(e=>[0,e.getAttribute("data-id")||0]),"search_row","#results .search_row");if(!d)return;let p=z;if(s.contains("search_item_img")||-1!==c.indexOf("return nav.go")&&l&&l.contains("name")){let e=(0,a.gpeByClass)("people_row",n);if(!e)return;if(e.hasAttribute("data-clicked"))return;e.setAttribute("data-clicked",!0),p=K}s.contains("search_sub_button")&&(p=Z);s.contains("search_unsub_button")&&(p=J);if(p===z)return;nt(),p===K&&rt(Se,e,be,d,i,t,_,u,o,r);ct(e,be,d,p,i,t,_,u,o,r,Ke)}(e,t,i,o,r,c);case v:return void function(e,t,i,o,r,n,s){const c=s.classList,l=s.outerHTML,d=s.parentElement?s.parentElement.classList:null;if(!t)return;let[u,_,p]=et(s,(e=>[0,e.getAttribute("data-id")||0]),"search_row","#results .search_row");if(!u)return;let m=z;if(c.contains("search_item_img")||c.contains("AvatarRich")||(-1!==l.indexOf("return nav.go")||-1!==l.indexOf("searcher.openProfileNps"))&&d&&(d.contains("name")||d.contains("img"))){let e=(0,a.gpeByClass)("people_row",s);if(!e)return;if(e.hasAttribute("data-clicked"))return;e.setAttribute("data-clicked",!0),m=K}c.contains("search_sub_button")&&(m=Z);c.contains("search_unsub_button")&&(m=J);if(m===z)return;nt(),m===K&&rt(Se,e,be,u,i,t,p,_,o,r);ct(e,be,u,m,i,t,p,_,o,r,Ke,"",n)}(e,t,i,o,r,n,c);case I:return void function(e,t,i,o,r,n){const s=n.classList,c=n.outerHTML;let[l,d,u]=et(n,(e=>{let t=e.getAttribute("data-id");return t||(t=0),[0,t]}),"_bookmark_page_item");if(!l)return;let _=z;if(s.contains("group_link")||s.contains("bookmark_page_item__image")){let e=(0,a.gpeByClass)("_bookmark_page_item",n);if(!e)return;if(e.hasAttribute("data-clicked"))return;e.setAttribute("data-clicked",!0),_=K}(s.contains("ui_zoom")||s.contains("ui_zoom_icon"))&&(_=te);-1!==c.indexOf("Bookmarks.removeBookmark")&&(_=X);if(_===z)return;nt(),_===K&&rt(we,e,be,l,i,t,u,d,o,r);ct(e,be,l,_,i,t,u,d,o,r,Ke)}(e,t,i,o,r,c);case C:return void function(e,t,i,o,r,n){const s=n.classList,c=n.outerHTML,[l,d,u]=et(n,(e=>{let t=e.getAttribute("data-id");return t||(t=0),[0,t]}),"_bookmark_page_item");if(!l)return;let _=z;if(s.contains("mem_link")||s.contains("bookmark_page_item__image")){let e=(0,a.gpeByClass)("_bookmark_page_item",n);if(!e)return;if(e.hasAttribute("data-clicked"))return;e.setAttribute("data-clicked",!0),_=K}(s.contains("ui_zoom")||s.contains("ui_zoom_icon"))&&(_=te);-1!==c.indexOf("Bookmarks.removeBookmark")&&(_=X);if(_===z)return;nt(),_===K&&rt(Se,e,be,l,i,t,u,d,o,r);ct(e,be,l,_,i,t,u,d,o,r,Ke)}(e,t,i,o,r,c);case T:!function(e,t,i,o,r,n){const s=n.classList,c=n.tagName;let l=(0,a.gpeByClass)("ap_layer_wrap",n);if(l)return;let d=(0,a.gpeByClass)("search_results",n);if(!d)return;let[u,_,p]=et(n,(e=>{let t=e.getAttribute("data-full-id");return t&&t.indexOf("_")?t.split("_"):[0,0]}),"_audio_row");if(!u)return;let m=z;(s.contains("audio_row__cover_icon")||s.contains("audio_row__performer_title")||s.contains("audio_row__title")||s.contains("audio_row__title_inner")||s.contains("audio_row__title_inner_subtitle")||s.contains("audio_row__inner")||s.contains("audio_player__place")||s.contains("audio_row__action_next")||s.contains("audio_row__performers"))&&(m=re);s.contains("audio_row__action_add")&&(m=ie);"A"===c&&(m=ne);if(m===z)return;ct(e,be,u,m,i,t,p,_,o,r,Ke)}(e,t,i,o,r,c);break;case M:return void function(e,t,i,o,r,n,a){const s=a.classList;let[c,l,d]=et(a,(e=>{let t=e.getAttribute("data-id");return t&&t.indexOf("_")?t.split("_"):[0,0]}),"_video_item","#results ._video_item");if(!c)return;let u=z;(s.contains("video_thumb_play")||s.contains("video_item_controls")||s.contains("video_thumb_label_item")||s.contains("video_thumb_label")||s.contains("video_item_title")||s.contains("mv_subtitle"))&&(u=re);(s.contains("icon_add")||s.contains("video_thumb_action_add")||s.contains("VideoCard__action--add"))&&(u=ie);s.contains("icon_added")&&(u=oe);s.contains("group_link")&&(u=ae);s.contains("al_need_login")&&(u=ne);s.contains("mem_link")&&(u=se);if(u===z)return;ct(e,be,c,u,i,t,d,l,o,r,Ke,"",n)}(e,t,i,o,r,n,c);case L:return void function(e,t,i,o,r,n,a){const s=a.classList;let[c,l,d]=et(a,(e=>{let t=e.parentNode.getAttribute("href");return t=t.replace("/clip",""),t&&t.indexOf("_")?t.split("_"):[0,0]}),"ShortVideoGridItem__thumb",".ShortVideoGridItem__thumb");if(!c)return;let u=z;s.contains("ShortVideoGridItem__thumb")&&(u=re);if(u===z)return;ct(e,be,c,u,i,t,d,l,o,r,Ke,"",n)}(e,t,i,o,r,n,c);case F:return void function(e,t,i,o,r,n){const a=n.classList,s=n.tagName,c=n.parentElement?n.parentElement.classList:null,[,l,d,u,_]=et(n,((e,t)=>{let i="";switch(t){case 1:case 4:case 2:i=e.getAttribute("data-full-id");break;case 0:case 3:case 6:i=e.getAttribute("data-raw-id")}return i&&i.indexOf("_")?i.split("_"):i?[i,0]:[0,0]}),["_audio_pl_item","audio_block_small_item","_audio_row","_video_item"],"\n        ._audio_section__search ._audio_pl_item,\n        ._audio_section__search ._audio_row,\n        ._audio_section__search .audio_block_small_item,\n        ._audio_section__search .video_item,\n        ._audio_search_blocks ._audio_row,\n        ._audio_search_blocks ._video_item,\n        ._audio_search_blocks ._audio_pl_item,\n        ._audio_search_blocks .audio_block_small_item\n      ",{[De]:".CatalogBlock__search_global_albums ._audio_pl_item",[Me]:".CatalogBlock__search_owned_audios ._audio_row",[Ne]:".CatalogBlock__search_global_audios ._audio_row",[Le]:".CatalogBlock__search_global_artists .audio_block_small_item",[Oe]:".CatalogBlock__search_global_clips .video_item",[Pe]:'._audio_page_block__playlists_items[data-audio-context="search_owned_playlist"] ._audio_pl_item',[Re]:".CatalogBlock__search_global_playlists ._audio_pl_item"});if(!_)return;let p=z;a.contains("audio_row__action_more")||c&&c.contains("audio_row__actions")||(p=re);a.contains("audio_row__action_next")&&(p=re);u===Me&&a.contains("audio_row__action_recoms")&&(p=le);u===Me&&a.contains("audio_row__action_delete")&&(p=oe);u===Me&&a.contains("audio_row__action_add")&&(p=ie);u===Ne&&a.contains("audio_row__action_add")&&(p=ie);u===Oe&&a.contains("icon_add")&&(p=ie);u===Oe&&a.contains("icon_added")&&(p=oe);u===Le&&"A"===s&&(p=ne);if(p===z)return;ct(e,u,_,p,i,t,d,l,o,r,Ke)}(e,t,i,o,r,c);case D:return void function(e,t,i,o,r,n){const s=n.classList;let c=n;s.contains("ts_contact")||(c=(0,a.gpeByClass)("ts_contact",n,"div#ts_cont_wrap"));let[l,d,u]=et(c,(()=>[0,(c.id||"").replace("ts_contact","")]),"ts_contact","#ts_cont_wrap .ts_contact");if(!l)return;let _=K,p=Ke;switch(c.getAttribute("hinttype")){case"h_friends":p=Ye,s.contains("ts_contact_status")&&(_=Q);break;case"h_mutual_friends":case"s_people":case"h_mail_peers":p=Ye;break;case"h_vk_apps":case"h_apps":p=qe;break;case"h_events":p=Xe;break;case"h_publics":p=Qe;break;case"h_visited":case"s_groups":p=$e}ct(e,be,l,_,i,t,u,d,o,r,p)}(e,t,i,o,r,c);case B:return void function(e,t,i,o,r,n,a){const s=a.classList;let[,c,l,d,u]=et(a,((e,t)=>{let i="";switch(t){case 1:case 3:i=e.getAttribute("data-id");break;case 2:i=e.getAttribute("data-name")}return i&&i.indexOf("_")?i.split("_"):[0,0]}),["video_playlist_item","_video_item","ui_gallery_item"],"\n        #video_layout_search .video_playlist_item,\n        #video_layout_search ._video_item,\n        #video_subtab_pane_search_promo_albums .ui_gallery_item\n      ",{[Ue]:"#video_subtab_pane_search_albums .video_playlist_item",[Be]:"#video_subtab_pane_search_videos ._video_item",[Ve]:"#video_subtab_pane_search_promo_albums .ui_gallery_item",[He]:"#video_subtab_pane_search_global_videos ._video_item"});if(!u)return;let _=z;(s.contains("icon_add")||s.contains("video_thumb_action_add")||s.contains("VideoCard__action--add"))&&(_=ie);s.contains("icon_added")&&(_=oe);const p="video-restore-button-widget"===a.id;d===Be&&p&&(_=ie);d===Be&&s.contains("video_thumb_action_delete")&&(_=oe);(s.contains("video_item_title")||s.contains("video_item_controls")||s.contains("video_thumb_label_item")||s.contains("video_thumb_play"))&&(_=re);s.contains("group_link")&&(_=ae);s.contains("al_need_login")&&(_=ne);s.contains("mem_link")&&(_=se);_===z&&d===Ve&&(s.contains("VideoCard__controlsOverlay")||s.contains("VideoCard__title")||s.contains("VideoCard__icon")||s.contains("VideoCard__controlsOverlayText"))&&(_=K);if(_===z)return;ct(e,d,u,_,i,t,l,c,o,r,Ke,"",n)}(e,t,i,o,r,n,c);case V:case j:return void function(e,t,i,o,r,n){const s=n.classList;let c=Ze;const l=(0,a.gpeByClass)("market_row_line",n,".marketplace_content_search");l&&(c=Je);const d=c===Ze?"_market_row":"market_row_line";let[u,_,p]=et(n,(e=>[0,e.getAttribute("data-id")||0]),d,"#marketplace_content ."+d);if(!u)return;let m=z;switch(c){case Je:(s.contains("market_row_img")||s.contains("link"))&&(m=K),s.contains("market_favourite")&&!s.contains("selected")&&(m=q),s.contains("market_favourite")&&s.contains("selected")&&(m=X),s.contains("mem_link")&&(m=se),s.contains("group_link")&&(m=ae);break;case Ze:m=K,(s.contains("icon")||s.contains("fav"))&&(m=q)}if(m===z)return;ct(e,be,u,m,i,t,p,_,o,r,Ke)}(e,t,i,o,r,c);case H:return void function(e,t,i,o,r,n){const a=n.classList,s="ClassifiedsCatalogProduct__serpItem",[c,l,d]=et(n,(e=>[+e.getAttribute("data-owner-id"),+e.getAttribute("data-id")]),s);if(!c)return;let u=z;a.contains("ClassifiedsCatalogProduct__serpTap")&&(u=K);a.contains("MarketplaceCatalogProductFavouriteButton--favorite")&&(u=q);a.contains("MarketplaceCatalogProductFavouriteButton--notFavorite")&&(u=X);a.contains("ClassifiedsCatalogProduct__serpOwnerGroup")&&(u=ae);a.contains("ClassifiedsCatalogProduct__serpOwnerUser")&&(u=se);if(u===z)return;ct(e,be,c,u,i,t,d,l,o,r,Ke)}(e,t,i,o,r,c);case x:return void function(e,t,i,o,r,n){let[,a,s,c,l]=et(n,(e=>{let t=e.getAttribute("data-peer");return t||(t=0),[0,t]}),"_im_dialog","._im_page_dcontent ._im_dialog",{[xe]:"._im_page_dcontent ._im_dialog:not(._im_search)",[Fe]:"._im_page_dcontent ._im_dialog._im_search"});if(!l)return;ct(e,c,l,K,i,t,s,a,o,r,Ke)}(e,t,i,o,r,c);case N:return void function(e,t,i,o,r,n){const a=n.classList,s=n.outerHTML;let[,c,l,d,u]=et(n,(e=>{let t=e.getAttribute("id");return t&&(t=t.replace("docs_file_","")),t&&t.indexOf("_")?t.split("_"):[0,0]}),"_docs_item","#docs_list ._docs_item, #docs_search_list ._docs_item",{[Te]:"#docs_list ._docs_item",[Ie]:"#docs_search_list ._docs_item"});if(!u)return;let _=z;d===Ie&&a.contains("docs_add_row")&&(_=ie);d===Te&&a.contains("docs_delete_row")&&(_=oe);d===Te&&-1!==s.indexOf("Docs.restoreItem")&&(_=ie);d===Te&&a.contains("docs_edit_row")&&(_=ue);(a.contains("highlight")||a.contains("docs_item_thumb_img")||a.contains("docs_item_icon")||a.contains("docs_item_name"))&&(_=K);-1!==s.indexOf("Docs.tagSearch")&&(_=de);if(_===z)return;ct(e,d,u,_,i,t,l,c,o,r,Ke)}(e,t,i,o,r,c);case k:case P:return void function(e,t,i,o,r,n){const[a,s,c]=et(n,(e=>{let t=e.getAttribute("id");return t=t?t.replace("app",""):0,[0,t]}),"_apps_cat_row");if(!a)return;let l=K;if(l===z)return;ct(e,be,a,l,i,t,c,s,o,r,Ke)}(e,t,i,o,r,c);case G:return void function(e,t,i,o,r,n){const a=n.classList,[s,c,l]=et(n,(e=>[0,e.getAttribute("data-app-id")||0]),"GameCatalogSearchCard");if(!s)return;let d=z;(a.contains("GameCatalogSearchCard__screenshotImg")||a.contains("GameCatalogSearchCard__run")||a.contains("GameCatalogSearchCard__avatar")||a.contains("GameCatalogSearchCard__name"))&&(d=re);if(d===z)return;ct(e,be,s,d,i,t,l,c,o,r,Ke)}(e,t,i,o,r,c);case R:return void function(e,t,i,o,r,n){const[a,s,c]=et(n,(()=>{let e=n.getAttribute("href")||"";e=e.replace("/photo","");let t=e.split("_");return 2!==t.length?[0,0]:[t[0],t[1]]}),"page_post_thumb_wrap","._feed_rows .page_post_thumb_wrap");if(!a)return;ct(e,be,a,K,i,t,c,s,o,r,Ke)}(e,t,i,o,r,c);case y:case E:case A:case S:case b:return void function(e,t,i,o,r,n){const s=n.classList,c=n.outerHTML,l=(0,a.gpeByClass)("replies",n,".post");if(l)return;let d="feed_row",u="";e!==S&&e!==y&&e!==E||(d="post");e!==y&&e!==E||(u="#page_search_posts .post");const[_,p,m]=et(n,(e=>{let t;if(e.classList.contains("post"))t=e;else{const i=e.getElementsByClassName("post");if(0===i.length)return[0,0];t=i[0]}if(!t)return[0,0];const i=(t.getAttribute("data-post-id")||"").split("_");return 2===i.length?i:[0,0]}),d,u);if(!_)return;let g=z;const v=(0,a.gpeByClass)("wall_text",n,".post");(v||s.contains("wall_text"))&&(g=K);(s.contains("author")||s.contains("post_img")||s.contains("copy_author")||s.contains("copy_post_img")||s.contains("_copy_post_img")||s.contains("PostHeader__avatar"))&&(g=ce);const f=(0,a.gpeByClass)("PostHeaderSubtitle__link",n,"_post");(s.contains("rel_date")||s.contains("published_by_date")||f)&&(g=K);const A=(0,a.gpeByClass)("like",n,".post"),b=(0,a.gpeByClass)("PostBottomActionContainer",n,"_post");(A||s.contains("like")||b)&&(g=_e);const T=(0,a.gpeByClass)("comment",n,".post");(T||s.contains("comment"))&&(g=pe);const I=(0,a.gpeByClass)("share",n,".post");(I||s.contains("share"))&&(g=he);s.contains("ui_actions_menu_item")&&-1!==c.indexOf("bookmarkPost")&&(g=q);s.contains("ui_actions_menu_item")&&-1!==c.indexOf("wall.markAsSpam")&&(g=ge);const C=(0,a.gpeByClass)("PostTextMore",n,"_post");C&&(g=me);if(g===z)return;ct(e,be,_,g,i,t,m,p,o,r,Ke)}(e,t,i,o,r,c);case U:case O:return void function(e,t,i,o,r,n){const a=n.classList,s=n.tagName,[c,l,d]=et(n,(e=>{let t=e.getAttribute("id");return t=t?t.replace("app",""):0,[0,t]}),"_apps_settings_row");if(!c)return;let u=z;a.contains("apps_settings_stats")&&(u=ve);"A"!==s&&"img"!==s||(u=K);if(u===z)return;ct(e,be,c,u,i,t,d,l,o,r,Ke)}(e,t,i,o,r,c)}}function it(){const e=window.vk.id;let t={[e]:{}};const i=c.vkLocalStorage.getItem(je);if(!i)return t;try{t=JSON.parse(i)}catch(e){t={}}return t&&e&&(t={...t,[e]:{...t[e]}}),t}function ot(e){if("locked"===c.vkLocalStorage.getItem(We))setTimeout((()=>ot(e)),100);else{c.vkLocalStorage.setItem(We,"locked");try{e()}catch(e){}c.vkLocalStorage.setItem(We,"free")}}function rt(e,t,i,o,r,n,a,s,l,d,u=!1,_=0){ot((()=>{const p=window.vk.id;let m=Math.round(+new Date/1e3),g=it();g[p][e]=g[p][e]||{};const v=Object.keys(g[p][e]);if(v.length>=ze){let t=v[0],i=g[p][e][t][0];v.forEach((o=>{let r=g[p][e][o][0];r<i&&(i=r,t=o)})),delete g[p][e][t]}g[p][e][a]=[m,t,i,o,r,n,s,l,d,u,_],c.vkLocalStorage.setItem(je,JSON.stringify(g))}))}function nt(){ot((()=>{let e=it();if(!e)return;const t=Math.round(+new Date/1e3);Object.keys(e).forEach((i=>{Object.keys(e[i]).forEach((o=>{let r=e[i][o];Object.keys(r).forEach((e=>{let i=r[e][0];t-i>Ge&&delete r[e]})),e[i][o]=r,0===Object.keys(r).length&&delete e[i][o]}))})),c.vkLocalStorage.setItem(je,JSON.stringify(e))}))}function at(e,t,i){const o=window.vk.id;let r=it();r[o][e]=r[o][e]||{};const n=r[o][e][t];if(!n)return;Math.round(+new Date/1e3)-n[0]>Ge?st(!0,e,t):ct(n[1],n[2],n[3],i,n[4],n[5],t,n[6],n[7],n[8],Ke,"",n[9],n[10])}function st(e,t,i){e&&ot((()=>{const e=window.vk.id;let o=it();o[e][t]=o[e][t]||{},o[e][t][i]&&(delete o[e][t][i],c.vkLocalStorage.setItem(je,JSON.stringify(o)))}))}function ct(e,t,i,o,r,n,a,c,l,d,u,_="",p=!1,m=0){if(!i)return;const g=-(new Date).getTimezoneOffset();(0,s.statlogsValueEvent)("search_position",e,u,o,t,i,p,c,a,n,g,r,l,d,_,m)}function lt(){for(let e in d)d.hasOwnProperty(e)&&dt(e)}function dt(e){if(d[e]){const t=d[e];(0,r.removeEvent)(window,"click",t),delete d[e]}}function ut(e,t){const i=t||e.target.getAttribute("data-stats-key");i&&i.length>0&&(0,s.statlogsValueEvent)("submenu_clicks",0,i)}function _t(e,t,i,o,n="0",a=0,c="0",l="",u=be,_="",p=!1,m=0,g=null,v=0,f=!1){i=i?1:0,n=n&&"0"!==n?n:pt(),f||function(e,t,i,o,r,n,a,c,l="",d=!1,u=0,_=0,p=0){const m=-(new Date).getTimezoneOffset();(0,s.statlogsValueEvent)("search_attempts",e,d,n,o,m,i,a,r,c,t,l,u,_,p)}(e,u,n,o,c,i,a,l,_,p,m,g,v),d[e]&&dt(e);const y=tt.pbind(e,o,n,a,l,p);d[e]=y,(0,r.addEvent)(window,"click",y,!1,!1,!0),cur.destroy||(cur.destroy=[]),cur.destroy.some((e=>e===lt))||cur.destroy.push(lt)}function pt(){return(0,n.rand)(-9223372035,9223372035).toFixed(0).concat((0,n.rand)(0,999999999).toFixed(0))}},384903:(e,t,i)=>{"use strict";i.d(t,{initStl:()=>g});var o=i(683234),r=i(972332),n=i(672277),a=i(692543),s=i(754866),c=i(478752),l=i(102088),d=i(81930),u=i(137771),_=i(664441);let p=!1,m=!0;function g(){window._tbLink.onclick=e=>{!1===window.nav.go(window._tbLink,e,{back:!0})&&(window.showBackLink(),e&&e.preventDefault())};const e={onclick:v,onmousedown:f,onmouseover:y,onmouseout:y};(0,s.val)(_stlLeft,`<div id="stl_bg"><div id="stl_text">${(0,d.getIcon24ChevronUp)().icon} ${(0,l.getLang)("global_to_top")}</div></div>`),(0,c.extend)(_stlLeft,e),(0,c.extend)(_stlSide,e),i._dG("_stlBg",_stlLeft.firstChild),i._dG("_stlText",window._stlBg.firstChild),(0,r.addEvent)(window,"blur",(function(){i._dG("_wf",-1),p=!1})),(0,r.addEvent)(window,"focus",(function(){i._dG("_wf",1),p||(i._dG("__afterFocus",!0),p=!0,setTimeout((function(){i._dG("__afterFocus",!1)}),10),m&&((0,o.sbWidth)(!0),(0,u.onBodyResize)(!0),m=!1))}))}function v(e){return(0,r.checkEvent)(e)||(0,r.cancelEvent)(e)}function f(e){if(e=e||window.event,!(0,r.checkEvent)(e)&&!__afterFocus)if(_stlWasSet&&_stlWas){const e=_stlWas;i._dG("_stlWas",0),(0,n.scrollToY)(e,0,!0,!0),(0,_.updateLeftMenu)(!0)}else 1===_stlBack?_tbLink.onclick():(i._dG("_stlWas",(0,a.scrollGetY)()),(0,n.scrollToY)(0,0,!0,!0),(0,_.updateLeftMenu)())}function y(e){const t=e?e.originalEvent||e:window.event||{},i="mouseover"===t.type&&(t.pageX>0||t.clientX>0);(0,s.toggleClass)(_stlLeft,"over",i),(0,s.toggleClass)(_stlLeft,"over_fast",i&&(0===_stlBack||_tbLink.fast)&&0===_stlWasSet),(0,s.toggleClass)(_stlSide,"over",i)}},856771:(e,t,i)=>{"use strict";i.r(t),i.d(t,{sendMask:()=>D,showNarrative:()=>P,showStory:()=>k,storiesPreloadStatic:()=>M});var o=i(270959),r=i(246429),n=i(102088),a=i(226220),s=i(754866),c=i(511356),l=i(530888),d=i(540462),u=i(319756),_=i(602204),p=i(608814),m=i(298544),g=i(762673),v=i(60512),f=i(178018),y=i(75385),E=i(727027),A=i(793442),S=i(214290),b=i(628399),T=i(288921);let I=!1,C=!1;function k(e,t={},i=void 0){if((0,y.isSPAStoriesViewerEnabledWeb)()){const i=performance.now();(0,c.trackStoryOpeningStart)({nonce:i,isColdStart:!(0,S.getSharedStoriesViewerLoadParams)().state.storiesViewerLoaded,isAnimated:null!=t.fromEl,viewSource:t.source,navigationSource:l.StoryTypeOpen.OPEN_STORY_BY_CLICK});const o=(0,f.getSharedStoriesViewerOpenParams)().state;o.withAnimate=Boolean(t.fromEl),o.onClose=t.onClose,o.afterNarrativeRemoved=t.afterNarrativeRemoved,o.afterNarrativeEdited=t.afterNarrativeEdited,o.nonce=i,o.source=t.source;const{narrativesViewerModal:r,storiesViewerModal:n}=p.webLayersConfig,a=Boolean((0,v.matchLayer)({layerName:"w",layerPath:decodeURIComponent(window.location.search).replace("?w=",""),layersConfig:{narrativesViewerModal:r,storiesViewerModal:n},partConfigEnabled:d.partConfigEnabled,isToggleEnabled:d.isToggleEnabled})),[s,_,y,I,C,k]=(0,g.parseList)(e),P=e=>{e&&(0,u.ensureDIRootWebContainer)().resolve(p.WebLayers).open((0,b.getStoriesViewerLayerKey)(),{layerParams:e,replace:a})},O=e=>{e&&(0,u.ensureDIRootWebContainer)().resolve(p.WebLayers).open((0,T.getStoriesViewerNarrativesKey)(),{layerParams:e,replace:a})};if((0,A.saveLayersBeforeOpeningStoryLayers)(),_&&s&&C)P({storyId:_,ownerId:s,listName:C});else{const e=(0,m.getSearchQuery)();(0,u.ensureDIRootWebContainer)().resolve(E.StoriesViewerDataService).getStoryViewerModalParams({listName:C,query:e,blockKey:I,uniqKey:y,extra:k}).then((e=>{e.narrativeId?O(e):P(e)}))}return}(0,c.trackStoryOpeningStart)({nonce:e,isColdStart:!C,isAnimated:null!=t.fromEl,viewSource:t.source,navigationSource:l.StoryTypeOpen.OPEN_STORY_BY_CLICK});const o=`stories_viewer_loader_${performance.now()}`;let r=!1;clearTimeout(I),I=setTimeout((function(){document.body.appendChild((0,s.ce)("div",{id:"stories_loader",innerHTML:(0,a.getProgressHtml)("stories_loader_pr","pr_baw pr_medium")+'<div class="back"></div>'})),r=!0,(0,c.trackShowViewerLoader)({nonce:o,isColdStart:!C})}),1e3),(0,_.loadStoryViewerStatic)().then((()=>{clearTimeout(I),(0,s.re)("stories_loader"),C=!0,r&&(0,c.trackHideViewerLoader)({nonce:o}),window.Stories.show(e,t,i)}))}function P(e,t,i=0,o="",r={}){const n=`narrative${t}`;i=i?`_${i}`:"";let a=o.match(/^narrative(-?\d+)_(\d+)(?:_(\d+))?(?:\/([a-z0-9_\-]+))?(?:\/([a-z0-9_:;\-]+))?$/i);if(a){const[,,,,i,r]=a;o=i||(r?`narrative${e}_${t}/${r}`:`narrative${e}_${t}`)}else o=o||`narrative${e}_${t}`;k(o=`${e}${i}&${n}/${o}`,r)}let O=!1;function M(){O||(O=!0,window.stManager.add([window.jsc("web/stories.js"),"stories.css",window.jsc("web/story_publisher.js")]))}let L=!1;function D(e,t,i=!1){L||(L=!0,ajax.post("al_stories.php",{act:"send_mask",mask_id:e,hash:t,is_short_video:i},{loader:!0,onDone:(e,t,i,a)=>{"cant_send"===e?(0,o.showFastBox)({title:t,width:460},i,a):(0,r.showDoneBox)((0,n.getLang)("stories_mask_sent")),L=!1},onFail:()=>(L=!1,(0,o.showFastBox)({title:(0,n.getLang)("global_box_error_title")},(0,n.getLang)("global_unknown_error")),!0)}))}},342879:(e,t,i)=>{"use strict";i.d(t,{destroyAllTooltips:()=>d,hideAllTooltips:()=>l,showHint:()=>c,showTitle:()=>s,showTooltip:()=>a});var o=i(754866),r=i(972332),n=i(478752);function a(e,t){(vk.loaded||t.noload)&&e&&(e.temphide||(e.temphide=function(){e.showing=!1},(0,r.addEvent)(e,"mouseout",e.temphide)),e.showing=!0,"loadingstat"!==e.tt&&(e.tt||(e.tt="loadingstat"),cur.cancelTooltip=!1,t.stat&&window.stManager.add(t.stat),window.stManager.add([window.jsc("web/tooltips.js"),"tooltips.css"],(function(){"loadingstat"===e.tt&&(e.tt=!1),e.showing&&!cur.cancelTooltip&&(!function(e){e.temphide&&((0,r.removeEvent)(e,"mouseout",e.temphide),(0,o.removeAttr)(e,"temphide"),(0,o.removeAttr)(e,"showing"))}(e),e.tt&&e.tt.el&&!t.force||(tooltips.create(e,t),t.onCreate&&t.onCreate()),tooltips.show(e,t))}))))}function s(e,t,i,r){e=(0,o.ge)(e);if(!i){i=[Math.round(20-(0,o.getSize)(e)[0]/2),8]}a(e,(0,n.extend)({text:function(){return t||e.getAttribute("data-title")},shift:i,black:1},r||{}))}function c(e,t){t=t||{};a(e=(0,o.ge)(e),(0,n.extend)({text:function(){return e.getAttribute("data-title")},dir:"auto",width:300,shift:[22,8]},t))}function l(e){tooltips.hideAll(e)}function d(e){tooltips.destroyAll(e)}},801484:(e,t,i)=>{"use strict";i.d(t,{default:()=>E});var o=i(754866),r=i(898848),n=i(788789),a=i(972332),s=i(478752),c=i(633009),l=i(102088),d=i(449299),u=i(568129),_=i(440180),p=i(959156),m=i(540462),g=i(43899),v=i(468073),f=i(419733);const y={searchLinkId:"ts_search_link",cache:{},lists:{},maxItems:8,init:function(){if(this.inited)return!1;const e=(0,o.ge)("ts_input"),t=(0,o.ge)("ts_cont_wrap");if(!e)return!1;(0,a.addEvent)(e,"focus",(function(){y.deselect(),(0,s.trim)((0,o.val)(this))&&(0,o.addClass)(t.firstChild,"active"),y.toggleInput(!0)})),(0,a.addEvent)(e,"keydown",(function(i){switch(i.keyCode){case a.KEY.DOWN:case a.KEY.UP:y.moveSelection(i.keyCode),(0,a.cancelEvent)(i);break;case a.KEY.ENTER:const r=(0,o.geByClass1)("active",t);if(r)y.select(r,i);else{const t=(0,s.trim)((0,o.val)(this));t&&(e.blur(),y.clear(),y.toggleInput(!1),nav.go("/search?c[section]=auto&c[q]="+encodeURIComponent(t)))}(0,a.cancelEvent)(i);break;case a.KEY.TAB:y.clear(),y.toggleInput(!1),(0,c.cancelStackFilter)("top_search",!0)}})),vk.id&&((0,a.addEvent)(e,"keyup",(function(e){switch(e.keyCode){case a.KEY.DOWN:case a.KEY.UP:case a.KEY.ENTER:case a.KEY.ESC:(0,a.cancelEvent)(e);break;default:y.prepareRows((0,s.trim)((0,o.val)(this)))}})),(0,a.addEvent)(e,"paste",(function(){setTimeout((function(){y.prepareRows((0,s.trim)((0,o.val)(e)))}),10)})),(0,a.addEvent)(document,"mousedown",(function(e){(0,a.checkKeyboardEvent)(e)||(0,o.domClosest)("top_audio_layer_place",e.target)||(0,o.domClosest)("_ap_layer__close",e.target)||(0,o.domClosest)("layer_wrap",e.target)||(0,o.domClosest)("PortalNavigation",e.target)||(0,o.domClosest)("PortalNavigationDropdown",e.target)||(0,o.domClosest)("ObsceneTextAlertBox",e.target)||(0,f.topHeaderClose)()})),this.inited=!0)},clear:function(){window.tooltips&&tooltips.destroyAll((0,o.ge)("ts_cont_wrap"));const e=(0,o.ge)("ts_input");e&&((0,o.val)(e,""),e.blur(),this.prepareRows())},select:function(e,t,i){if((0,a.checkEvent)(t))return!0;const r=(0,o.ge)("ts_input"),n=(0,s.trim)((0,o.val)(r)).length,c=e.getAttribute("hinttype");if(this.clear(),(0,f.topHeaderClose)(),n||r.blur(),i&&(0,o.hasClass)(t.target,"ts_contact_status"))return ajax.post("al_search.php",{act:"save_metrics",ql:n,mk:"chat_box"}),window?.reforgedME?.selectPeer?window.reforgedME.selectPeer(i,"global_search"):this.writeBox(i),!1;const l=nav.go(e,t,{params:{search_string:cur.tsStr||""}});return ajax.post("al_search.php",{act:"save_metrics",ql:n,mk:c}),l},deselect:function(){const e=(0,o.ge)("ts_cont_wrap");(0,s.each)((0,o.geByClass)("active",e),((e,t)=>(0,o.removeClass)(t,"active")))},itemOver:function(e,t,i){1===t&&y.deselect();const r=(0,s.inArray)(e.getAttribute("hintType"),["h_friends","h_correspondents","h_chats"]);(0,o.toggleClass)(e,"write",r),(0,o.toggleClass)(e,"active",t)},moveSelection:function(e){const t=(0,o.ge)("ts_cont_wrap"),i=(0,o.geByClass1)("active",t);let r;switch(e){case a.KEY.UP:r=!!i&&(this.getNextNode(i,-1,"a")||i);break;case a.KEY.DOWN:r=i?this.getNextNode(i,1,"a")||i:t.firstChild}return this.deselect(),r&&(0,o.addClass)(r,"active"),!1},getNextNode:function(e,t,i){let r=e;const n=(0,o.domPN)(e);for(;;){if(r=t>0?(0,o.domNS)(r):(0,o.domPS)(r),r||(r=t>0?(0,o.domFC)(n):(0,o.domLC)(n)),i&&r.tagName&&r.tagName.toLowerCase()===i||!i&&r)return r;if(r===e)return!1}},toggleInput:function(e){e=!!e;const t=(0,o.ge)("ts_cont_wrap");(0,o.isVisible)(t)!==e&&((0,o.toggle)("ts_cont_wrap",e),e&&(0,c.cancelStackPush)("top_search",(function(){const e=(0,o.ge)("ts_input");y.toggleInput(!1),e.blur()}),!0))},getList:function(e){switch(e){case"friends":return((0,r.isObject)(this.lists.friends)&&!(0,s.isEmpty)(this.lists.friends)?this.lists.friends:this.topFriends)||{};case"publics":case"events":case"groups":case"apps":case"chats":case"search":return this.lists[e]||{}}return{}},onlines:function(){return this.lists.onlines||{}},getSimilarQueries:function(e){const t=[e=e.toLowerCase()];let i;return(i=(0,l.parseLatin)(e))&&t.push(i),(i=(0,l.parseLatKeys)(e))&&t.push(i),(i=(0,l.parseCyr)(e))&&t.push(i),t},searchCache:function(e,t){const i=y.getList(e);if(!t)return!1;const o=this.getSimilarQueries(t);if(void 0!==this.cache[e][t])return o;const n=this.cache[e][t]={};(0,s.each)(o,((t,o)=>{const a=this.cache[e][" "+o.charAt(0).toLowerCase()];if(a){const e=new RegExp("(^|[\\s\\-\\(\\)\\.,;|:]+)"+(0,s.escapeRE)(o),"gi");(0,s.each)(a,(t=>{const o=i[t+"_"];if(!(0,r.isArray)(o))return!0;null!==o[0].match(e)&&(n[t]=1)}))}}));let a=0;return(0,s.each)(n,(()=>a++)),n._num=a,o},updateCache:function(e,t,i){const o=t||this.getList(e);this.cache[e]=i&&this.cache[e]||{},(0,s.each)(o,((t,i)=>{const o=i[0],r=(0,s.intval)(t),n=o.split(/[\s\-\(\)\.,;|:]+/);(0,s.each)(n,((t,i)=>{const o=" "+i.charAt(0).toLowerCase();this.cache[e][o]=this.cache[e][o]||{},this.cache[e][o][r]=1}))}))},listSearch:function(e,t,i,o){const r=[];let n={};return t?(y.searchCache(e,t),n=y.cache[e]&&y.cache[e][t]||{}):(0,s.each)(y.getList(e),(function(e){const t=(0,s.intval)(e);n[t]=1})),(0,s.each)(y.getList(e),(function(e){const t=(0,s.intval)(e),a=n[t];if((!o||!o[t])&&a)return!!i--&&void r.push([t,this])})),r},row:function(e,t,i,o,r,n,a,c,l,u=!1){let p=0;if(n&&(o=o.replace(n,'$1<em class="ts_clist_hl">$2</em>')),(0,s.inArray)(a,["h_friends","h_correspondents","h_chats"])&&(p=e),c||(c=""),l=(0,s.intval)(l)){let t="";1&l&&(t+="page_verified "),2&l&&(t+="page_top_author "),8&l&&9!=l&&(t+="page_verified page_verified_by_services "),l=`<div class="${t}" onmouseover="pageVerifiedTip(this, {type: ${l}, oid: ${e}})"></div>`}else l="";let v="";p&&(v=(0,_.getIcon16MessageOutline)().icon);return`\n<a href="${t}" class="ts_contact clear_fix" id="ts_contact${e}" onclick="return TopSearch.select(this, event, ${p});" onmousedown="event.cancelBubble = true;"\n      onmouseover="TopSearch.itemOver(this, 1, event);"  onmouseout="TopSearch.itemOver(this, 0, event);" hinttype="${a}">\n  ${(0,m.partConfigEnabled)("avatar_component_refactor_web")?(0,g.renderAvatarToString)(i,34,"","ts_contact_photo",r,"",!1,e,o,u):`\n        <span class="ts_contact_photo ${(0,d.onlinePlatformClass)(r)}">\n            <img class="ts_contact_img" src="${i}" alt="" />\n        </span>\n    `}\n  <span class="ts_contact_name fl_l">\n    <div class="ts_contact_title_wrap${l?" is_verified":""}">\n      <span class="ts_contact_title">${o}</span>\n    </div>${l}\n    <div class="ts_contact_info">${c}</div>\n  </span>\n  <div class="ts_contact_status">${v}</div>\n</a>`},searchLists:function(e){let t={};return t=e?{friends:{order:0,count:y.maxItems-1,label:(0,l.getLang)("global_friends")},groups:{order:1,count:4,label:(0,l.getLang)("global_communities")},publics:{count:2,parent:"groups"},events:{count:1,parent:"groups"},apps:{order:2,count:1,label:(0,l.getLang)("global_apps")},vk_apps:{order:2,count:1,label:(0,l.getLang)("global_apps")},chats:{order:3,count:y.maxItems-1,label:(0,l.getLang)("global_chats")},search:{order:4,count:y.maxItems-1,label:(0,l.getLang)("head_search_results")}}:{friends:{order:0,count:y.maxItems,label:(0,l.getLang)("global_friends")}},t},initListsHtml:function(){y.listsHtml=[]},addToListsHtml:function(e,t,i){const o=y.searchLists(i),r=o[(o[e]||{}).parent||e]||{},n=r.order||0,a=r.label||"";y.listsHtml[n]=y.listsHtml[n]||(i&&a?[`<div class="ts_search_sep">${a}</div>`]:[]),y.listsHtml[n].push(t)},searchLinkHtml:function(e,t,i,o){return`<a href="${(0,s.clean)(e)}" class="ts_search_link${o?" ts_search_link_sep":""} clear_fix active" id="${(0,s.clean)(i)}" onclick="return TopSearch.select(this, event);" onmousedown="event.cancelBubble = true;" onmouseover="TopSearch.itemOver(this, 1, event);" onmouseout="TopSearch.itemOver(this, 0, event);" >\n        <span class="ts_search_link__label">${t}</span>\n        <span class="ts_search_link__icon">${(0,p.getIcon16Chevron)().icon}</span>\n      </a>`},htmlRows:function(e){let t="";const i=y.listsHtml.map((e=>e.join(""))).join("");if(e){const i="#"===e[0],o=`/search?c[section]=${i?"statuses":"auto"}&c[q]=${encodeURIComponent(e)}`,r=i?(0,l.getLang)("global_news_search_results"):(0,l.getLang)("global_show_all_results");t=y.searchLinkHtml(o,r,y.searchLinkId)}return t+i},prepareRows:function(e){let t=y.maxItems;const i=(0,o.ge)("ts_cont_wrap");if(!i||!vk.id)return!1;if(cur.tsStr&&cur.tsStr===e&&!y.forceUpdate)return!1;delete y.forceUpdate,y.initListsHtml();const r={};if(e){const i=[];(0,s.each)(this.getSimilarQueries(e),(function(){i.push((0,s.escapeRE)(this))})),cur.lastRe=new RegExp("([ -]|^|s|&nbsp;|\b)("+i.join("|")+")","gi"),t--}(0,s.each)(y.searchLists(e),(function(i,n){if(!y.cache[i])return;const a=n.count,c=y.listSearch(i,e,a,r),l=[];let d=0;(0,s.isEmpty)(c)||((0,s.each)(c,((e,i)=>{if(!t||d>=a)return!1;l.push(i),t--,d++})),l.length&&(0,s.each)(l,((t,n)=>{const a=n[1],c=(0,s.intval)(n[0]),l=!!v.Ranges.isUserIdTransitional(c)&&y.onlines()[c],[d,u,_,p,m,g,f=!1]=a,E="search"===i?p:"h_"+i,A=y.row(c,_,u,d,l,o.re,E,m,g,f);y.addToListsHtml(i,A,e),r[c]=1})))})),i.innerHTML=y.htmlRows(e),e||(0,u.removeSearchPositionTracker)(u.serviceTopSearch),!t&&e&&"#"!==e[0]&&(0,u.saveSearchAttemptStats)(u.serviceTopSearch,0,!0,e),t&&e&&"#"!==e[0]&&this.hintsSearch(e,cur.lastRe||!1),(e||""===e)&&(cur.tsStr=e)},hintsSearch:function(e,t){const i=(0,o.ge)("ts_input"),r=(0,o.ge)("ts_cont_wrap");let n;const a=+new Date;ajax.post("al_search.php",{act:"get_pages_hints",q:e},{cache:1,onDone:function(c,l){if((0,s.trim)((0,o.val)(i))!==e)return!1;if(!c)return!1;let d=y.maxItems-(0,o.geByClass)("ts_contact",r).length-1;const _=d,p={};(0,s.each)(c,(function(i,r){const a=(0,s.intval)(i),[c,l,u,_,m,g,v=!1]=r,f=y.searchLists(e),E=_.replace("h_","");let A=(f[E]||{}).parent||E;if(void 0===f[A]&&(A="search"),p[A]=p[A]||{},p[A][i]=r,y.lists[A]=y.lists[A]||{},y.lists[A][i]=r,(0,o.ge)("ts_contact"+a))return!0;if(!d--)return!1;const S=y.row(a,u,l,c,!1,t,_,m,g,v);return y.addToListsHtml(A,S,e),n=!0,!0}));const m=+new Date-a;if((0,u.saveSearchAttemptStats)(u.serviceTopSearch,0,_!==d,e,0,l,m),(0,s.each)(p,((e,t)=>y.updateCache(e,t,!0))),n){const t=(0,o.geByClass1)("active",r),i=t?t.id:"";r.innerHTML=y.htmlRows(e),i&&(0,o.ge)(i)&&(0,o.addClass)((0,o.ge)(i),"active")}}})},writeBox:function(e){v.Ranges.isUserIdTransitional(e)?(0,n.showWriteMessageBox)(!1,e):nav.go("/im?sel="+e)}},E=y},419733:(e,t,i)=>{"use strict";function o(e,t){window.headerDestroy&&window.headerDestroy(t),i._dG("headerDestroy",e)}function r(){delete window.headerDestroy}i.d(t,{topHeaderClearClose:()=>r,topHeaderClose:()=>o})},683234:(e,t,i)=>{"use strict";i.d(t,{actionsMenuItemLocked:()=>y,buttonLocked:()=>k,checkbox:()=>D,createButton:()=>f,disable:()=>R,disableButton:()=>O,disableEl:()=>B,enableEl:()=>V,hideProgress:()=>U,initUiHelpers:()=>H,isButtonLocked:()=>P,isChecked:()=>L,linkLocked:()=>S,lockActionsMenuItem:()=>E,lockButton:()=>I,lockLink:()=>b,notaBene:()=>g,radiobtn:()=>x,radioval:()=>N,sbWidth:()=>M,showProgress:()=>F,unlockActionsMenuItem:()=>A,unlockButton:()=>C,unlockLink:()=>T,updSideTopLink:()=>v});var o=i(754866),r=i(972332),n=i(478752),a=i(692543),s=i(939646),c=i(330882),l=i(102088),d=i(952661),u=i(81930),_=i(321903),p=i(377803),m=i(193846);function g(e,t,i){if(!(e=(0,o.ge)(e)))return;if(e.classList.contains("selector_container"))return e.classList.add("selector_container--error"),void setTimeout((()=>{e.classList.remove("selector_container--error")}),700);(e.classList.contains("vkuiInput__el")||e.classList.contains("vkuiTextarea__el"))&&(e=e.parentNode),i||(0,o.elfocus)(e),void 0===(0,o.data)(e,"backstyle")&&(0,o.data)(e,"backstyle",e.style.backgroundColor||"");const r=(0,o.data)(e,"back")||(0,o.data)(e,"back",(0,o.getStyle)(e,"backgroundColor")),n={notice:p.default.colorBackgroundNegativeTint.normal.value,warning:p.default.colorBackgroundNegativeTint.normal.value};(0,o.setStyle)(e,"backgroundColor",n[t]||t||n.warning),setTimeout((()=>(0,s.animate)(e,{backgroundColor:r},300,(function(){e.style.backgroundColor=(0,o.data)(e,"backstyle")}))),400)}function v(e){if(!window.scrollNode||c.browser.mobile||!window._tbLink)return;const t=(0,o.ge)("page_body");if(!t)return;const r=(0,o.getXY)(t);let n=(0,a.scrollGetY)();const d=document.body.scrollLeft,p=(0,o.ge)("side_bar")||(0,o.ge)(m.LAYOUT_SIDEBAR_ID),g=(0,o.isVisible)(p);if(i._dG("_stlSideTop",Math.max((g?(0,o.getSize)(p)[1]:0)-n-(c.browser.mozilla?(0,o.getXY)(pageNode)[1]:0),r[1])),e||d!=__scrLeft){const e=(0,o.ge)("page_layout"),i=vk.rtl?e.offsetLeft+e.offsetWidth:0,n=vk.rtl?(window.lastWindowWidth||0)-i:e.offsetLeft;(0,o.setStyle)(_stlLeft,{width:Math.max(n-1,0)});const a=vk.rtl?r[0]+t.offsetWidth+5:n,s=vk.rtl?i-a:r[0]-5-a;(0,o.setStyle)(_stlSide,{left:a-d,width:Math.max(s,0)}),__scrLeft=d}const v=window._hasFixedAds?window._fixedAdsHeight:0;(0,o.setStyle)(_stlSide,{top:_stlSideTop+v,height:Math.max((window.lastWindowHeight||0)-_stlSideTop-v,0)}),__adsUpdate();const f=200,y=_tbLink.loc||_stlWas||n>f,E=n>250&&cur._regBar;let A=0,S=!1;if(y){1!==_stlShown&&(_stlLeft&&(_stlLeft.style.display="block"),_stlSide&&(_stlSide.style.display="block"),(0,o.addClass)(_stlLeft,"stl_active"),(0,o.addClass)(_stlSide,"stl_active"),_stlShown=1),_tbLink.loc&&cur._noUpLink&&(n=0),_stlWas&&n>500&&(_stlWas=0),n>f?(A=(n-f)/f,(_stlWasSet||_stlBack)&&(_stlWasSet=_stlBack=0,S=1,(0,o.val)(_stlText,`${(0,u.getIcon24ChevronUp)().icon} ${(0,l.getLang)("global_to_top")}`))):(A=(f-n)/f,_stlWas?_stlWasSet||(_stlWasSet=1,S=0,(0,o.val)(_stlText,(0,_.getIcon24ChevronDown)().icon),_stlBack&&(_stlBack=0)):_tbLink.loc&&(_stlBack||(_stlBack=1,S=_tbLink.fast?1:0,(0,o.val)(_stlText,(0,l.getLang)("global_back")),_stlWasSet&&(_stlWasSet=0)))),!1!==S&&(0,o.toggleClass)(_stlLeft,"over_fast",(0,o.hasClass)(_stlLeft,"over")&&S);const e={opacity:Math.min(Math.max(A,0),1)};vk.staticheader&&(e.top=-Math.min((0,o.getSize)("page_header_cont")[1],n)),(0,o.setStyle)(_stlLeft,e)}else 0!==_stlShown&&(_stlLeft&&(_stlLeft.style.display="none"),_stlSide&&(_stlSide.style.display="none"),_stlShown=0);vk.id||(!_regBar&&E?(_regBar=1,(0,o.val)((0,o.ge)("reg_bar_content"),cur._regBar),(0,s.animate)((0,o.ge)("reg_bar"),{top:0,transition:s.Fx.Transitions.sineInOut},400),(0,s.animate)((0,o.ge)("stl_bg"),{paddingTop:60,transition:s.Fx.Transitions.sineInOut},400)):_regBar&&!E&&(_regBar=0,(0,s.animate)((0,o.ge)("reg_bar"),{top:-56,transition:s.Fx.Transitions.sineInOut},400),(0,s.animate)((0,o.ge)("stl_bg"),{paddingTop:13,transition:s.Fx.Transitions.sineInOut},400)))}function f(e,t){if(!(e=(0,o.ge)(e))||e.btnevents)return;if((0,o.hasClass)(e,"flat_button"))return void((0,n.isFunction)(t)&&(e.onclick=t.pbind(e)));const i=e.parentNode;if((0,o.hasClass)(i,"button_blue")||(0,o.hasClass)(i,"button_gray"))return void((0,n.isFunction)(t)&&(e.onclick=t.pbind(e)));let a=!1;(0,r.addEvent)(e,"click mousedown mouseover mouseout",(function(n){if(!(0,o.hasClass)(i,"locked"))switch(n.type){case"click":if(!a)return;return e.className="button_hover",t(e),(0,r.cancelEvent)(n);case"mousedown":e.className="button_down";break;case"mouseover":a=!0,e.className="button_hover";break;case"mouseout":e.className="button",a=!1}})),e.btnevents=!0}function y(e){const t=(0,o.ge)(e);if(t)return(0,o.hasClass)(t,"ui_actions_menu_item_lock")}function E(e){if((e=(0,o.ge)(e))&&!e.classList.contains("ui_actions_menu_item_lock")){if(e.classList.contains("ui_actions_menu_item_with_icon"))return e.classList.add("ui_actions_menu_item_lock"),void F(e);if((0,o.hasClass)(e,"ui_actions_menu_item")){(0,o.data)(e,"inner",e.innerHTML),(0,o.addClass)(e,"ui_actions_menu_item_lock");const t=(0,o.ce)("div",{className:"ui_actions_menu_item_lock_text"});(0,o.val)(t,e.innerHTML),e.appendChild(t),F(e)}}}function A(e){if((e=(0,o.ge)(e))&&e.classList.contains("ui_actions_menu_item_lock"))return e.classList.contains("ui_actions_menu_item_with_icon")?(e.classList.remove("ui_actions_menu_item_lock"),void U(e)):void((e=(0,o.ge)(e))&&(0,o.hasClass)(e,"ui_actions_menu_item")&&(0,o.hasClass)(e,"ui_actions_menu_item_lock")&&((0,o.removeClass)(e,"ui_actions_menu_item_lock"),e.innerHTML=(0,o.data)(e,"inner")))}function S(e){const t=(0,o.ge)(e);if(t)return(0,o.hasClass)(t,"link_lock")}function b(e,t){const i=(0,o.ge)(e);i&&"a"===i.tagName.toLowerCase()&&!S(i)&&((0,o.addClass)(i,"link_lock"),t&&(0,n.each)(t,((e,t)=>(0,o.addClass)(i,t))))}function T(e,t){const i=(0,o.ge)(e);i&&S(i)&&((0,o.removeClass)(i,"link_lock"),t&&(0,n.each)(t,((e,t)=>(0,o.removeClass)(i,t))))}function I(e){const t=(0,o.ge)(e);if(!t)return;if(d.FlatButton.isFlatButton(t))return d.FlatButton.lock(t);if("button"!==t.tagName.toLowerCase()&&!(0,o.hasClass)(t,"flat_button")&&!(0,o.hasClass)(t,"wr_header")||P(t))return;const i=(0,o.getSize)(t);(0,o.addClass)(t,"flat_btn_lock"),(0,o.data)(t,"inner",t.innerHTML),(0,o.setStyle)(t,{width:i[0],height:i[1]}),t.innerHTML="",F(t,"btn_lock")}function C(e){const t=(0,o.ge)(e);if(t)return d.FlatButton.isFlatButton(t)?d.FlatButton.unlock(t):void(P(t)&&(U(t),t.innerHTML=(0,o.data)(t,"inner"),(0,o.removeClass)(t,"flat_btn_lock"),(0,o.setStyle)(t,{width:null,height:null})))}function k(e){return P(e)}function P(e){const t=(0,o.ge)(e);if(t)return d.FlatButton.isFlatButton(t)?d.FlatButton.isLocked(t):(0,o.hasClass)(t,"flat_btn_lock")}function O(e,t){const i=(0,o.ge)(e);if(i&&"button"===i.tagName.toLowerCase()){if(d.FlatButton.isFlatButton(i))return d.FlatButton.setDisabled(i,t);if(t){if(!(0,o.isVisible)(i))return;i.parentNode.insertBefore((0,o.ce)("button",{innerHTML:i.innerHTML,className:i.className+" button_disabled"}),i),(0,o.hide)(i)}else{const e=(0,o.domPS)(i);e&&(0,o.hasClass)(e,"button_disabled")&&(0,o.re)(e),(0,o.show)(i)}}}function M(e){if(void 0===window._sbWidth||e){const e=(0,o.ce)("div",{innerHTML:'<div style="height: 75px;">1<br>1</div>'},{overflowY:"scroll",position:"absolute",width:"50px",height:"50px"});document.body.appendChild(e),i._dG("_sbWidth",Math.max(0,e.offsetWidth-e.firstChild.offsetWidth-1)),document.body.removeChild(e)}return window._sbWidth}function L(e){return(e=(0,o.ge)(e))&&(0,o.hasClass)(e,"on")?1:""}function D(e,t){const i=(0,o.ge)(e);if(i&&!(0,o.hasClass)(i,"disabled"))return void 0===t&&(t=!L(i)),(0,o.toggleClass)(i,"on",t),i.setAttribute("aria-checked",t?"true":"false"),!1}function R(e,t){return e=(0,o.ge)(e),void 0===t&&(t=!(0,o.hasClass)(e,"disabled")),(0,o.toggleClass)(e,"disabled",t),"INPUT"===e.tagName&&(t?e.setAttribute("readonly","readonly"):e.removeAttribute("readonly")),!1}function N(e){return!!radioBtns[e]&&radioBtns[e].val}function x(e,t,i){if(radioBtns[i]&&!(0,o.hasClass)(e,"disabled"))return(0,n.each)(radioBtns[i].els,(function(){this&&(this==e?((0,o.addClass)(this,"on"),this.setAttribute("aria-checked","true"),this.setAttribute("tabindex","0")):((0,o.removeClass)(this,"on"),this.setAttribute&&(this.setAttribute("aria-checked","false"),this.setAttribute("tabindex","-1"))))})),radioBtns[i].val=t}function F(e,t,i,r){if(!(e=(0,o.ge)(e)))return;let n;return(0,o.hasClass)(e,"pr")?n=e:(n=(0,o.se)((0,o.rs)(vk.pr_tpl,{id:t||"",cls:i||""})),r?(0,o.domInsertBefore)(n,e):e.appendChild(n)),setTimeout((function(){(0,o.setStyle)(n,{opacity:1})})),n}function U(e){e&&((0,o.hasClass)(e,"pr")?(0,o.setStyle)(e,{opacity:0}):(0,o.re)((0,o.geByClass1)("pr",e)))}function B(e){(0,o.setStyle)(e,"pointer-events","none")}function V(e){(0,o.setStyle)(e,"pointer-events","")}function H(){i._dG("__scrLeft",0),i._dG("radioBtns",{})}},560377:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{showGlobalPrg:()=>showGlobalPrg,showMsg:()=>showMsg,topError:()=>topError,topMsg:()=>topMsg});var _dom__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(754866),_shared_user_user_env__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(540462),_shared_lib_js_logger__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(298077),_utils_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(478752),_vkontakte_internal_vkcom_kit__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(377803);function topMsg(e,t,i){if(i||(i=_vkontakte_internal_vkcom_kit__WEBPACK_IMPORTED_MODULE_2__.default.colorBackgroundSecondary.normal.value),e){clearTimeout(window.topMsgTimer);const o=(0,_dom__WEBPACK_IMPORTED_MODULE_0__.ge)("system_msg");o.style.backgroundColor=i,o.innerHTML=e,(0,_dom__WEBPACK_IMPORTED_MODULE_0__.show)(o),t&&__webpack_require__._dG("topMsgTimer",setTimeout(topMsg.pbind(!1),1e3*t))}else(0,_dom__WEBPACK_IMPORTED_MODULE_0__.hide)("system_msg")}function topError(text,opts){const prefix="VK error: ";if(opts||(opts={}),text.message){const e=text;text="<b>JavaScript error</b>"+((0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_3__.partConfigEnabled)("extended_client_logging")?": "+e.message:""),opts.stack=e.stack,e.stack&&__debugMode&&(text+="<br/>"+e.stack.replace(/\n/g,"<br/>"));try{console.error(prefix,e.message),console.log(e.stack)}catch(e){}}else try{console.error(prefix,text)}catch(e){}if(!opts.stack)try{eval("0 = 1")}catch(e){opts.stack=e.stack}if(-1!=opts.dt&&topMsg(text,opts.dt,"#FFB4A3"),1!==opts.type&&!__dev&&!(0,_dom__WEBPACK_IMPORTED_MODULE_0__.ge)("debuglogwrap"))if(delete opts.dt,(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_3__.partConfigEnabled)("sentry_errors_fix")){const e=opts.msg||text,t=[getLang("blank_too_many_recent_actions"),getLang("mail_too_many_recipients"),getLang("photos_comments_restricted"),getLang("security_error"),getLang("wall_edit_error")];t.includes(e)||(0,_shared_lib_js_logger__WEBPACK_IMPORTED_MODULE_4__.logError)(new Error(`VK error: ${e}`),{breadcrumb:{message:"Request details:",data:{...opts}}})}else(0,_shared_lib_js_logger__WEBPACK_IMPORTED_MODULE_4__.logError)(new Error(`VK error: ${opts.msg||text}`),{breadcrumb:{message:"Request details:",data:{...opts}}})}function showMsg(e,t,i,o){let r="msg"+("msg"!==i?" "+i:"");o&&(r+=" msg_appear"),e=(0,_dom__WEBPACK_IMPORTED_MODULE_0__.ge)(e);const n=(0,_dom__WEBPACK_IMPORTED_MODULE_0__.geByClass1)(i,e),a=n||(0,_dom__WEBPACK_IMPORTED_MODULE_0__.domFC)(e),s=e.insertBefore((0,_dom__WEBPACK_IMPORTED_MODULE_0__.ce)("div",{className:r,innerHTML:'<div role="alert" class="msg_text">'+t+"</div>"}),a);n&&(0,_dom__WEBPACK_IMPORTED_MODULE_0__.re)(n),setTimeout(_dom__WEBPACK_IMPORTED_MODULE_0__.removeClass.pbind(s,"msg_appear"),0)}function showGlobalPrg(e,t){const i=(0,_dom__WEBPACK_IMPORTED_MODULE_0__.getXY)(e),o=(0,_dom__WEBPACK_IMPORTED_MODULE_0__.getSize)(e),r=t||{},{w:n=32,h:a=13}=r,s=(0,_dom__WEBPACK_IMPORTED_MODULE_0__.ge)("global_prg");s.className=r.cls||"progress",(0,_dom__WEBPACK_IMPORTED_MODULE_0__.setStyle)(s,{left:i[0]+Math.floor((o[0]-n)/2)+(0,_utils_common__WEBPACK_IMPORTED_MODULE_1__.intval)(r.shift?r.shift[0]:0),top:i[1]+Math.floor((o[1]-a)/2)+(0,_utils_common__WEBPACK_IMPORTED_MODULE_1__.intval)(r.shift?r.shift[1]:0),width:n,height:a,display:"block","z-index":r.zIndex?r.zIndex:null}),r.hide&&(e.style.visibility="hidden")}},744968:(e,t,i)=>{"use strict";i.d(t,{updateSTL:()=>n});var o=i(898848),r=i(754866);function n(){const{innerWidth:e}=window,{clientWidth:t}=document.documentElement,i=Math.max((0,o.intval)(e),(0,o.intval)(t));(0,r.toggleClass)(document.body,"no_stl",i<vk.width+280),(0,r.toggleClass)(document.body,"no_sett",i<vk.width+62)}},449299:(e,t,i)=>{"use strict";i.d(t,{arrayUnique:()=>E,checkTextLength:()=>T,getAct:()=>R,getDropdownValue:()=>D,getSelectionText:()=>I,goAway:()=>C,hashCode:()=>b,isClaimContent:()=>N,isFullScreen:()=>k,lplog:()=>f,onlinePlatformClass:()=>M,parallel:()=>S,parseJSON:()=>m.parseJSON,showErrorBox:()=>L,shuffle:()=>g.shuffle,throttle:()=>A,throttleAccumulate:()=>v,toArray:()=>y,toggleOnline:()=>O,unpackStore:()=>p.unpackStore,updateMoney:()=>P});var o=i(105330),r=i(478752),n=i(396858),a=i(898848),s=i(270959),c=i(754866),l=i(102088),d=i(330882),u=i(576854),_=i(972332),p=i(687903),m=i(261910),g=i(787661);function v(e,t){let i=[],o=0;return function(r){i.push(r),o||(o=setTimeout((()=>{o=!1,e(i),i=[]}),t))}}function f(e,t){let i,o;if(window.__debugMode){switch(t){case"error":i="color: red",o="background: red; color: white";break;case"success":i="color: green",o="background: green; color: white";break;default:i="color: blue;",o="background: #000; color: #fff;"}try{let t=new Date;console.debug(`%cLP:[${t.getHours()}:${t.getMinutes()}:${t.getSeconds()}:${t.getMilliseconds()}]%c ${e}`,o,i)}catch(e){}}}function y(e){let t=[];if(void 0===e.length)return Object.keys(e).map((t=>e[t]));for(let i=0;i<e.length;i++)t.push(e[i]);return t}function E(e){let t={},i=[];for(let o=0;o<e.length;o++)t[e[o]]||(i.push(e[o]),t[i[o]]=1);return i}function A(e,t){let i;return function(){i||(e.apply(this,arguments),i=setTimeout((function(){i=!1}),t))}}function S(){const e=[].slice.call(arguments),t=e.pop(),i=new CallHub(t,e.length);(0,r.each)(e,((e,t)=>t((()=>i.done()))))}function b(e){let t=0;if(0===e.length)return t;for(let i=0,o=e.length;i<o;i++){t=(t<<5)-t+e.charCodeAt(i),t|=0}return t}function T(e,t,i,o,r,n,a,s,d){if(!t)return;const u=t.getValue?t.getValue():t.value,_=t.lastLen||0;if(t.lastLen===u.length&&!n)return;t.lastLen=u.length;const p={"&":5,"<":4,">":4,'"':6,"\n":o?1:4,"\r":0,"!":5,"'":5,$:6,"\\":6},m={1168:1,1169:1,8211:1,8212:1,8216:1,8217:1,8218:1,8230:1,8240:1,8249:1,8250:1,8364:1,8470:1,8482:1,65533:1},g={1037:1,1104:1,1117:1};r&&(p[","]=5);const v=function(e){let t=0;for(let i=0,o=e.length;i<o;i++){const o=d?void 0:p[e.charAt(i)],r=e.charCodeAt(i);t+=void 0!==o?o:!a&&r>=128&&(r<1025||g[r]||r>1119)&&!m[r]&&(r<8220||r>8222)&&(r<8224||r>8226)?("&#"+r+";").length:1}return t}(u);if(i=(0,c.ge)(i),v>Math.max(e-100,.75*e))if((0,c.show)(i),v>e)if(r){const o=(0,c.val)(t,function(e,t){let i=0,o="";for(let r=0,n=e.length;r<n;r++){const n=e.charAt(r),s=d?void 0:p[n],c=e.charCodeAt(r);if(i+=void 0!==s?s:!a&&c>=128&&(c<1025||g[c]||c>1119)&&!m[c]&&(c<8220||c>8222)&&(c<8224||c>8226)?("&#"+c+";").length:1,i>t)break;o+=n}return o}(u,Math.min(e,_)));t.lastLen=o.length,i.innerHTML=(0,l.getLang)("text_N_symbols_remain",0),s&&i.classList.contains(s)&&i.classList.remove(s)}else i.innerHTML=(0,l.getLang)("text_exceeds_symbol_limit",v-e),s&&!i.classList.contains(s)&&i.classList.add(s);else i.innerHTML=(0,l.getLang)("text_N_symbols_remain",e-v),s&&i.classList.contains(s)&&i.classList.remove(s);else(0,c.hide)(i)}function I(){let e="";return window.getSelection?e=window.getSelection().toString():document.selection&&"Control"!==document.selection.type&&(e=document.selection.createRange().text),e}function C(e,t,i){if(-1!==(t||{}).h||(0,_.checkEvent)(i))return!0;if(-1!==(t||{}).h){const i=e.match(o.VK_URL_REGEX_STRICT);if(i&&"api."!==i[1].toLowerCase())return location.href=e,!1;const s=(0,r.intval)((0,n.getCookie)("remixsettings_bits"));if(o.VK_URL_REGEX_STRICT.test((0,a.locBase)())||1&s)return window.open("/away.php?to="+encodeURIComponent(e)+(t&&void 0!==t.h?"&h="+t.h:""),"_blank"),!1}const c=(0,r.extend)({act:"a_go",to:e},t||{});return!(0,s.showBox)("away.php",c,{},i)}function k(){return!!(document.fullscreenElement||document.fullScreenElement||document.msFullscreenElement||document.mozFullScreen||document.webkitIsFullScreen||cur.pvPartScreen)}function P(e,t){if(void 0===e||!1===e)return;if("object"==typeof e)return;let i="";!0===t?(vk.balanceEx=e,i="_ex"):vk.balance=e;const o=(0,c.geByClass)("votes_balance_nom"+i);(0,r.each)(o,((t,i)=>i.innerHTML=`${e} ${(0,l.getLang)("votes_flex",e)}`));const n=e*(vk.vcost||7),a=(0,c.geByClass)("money_balance_nom"+i);(0,r.each)(a,((e,t)=>t.innerHTML=(0,l.getLang)("global_money_amount_rub",n,!0))),void 0!==t&&!1!==t&&!0!==t&&P(t,!0),window.GamesCatalog&&window.GamesCatalog.updateMoney(e);const s=document.getElementById("topmenu-balance");s&&(s.textContent=e)}function O(e,t){const i=M(t).split(" "),o=[];["online","mobile","_online"].forEach((function(t){(0,r.inArray)(t,i)&&!(0,c.hasClass)(e,t)?o.push(t):!(0,r.inArray)(t,i)&&(0,c.hasClass)(e,t)&&(0,c.removeClass)(e,t)})),o.length>0&&(0,c.addClass)(e,o.join(" "))}function M(e){let t=" _online";return e&&(t+=" online"),d.mobPlatforms[e]&&(t+=" mobile"),(0,u.updateOnlineText)(),t}function L(e,t){return void 0===t&&(t=1e4),setTimeout((0,s.showFastBox)({title:(0,l.getLang)("global_error")},e).hide,t)}function D(e){let t=(0,c.ge)(e+"_container");if(t||(t=(0,c.ge)(e)),t&&t.dropdown)return t.dropdown.val()}function R(){return window.nav.objLoc.act}function N(){return Boolean(window.nav&&window.nav.objLoc&&window.nav.objLoc.claim)}},137101:(e,t,i)=>{"use strict";i.d(t,{clone:()=>r});var o=i(898848);function r(e,t){const i=(0,o.isObject)(e)||void 0===e.length?{}:[];for(const o in e)(!/webkit/i.test(window._ua)||"layerX"!=o&&"layerY"!=o&&"webkitMovementX"!=o&&"webkitMovementY"!=o)&&(t&&"object"==typeof e[o]&&"prototype"!==o&&null!==e[o]?i[o]=r(e[o]):i[o]=e[o]);return i}},624042:(e,t,i)=>{"use strict";i.d(t,{extend:()=>r});var o=i(898848);function r(){const e=arguments,t=e.length;let i=e[0]||{},n=1,a=!1;for("boolean"==typeof i&&(a=i,i=e[1]||{},n=2),"object"==typeof i||(0,o.isFunction)(i)||(i={});n<t;n++){const t=e[n];if(null!=t)for(const e in t){if(!t.hasOwnProperty(e))continue;const o=i[e],n=t[e];i!==n&&(a&&n&&"object"==typeof n&&!n.nodeType?i[e]=r(a,o||(null!=n.length?[]:{}),n):void 0!==n&&(i[e]=n))}}return i}},478752:(e,t,i)=>{"use strict";i.d(t,{addTemplates:()=>y,clean:()=>a.clean,clone:()=>l.clone,decodeHtml:()=>C,each:()=>a.each,encodeHtml:()=>I,escapeAttr:()=>a.escapeAttr,escapeRE:()=>a.escapeRE,extend:()=>c.extend,extractUrls:()=>b,floatval:()=>a.floatval,formatCount:()=>T,getTemplate:()=>E,getTemplateSafety:()=>A,inArray:()=>a.inArray,indexOf:()=>a.indexOf,intval:()=>a.intval,irand:()=>a.irand,isArray:()=>a.isArray,isEmpty:()=>a.isEmpty,isFunction:()=>a.isFunction,isNumber:()=>v,isNumeric:()=>g,isObject:()=>a.isObject,isPageFirstOneOpened:()=>u,isRetina:()=>a.isRetina,isString:()=>a.isString,isUndefined:()=>a.isUndefined,lTimeout:()=>_,positive:()=>a.positive,rand:()=>a.rand,replaceEntities:()=>a.replaceEntities,serializeForm:()=>S,stripHTML:()=>m,trim:()=>p,unclean:()=>a.unclean,vkImage:()=>a.vkImage,vkLocal:()=>d,vkNow:()=>a.vkNow,winToUtf:()=>f});var o=i(754866),r=i(102088),n=i(330882),a=i(898848),s=i(540462),c=i(624042),l=i(137101);function d(e){const t=window.PageID;return function(){if(t===window.PageID)return e.apply(this,arguments)}}function u(){return 1===window.PageID}function _(e,t){return setTimeout(d(e),t)}const p=e=>(e||"").replace(/^\s+|\s+$/g,""),m=e=>e?e.replace(/<(?:.|\n|\r|\u2028|\u2029)*?>/g,""):"";function g(e){return!isNaN(e)}function v(e){return"number"==typeof e&&(e===Number(e)&&(e!==1/0&&e!==-1/0))}function f(e){return e.replace(/&#(\d\d+);/g,(function(e,t){return(t=(0,a.intval)(t))>=32?String.fromCharCode(t):e})).replace(/&quot;/gi,'"').replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/&amp;/gi,"&")}function y(e){i._dG("templates",window.templates||{}),(0,c.extend)(window.templates,e)}function E(e,t){let r=i._dG("templates",window.templates||{})[e];return"function"==typeof r&&(r=r()),r&&t?(0,o.rs)(r,t):r||""}function A(e,t){let r=i._dG("templates",window.templates||{})[e];return"function"==typeof r&&(r=r()),r&&t?(0,o.rsSafety)(r,t):r||""}function S(e){if("object"!=typeof e)return!1;const t={},i=t=>(0,o.geByTag)(t,e),r=function(i,r){if(r.name)if("text"!==r.type&&r.type)if(r.getAttribute("bool")){const e=(0,o.val)(r);if(!e||"0"===e)return;t[r.name]=1}else t[r.name]=n.browser.msie&&!r.value&&e[r.name]?e[r.name].value:r.value;else t[r.name]=(0,o.val)(r)};return(0,a.each)(i("input"),(function(e,t){if("radio"!==t.type&&"checkbox"!==t.type||t.checked)return r(0,t)})),(0,a.each)(i("select"),r),(0,a.each)(i("textarea"),r),t}function b(e,t){if(!e)return[];let i=/(?:([!()?@., \n\r\t \u00A0\[]|^)((https?:\/\/)?((?:[a-z0-9_\-]+\.)+(?:[a-z]{2,10}|xn--p1ai|xn--j1amh|xn--80asehdb|xn--80aswg|xn--90ais))(\/.*?)?(\#.*?)?)(?:[\.!:;,\*\(\)]*(&nbsp;|\|.*]?|[ \t\r\n \u00A0]))|([!()?., \n\r\t \u00A0]|^)((https?:\/\/)?((?:[a-z0-9а-яєґї_\-]+\.)+(?:рф|укр|онлайн|сайт|срб|бел))(\/.*?)?(\#.*?)?)(?:[\.!:;,\*\(\)]*(&nbsp;|[ \t\r\n \u00A0])))/i;t&&(i=/(?:([!()?@., \n\r\t \u00A0\[]|^)((https?:\/\/)?((?:[a-z0-9_\-]+\.)+(?:[a-z]{2,10}|xn--p1ai|xn--j1amh|xn--80asehdb|xn--80aswg|xn--90ais))(\/.*?)?(\#.*?)?)(?:[\.!:;,\*\(\)&]*(&nbsp;|\|.*]?|[ \t\r\n \u00A0]|$))|([!()?., \n\r\t \u00A0]|^)((https?:\/\/)?((?:[a-z0-9а-яєґї_\-]+\.)+(?:рф|укр|онлайн|сайт|срб|бел))(\/.*?)?(\#.*?)?)(?:[\.!:;,\*\(\)&]*(&nbsp;|[ \t\r\n \u00A0]|$)))/i);const o=(0,s.partConfigEnabled)("links_parsing_latin_domain_enabled");o&&!t&&(i=/(?:([!()?@., \n\r\t \u00A0\[]|^)((https?:\/\/)?((?:[a-z0-9_\-]+\.)+(?:[a-z]{2,10}|xn--p1ai|xn--j1amh|xn--80asehdb|xn--80aswg|xn--90ais))(\/.*?)?(\#.*?)?)(?:[\.!:;,\*\(\)]*(&nbsp;|\|.*]?|[ \t\r\n \u00A0]))|([!()?., \n\r\t \u00A0]|^)((https?:\/\/)?((?:[a-z0-9а-яєґї_\-]+\.)+(?:рф|укр|онлайн|сайт|срб|бел|[a-z]{2,10}))(\/.*?)?(\#.*?)?)(?:[\.!:;,\*\(\)]*(&nbsp;|[ \t\r\n \u00A0])))/i),o&&t&&(i=/(?:([!()?@., \n\r\t \u00A0\[]|^)((https?:\/\/)?((?:[a-z0-9_\-]+\.)+(?:[a-z]{2,10}|xn--p1ai|xn--j1amh|xn--80asehdb|xn--80aswg|xn--90ais))(\/.*?)?(\#.*?)?)(?:[\.!:;,\*\(\)&]*(&nbsp;|\|.*]?|[ \t\r\n \u00A0]|$))|([!()?., \n\r\t \u00A0]|^)((https?:\/\/)?((?:[a-z0-9а-яєґї_\-]+\.)+(?:рф|укр|онлайн|сайт|срб|бел|[a-z]{2,10}))(\/.*?)?(\#.*?)?)(?:[\.!:;,\*\(\)&]*(&nbsp;|[ \t\r\n \u00A0]|$)))/i);const r=[];let n;for(;e&&(n=e.match(i),n);){if(e=e.substr(n.index+n[0].length),!n||!n.length||"@"===n[0][0])continue;let t=0;n[4]||(t=7),r.push({url:n[2+t],query:n[5+t]||"",domain:n[4+t]})}return r}function T(e,t={}){const i=t.kLimit||1e3,o=t.mLimit||1e6;return e>=(t.gLimit||1e9)&&!t.noCheck?T(e=(e=(0,a.intval)(e/1e8))>1e6?(0,a.intval)(e/10):e/10,(0,c.extend)(t,{noCheck:!0}))+"G":e>=o&&!t.noCheck?T(e=(e=(0,a.intval)(e/1e5))>1e3?(0,a.intval)(e/10):e/10,(0,c.extend)(t,{noCheck:!0}))+"M":e>=i&&!t.noCheck?T(e=(e=(0,a.intval)(e/100))>100?(0,a.intval)(e/10):e/10,(0,c.extend)(t,{noCheck:!0}))+"K":(0,r.langNumeric)(e,"%s",!0).replace(/,/g,".")}let[I,C]=function(){let e=null;return[function(t){return e||(e=(0,o.se)("<span> </span>")),e.innerText=t,e.innerHTML},function(t){return e||(e=(0,o.se)("<span> </span>")),e.innerHTML=t.replace(/<br\s*\/?>/gim,"\n"),e.innerText}]}()},432081:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{VideoConstants:()=>VideoConstants,initVideo:()=>initVideo,loadInlineVideo:()=>loadInlineVideo,showInlineVideo:()=>showInlineVideo,showVideo:()=>showVideo});var _shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(636576),_web_lib_date__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(101148),_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(754866),_dom_events__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(972332),_utils_common__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(478752),_lang__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(102088),_message_box__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(270959),_layout_utils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(226220),_web_unauthorized_unauthorized__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(672263),_web_video_video_utils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(826619),_shared_lib_site__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(105330),_web_lib_revertLastInlineVideo__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(892848),_shared_video__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(856289),_shared_user_user_env__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(540462),_vkontakte_internal_shared__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(361121),_spa_web_widgets_messenger_MessengerClipsModal_initMessengerClipsModal__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(780584);const rtrgQuery=`//${(0,_shared_lib_site__WEBPACK_IMPORTED_MODULE_10__.getHostName)()}/rtrg?r=w*Z1Flwi3QdbWaoLMc7zOA*7Cr4Nrtojr9otHjsjIhsb2CVqRWalgbvxZw3MzxZa6be3Siu2XY3gvK5fysYtWLWgNwHMpjRTupSGZrcGRNlj7fduqq9*t7ij6CX4aMcBTD5be8mIXJsbTsvP8Zl2RZEd76a4FTuCOFqzMxqGtFc-`;function showVideo(e,t,i={},o){if((0,_shared_video__WEBPACK_IMPORTED_MODULE_12__.isVideoStandalone)()&&"web_notify"===i.module&&o.preventDefault(),cur.viewAsBox)return cur.viewAsBox();if((0,_dom_events__WEBPACK_IMPORTED_MODULE_3__.checkEvent)(o))return;if(i.vkLiveUrl)return void(window.location.href=i.vkLiveUrl);if(i.shortVideo&&"im"===i.module&&i.addParams&&i.addParams.im_peer_id){const t=!cur.videoInlinePlayer||cur.videoInlinePlayer.getVideoId()!==e||cur.videoInlinePlayer.isMuted();return void(0,_spa_web_widgets_messenger_MessengerClipsModal_initMessengerClipsModal__WEBPACK_IMPORTED_MODULE_13__.initMessengerClipsModal)(e,parseInt(i.addParams.im_peer_id),parseInt(i.addParams.im_cmid),t,i.addParams.im_group_id?parseInt(i.addParams.im_group_id):void 0)}if((0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_14__.partConfigEnabled)("clips_web_use_spa_modal")&&"im"!=i.module&&!(0,_shared_video__WEBPACK_IMPORTED_MODULE_12__.isVideoStandalone)()&&i.shortVideo){window.WkView?.hide(!1,!0);const{itemId:t,ownerId:o}=(0,_vkontakte_internal_shared__WEBPACK_IMPORTED_MODULE_15__.splitRawId)(e),r=Promise.all([__webpack_require__.e(91498),__webpack_require__.e(22081),__webpack_require__.e(51915),__webpack_require__.e(97126),__webpack_require__.e("langs/web/WebDI")]).then(__webpack_require__.bind(__webpack_require__,319756)),n=Promise.all([__webpack_require__.e(22081),__webpack_require__.e(14801),__webpack_require__.e("langs/web/WebLayers")]).then(__webpack_require__.bind(__webpack_require__,608814));return Promise.all([r,n]).then((([{ensureDIRootWebContainer:e},{WebLayers:r}])=>{e().resolve(r).open("clipsModal",{layerParams:{ownerId:o,clipId:t},...i.spaQuery?{query:i.spaQuery}:{}})})),!1}if((0,_web_unauthorized_unauthorized__WEBPACK_IMPORTED_MODULE_8__.isUnauthorizedMediaLayerBoxAvailable)()&&(o||i.openInPopup)&&!i.forceUnauth&&!cur.is_showcase)return _web_unauthorized_unauthorized__WEBPACK_IMPORTED_MODULE_8__.Unauthorized.showMoreBox(null,0,_web_unauthorized_unauthorized__WEBPACK_IMPORTED_MODULE_8__.UnauthorizedSourceType.VIDEO,(()=>{showVideo(e,t,{...i,openInPopup:!1,forceUnauth:!0},o)})),!1;if(i.forceUnauth=!0,window.mvcur&&mvcur.mvShown&&mvcur.minimized&&mvcur.videoRaw==e)return i.fromPlayer||Videoview.unminimize(),!1;if((0,_shared_video__WEBPACK_IMPORTED_MODULE_12__.isVideoStandalone)()&&!i.shortVideo&&void 0!==i.replyId)return i.module&&window.VideoShowcase?.setVideoPageOpts({module:i.module}),void window.nav.go(`/video${e}`);const r=nav.objLoc.claim,n=!(!i.addParams||!/^-?\d+_\d+$/.test(i.addParams.post_id))&&i.addParams.post_id;if(!i.playlistId&&n&&(/^public|groups|profile$/.test(cur.module)&&(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.hasClass)("post"+n,"own")?i.playlistId="wall_"+cur.oid:i.playlistId="post_"+i.addParams.post_id),i.playlistId)if(i.addParams=(0,_utils_common__WEBPACK_IMPORTED_MODULE_4__.extend)(i.addParams,{playlist_id:i.playlistId}),window.VideoPlaylist&&VideoPlaylist.getList(i.playlistId))e||(i.addParams.load_playlist=1);else if(/^wall_/.test(i.playlistId)){const e=cur.wallVideos&&cur.wallVideos[i.playlistId];i.addParams.load_playlist=e?.list.length>=50?0:1,i.addParams.show_next=e?.list.length>=1?1:0}else{const e=/^(?:post_)?-?\d+_-?\d+$/.test(i.playlistId)&&!(cur.pageVideosList&&cur.pageVideosList[i.playlistId]);i.addParams.load_playlist=e?1:0,i.addParams.show_next=e?1:0}i.expandPlayer||!cur.videoInlinePlayer||cur.videoInlinePlayer.getVideoId()!=e&&cur.videoInlinePlayer.getProjectId()!=e||!cur.videoInlinePlayer.canExpand()||(i.expandPlayer=cur.videoInlinePlayer),i.expandPlayer&&((0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_14__.partConfigEnabled)("use_uv_videoplayer_on_web")||(0,_shared_lib_site__WEBPACK_IMPORTED_MODULE_10__.isVkVideo)()&&(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_14__.isToggleEnabled)("video_use_uv_player_on_vkvideo")||!(0,_shared_lib_site__WEBPACK_IMPORTED_MODULE_10__.isVkVideo)()&&(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_14__.isToggleEnabled)("video_use_uv_player_on_vkcom")||(0,_shared_lib_site__WEBPACK_IMPORTED_MODULE_10__.isVkVideo)()&&(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_14__.isToggleEnabled)("video_sport_overlay_ads_player")||(0,_shared_lib_site__WEBPACK_IMPORTED_MODULE_10__.isVkVideo)()&&(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_14__.isToggleEnabled)("video_sport_overlay_ads")||(0,_shared_lib_site__WEBPACK_IMPORTED_MODULE_10__.isVkVideo)()&&(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_14__.isToggleEnabled)("video_ad_paid_subscription_pl")||(0,_shared_lib_site__WEBPACK_IMPORTED_MODULE_10__.isVkVideo)()&&(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_14__.isToggleEnabled)("video_ad_paid_subscription")||(0,_shared_lib_site__WEBPACK_IMPORTED_MODULE_10__.isVkVideo)()&&(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_14__.isToggleEnabled)("video_skip_titles_player_v3")||(0,_shared_lib_site__WEBPACK_IMPORTED_MODULE_10__.isVkVideo)()&&(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_14__.isToggleEnabled)("video_skip_titles")||(0,_shared_lib_site__WEBPACK_IMPORTED_MODULE_10__.isVkVideo)()&&(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_14__.isToggleEnabled)("video_music_track_add")||(0,_shared_lib_site__WEBPACK_IMPORTED_MODULE_10__.isVkVideo)()&&(0,_shared_user_user_env__WEBPACK_IMPORTED_MODULE_14__.isToggleEnabled)("video_music_track_add_unreg")||(i.addParams=(0,_utils_common__WEBPACK_IMPORTED_MODULE_4__.extend)(i.addParams,{expand_player:1})),delete cur.videoInlinePlayer),cur.simple_description&&(i.addParams=(0,_utils_common__WEBPACK_IMPORTED_MODULE_4__.extend)(i.addParams||{},{simple_description:cur.simple_description}));const a=new CallHub((function(){i.hidden?i.hidden(a.data,i,t,e):Videoview.showVideo.apply(Videoview,a.data)}),2);window.stManager.add([window.jsc("web/videoview.js"),"videoview.css",window.jsc("web/page.js"),"page.css"],(()=>{a.failed||(i.hidden||((0,_web_lib_revertLastInlineVideo__WEBPACK_IMPORTED_MODULE_11__.revertLastInlineVideo)(),Videoview.show(o,e,t,i)),a.done())})),(0,_utils_common__WEBPACK_IMPORTED_MODULE_4__.extend)(i,{onDone:function(){const t=Array.prototype.slice.call(arguments);t.unshift(e),a.data=t,a.done()},onFail:function(t){if(a.failed=1,!i.hidden){if(window.mvcur&&mvcur.mvShown)window.Videoview.hide();else{const t=(0,_utils_common__WEBPACK_IMPORTED_MODULE_4__.clone)(nav.objLoc);t.z==="video"+e&&delete t.z,t[0]==="video"+e&&(t[0]="videos"+e.split("_")[0]),nav.setLoc(t)}const i=t&&"object"==typeof t?t?.data:t;if((0,_message_box__WEBPACK_IMPORTED_MODULE_6__.showFastBox)((0,_lang__WEBPACK_IMPORTED_MODULE_5__.getLang)("global_error"),i||(0,_lang__WEBPACK_IMPORTED_MODULE_5__.getLang)("global_error_occured")),window.Videoview?.isMinimized())if(mvcur&&mvcur.fallbackData){const{videoRaw:e,options:t,listId:i,mvData:o}=mvcur.fallbackData;mvcur.videoRaw=e,mvcur.options=t,mvcur.listId=i,mvcur.myData=o,mvcur.fallbackData=null,Videoview.initPlaylistBlock(e,t.playlistId,t.catLoadMore),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.show)("mv_player_box"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.hide)("mv_progress_box")}else(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.val)("mv_player_box","");a.done()}return!0},cache:"status"!==t}),window.VideoPlaylist&&(window.VideoPlaylist.module=null);let s=i.params;if(!s){const o=i.module||window.Videoview&&window.Videoview.getVideoModule();s={act:"show",video:e,list:t,autoplay:i.autoplay?1:0,show_next:1,ad_video:i.ad_video,module:o??cur?.module??"",webcast:nav.objLoc.webcast?1:0,screen:nav.objLoc.screen?1:0}}return cur.is_showcase&&!s.context&&cur.ref_context&&(s.context=cur.ref_context),i.addParams&&(s=(0,_utils_common__WEBPACK_IMPORTED_MODULE_4__.extend)(s,i.addParams)),(0,_utils_common__WEBPACK_IMPORTED_MODULE_4__.trim)(s.module)||(0,_utils_common__WEBPACK_IMPORTED_MODULE_4__.extend)(s,{_nol:JSON.stringify(nav.objLoc)}),s.module&&(window.VideoPlaylist&&(window.VideoPlaylist.module=s.module),i.is_similar&&(s.module+=":similar")),r&&(s.claim=r),ajax.post(`al_video.php?act=${s.act}`,s,i),(0,_web_video_video_utils__WEBPACK_IMPORTED_MODULE_9__.idlizeCall)((()=>{(0,_utils_common__WEBPACK_IMPORTED_MODULE_4__.vkImage)().src=`${locProtocol}${rtrgQuery}`})),!1}let currentLoadingVideoId="";function showInlineVideo(videoId,listId,options,ev,thumb){if((0,_dom_events__WEBPACK_IMPORTED_MODULE_3__.checkEvent)(ev))return!0;if(options=options||{},currentLoadingVideoId=videoId,window.mvcur&&mvcur.mvShown||options.hasRestriction)return showVideo(videoId,listId,options,ev);if((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.attr)(thumb,"data-loading"))return!1;let h=thumb.clientHeight,w=thumb.clientWidth;h&&w||!thumb.parentElement||(h=thumb.parentElement.clientHeight,w=thumb.parentElement.clientWidth);const btn=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.domByClass)(thumb,"page_post_video_play_inline"),onLoaded=options.onLoaded,onFailed=options.onFailed;onLoaded&&delete options.onLoaded,onFailed&&delete options.onFailed;const params={video:videoId,list:listId,autoplay:options.autoplay,module:options.module};return thumb.className.includes("page_video_croppable")&&(params.with_crop=!0),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.domData)(thumb,"stretch-vertical")&&(params.stretch_vertical=1),(0,_utils_common__WEBPACK_IMPORTED_MODULE_4__.extend)(params,options.addParams),window.VideoPlaylist&&(window.VideoPlaylist.module=params.module),showProgress(),loadInlineVideo(params,(function(e,t){hideProgress(),e?onDone.apply(null,t):onFail.apply(null,t)}),options.cache),cur.videoInlinePlayerDestroyerSet||(cur.destroy.push(_web_lib_revertLastInlineVideo__WEBPACK_IMPORTED_MODULE_11__._destroyInlineVideoPlayer),cur.videoInlinePlayerDestroyerSet=1),(0,_utils_common__WEBPACK_IMPORTED_MODULE_4__.vkImage)().src=rtrgQuery,!1;function onDone(title,html,js,opts){(0,_web_lib_revertLastInlineVideo__WEBPACK_IMPORTED_MODULE_11__.revertLastInlineVideo)(),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.hide)(thumb);const isMt=thumb.dataset.mtId,isDirectMp4=!!thumb.dataset.directMp4,mtAspectRatio=thumb.dataset.mtAspectRatio?Number(thumb.dataset.mtAspectRatio):0,videoWrap=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.ce)("div",{innerHTML:html,className:"inline_video_wrap"},{width:w,height:isMt&&mtAspectRatio?Math.round(w*mtAspectRatio):h});if((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.attr)(videoWrap,"data-testid","inline_video_wrap"),opts&&opts.mvData&&-195297477!==opts.mvData.authorId&&__webpack_require__._dG("_videoLastInlined",[videoWrap,thumb]),thumb.parentNode.appendChild(videoWrap),cur.mvOpts=!(!opts||!opts.mvData)&&opts.mvData,opts.player){const e=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.domByClass)(videoWrap,"video_box_wrap");(0,_utils_common__WEBPACK_IMPORTED_MODULE_4__.isFunction)(onLoaded)&&(opts.player.params[0].onPlayerLoaded=onLoaded);const t=(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.attr)(thumb,"data-link-attr");if(t&&(opts.player.params[0].link_attr=t),isMt){opts.player.params[0].ad_block_id=isMt;const e=thumb.dataset.mtVideoMp4;e&&(opts.player.params[0].direct_mp4=e);const t=thumb.dataset.mtVideoHls;t&&(opts.player.params[0].hls=t),mtAspectRatio&&(opts.player.params[0].aspect_ratio=mtAspectRatio);const i=thumb.firstChild&&thumb.firstChild.firstChild&&thumb.firstChild.firstChild.src;i&&(opts.player.params[0].jpg=i);const o=thumb.firstChild,r=o.dataset.mtLink,n=o.getAttribute("onclick");r&&(opts.player.params[0].link_attr=`href="${r}" onclick="${n}"`)}isDirectMp4&&(opts.player.params[0].direct_mp4=thumb.dataset.directMp4,opts.player.params[0].hls=void 0,opts.player.params[0].dash_sep=void 0,Object.keys(opts.player.params[0]).forEach((e=>{e.startsWith("url")&&(opts.player.params[0][e]=void 0)}))),opts.player.params[0].inline=!0,currentLoadingVideoId===videoId&&VideoInitializer.initPlayer(e,opts.player.type,opts.player.params),opts.player.params[0].im_group_id=params.im_group_id}try{eval("(function () {"+js+"})();")}catch(e){}if(!params.from_autoplay){const e=window.Notifier;e&&setTimeout((()=>e.lcSend("video_start")),0);const t=window.ap;t&&t.isPlaying()&&(t.pauseByChangeChannel(),t.pausedByVideo=(0,_utils_common__WEBPACK_IMPORTED_MODULE_4__.vkNow)())}ev&&(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.domClosest)("bookmarks_row_type_video",ev.target)&&(0,_shared_lib_statlogs__WEBPACK_IMPORTED_MODULE_0__.statlogsValueEvent)("bookmarks_product_analytics",{item_type:"video",item_owner_id:cur.mvOpts.oid,item_id:cur.mvOpts.vid,time:(0,_web_lib_date__WEBPACK_IMPORTED_MODULE_1__.getServerTime)()}),thumb.setAttribute("data-playing",1)}function onFail(e){onFailed(e),params.from_autoplay||(0,_message_box__WEBPACK_IMPORTED_MODULE_6__.showFastBox)((0,_lang__WEBPACK_IMPORTED_MODULE_5__.getLang)("global_error"),e||(0,_lang__WEBPACK_IMPORTED_MODULE_5__.getLang)("global_error_occured"))}function showProgress(){thumb.setAttribute("data-loading",1),options.no_progress||((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.addClass)(btn,"page_post_video_play_inline_loading"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.val)(btn,(0,_layout_utils__WEBPACK_IMPORTED_MODULE_7__.getProgressHtml)()))}function hideProgress(){thumb.removeAttribute("data-loading"),options.no_progress||((0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.removeClass)(btn,"page_post_video_play_inline_loading"),(0,_web_lib_dom__WEBPACK_IMPORTED_MODULE_2__.val)(btn,""))}}function loadInlineVideo(e,t,i){const o=(0,_utils_common__WEBPACK_IMPORTED_MODULE_4__.extend)({autoplay:0,module:cur.module},e);(0,_utils_common__WEBPACK_IMPORTED_MODULE_4__.trim)(o.module)||(o._nol=JSON.stringify(nav.objLoc));const r=[window.jsc("web/videoview.js"),"videoview.css"];function n(e,i){(0,_utils_common__WEBPACK_IMPORTED_MODULE_4__.isFunction)(t)&&t(e,i)}o.from_autoplay&&r.push("videoplayer.css"),ajax.post("al_video.php?act=video_box",o,{onDone:function(){n(!0,[].slice.call(arguments))},onFail:function(){return n(!1,[].slice.call(arguments)),!0},stat:r,local:1,cache:i})}const VideoConstants={VIDEO_ITEM_INDEX_OWNER_ID:0,VIDEO_ITEM_INDEX_ID:1,VIDEO_ITEM_INDEX_THUMB:2,VIDEO_ITEM_INDEX_TITLE:3,VIDEO_ITEM_INDEX_FLAGS:4,VIDEO_ITEM_INDEX_DURATION:5,VIDEO_ITEM_INDEX_HASH:6,VIDEO_ITEM_INDEX_OWNER:8,VIDEO_ITEM_INDEX_DATE:9,VIDEO_ITEM_INDEX_VIEWS:10,VIDEO_ITEM_INDEX_PLATFORM:11,VIDEO_ITEM_INDEX_BLOCKED:12,VIDEO_ITEM_INDEX_MUSIC_VIDEO_META:13,VIDEO_ITEM_INDEX_ARIA:14,VIDEO_ITEM_INDEX_RESTRICTION_BLOCK:15,VIDEO_ITEM_INDEX_RESTRICTION_CLASSES:16,VIDEO_ITEM_INDEX_ADMIN_INFO:17,VIDEO_ITEM_INDEX_CARD_MENU_TOGGLE:18,VIDEO_ITEM_INDEX_RAW_DURATION:19,VIDEO_ITEM_INDEX_LINK:20,VIDEO_ITEM_INDEX_TRAILER:21,VIDEO_ITEM_INDEX_VIEWED_DURATION:22,VIDEO_ITEM_INDEX_VIEWED_DAY:23,VIDEO_ITEM_INDEX_LIST_ID:24,VIDEO_ITEM_INDEX_PLAYLIST_ID:25,VIDEO_ITEM_INDEX_CARD_ACTIONS:26,VIDEO_ITEM_INDEX_CARD_PRIVACY_ICONS:27,VIDEO_ITEM_INDEX_SMALL_THUMB:28,VIDEO_ITEM_INDEX_ML_THUMB_ID:29,VIDEO_ITEM_INDEX_PLAY_FROM:30,VIDEO_ITEM_INDEX_RECOMMENDATION_SOURCES:31,VIDEO_ITEM_INDEX_RECOMMENDATION_USERS:32,VIDEO_ITEM_TRACK_CODE:33,VIDEO_ITEM_INDEX_SUBTITLE_PLACE:34,VIDEO_ITEM_INDEX_AVATAR_IMAGE:35,VIDEO_ITEM_INDEX_AVATAR_PLACE:36,VIDEO_ITEM_INDEX_DESCRIPTON:37,VIDEO_ITEM_INDEX_DOWNLOAD_URL:38,VIDEO_ITEM_INDEX_OWNER_HREF:39,VIDEO_ITEM_PUBLISH_DATE:40,VIDEO_ITEM_BOOKMARKED:41,VIDEO_ITEM_BOOKMARK_HASH:42,VIDEO_ITEM_INDEX_UPCOMING_LIVE_DATE:43,VIDEO_ITEM_INDEX_INTERACTIVE:44,VIDEO_ITEM_INDEX_LABEL_PLACE:45,VIDEO_ITEM_INDEX_VK_LIVE_CHANNEL_URL:46,VIDEO_ITEM_INDEX_VK_LIVE_CHANNEL_NAME:47,VIDEO_ITEM_INDEX_CLICK_EVENT:48,VIDEO_ITEM_INDEX_SHOULD_OPEN_MODAL:49,VIDEO_ITEM_INDEX_SHOW_PREVIEW_PLAYER:50,VIDEO_TEMPLATE_INDEX_SUBTITLE_DURATION_WITH_VIEWS:0,VIDEO_TEMPLATE_INDEX_SUBTITLE_LABEL:1,VIDEO_TEMPLATE_INDEX_SUBTITLE_SCHEDULED:2,VIDEO_TEMPLATE_INDEX_SUBTITLE_UPCOMING_LIVE:3,VIDEO_ITEM_FLAG_EXTERNAL:1,VIDEO_ITEM_FLAG_ACTIVE_LIVE:2,VIDEO_ITEM_FLAG_CAN_DOWNLOAD:32,VIDEO_ITEM_FLAG_CAN_EDIT:64,VIDEO_ITEM_FLAG_CAN_DELETE:128,VIDEO_ITEM_FLAG_CAN_ADD:256,VIDEO_ITEM_FLAG_PRIVATE:512,VIDEO_ITEM_FLAG_NO_AUTOPLAY:1024,VIDEO_ITEM_FLAG_ADDED:2048,VIDEO_ITEM_FLAG_SKIP_THUMB_LOAD:4096,VIDEO_ITEM_FLAG_NEED_SIGN_IN:8192,VIDEO_ITEM_FLAG_HD:16384,VIDEO_ITEM_FLAG_DELETED:32768,VIDEO_ITEM_FLAG_CAN_MOVE:65536,VIDEO_ITEM_FLAG_CAN_DELETE_FROM_HISTORY:1<<17,VIDEO_ITEM_FLAG_PRIVATE_BY_LINK:1<<18,VIDEO_ITEM_FLAG_LIVE:1<<19,VIDEO_ITEM_FLAG_PRIVATE_NOT_PUBLISHED:1<<20,VIDEO_ITEM_FLAG_PRIVATE_MEMBERS:1<<21,VIDEO_ITEM_FLAG_HORIZONTAL:1<<22,VIDEO_ITEM_FLAG_NFT_AVATAR:1<<23,VIDEO_ITEM_FLAG_SCHEDULED:1<<24,VIDEO_ITEM_FLAG_CAN_BOOKMARK:1<<25,VIDEO_ITEM_FLAG_BOOKMARKED:1<<26,VIDEO_ITEM_FLAG_UPCOMING_LIVE:1<<27,VIDEO_ITEM_FLAG_INTERACTIVE:1<<28,VIDEO_ITEM_FLAG_MUSIC_VIDEO:1<<29};function initVideo(){__webpack_require__._dG("_videoLastInlined",!1)}},980580:(e,t,i)=>{"use strict";function o(e=null){return e?Boolean(e.closest(".popup_box_container")||e.closest('[class*="modal"]')||e.closest(".video_edit")):Boolean(document.querySelector(".popup_box_container.video_edit")||document.querySelector('.popup_box_container [class*="modal"]')||document.querySelector('[data-testid*="clip"]')||document.querySelector('[class*="clip"]'))}i.d(t,{isVideoEditModalOpen:()=>o})},204416:(e,t,i)=>{"use strict";i.d(t,{pauseLastInlineVideo:()=>r,playLastInlineVideo:()=>n});var o=i(663939);function r(){if(!window._videoLastInlined)return;const e=cur.videoInlinePlayer||document.getElementById("video_yt")&&window.VideoYoutube;if(e){if(e.isActiveLive&&e.isActiveLive())return;cur.mvOpts.lastPlayerState=e.getState(),e.togglePlay(!1)}}function n(){if(!window._videoLastInlined||!cur.mvOpts||cur.mvOpts.lastPlayerState!==o.PLAYING)return;const e=cur.videoInlinePlayer||document.getElementById("video_yt")&&window.VideoYoutube;e&&e.togglePlay(!0)}},671243:(e,t,i)=>{"use strict";i.d(t,{finishFormMeasure:()=>n});var o=i(237625),r=i(636576);const n=function(e){if(cur.formMeasureTime){const t=Date.now()-cur.formMeasureTime;vk.dev&&(0,o.debugLog)(t),delete cur.formMeasureTime,(0,r.statlogsValueEvent)("payments_frame_load_time",t,e)}}},641608:(e,t,i)=>{"use strict";i.r(t),i.d(t,{MoneyTransfer:()=>x});var o=i(683234),r=i(330882),n=i(191468),a=i(898848),s=i(749284),c=i(972332),l=i(246429),d=i(270959),u=i(754866),_=i(560377),p=i(449299),m=i(478752),g=i(237625),v=i(636576),f=i(866467),y=i(126645),E=i.n(y),A=i(150681),S=i(338329),b=i(342879),T=i(443291),I=i(105330),C=i(952661),k=i(468073),P=i(377803),O=i(428374),M=i(671243),L=i(554607);const D=1,R=2,N=-1,x={initHandlers(){(0,S.tq)().setInteractiveHandler("MoneyTransfer/receive_method_change",(e=>{const t=e.payload.event.target;if((0,u.hasClass)(t,"disabled"))return;const{value:i,name:o}=e.payload.dataAttrs;x.onReceiveMethodChange(t,i,o)})),(0,S.tq)().setInteractiveHandler("MoneyTransfer/in_chat_focus_amount",(()=>{(0,u.elfocus)("transfer_amount")})),(0,S.tq)().setInteractiveHandler("MoneyTransfer/check_user_message",(()=>{x.checkUserMessage()})),(0,S.tq)().setInteractiveHandler("MoneyTransfer/show_hint",(e=>{(0,b.showHint)(e.payload.event.target)})),(0,S.tq)().setInteractiveHandler("MoneyTransfer/send",(e=>{x.send(Boolean(e.payload.dataAttrs.newWindow))})),(0,S.tq)().setInteractiveHandler("MoneyTransfer/check_participate",(e=>{(0,o.checkbox)(e.payload.event.target),x.checkRequestParticipate()})),(0,S.tq)().setInteractiveHandler("MoneyTransfer/check",(e=>{(0,o.checkbox)(e.payload.event.target)})),(0,S.tq)().setInteractiveHandler("MoneyTransfer/check_auto_accept",(e=>{(0,o.checkbox)(e.payload.event.target),x.checkAutoAccept()})),(0,S.tq)().setInteractiveHandler("MoneyTransfer/about",(e=>{x.aboutBox(e.payload.dataAttrs.aboutKey)})),(0,S.tq)().setInteractiveHandler("MoneyTransfer/history",(()=>{x.historyBox()})),(0,S.tq)().setInteractiveHandler("MoneyTransfer/hide_pin_box",(()=>{x.hidePinBox()})),(0,S.tq)().setInteractiveHandler("MoneyTransfer/check_vk_pay_offer",(()=>{x.checkVkPayOfferBox()})),(0,S.tq)().setInteractiveHandler("MoneyTransfer/clean_amount",(e=>{x.cleanAmount(e.payload.event.target,e.payload.event,Boolean(e.payload.dataAttrs.onlyClean))})),(0,S.tq)().setInteractiveHandler("MoneyTransfer/send_amount_on_enter",(e=>{13===e.payload.event.keyCode&&x.send(),x.autosizeAmount()})),(0,S.tq)().setInteractiveHandler("MoneyTransfer/focus_from_to",(e=>{(0,u.elfocus)(e.payload.event,0,1e4)})),(0,S.tq)().setInteractiveHandler("MoneyTransfer/focus_and_hide_link",(e=>{(0,u.elfocus)(e.payload.event,0,1e4),x.hideLinkCopied()})),(0,S.tq)().setInteractiveHandler("MoneyTransfer/copy_link",(e=>{x.copyLinkToClipboard((0,u.ge)(e.payload.dataAttrs.element))})),(0,S.tq)().setInteractiveHandler("MoneyTransfer/share_qr",(()=>{x.shareQRCode()})),(0,S.tq)().setInteractiveHandler("MoneyTransfer/download_qr",(()=>{x.downloadQRCode()})),(0,S.tq)().setInteractiveHandler("MoneyTransfer/switch_to_transfer_box",(e=>{x.switchBoxSection(e.payload.event.target,"transfer")})),(0,S.tq)().setInteractiveHandler("MoneyTransfer/switch_to_request_box",(e=>{x.switchBoxSection(e.payload.event.target,"request")})),(0,S.tq)().setInteractiveHandler("MoneyTransfer/switch_to_link_box",(e=>{x.switchBoxSection(e.payload.event.target,"link")})),(0,S.tq)().setInteractiveHandler("MoneyTransfer/init_accept",(()=>{x.initAccept(cur.paymentsOptions.chkData,cur.paymentsOptions.frame,!0)}))},init(){this.initHandlers();const e=(0,l.curBox)();if((0,u.ge)("payments_box")!=(0,u.geByClass1)("payments_money_transfer_box",e.bodyNode)&&_message_boxes.length>1){let e=!0;_message_boxes.forEach((function(t,i){e&&(0,u.ge)("payments_box")==(0,u.geByClass1)("payments_money_transfer_box",t.bodyNode)&&(boxLayer.removeChild((0,u.gpeByClass)("popup_box_container",t.bodyNode)),boxQueue._boxes.splice(i,1),delete _message_boxes[i],e=!1)}))}if(cur.moneyLinksTooltip&&(cur.moneyLinksTooltip.destroy(),delete cur.moneyLinksTooltip),e.setOptions({grey:!0}),cur.paymentsOptions.requestId&&!cur.paymentsOptions.vkpayAvailable&&(e.changed=!0,e.setOptions({width:510}),x.send()),(0,s.placeholderInit)("transfer_amount"),(0,s.placeholderInit)("transfer_comment"),cur.paymentsOptions.isChat){if((0,s.placeholderInit)("transfer_chunk_amount"),cur.autoacceptCardDD=new O.InlineDropdown("transfer_autoaccept_card",{items:cur.paymentsOptions.cards,selected:cur.paymentsOptions.cardSeleceted,withArrow:!0,onShow:x.enableAutoaccept,onSelect:e=>{-1==e?x.sendBind():cur.paymentsOptions.vkpayAvailable&&x.checkAmount((0,u.val)("transfer_amount"))}}),cur.autoacceptCardEl=(0,u.ge)("transfer_autoaccept_card"),(0,u.toggleClass)("transfer_autoaccept_card","disabled",!cur.paymentsOptions.autoAcceptEnabled),cur.paymentsOptions.autoAcceptEnabled&&(0,o.checkbox)("transfer_autoaccept",!0),cur.paymentsOptions.cards.length<2){let e=(0,u.ce)("a",{id:"payments_money_transfer_new_card_lnk",innerHTML:(0,f.getLang)("payments_money_transfer_new_card")});(0,c.addEvent)(e,"mousedown",x.sendBind),(0,u.hide)(cur.autoacceptCardEl),cur.autoacceptCardEl.parentNode.appendChild(e)}}else if((0,u.ge)("transfer_to")){(0,u.hide)("payments_money_transfer_user");let e="transfer"===cur.paymentsOptions.boxTab;cur.uiTransferTo=new Dropdown((0,u.ge)("transfer_to"),cur.paymentsOptions.friends.filter((function(t){return e||!0===t[7]})),{big:!0,introText:(0,f.getLang)("votes_transfer_start_typing_recipient"),noResult:"",placeholder:(0,f.getLang)("votes_transfer_choose_recipients"),multiselect:!1,enableCustom:!0,autocomplete:!0,imageId:"transfer_to_photo",indexkeys:[1,4],noImageSrc:"/images/blank.gif",onChange:e=>{if(!e||-1==e)return;const t=cur.uiTransferTo.val_full();cur.paymentsOptions.toId=t[0],cur.paymentsOptions.hash=t[5],(0,u.val)("payments_money_transfer_summary",t[6]),setTimeout(u.elfocus.pbind("transfer_amount"),100),cur.paymentsOptions.vkpayAvailable&&x.updateMethods()}})}else(0,u.ge)("transfer_method")&&x.initMethods();setTimeout(u.elfocus.pbind("transfer_amount"),100),(0,n.shortCurrency)(),"link"===cur.paymentsOptions.boxTab&&x.genQRCode();let t=(0,u.val)("transfer_amount");t&&x.checkAmount(t,!1,!0),x.autosizeAmount(),x.showMoneyLinksTooltip(),cur.transferPageLoaded=!1,cur.destroy.push(x.destroy)},destroy(){x.stopCheckFrameLoad(),cur.uiTransferTo&&cur.uiTransferTo.destroy(cur.uiTransferTo),cur.qrFrame&&(0,u.re)(cur.qrFrame)},initMethods(){cur.paymentsOptions.onlyCards=!(0,u.isVisible)("payments_money_transfer_receive_methods");let e=cur.paymentsOptions.cardSelected;if([R,D].includes(parseInt(cur.paymentsOptions.forceType)))for(const[t]of cur.paymentsOptions.cards)t===N&&(e=N);if(cur.uiTransferCard=new Dropdown((0,u.ge)("transfer_method"),cur.paymentsOptions.cards,{big:!0,selectedItems:e,onChange:(e,t)=>{if(-2===parseInt(e)){const e=(0,u.se)(t);nav.go(e.getAttribute("data-url"));const i=document.querySelector("#payments_money_transfer_send");return C.FlatButton.lock(i),!1}x.updateTransferType(),x.updateCardFee(!0),(0,u.val)("transfer_amount")||setTimeout(u.elfocus.pbind("transfer_amount"),100)}}),!cur.paymentsOptions.onlyCards){(0,u.geByClass1)("payments_money_transfer_receive_options","payments_money_transfer_receive_methods")&&(window.radioBtns.receiveOptions={els:Array.prototype.slice.apply((0,u.geByClass)("radiobtn")),val:e==N?"vkpay":"cards"})}if(void 0!==cur.paymentsOptions.vkpayBalance&&((0,m.each)((0,u.geByClass)("_code","payments_money_transfer_code_wrap"),(function(){(0,c.addEvent)(this,"mousedown",x.onPinClick),(0,c.addEvent)(this,"keyup",x.onPinKeyUp),(0,c.addEvent)(this,"keypress",x.onPinEnter)})),x.isVKPayFillUpEnabled())){const e=x.getBindCards();e.length>0&&(cur.uiFillUpCard=new Dropdown((0,u.ge)("fill_up_card"),e,{big:!0,selectedItems:cur.paymentsOptions.fillUpCardSelected}))}const t=!cur.paymentsOptions.transferType||cur.paymentsOptions.forceType;t&&x.updateTransferType(),x.updateCardFee(!t)},updateLocalStorageNewWindowSign(){const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()+20+20*Math.random());return localStorage.setItem("money_transfer_new_window",t.getTime()),t},getLocalStorageNewWindowSign(){let e=parseInt(localStorage.getItem("money_transfer_new_window")??0);if(1===e)e=x.updateLocalStorageNewWindowSign().getTime();else if(0===e)return!1;return e>(new Date).getTime()},updateMethods(){const e=cur.paymentsOptions.toId;if(!e||!cur.paymentsOptions.vkpayAvailable||!k.Ranges.isUserIdTransitional(e)&&!k.Ranges.isChatOrChannelPeer(e))return;const t=document.querySelector("#payments_money_transfer_send");(0,u.val)("payments_box_error",""),cur.moneyTranferMethodsReq&&(cur.moneyTranferMethodsReq.abort(),cur.moneyTranferMethodsReq=null),"request"!==cur.paymentsOptions?.boxTab&&(cur.moneyTranferMethodsReq=ajax.post("al_payments.php?act=a_get_money_transfer_methods",{to_id:e},{onDone:(e,i)=>{C.FlatButton.unlock(t),(0,u.val)("payments_money_transfer_methods",e),cur.paymentsOptions=(0,m.extend)(cur.paymentsOptions,i),cur.paymentsOptions.transferType=i.transferType,x.initMethods()},onFail:e=>(e&&(0,a.isString)(e)&&(C.FlatButton.unlock(t),x.showError(e)),!0),showProgress:()=>C.FlatButton.lock(t)}))},send(e=!1,t=!1){const i=(0,l.curBox)(),r=document.querySelector("#payments_money_transfer_send");if(C.FlatButton.isLocked(r))return;if(!cur.paymentsOptions.toId&&cur.uiTransferTo)return void(0,o.notaBene)(cur.uiTransferTo.container);let n=0;if(x.resetTransferWindow(),!(0,u.isVisible)("payments_money_transfer_no_amount_wrap")){if(n=(0,u.val)("transfer_amount"),!n||n<=0)return(0,u.addClass)("payments_money_transfer_amount_wrap","money_error"),setTimeout(u.removeClass.pbind("payments_money_transfer_amount_wrap","money_error"),500),void(0,u.elfocus)("transfer_amount");if(!x.checkAmount(n,!0))return;if((0,o.isChecked)("transfer_participate")){n-=x.getChunkAmount(n,!0)}}if(x.hideMoneyLinksTooltip(),cur.paymentsOptions.onSendStart&&cur.paymentsOptions.onSendStart(),"request"===cur.paymentsOptions.boxTab)return void x.sendRequest(n);x.createFrame();let a={act:"a_init_money_transfer",to_id:cur.paymentsOptions.toId,owner_id:cur.paymentsOptions.ownerId,amount:n,currency:cur.paymentsOptions.currency,comment:(0,u.val)("transfer_comment"),from:cur.paymentsOptions.from,hash:cur.paymentsOptions.hash,accept_vk_pay_offer:cur.paymentsOptions.shouldAcceptVkPayOffer};if(cur.paymentsOptions.vkpayAvailable&&(a.card_id=cur.uiTransferCard.val(),cur.paymentsOptions.onlyCards||(a.receive_method=(0,o.radioval)("receiveOptions")),"-1"===a.card_id)){if(!t)return void x.showPinBox();a.vkpay_pin=t}if(x.isVKPayTransfer()&&x.isVKPayFillUpEnabled()&&x.isFillUpCardSelectionVisible()&&(a.fill_up_card_id=cur.uiFillUpCard.val()),cur.paymentsOptions.requestId&&(a.request_id=cur.paymentsOptions.requestId),cur.paymentsOptions.statSessionId&&(a.stat_session_id=cur.paymentsOptions.statSessionId),(0,u.val)("payments_box_error",""),e||!localStorage||this.isVKPayTransfer()||"-1"===a.card_id||(e=x.getLocalStorageNewWindowSign()),e){cur.paymentsOptions.qid&&(a.act="a_continue_money_transfer",a.qid=cur.paymentsOptions.qid),cur.transferWindow=window.open("","Money Transfer");let e=(0,L.popupHtml)((0,f.getLang)("payments_cards_redirect"),"","");cur.transferWindow.document.write(e)}ajax.post("al_payments.php",a,{onDone:(t,r)=>{if(r)if(cur.paymentsOptions.qid=t.qid,e)cur.transferWindow?x.updateTransferWindow(r):x.showError((0,f.getLang)("payments_payment_cancelled"),"info_msg");else{let e;cur._popup_text=r,cur._popup_callback=function(){(0,u.hide)("payments_money_transfer_wrap","payments_money_transfer_buttons","payments_box_error","payments_money_transfer_prg","payments_iframe_cookie_disabled_div"),(0,u.show)("payments_money_transfer_iframe","payments_iframe_container"),cur.uiTransferTo&&((0,u.hide)("payments_money_transfer_user_select"),(0,u.show)("payments_money_transfer_user")),(0,u.ge)("payments_iframe_container").scrollTop=0,window.addEventListener("message",x.frameMessage,!1),i.changed=!0,i.setOptions({width:510}),!cur.paymentsOptions.requestId&&(0,u.isVisible)(i.titleWrap)&&i.setBackTitle(x.resetSendBox),(0,u.setStyle)(e,{width:(0,u.ge)("payments_iframe_container").parentNode.offsetWidth-(0,o.sbWidth)()+"px"})},e=(0,u.ge)("transfer_iframe"),e.contentWindow.document.open("text/html","replace"),e.contentWindow.document.write(r),e.contentWindow.document.close(),cur._popup_callback(),x.startCheckFrameLoad(+new Date)}else cur.paymentsOptions.receiptRedesign&&window.addEventListener("message",x.frameMessage,!1),(0,u.hide)("payments_money_transfer_wrap","payments_money_transfer_buttons","payments_box_error","payments_iframe_container",(0,u.geByClass1)("payments_money_transfer_mc_info_msg","payments_money_transfer_iframe")),cur.uiTransferTo&&((0,u.hide)("payments_money_transfer_user_select"),(0,u.show)("payments_money_transfer_user")),(0,u.show)("payments_money_transfer_iframe","payments_money_transfer_prg");x.startCheckStatus(t,e)},onFail:e=>(x.resetTransferWindow(),x.showError(e),!0),showProgress:()=>C.FlatButton.lock(r),hideProgress:()=>C.FlatButton.unlock(r)})},sendRequest(e){let t=document.querySelector("#payments_money_transfer_send"),i={to_id:cur.paymentsOptions.toId,owner_id:cur.paymentsOptions.ownerId,amount:e,currency:cur.paymentsOptions.currency,comment:(0,u.val)("transfer_comment"),from:cur.paymentsOptions.from,hash:cur.paymentsOptions.hash};if(cur.paymentsOptions.statSessionId&&(i.stat_session_id=cur.paymentsOptions.statSessionId),cur.paymentsOptions.isChat){if(i.total_amount=parseInt(e),i.amount=parseInt((0,u.val)("transfer_chunk_amount")),i.pin_message=(0,o.isChecked)("transfer_pin_message")?1:0,(0,o.isChecked)("transfer_autoaccept")&&(cur.autoacceptCardDD&&(i.accept_card=cur.autoacceptCardDD.val()),!i.accept_card||-1==i.accept_card))return x.showError((0,f.getLang)("payments_money_request_error_no_accept_card")),!1;let t=!1;const r=x.getTransferLimit("minAmount"),n=x.getTransferLimit("maxAmount");if(r&&i.amount<r?t=(0,f.getLang)("payments_money_request_error_min_chunk_amount_currency"):n&&i.amount>n?t=(0,f.getLang)("payments_money_request_error_max_chunk_amount_currency"):i.total_amount&&i.amount>i.total_amount&&(t=(0,f.getLang)("payments_money_request_error_chunk_amount_too_big")),t)return x.showError(t),(0,o.notaBene)("transfer_chunk_amount"),!1}(0,u.val)("payments_box_error",""),ajax.post("al_payments.php?act=a_send_money_request",i,{onDone:e=>{(0,l.curBox)().hide(),(0,l.showDoneBox)(e,{out:6e3})},onFail:e=>(x.showError(e),!0),showProgress:()=>C.FlatButton.lock(t),hideProgress:()=>C.FlatButton.unlock(t)})},sendBind(){const e=(0,l.curBox)();x.createFrame(),(0,u.hide)("payments_money_transfer_wrap","payments_money_transfer_buttons","payments_box_error","payments_money_transfer_summary_wrap","payments_iframe_container",(0,u.geByClass1)("msg","payments_money_transfer_iframe"),(0,u.geByClass1)("tb_tabs_wrap",e.bodyNode)),(0,u.show)("payments_money_transfer_iframe","payments_money_transfer_prg"),e.setBackTitle(x.resetSendBox),e.setOptions({width:510});const t={type:"card",only_auth:1,hash:cur.paymentsOptions.bindHash};(0,u.val)("payments_box_error",""),ajax.post("al_payments.php?act=a_getvotes_charge",t,{onDone:(t,i)=>{let r;cur._popup_text=i,cur._popup_callback=function(){(0,u.hide)("payments_money_transfer_prg"),(0,u.show)("payments_iframe_container"),(0,u.ge)("payments_iframe_container").scrollTop=0,window.addEventListener("message",x.frameMessage,!1),cur.autoacceptCardDD&&(0,u.isVisible)(cur.autoacceptCardEl)&&cur.autoacceptCardDD.select(cur.paymentsOptions.cards[0][0]),e.changed=!0,(0,u.setStyle)(r,{width:(0,u.ge)("payments_iframe_container").parentNode.offsetWidth-(0,o.sbWidth)()+"px"})},r=(0,u.ge)("transfer_iframe"),r.contentWindow.document.open("text/html","replace"),r.contentWindow.document.write(i),r.contentWindow.document.close(),cur._popup_callback(),cur.isPaymentCanceled=cur.isPaymentFailed=!1,cur.moneyTranferCheckInt=setInterval((function(){x.checkBindStatus(t),(cur.isPaymentCanceled||cur.isPaymentFailed)&&(clearInterval(cur.moneyTranferCheckInt),cur.isPaymentFailed?x.showError((0,f.getLang)("payments_landing_cancelled")):x.showError((0,f.getLang)("payments_payment_cancelled"),"info_msg"))}),2e3)},onFail:e=>(x.showError(e),!0)})},createFrame(){let e=(0,u.ge)("payments_iframe_container"),t=(0,u.ce)("iframe",{id:"transfer_iframe",name:"transfer_iframe"},{border:0,height:"445px",width:510-(0,o.sbWidth)()+"px",overflowX:"hidden",overflowY:"hidden"});t.frameBorder=0,e.innerHTML="",e.appendChild(t)},popupWrite(e){if(e.document.innerHTML!==cur._popup_text){e.document.write(cur._popup_text),e.document.close();try{e.document.charset="windows-1251"}catch(e){}e.blur(),e.focus(),cur._popup_callback&&cur._popup_callback()}},resetSendBox(){const e=(0,l.curBox)();if(!e)return;const t=(0,u.geByClass1)("tb_tabs_wrap",e.bodyNode);(0,u.hide)("payments_money_transfer_iframe"),(0,u.show)("payments_money_transfer_wrap","payments_money_transfer_buttons","payments_money_transfer_summary_wrap",t,(0,u.geByClass1)("payments_money_transfer_mc_info_msg","payments_money_transfer_iframe")),cur.uiTransferTo&&((0,u.hide)("payments_money_transfer_user"),(0,u.show)("payments_money_transfer_user_select")),t&&e.setOptions({title:""}),e.changed=!1,e.setOptions({width:510}),(0,u.isVisible)(e.titleWrap)&&e.setBackTitle(!1)},resetTransferWindow(){cur.transferWindow&&((0,u.show)("payments_money_transfer_wrap","payments_money_transfer_buttons"),(0,u.hide)("payments_money_transfer_prg","payments_money_transfer_iframe"),cur.transferWindow.location=window.location,cur.transferWindow.close()),cur.transferWindow=void 0},updateTransferWindow(e){const t=cur.transferWindow.document.getElementById("wait_text_container");t&&(t.innerHTML=""),cur.transferWindow.document.write(e),setTimeout((()=>{cur.transferWindow.document.getElementById("popup_payment_form")?.submit()}),1500),window.addEventListener("message",x.frameMessage,!1),(0,u.hide)("payments_money_transfer_wrap","payments_money_transfer_buttons","payments_box_error","payments_iframe_safari_trouble_div","payments_iframe_container"),(0,u.val)("payments_transfer_box_progress_msg",(0,f.getLang)("payments_waiting_transfer_complete")),(0,u.show)("payments_money_transfer_iframe","payments_money_transfer_prg")},startCheckStatus(e,t=!1){cur.isPaymentCanceled=cur.isPaymentFailed=!1,cur.moneyTransferRedirected=!1,cur.moneyTranferCheckInt&&clearInterval(cur.moneyTranferCheckInt),cur.moneyTranferCheckInt=setInterval((function(){if(x.checkStatus(e,t),cur.isPaymentCanceled||cur.isPaymentFailed){let t=x.resetTransferWindow();if(t&&t(),clearInterval(cur.moneyTranferCheckInt),e.accept)return void(0,l.curBox)().hide();cur.isPaymentFailed?x.showError((0,f.getLang)("payments_landing_cancelled")):x.showError((0,f.getLang)("payments_payment_cancelled"),"info_msg")}}),2e3)},hideBoxQueue(){for(;boxQueue.count();)boxQueue.hideLast(!1)},stopListeningFrameMessages(){window.removeEventListener("message",x.frameMessage,!1)},checkStatus(e,t){const i={act:"a_check_money_transfer",qid:e.qid,hash:e.hash};e.accept&&(i.accept=e.accept),ajax.post("al_payments.php",i,{onDone:(i,r,n,a)=>{if(!i||4==i&&cur.moneyTransferRedirected)t&&cur.transferWindow?.closed&&(x.showError((0,f.getLang)("payments_payment_cancelled")),x.stopListeningFrameMessages(),x.resetTransferWindow(),cur.isPaymentFailed=!1,cur.isPaymentCanceled=!1);else{if(1==i||3==i){if(t){0===cur.paymentsOptions.transferType||cur.paymentsOptions.transferType===D?cur.transferWindow&&!cur.transferWindow.closed&&(x.resetTransferWindow(),x.hideBoxQueue()):(x.resetTransferWindow(),x.hideBoxQueue())}else cur.paymentsOptions.transferType===R?(x.resetTransferWindow(),x.hideBoxQueue()):cur.paymentsOptions.receiptRedesign&&((0,u.hide)(document.querySelector(".payments_money_transfer_footer")),a?.receipt_link&&x.setIframeByLink(a.receipt_link));a||(0,l.showDoneBox)(r,{out:6e3});const o=nav.objLoc;e.accept||"settings"!==o[0]||"payments"!==o.act||"transfer"!==o.section||(cur.historyOffset||(cur.historyOffset={}),cur.historyOffset.transfer=0,(0,T.showNextPaymentsHistory)(!1,o.section)),3==i&&(a&&a.title&&(0,d.showFastBox)({title:a.title},r,(0,f.getLang)("payments_remember_card_btn"),x.rememberAcceptCard.pbind(a),(0,f.getLang)("payments_dont_remember_card_btn")),TopNotifier.invalidate(),cur.acceptMoneyBtn&&(0,u.hasClass)((0,u.domPN)(cur.acceptMoneyBtn),"feedback_buttons")?((0,u.re)((0,u.domPN)(cur.acceptMoneyBtn)),cur.acceptMoneyBtn=!1):cur.acceptMoneyBtn&&((0,u.re)((0,u.geByClass1)("_decline_btn",(0,u.domPN)(cur.acceptMoneyBtn))),(0,u.domReplaceEl)(cur.acceptMoneyBtn,n),cur.acceptMoneyBtn=!1))}else if(2==i||5==i)x.showError(r),x.stopListeningFrameMessages(),cur.isPaymentFailed=!1,cur.isPaymentCanceled=!1;else{if(4==i){if(cur.moneyTransferRedirected=!0,cur._popup_text=n,t&&cur.transferWindow)x.updateTransferWindow(n);else{let e;cur._popup_callback=function(){(0,u.hide)("payments_money_transfer_prg"),(0,u.show)("payments_iframe_container"),(0,u.ge)("payments_iframe_container").scrollTop=0,window.addEventListener("message",x.frameMessage,!1),(0,l.curBox)().changed=!0,(0,u.setStyle)(e,{width:(0,u.ge)("payments_iframe_container").parentNode.offsetWidth-(0,o.sbWidth)()+"px"})},e=(0,u.ge)("transfer_iframe"),e.contentWindow.document.open("text/html","replace"),e.contentWindow.document.write(n),e.contentWindow.document.close(),cur._popup_callback()}return}if(6==i)return void((0,u.isVisible)("payments_money_transfer_prg")||((0,u.hide)("payments_iframe_container"),(0,u.show)("payments_money_transfer_iframe","payments_money_transfer_prg")))}clearInterval(cur.moneyTranferCheckInt)}},onFail:e=>(clearInterval(cur.moneyTranferCheckInt),x.resetTransferWindow()(),x.showError(e),!0)})},checkBindStatus(e){let t={act:"a_getvotes_check",type:"card"};e&&(e.oid||e.qid)&&(t.oid=e.oid,t.qid=e.qid,t.hash=e.hash),ajax.post("al_payments.php",t,{onDone:(e,t,i)=>{e&&(1==e?(x.resetSendBox(),x.enableAutoaccept(),i&&cur.autoacceptCardDD&&((0,u.isVisible)(cur.autoacceptCardEl)||((0,u.hide)((0,u.geByTag)("A",cur.autoacceptCardEl.parentNode)[0]),(0,u.show)(cur.autoacceptCardEl)),cur.paymentsOptions.cards.unshift([i.bindingId,i.bin]),cur.autoacceptCardDD.setItems(cur.paymentsOptions.cards),cur.autoacceptCardDD.select(i.bindingId))):2!=e&&10!=e||x.showError(t),clearInterval(cur.moneyTranferCheckInt))},onFail:e=>(clearInterval(cur.moneyTranferCheckInt),x.showError(e),!0)})},paymentCanceled(e){e?cur.isPaymentFailed=!0:cur.isPaymentCanceled=!0,x.frameHeight()},frameHeight(e,t){let i=(0,u.ge)("transfer_iframe");e?(e=Math.max(e,250),cur.prevFrameHeight=i.style.height,i.style.height=e+"px"):(i.style.height=cur.prevFrameHeight,(0,u.removeClass)("payments_iframe_container","payments_threeds_frame")),t||((0,u.ge)("payments_iframe_container").style.height=(e||cur.prevFrameHeight)+15+"px"),(0,u.ge)("payments_iframe_container").scrollTop=0},frameMessage(e){if(!(0,l.curBox)()&&cur.paymentsOptions.receiptRedesign)return void x.stopListeningFrameMessages();if(!(e.origin.match(/^https?:\/\/([a-zA-Z0-9\-.]+\.)?money\.mail\.ru$/)||e.origin.match(new RegExp(`^https?:\\/\\/([a-zA-Z0-9\\-.]+\\.)?${I.VK_SITE_REGEX_SOURCE_UNSAFE}$`))&&cur.paymentsOptions?.receiptRedesign))return!1;let t={};if(e.data){switch(typeof e.data){case"object":t=e.data;break;case"string":"{"===e.data.substr(0,1)&&(t=(0,p.parseJSON)(e.data))}if("billing"!==t.type)return!1}vk.dev&&(0,g.debugLog)(t);const i=(0,u.geByClass1)("payments_iframe_container",(0,l.curBox)().bodyNode)||(0,u.ge)("payments_iframe_container");if(cur.transferPageLoaded=!0,"resizeFrame"===t.action?setTimeout(x.frameHeight.pbind(t.action_params.height),200):"submit"===e.data||"3dsPage"===t.action?(setTimeout(x.frameHeight.pbind(600,!0),200),(0,u.addClass)(i,"payments_threeds_frame")):"3dsFinish"===t.action?(x.frameHeight(),(0,u.removeClass)(i,"payments_threeds_frame")):"session_fail"===t.action?((0,u.hide)(i),x.resetTransferWindow(),(0,u.show)("payments_iframe_safari_trouble_div"),x.updateLocalStorageNewWindowSign()):"putPixel"===t.action&&"page_load"===t.action_params.alias?((0,M.finishFormMeasure)("dmr_transfer"),(0,v.statlogsValueEvent)("money_transfers",0,"iframe_loaded")):"paySuccess"===t.action?setTimeout(x.frameHeight.pbind(500),300):"payError"===t.action&&(0,u.isVisible)("payments_iframe_container")&&((0,u.hide)("payments_iframe_container"),(0,u.val)("payments_transfer_box_progress_msg",(0,f.getLang)("payments_waiting_transfer_complete")),(0,u.show)("payments_money_transfer_iframe","payments_money_transfer_prg")),cur.paymentsOptions.receiptRedesign){if("make_one_more_transfer"===t.action||"close_window"===t.action)switch(clearInterval(cur.moneyTranferCheckInt),x.resetTransferWindow(),x.stopListeningFrameMessages(),t.action){case"make_one_more_transfer":x.resetSendBox();break;case"close_window":x.hideBoxQueue()}if("get_transfer_source"===t.action){let e=vk.dev?"*":window.location.origin;cur.transferWindow&&cur.transferWindow.postMessage(JSON.stringify({from:cur.paymentsOptions.from}),e);let t=(0,u.ge)("transfer_iframe");t&&t.contentWindow.postMessage(JSON.stringify({action:"set_transfer_source",source:cur.paymentsOptions.from}),e)}}},setIframeByLink(e){let t=(0,u.geByClass1)("payments_iframe_container",(0,l.curBox)().bodyNode)||(0,u.ge)("payments_iframe_container"),i=(0,u.ce)("iframe",{id:"transfer_iframe",name:"transfer_iframe"},{border:0,height:"445px",width:"510px",overflowX:"hidden",overflowY:"hidden"});i.frameBorder=0,t.innerHTML="",t.appendChild(i),(0,u.hide)((0,u.ge)("payments_money_transfer_prg")),(0,u.show)(t),i.src=e},startCheckFrameLoad(e){cur.frameLoadChecker=setInterval((function(){if(cur.transferPageLoaded)x.stopCheckFrameLoad();else{+new Date-e>5e3&&(x.stopCheckFrameLoad(),x.resetTransferWindow(),(0,u.hide)("payments_iframe_container"),(0,u.show)("payments_iframe_safari_trouble_div"),x.updateLocalStorageNewWindowSign())}}),1e3)},stopCheckFrameLoad(){clearInterval(cur.frameLoadChecker)},initAccept(e,t,i=!1){if(i)cur.transferWindow=window.open("/","Money transfer"),cur.transferWindow.document.write(t),(0,u.hide)("payments_box_error","payments_iframe_container","payments_iframe_safari_trouble_div","payments_iframe_container"),(0,u.val)("payments_transfer_box_progress_msg",(0,f.getLang)("payments_waiting_transfer_complete")),(0,u.show)("payments_money_transfer_iframe","payments_money_transfer_prg");else{let e=(0,u.geByClass1)("payments_iframe_container",(0,l.curBox)().bodyNode)||(0,u.ge)("payments_iframe_container");(0,u.show)(e);let i=(0,u.ce)("iframe",{id:"transfer_iframe",name:"transfer_iframe"},{border:0,height:"445px",width:"510px",overflowX:"hidden",overflowY:"hidden"});i.frameBorder=0,e.innerHTML="",e.appendChild(i),i.contentWindow.document.open("text/html","replace"),i.contentWindow.document.write(t),i.contentWindow.document.close(),x.startCheckFrameLoad(+new Date)}window.addEventListener("message",x.frameMessage,!1),x.startCheckStatus(e,i)},rememberAcceptCard(e){const t=(0,l.curBox)()||{};let i=t.btns.ok[0];ajax.post("al_payments.php?act=a_remember_money_transfer_accept_card",{card_id:e.card_id,hash:e.hash},{onDone:t.hide,showProgress:()=>C.FlatButton.lock(i),hideProgress:()=>C.FlatButton.unlock(i)})},cleanAmount(e,t,i){if(13===t.keyCode)return;let o=e.value.replace(/[^0-9]/g,"");o=o.replace(/^0+/,""),e.value!=o&&(e.value=o),i||(x.checkAmount(o),x.autosizeAmount(),cur.paymentsOptions.cardsFee&&x.updateCardFee(!0))},getTransferLimit(e){let t="request"===cur.paymentsOptions.boxTab?0:cur.paymentsOptions.transferType;return"balance"===e&&parseInt(t)===R?cur.paymentsOptions.vkpayBalance:(cur.paymentsOptions.isChat&&"request"===cur.paymentsOptions.boxTab&&"maxAmount"===e&&cur.autoacceptCardDD&&-2===cur.autoacceptCardDD.val()&&(t=2),cur.paymentsOptions.limits[t][e])},checkAmount(e,t,i){let r=!1;const n=(0,u.hasClass)("payments_money_transfer_amount_wrap","money_error"),a=parseInt(cur.uiTransferCard?.val())===N,s=x.isVKPayTransfer(),c=x.isVKPayFillUpEnabled();if(t&&n)return s&&e>x.getTransferLimit("balance")&&!c&&(0,d.showFastBox)({title:(0,f.getLang)("payments_vkpay_low_balance_title"),width:420},(0,f.getLang)("payments_vkpay_low_balance_text"),(0,f.getLang)("payments_vkpay_topup_button"),nav.go.pbind("/vkpay#action=refill"),(0,f.getLang)("global_close")),!1;const l=cur.paymentsOptions.isChat&&"request"===cur.paymentsOptions.boxTab,_=l&&(0,o.isChecked)("transfer_participate"),p=x.getTransferLimit("minAmount")*(_?2:1),m=x.getTransferLimit("maxAmount"),g=x.getTransferLimit("balance"),v=(0,f.langNumeric)(p,cur.paymentsOptions.currencyStr,!0),y=(0,f.getLang)("payments_money_transfer_amount_limits").replace("{min_amount}",v);let E=!l;if(l&&cur.autoacceptCardDD&&-2===cur.autoacceptCardDD.val()&&(E=!0),a&&s&&c&&!(void 0!==g&&e<=g)||x.hideFillUpCardSelection(),t&&p&&e<p)r=(0,f.getLang)("payments_money_transfer_error_min_amount_currency").replace("{min_amount}",v);else if(m&&E&&e>m){const e=(0,f.langNumeric)(m,cur.paymentsOptions.currencyStr,!0);r=(0,f.getLang)("payments_money_transfer_error_max_amount_currency").replace("{max_amount}",e)}else if(a&&void 0!==g&&e>g)if(s&&c){x.getBindCards().length>0?x.showFillUpCardSelection():r=(0,f.getLang)("payments_money_transfer_low_balance")}else r=(0,f.getLang)("payments_money_transfer_low_balance");const A=(0,u.ge)("payments_money_transfer_notice");if(0!=r)return(0,u.val)(A,r),(0,u.addClass)("payments_money_transfer_amount_wrap","money_error"),!1;if((n||i||e<p)&&((e<p||"request"===cur.paymentsOptions.boxTab)&&(0,u.val)(A,y),(0,u.removeClass)("payments_money_transfer_amount_wrap","money_error")),!t&&l){const t=x.getChunkAmount(e,_);if((0,u.val)("transfer_chunk_amount",t),p&&e<p)(0,u.val)(A,y);else{const i=_?e-t:e,o=(0,f.langNumeric)(i,cur.paymentsOptions.currencyStr,!0);(0,u.val)(A,(0,f.getLang)("payments_money_transfer_will_be_requested").replace("{amount}",o))}}return!0},getChunkAmount(e,t){const i=x.getTransferLimit("minAmount"),o=x.getTransferLimit("maxAmount");let r=Math.max(i||100,Math.ceil(e/Math.max(1,cur.paymentsOptions.chatCount-(t?0:1))));return o&&(r=Math.min(r,o)),r},autosizeAmount(){let e=(0,u.ge)("transfer_amount"),t=(0,u.ce)("span",{innerHTML:e.value||"0"},{fontFamily:(0,u.getStyle)(e,"fontFamily"),fontSize:(0,u.getStyle)(e,"fontSize"),fontWeight:(0,u.getStyle)(e,"fontWeight")});(0,u.ge)("utils").appendChild(t);let i=Math.floor((0,u.getSize)(t)[0])+50;(0,u.re)(t),cur.amountMinSize||(cur.amountMinSize=80),i<cur.amountMinSize&&(i=cur.amountMinSize),(0,u.setStyle)(e,{width:i})},checkUserMessage(){(0,p.checkTextLength)(cur.paymentsOptions.maxTextLength,(0,u.ge)("transfer_comment"),(0,u.ge)("transfer_comment_limit_message"),!1,!0),((0,u.val)("transfer_comment_limit_message")&&(0,u.isVisible)("transfer_comment_limit_message")?u.hide:u.show)("payments_money_transfer_fee_link")},checkRequestParticipate(){x.checkAmount((0,u.val)("transfer_amount"))},checkRequestNoAmount(e,t){e&&uiTabs.switchTab(e),t?((0,u.hide)("payments_money_transfer_amount_wrap","transfer_participate"),(0,u.show)("payments_money_transfer_no_amount_wrap")):((0,u.hide)("payments_money_transfer_no_amount_wrap"),(0,u.show)("payments_money_transfer_amount_wrap","transfer_participate"),(0,u.elfocus)("transfer_amount"))},checkAutoAccept(){(0,u.toggleClass)("transfer_autoaccept_card","disabled",!(0,o.isChecked)("transfer_autoaccept"))},enableAutoaccept(){(0,o.isChecked)("transfer_autoaccept")||((0,o.checkbox)("transfer_autoaccept",!0),(0,u.removeClass)("transfer_autoaccept_card","disabled"))},showMoneyTransferBox:(e,t,i=void 0,o=null)=>(0,d.showBox)("al_payments.php",{...e,act:"money_transfer_box"},{...t,onDone(e,t){o?.(),cur.paymentsOptions=t,e.setOptions({width:510,bodyStyle:"padding: 0;",hideButtons:!0,onClean(){cur.moneyTranferCheckInt&&clearInterval(cur.moneyTranferCheckInt),nav.objLoc.z&&"moneysend"===nav.objLoc.z.substr(0,9)&&(delete nav.objLoc.z,nav.setLoc(nav.objLoc))}}),x.init()},onFail:i}),aboutBox:e=>!(0,d.showFastBox)({title:(0,f.getLang)("payments_money_transfer_about_title"),width:560},(0,f.getLang)(e)),showError(e,t){e&&((0,u.ge)("payments_box_error").innerHTML="",(0,_.showMsg)("payments_box_error",e,t||"error"),(0,u.show)("payments_box_error")),(0,u.ge)("payments_money_transfer_wrap")&&(x.resetSendBox(),cur.moneyTranferCheckInt&&(clearInterval(cur.moneyTranferCheckInt),cur.moneyTranferCheckInt=!1))},switchBoxSection(e,t){if(cur.paymentsOptions.boxTab!==t){if(e&&uiTabs.switchTab(e),"transfer"===cur.paymentsOptions.boxTab&&(0,u.isVisible)("payments_money_transfer_iframe")&&(x.resetSendBox(),cur.moneyTranferCheckInt&&(clearInterval(cur.moneyTranferCheckInt),cur.moneyTranferCheckInt=!1)),"transfer"===cur.paymentsOptions.boxTab&&cur.paymentsMoneyBoxTTHide&&cur.paymentsMoneyBoxTTHide(),"link"===cur.paymentsOptions.boxTab&&((0,u.hide)("payments_money_link_box"),(0,u.show)("payments_money_transfer_request_box"),x.hideMoneyLinksTooltip()),cur.paymentsOptions.boxTab=t,"link"===t)(0,u.hide)("payments_money_transfer_request_box"),(0,u.show)("payments_money_link_box"),x.hideMoneyLinksTooltip(),x.genQRCode(),x.showMoneyLinksTooltip();else{(0,u.val)("payments_money_transfer_summary",cur.paymentsOptions.boxSections[t].summary);const e=document.querySelector("#payments_money_transfer_send");C.FlatButton.setLabel(e,cur.paymentsOptions.boxSections[t].btn),(0,u.val)("payments_money_transfer_user_select_label",cur.paymentsOptions.boxSections[t].user_select_label),x.checkAmount((0,u.val)("transfer_amount"),!1,!0),"transfer"===t&&x.updateCardFee(!0)}(0,u.toggle)("payments_money_transfer_nf_warning","transfer"===t),(0,u.toggle)("payments_money_transfer_methods","transfer"===t),(0,u.toggle)("payments_money_transfer_vk_pay_offer","transfer"===t),x.renderSelectBox(),setTimeout(u.elfocus.pbind("transfer_amount"),100)}},genQRCode(){const e=(0,u.ge)("payments_money_transfer_qr");if(e.childNodes.length)return;const t={isShowLogo:!0,isShowBackground:!1,foregroundColor:P.default.colorTextPrimary.normal.value,logoColor:P.default.colorIconAccent.normal.value};(0,u.val)(e,E().createQR(cur.paymentsOptions.transferLink,115,"qr-code",t))},shareQRCode(){x.hideMoneyLinksTooltip(!0),(0,d.showBox)("like.php",{act:"publish_box",object:"moneysend"+vk.id+"_0",list:""})},downloadQRCode(){if(!cur.paymentsOptions.qrUrl)return!1;let e=(0,u.ce)("iframe",{src:cur.paymentsOptions.qrUrl});return utilsNode.appendChild(e),cur.qrFrame&&(0,u.re)(cur.qrFrame),cur.qrFrame=e,!1},hideLinkCopied(){(0,m.each)((0,u.geByClass)("_link_copied","payments_money_link_box"),u.hide.pbind(this))},copyLinkToClipboard(e){x.hideLinkCopied(),x.hideMoneyLinksTooltip(!0),e.select(),document.execCommand("copy");const t=(0,u.geByClass1)("_link_copied",(0,u.gpeByClass)("_link_wrap",e));(0,u.show)(t)},renderSelectBox(){if(!cur.uiTransferTo)return;const e="transfer"===cur.paymentsOptions.boxTab;cur.uiTransferTo.setData([]),cur.uiTransferTo.setOptions({autocomplete:!1}),cur.uiTransferTo.setData(cur.paymentsOptions.friends.filter((function(t){return e||!0===t[7]}))),cur.uiTransferTo.setOptions({autocomplete:!0}),cur.paymentsOptions.toId=null,cur.paymentsOptions.hash=null,cur.uiTransferTo.clear(),cur.uiTransferTo.deselectTokens(),(0,u.val)("payments_money_transfer_methods","")},updateImHistory(e,t,i){const o=(0,u.geByClass1)("_money_transfer"+t,e);if(!o)return;let r=(0,u.geByClass1)("_accept_btn",o);r&&((0,u.re)((0,u.geByClass1)("_decline_btn",(0,u.domPN)(r))),(0,u.domReplaceEl)(r,i))},initHistoryBox(e,t,i,n){let a=(0,u.ge)("ui_money_transfer_load_more");if(a){let s=(0,u.ge)("settings_transfer_history").tBodies[0];cur.userAutoScroll=new A.default(s,{offset:i,onNoMore:u.re.pbind(a),onNeedRows:(i,o)=>{let r={act:"money_transfer_history_box",offset:o,owner_id:e};t&&(r.request_id=t),n&&(r.hash=n),ajax.post("al_payments.php",r,{onDone:i})},drawRows:(e,t)=>{if(r.browser.msie){const i=(0,u.se)("<table>"+t+"</table>");t=(0,u.geByTag)("tr",i);for(let i in t)1==t[i].nodeType&&e.appendChild(t[i])}else e.insertAdjacentHTML("beforeEnd",t)},showProgress:()=>(0,o.lockButton)(a),hideProgress:()=>(0,o.unlockButton)(a),rowClass:"settings_history_row"})}},historyBox(){(0,d.showBox)("al_payments.php?act=money_transfer_history_box")},showMoneyLinksTooltip(){if(!cur.paymentsOptions.moneylinks_feature_tooltip||cur.moneyLinksTooltip)return;let e,t,i;(0,u.isVisible)("payments_money_link_box")?(e=(0,u.geByClass1)("payments_money_transfer_link_copy_btn","payments_money_link_box"),t=(0,f.getLang)("payments_money_link_btn_feature_text"),i={forceSide:"right",width:320,offset:[6,0]}):(e=(0,u.geByClass1)("ui_tab",(0,u.geByClass1)("_moneylink_tab","box_layer")),e&&(t=(0,f.getLang)("payments_money_link_tab_feature_text"),i={forceSide:"bottom",width:250,offset:[0,4]})),e&&setTimeout((function(){cur.moneyLinksTooltip=new ElementTooltip(e,(0,m.extend)({content:'<div class="feature_tooltip__close" onclick="cur.moneyLinksTooltip.hide();"></div>'+t,cls:"feature_intro_tt feature_info_tooltip moneylinks_feature_tooltip",autoShow:!1,noHideOnClick:!0,noAutoHideOnWindowClick:!0,appendTo:(0,u.geByClass1)("ui_tabs","box_layer"),onHide:x.hideMoneyLinksTooltip.pbind(!0)},i)),cur.moneyLinksTooltip.show(),cur.destroy.push(x.hideMoneyLinksTooltip)}),500)},hideMoneyLinksTooltip(e){e&&ajax.post("al_index.php",{act:"hide_feature_tt",hash:cur.paymentsOptions.moneylinks_feature_tooltip_hash,type:"moneylinks"}),cur.moneyLinksTooltip&&(cur.moneyLinksTooltip.destroy(),delete cur.moneyLinksTooltip)},showPinBox(){(0,u.addClass)((0,l.curBox)().bodyNode,"payments_box_code_showed"),(0,u.show)("payments_money_transfer_layer_bg","payments_money_transfer_code_box"),(0,m.each)((0,u.geByClass)("_code","payments_money_transfer_code_wrap"),(function(){(0,u.val)(this,"")})),(0,u.elfocus)("payments_code1"),(0,l.curBox)().changed=!0;const e=document.querySelector("#payments_money_transfer_send");e&&(e.style.pointerEvents="none",setTimeout((()=>{e.style.pointerEvents="auto"}),0))},hidePinBox(){(0,u.hide)("payments_money_transfer_layer_bg","payments_money_transfer_code_box"),(0,u.removeClass)((0,l.curBox)().bodyNode,"payments_box_code_showed"),(0,l.curBox)().changed=!1},checkVkPayOfferBox(){const e="payments_money_transfer_vk_pay_offer_box",t=!(0,o.isChecked)(e),i=document.querySelector("#payments_money_transfer_send");C.FlatButton.setDisabled(i,!t),(0,o.checkbox)(e)},onPinKeyUp(e){const t=e.target;if(8==e.keyCode){const e=(0,u.domPS)(t);if(e){const t=e.getAttribute("data-index");(0,u.val)(e,""),cur.paymentsOptions.vkpcode[t]="",cur.paymentsOptions.vkpcode[t-1]="",(0,u.elfocus)(e)}}},onPinEnter(e){const t=e.target;if(!(e.keyCode>=47&&e.keyCode<=57))return(0,c.cancelEvent)(e);{const i=t.getAttribute("data-index");cur.paymentsOptions.vkpcode||(cur.paymentsOptions.vkpcode=[]),cur.paymentsOptions.vkpcode[i-1]=e.key,(0,u.val)(t,String.fromCharCode(9679));const o=(0,u.domNS)(t);o?setTimeout(u.elfocus.pbind(o),10):setTimeout((function(){t.blur(),x.checkPin()}),10)}},onPinClick(e){const t=e.target,i=(0,u.domPS)(t);if(i&&!(0,u.val)(i))return(0,c.cancelEvent)(e)},checkPin(){const e=cur.paymentsOptions.vkpcode.join("");delete cur.paymentsOptions.vkpcode,(0,u.val)("payments_money_transfer_code_error",""),ajax.post("al_payments.php?act=a_check_vkpay_pin",{code:e,hash:cur.paymentsOptions.pinHash},{onDone:t=>{if(1==t)return(0,u.hide)((0,u.geByClass1)("_code_enter","payments_money_transfer_code_box")),void(0,u.show)((0,u.geByClass1)("_code_recover","payments_money_transfer_code_box"));x.hidePinBox(),x.send(!1,e)},onFail:e=>(e&&(0,u.val)("payments_money_transfer_code_error",e),(0,m.each)((0,u.geByClass)("_code","payments_money_transfer_code_wrap"),(function(){(0,u.val)(this,""),(0,o.notaBene)(this)})),(0,u.elfocus)("payments_code1"),!0),showProgress:function(){(0,u.hide)("payments_money_transfer_code_wrap"),(0,u.show)("payments_money_transfer_spinner")},hideProgress:function(){(0,u.hide)("payments_money_transfer_spinner"),(0,u.show)("payments_money_transfer_code_wrap")}})},onReceiveMethodChange(e,t,i){(0,o.radiobtn)(e,t,i),x.updateTransferType(e),x.updateCardFee(!0)},updateTransferType(e){void 0!==cur.paymentsOptions.forceType?cur.paymentsOptions.transferType=cur.paymentsOptions.forceType:parseInt(cur.uiTransferCard.val())===N?cur.paymentsOptions.transferType=R:cur.paymentsOptions.onlyCards?cur.paymentsOptions.transferType=0:(void 0===e&&(0,m.each)(radioBtns.receiveOptions.els,(function(){(0,u.hasClass)(this,"on")&&(e=this)})),void 0!==e&&(cur.paymentsOptions.transferType=(0,m.intval)((0,u.attr)(e,"data-type")))),x.checkAmount((0,u.val)("transfer_amount"),!1,!0)},updateCardFee(e){if(!cur.uiTransferCard||"request"===cur.paymentsOptions.boxTab)return;const t=(0,m.intval)((0,u.val)("transfer_amount")),i=x.getTransferLimit("minAmount"),o=(0,u.ge)("payments_money_transfer_to_card"),r=cur.uiTransferCard.val(),n=cur.paymentsOptions.cardsFee[r],a=0===cur.paymentsOptions.transferType,s=parseInt(r)===N||cur.paymentsOptions.forceType===D||cur.paymentsOptions.forceType===R,c=parseInt(r)!==N&&!cur.paymentsOptions.receiverVkpay||0===cur.paymentsOptions.forceType;let l=(0,f.getLang)("payments_transfer_without_fee"),d=(0,f.getLang)("payments_money_transfer_btn"),_=s?"payments_money_transfer_to_vkpay":"payments_money_transfer_to_card",p=c,g=0;if((0,u.toggleClass)(o,"disabled",s),(0,u.toggleClass)("payments_money_transfer_to_vkpay","disabled",c),0===parseInt(r))a&&(l=cur.paymentsOptions.mastercardPromoEnabled?(0,f.getLang)("payments_transfer_method_without_fee_for_mastercard"):(0,f.getLang)("payments_money_transfer_commission_undefined"));else if(parseInt(r)===N)p=!0;else if(a&&n&&(n.percent||n.vkPay&&n.vkPay.percent)){const e=n.free_amount_rest||0,i=n.free_amount_min||0;if(!e||t>e||i&&t<i){let i=t;t>e&&(i=t-e);const o=n.percent||0,r=n.min||0,a=n.add||0;g=i*o,g<r?g=r:g+=a,g=+(Math.round(g+"e+3")+"e-3"),g=+(Math.round(g+"e+2")+"e-2"),l=(0,f.langNumeric)(g,cur.paymentsOptions.cardsFeeStr,!0)}if(n.vkPay){const e=t+g,i=n.vkPay.percent||0,o=n.vkPay.min||0,r=n.vkPay.add||0;let a=e*i;a<o?a=o:a+=r,g=+(Math.round(g+a+"e+2")+"e-2"),a=+(Math.round(a+"e+2")+"e-2"),l=(0,f.langNumeric)(g,cur.paymentsOptions.cardsFeeStr,!0),l+=(0,f.langNumeric)(a,cur.paymentsOptions.cardsFeeVkPayStr,!0)}}!_||e&&!p||(0,u.ge)(_).classList.contains("on")||(0,u.ge)(_).click(),t>=i&&!(0,u.hasClass)("payments_money_transfer_amount_wrap","money_error")&&((0,u.val)("payments_money_transfer_notice",l),0===parseInt(r)&&a||(d=(0,f.langNumeric)(+(Math.round(t+g+"e+2")+"e-2"),cur.paymentsOptions.buttonAmountStr,!0)));const v=document.querySelector("#payments_money_transfer_send");C.FlatButton.setLabel(v,d)},isVKPayFillUpEnabled:()=>1==cur.paymentsOptions.vkpayFillUpEnabled,isVKPayTransfer:()=>parseInt(cur.paymentsOptions.transferType)===R,getBindCards:()=>cur.paymentsOptions.cards.filter((e=>{const t=parseInt(e[0]);return 0!==t&&t!==N})),hideFillUpCardSelection(){(0,u.hide)("payments_money_transfer_fill_up_cards")},showFillUpCardSelection(){(0,u.show)("payments_money_transfer_fill_up_cards")},isFillUpCardSelectionVisible:()=>(0,u.isVisible)("payments_money_transfer_fill_up_cards")}},554607:(e,t,i)=>{"use strict";i.d(t,{popupHtml:()=>n});var o=i(105330),r=i(406266);const n=function(e,t,i){return`<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">\n<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">\n<head>\n    <meta http-equiv="content-type" content="text/html; charset=windows-1251" />\n    <meta http-equiv="X-UA-Compatible" content="IE=edge" />\n    <style>\n        body {font-family:tahoma,verdana,arial,sans-serif,Lucida Sans; font-size:11px;}\n        .text {position:relative; top:40%; text-align:center; line-height:24px;}\n        .text img {margin-bottom:8px;}\n        .text_container {position:absolute; top:0; left:0; right:0; bottom:0; line-height:150%; height: 100%;}\n    </style>\n    <script type="text/javascript">\n      if (!window.vk) window.vk = {loginscheme: '${vk.loginscheme}', ip_h: '${vk.ip_h}', __domain: '${(0,o.getHostName)()}'};\n    <\/script>\n    <script type="text/javascript" src="${(0,r.getCompiledPath)(window.jsc("web/payments_legacy.js"))}"><\/script>\n</head>\n<body>\n${t}\n<div id="wait_text_container" class="text_container">\n    <div class="text">\n        <img src="/images/progress.gif" /><br/>${e}\n    </div>\n</div>\n<script type="text/javascript">\n  var st = setTimeout(function() {try {${i}; clearTimeout(st)} catch(e) {}}, 100)\n<\/script>\n</body>\n</html>`}},903687:(e,t,i)=>{"use strict";i.d(t,{deletePhotoOwnerAlbumCache:()=>c,dropPhotoCacheData:()=>l,getCurrentPhoto:()=>a,getIndexedFriends:()=>d,getPhotoData:()=>n,isImgBlurred:()=>_,setIndexedFriends:()=>u,setPhotoData:()=>s});var o=i(542789),r=i(495239);function n(e){const t=cur.pvListId,i=cur.pvIndex;if(cur.pvData&&t&&!isNaN(i)){const o=cur.pvData[t][i];return e?o[e]:o}return!1}function a(){const e=cur.pvListId,t=cur.pvIndex;return cur.pvData&&e&&!isNaN(t)?cur.pvData[e][t]:null}function s(e,t){const i=cur.pvListId,o=cur.pvIndex;return!(!cur.pvData||!i||isNaN(o))&&(cur.pvData[i][o][e]=t,cur.pvData[i][o])}function c(e){const t="album"+e+"_0/rev";delete window.cur.pvData[t]}function l(){delete cur.pvList,delete cur.pvData}function d(){return cur.pvIndexedFriends}function u(e,t){cur.pvIndexedFriends=new o.vkIndexer(e,(e=>e[1]),t)}function _(e){return!!e&&(!!e.restrictionBlur&&!(0,r.isPhotoUnblurred)(e.photoRaw))}},880789:(e,t,i)=>{"use strict";i.d(t,{initSettingsAddressBox:()=>d});var o=i(754866),r=i(478752),n=i(972332),a=i(342879),s=i(683234),c=i(866467),l=i(952661);function d(e,t){e.setOptions({title:(0,c.getLang)("settings_addrbox_title")});const i=document.querySelector("#settdbx_addr"),d=document.querySelector("#settdbx_addr_tt_place");i.onfocus=function(){-2===cur.addrChecked&&(0,a.showTooltip)(d,{text:(0,c.getLang)("settings_addrbox_hint"),dir:"left",slideX:15,className:"settings_pwd_tt",shift:[-12,-15,0],onCreate:function(){(0,n.removeEvent)(d,"mouseout")}})},i.onblur=function(){d.tt&&d.tt.hide()},(0,o.elfocus)(i),setTimeout(o.elfocus.pbind(i),100),(0,o.setStyle)(i,{width:230-(0,o.ge)("settdbx_base").offsetWidth-8}),(0,r.extend)(cur,{settDomainCheckAddress:function(e){clearTimeout(cur.addressCheckTO),cur.lastAddress!==(0,o.val)("settdbx_addr")&&(cur.addressCheckTO=setTimeout(cur.settDomainDoCheckAddress,e||0))},settDomainDoCheckAddress:function(){let e=document.querySelector("#settdbx_submit"),t=document.querySelector("#settdbx_advices");cur.lastAddress=(0,o.val)("settdbx_addr"),ajax.post("al_settings.php",{act:"a_check_address",name:cur.lastAddress,from:"box"},{onDone:function(i){cur.addrChecked=1,l.FlatButton.setLabel(e,i),l.FlatButton.setDisabled(e,!1),(0,o.val)(t,"")},onFail:function(r){let n=(r=r.split("<*>"))[1],a=r[2];return r=r[0],a?(cur.addrChecked=-2,i.onfocus()):(cur.addrChecked=-1,i.onblur()),l.FlatButton.setLabel(e,r),l.FlatButton.setDisabled(e,!0),(0,o.val)(t,n),!0}})},settDomainAdvisedAddress:function(e){(0,o.val)("settdbx_addr",e),cur.settDomainCheckAddress()},settDomainAddressSubmit:function(e){if(1!==cur.addrChecked)return void(0,s.notaBene)("settings_addr");let i=(0,o.val)("settdbx_addr"),r={act:"a_change_address",hash:t,name:i};l.FlatButton.lock(e),window.ajax.post("al_settings.php",r,{onDone:function(e){nav.go(i,!1,{params:{from:"address_box"}})},showProgress:()=>l.FlatButton.lock(e),hideProgress:()=>l.FlatButton.unlock(e)})}})}},443291:(e,t,i)=>{"use strict";i.d(t,{showNextPaymentsHistory:()=>a});var o=i(683234),r=i(330882),n=i(754866);const a=(e,t)=>{if((0,o.isButtonLocked)(e))return;let i,a;return(0,o.lockButton)(e),t||(t="votes"),void 0===cur.historyOffset[t]&&(cur.historyOffset[t]=5),"transfer"===t?(i={act:"a_transfer_history"},a=(0,n.ge)("settings_transfer_history")):"subscriptions"===t?(i={act:"a_payments_subsciptions"},a=(0,n.ge)("settings_payments_subscriptions")):"games"===t?(i={act:"a_payments_games"},a=(0,n.ge)("settings_payments_games")):"goods_orders"===t?(i={act:"a_payments_goods_orders"},a=(0,n.ge)("settings_payments_goods_orders")):(i={act:"a_votes_history"},a=(0,n.ge)("settings_votes_history")),i.offset=a.rows.length,"subscriptions"===t&&(i.extra_items_count=cur.historyExtraItemsSubscriptions),ajax.post("al_settings.php",i,{onDone:function(i,s,c){const l=a.tBodies[0];if(i){if((0,o.unlockButton)(e),r.browser.msie){const e=(0,n.se)("<table>"+i+"</table>");Array.from((0,n.geByTag)("tr",e)).forEach((e=>{1===e.nodeType&&l.appendChild(e)}))}else l.insertAdjacentHTML("beforeEnd",i);"subscriptions"===t&&c&&(cur.historyExtraItemsSubscriptions=c)}i&&!s||((0,n.addClass)(l.lastChild,"settings_votes_history_last"),(0,n.hide)(e))}}),!1}},428374:(e,t,i)=>{"use strict";i.d(t,{InlineDropdown:()=>d});var o=i(754866),r=i(330882),n=i(604723),a=i(972332),s=i(600222),c=i(898848),l=i(478752);function d(e,t){if(this.constructor!==d)throw new Error("InlineDropdown was called without 'new' operator");if(!(e=(0,o.ge)(e)))return;if(!e.nodeType)throw new Error("First argument not a DOM element");if((0,o.hasClass)(e,"idd_wrap"))return;if(this._opts=t||{},this._items=t.items?(0,l.clone)(t.items):JSON.parse(e.getAttribute("data-items")),!this._items)throw new Error("No items provided");this._title=t.keepTitle?t.title||e.textContent:"",this._selectable=!t.keepTitle||t.keepSelected,this._disableCancelClickEvent=!!t.disableCancelClickEvent&&!!t.disableCancelClickEvent;const{icon:i}=(0,s.getIcon12Dropdown)();this._iddEl=(0,o.se)(`<div class="idd_wrap" id="${e.id}">\n    <div class="idd_selected_value" tabindex="0" role="button">\n      ${e.textContent}\n    </div>\n    ${t.withArrow?`<div class="idd_chevron">${i}</div>`:""}\n    <input type="hidden" id="${e.id}_input" name="${e.getAttribute("name")||e.id}" />\n  </div>`);let r=this;if((0,c.each)(e.className.split(" "),(function(e,t){(0,o.addClass)(r._iddEl,t)})),(0,c.each)(e.attributes,(function(e,t){0==t.name.indexOf("data-")&&r._iddEl.setAttribute(t.name,t.value)})),e.parentNode.replaceChild(this._iddEl,e),this._els={valueEl:(0,o.geByClass1)("idd_selected_value",this._iddEl),itemsContentEl:(0,o.geByClass1)("idd_items_content",this._iddEl),hiddenInputEl:(0,o.geByTag1)("input",this._iddEl)},this._opts.autoShow){let e=!1;const t=function(){e=!0,clearTimeout(r._autoShowTimeout),r._autoShowTimeout=setTimeout((function(){e&&r._onClick()}),100)},i=function(){clearTimeout(r._autoShowTimeout),e=!1};(0,a.addEvent)(this._iddEl,"mouseenter",t),(0,a.addEvent)(this._iddEl,"mouseleave",i),(0,a.addEvent)(this._iddEl,"keydown",(e=>"Enter"===e.key&&e.target.getAttribute("class").includes("idd_selected_value")?t():null))}else(0,a.addEvent)(this._iddEl,"click",this._onClick.bind(this)),(0,a.addEvent)(this._iddEl,"keydown",(e=>"Enter"===e.key&&e.target.getAttribute("class").includes("idd_selected_value")?this._onClick.call(this):null));this._rebuildDropdown();let n=!1;void 0!==t.selected?n=t.selected:e.hasAttribute("data-value")&&(n=e.getAttribute("data-value")),!1!==n&&this.select(n,!0)}d.IDD_HEADER_CORRECTION_LEFT=-10,d.IDD_HEADER_CORRECTION_TOP=-8,d.prototype.updateItems=function(e){this._items&&(this._items=(0,l.clone)(e),this._rebuildDropdown())},d.prototype._rebuildDropdown=function(){let e=this._opts.withIcon?"idd_with_icon":"",t=this._opts.idPrefix?this._opts.idPrefix:"",i=this._opts.idItemPrefix?this._opts.idItemPrefix:"",n=this,l=this._opts.ariaLabel||"";const{icon:u}=(0,s.getIcon12Dropdown)();let _=`<div class="idd_header_wrap ${e}">\n    <div class="idd_header" id="${t}${this._items[0][0]}"></div>\n      ${this._opts.withArrow?`<div class="idd_chevron">${u}</div>`:""}\n    </div>`,p=`<div class="idd_items_wrap"><div class="idd_items_content" role="list" aria-label="${l}">`;(0,c.each)(this._items,(function(t,o){p+="separator"===o?'<div class="idd_separator"></div>':function(t,o){o=o||"";const r=document.createElement("div");r.className="idd_item_name",n._opts.html?r.innerHTML=n._opts.html(t):r.textContent=t[1];let a=n._opts.sublists&&n._opts.sublists[t[0]]?"idd_sublist":"";return`<div class="idd_item ${o} ${e} ${a}" id="${i}idd_item_${t[0]}" data-testid="${i+"idd_item_"+t[0]}" data-id="${t[0]}" tabindex="0" role="button">\n      ${n._opts.withIcon?'<div class="idd_item_icon" id="'+t[0]+'"></div>':""}\n      ${r.outerHTML}\n    </div>`}(o)})),p+="</div></div>",this._els.popupItems=(0,o.se)(p),this._els.popupHeader=(0,o.se)(_),(0,a.addEvent)(this._els.popupItems,"click",(function(e){let t=e.target;if("a"!=t.tagName.toLowerCase()){for(;t&&!(0,o.hasClass)(t,"idd_item");)t=t.parentNode;if(t){const i=t.getAttribute("data-id");if(n._opts.customClickHandler?.(Number(i)))return void(0,a.cancelEvent)(e);n.select(i)?n._hide():n._hoverItem(t)}(0,a.cancelEvent)(e)}else setTimeout((function(){n._hide()}))})),(0,c.each)((0,o.geByClass)("idd_item",this._els.popupItems),(function(e,t){(0,a.addEvent)(t,"mouseenter",(function(e){d._preventMouseHover||n._hoverItem(e.currentTarget)})),(0,a.addEvent)(t,"mouseleave",(function(e){d._preventMouseHover||n._unhoverItem(e.currentTarget,e)}))})),(0,a.addEvent)(this._els.popupItems,"mouseenter",function(){(0,a.addEvent)(this._els.popupItems,r.browserFeatures.wheelEvent,this._onWheel.bind(this))}.bind(this)),(0,a.addEvent)(this._els.popupItems,"mouseleave",function(){(0,a.removeEvent)(this._els.popupItems,r.browserFeatures.wheelEvent,this._onWheel.bind(this))}.bind(this))},d.prototype._onClick=function(e){if((0,o.isVisible)(this._els.popupEl))return void this._hide();d._currIDD&&d._currIDD._hide(),d._currIDD=this,window.tooltips&&tooltips.hideAll();let t=this;let i=this._els.popupEl=(0,o.se)('<div class="idd_popup"></div>');this._opts.alignLeft&&(0,o.addClass)(i,"idd_align_left"),this._opts.popupClass&&(0,o.addClass)(i,this._opts.popupClass),this.openToUp=1==this._opts.forceDir||"up"==this._opts.forceDir||-1!=this._opts.forceDir&&"down"!=this._opts.forceDir&&(0,o.getXY)(t._iddEl)[1]-((window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0))+200>window.innerHeight,this.openToUp?(i.appendChild(this._els.popupItems),i.appendChild(this._els.popupHeader),(0,o.addClass)(i,"idd_popup_up")):(i.appendChild(this._els.popupHeader),i.appendChild(this._els.popupItems));let r=(0,o.geByClass1)("idd_header",this._els.popupHeader);this._opts.keepTitle?r.textContent=this._title:r.textContent=this._selected?this._selected[1]:"",i.id="idd_"+this._iddEl.id,this._iddEl.appendChild(i);let n=(0,o.getSize)(i),s=(0,o.getSize)(this._els.valueEl),c=0;this.openToUp&&(c=-(0,o.getSize)(this._els.popupItems)[1]);let l={marginTop:(this._opts.headerTop||d.IDD_HEADER_CORRECTION_TOP)-s[1]+c,width:n[0]+8,opacity:1};this._opts.alignLeft?l[vk.rtl?"marginRight":"marginLeft"]=s[0]-d.IDD_HEADER_CORRECTION_LEFT:l.marginLeft=(this._opts.headerLeft||d.IDD_HEADER_CORRECTION_LEFT)-(this._opts.withIcon?20:0),(0,o.setStyle)(i,l),this._unhoverItem(),this._highlightItem(),this._initOutEvent(),this._initKeypressEvent(),this._opts.onShow&&this._opts.onShow(this.ddEl),this._disableCancelClickEvent||(0,a.cancelEvent)(e)},d.prototype._hide=function(){(0,o.re)(this._els.popupEl),this._els.popupEl=null,(0,o.removeClass)(this._hoveredItem,"idd_hover"),this._hoveredItem=null,this._deinitEvents(),this._hideSubmenu(),clearTimeout(this._hideSubmenuTimeout),this._opts.onHide&&this._opts.onHide()},d.prototype._highlightItem=function(e){if(!this._selectable)return;if(!this._els.popupEl)return;if(void 0===e){if(!this._selected)return;e=this._selected[0]}let t=(0,o.geByClass1)("idd_hl",this._els.popupEl);t&&(0,o.removeClass)(t,"idd_hl");let i=(0,o.ge)("idd_item_"+e);(0,o.addClass)(i,"idd_hl");let r=this;(0,c.each)((0,o.geByClass)("idd_item",this._els.popupItems),(function(e,t){if(t==i)return r._els.popupItems.scrollTop=(e+1)*(0,o.getSize)(t)[1]-(0,o.getSize)(r._els.popupItems)[1]/2,!1}))},d.prototype._onWheel=function(e){let t=(0,o.getSize)((0,o.geByClass1)("idd_items_content",this._els.popupItems))[1],i=(0,o.getSize)(this._els.popupItems)[1];t!=i&&(0==this._els.popupItems.scrollTop&&e.deltaY<0||this._els.popupItems.scrollTop==t-i&&e.deltaY>0)&&(0,a.cancelEvent)(e)},d.prototype._onKeyDown=function(e){switch(e.keyCode){case 9:case 38:case 40:case 13:case 27:this._onKey(e.keyCode,e)}},d.prototype._onKeyPress=function(e){this._onKey(e.which,e)},d.prototype._hideSubmenu=function(){(0,o.removeClass)(this._currSubmenuItem,"idd_hover_sublist_parent"),(0,o.re)(this._els.currCascade),delete this._currSubmenuItem,this._hoveredItem&&this._showSubmenu(this._hoveredItem)},d.prototype._showSubmenu=function(e){if(clearTimeout(this._hideSubmenuTimeout),!e)return;let t=this,i=e.getAttribute("data-id");if(this._opts.sublists&&this._opts.sublists[i]){if((0,o.addClass)(e,"idd_hover_sublist_parent"),this._currSubmenuItem==e)return void clearTimeout(this._submenuHideTimeout);let r=this._opts.sublists[i],s='<div class="idd_popup"><div class="idd_items_wrap"><div class="idd_items_content">',l=r.withIcon?"idd_with_icon":"";function u(e,t){t=t||"";const i=document.createElement("div");return i.className="idd_item_name",r.html?i.innerHTML=r.html(e):i.textContent=e[1],'<div class="idd_item '+t+" "+l+'" id="idd_item_'+e[0]+'" data-id="'+e[0]+'" role="button" tabindex="0">'+(r.withIcon?'<div class="idd_item_icon" id="'+e[0]+'"></div>':"")+i.outerHTML+"</div>"}(0,c.each)(r.items,(function(e,t){s+=u(t)})),s+="</div></div></div>",this._els.currCascade=(0,o.se)(s),this._iddEl.appendChild(this._els.currCascade);{let _=(0,o.getSize)(this._els.popupEl),p=(0,o.getSize)(e),m=(0,o.getSize)(this._els.currCascade),g=0,v=e;for(;null!=(v=v.previousSibling);)g++;let f=_[0]+(this._opts.headerLeft||d.IDD_HEADER_CORRECTION_LEFT)-1;(0,o.setStyle)(this._els.currCascade,{marginLeft:f-3,marginTop:p[1]*g+6-(this.openToUp?_[1]:0),"z-index":200,width:m[0]+30}),setTimeout((function(){(0,n.cssAnim)(t._els.currCascade,{marginLeft:f,opacity:1},{duration:140})}),10)}(0,c.each)((0,o.geByClass)("idd_item",this._els.currCascade),(function(e,i){(0,a.addEvent)(i,"mouseenter",(function(e){t._isInSubmenu=!0,d._preventMouseHover||t._hoverItem(e.currentTarget,null,!0)})),(0,a.addEvent)(i,"mouseleave",(function(e){t._isInSubmenu=!1,d._preventMouseHover||t._unhoverItem()}))})),(0,a.addEvent)(this._els.currCascade,"click",(function(e){let i=e.target;if("a"!=i.tagName.toLowerCase()){for(;i&&!(0,o.hasClass)(i,"idd_item");)i=i.parentNode;if(i){let e=!0,n=i.getAttribute("data-id"),a=(0,o.geByClass1)("idd_item_name",i).textContent;r.onSelect?e=r.onSelect(n,a):t._opts.onSelect&&(e=t._opts.onSelect(n,a)),e&&t._hide()}(0,a.cancelEvent)(e)}else setTimeout((function(){t._hide()}))})),this._currSubmenuItem=e}},d.prototype._hoverItem=function(e,t,i){let r=this;if(this._unhoverItem(),(0,o.addClass)(e,"idd_hover"),this._hoveredItem=e,t&&e){let t=e.getAttribute("id"),i=this;(0,c.each)((0,o.geByClass)("idd_item"),(function(r,n){if(n.getAttribute("id")==t)return i._els.popupItems.scrollTop=(0,o.getSize)(e)[1]*(r+1)-(0,o.getSize)(i._els.popupItems)[1]/2,clearTimeout(d._preventMouseHover),d._preventMouseHover=setTimeout((function(){d._preventMouseHover=null}),100),!1}))}if(clearTimeout(this._hideSubmenuTimeout),i)(0,o.addClass)(this._currSubmenuItem,"idd_hover_sublist_parent");else{let t=this._currSubmenuItem==e;this._currSubmenuItem&&!t&&(this._hideSubmenuTimeout=setTimeout((function(){r._hideSubmenu()}),200)),this._currSubmenuItem||this._showSubmenu(e),(0,o.removeClass)(this._currSubmenuItem,"idd_hover_sublist_parent")}},d.prototype._unhoverItem=function(e,t){this._hoveredItem&&(0,o.removeClass)(this._hoveredItem,"idd_hover"),this._hoveredParentItem&&(0,o.removeClass)(this._hoveredParentItem,"idd_hover"),clearTimeout(d._preventMouseHover)},d.prototype._onKey=function(e,t){if(38==e||40==e){let i=this,r=this._hoveredItem||(0,o.geByClass1)("idd_hl",this._els.popupItems)||(0,o.geByClass1)("idd_item",this._els.popupItems);return r=38==e?r.previousSibling:r.nextSibling,i._hoverItem(r,!0),(0,a.cancelEvent)(t),!1}if(9==e){let e=this,i=(0,o.geByClass1)("idd_items_content",this._els.popupItems),r=t.target;return r=t.target.getAttribute("class").includes("idd_item")?t.shiftKey?r.previousSibling:r.nextSibling:t.shiftKey?i.lastChild:i.firstChild,e._hoverItem(r,!0),!1}13==e?this._hoveredItem&&this.select(this._hoveredItem.getAttribute("data-id"))&&this._hide():27==e?this._hide():this._quickSearch(e)},d.prototype._quickSearch=function(e){let t=this;if(void 0!==e){let i=String.fromCharCode(e).toLowerCase();if(!i)return;setTimeout((function(){t._currSearchStr=""}),600),this._currSearchStr=this._currSearchStr||"",this._currQuickSearchIndex=this._currQuickSearchIndex||0,1==this._currSearchStr.length&&this._currSearchStr[0]==i||(this._currSearchStr+=i)}let i=this._items;for(let t=this._currQuickSearchIndex;t<i.length;t++){let r=i[t][1].toLowerCase();if(1==this._currSearchStr.length&&this._currSearchStr==r[0]||this._currSearchStr.length>1&&r.indexOf(this._currSearchStr)>=0){this._currQuickSearchIndex=t+1,this._hoverItem((0,o.ge)("idd_item_"+i[t][0]),!0),t==i.length-1&&(this._currQuickSearchIndex=0);break}t==i.length-1&&(this._currQuickSearchIndex=0,e&&this._quickSearch())}},d.prototype._deinitEvents=function(){(0,a.removeEvent)(window,"click",d._window_onOuterClick),(0,a.removeEvent)(window,"keypress",d._window_onKeyPress),(0,a.removeEvent)(window,"keydown",d._window_onKeyDown)},d.prototype._initKeypressEvent=function(){(0,a.addEvent)(window,"keypress",d._window_onKeyPress=this._onKeyPress.bind(this)),(0,a.addEvent)(window,"keydown",d._window_onKeyDown=this._onKeyDown.bind(this))},d.prototype._onOuterClick=function(e){let t=e.target,i=!0;for(;t&&t!=document;){if((0,o.hasClass)(t,"idd_popup")){i=!1;break}t=t.parentNode}i&&this._hide()},d.prototype._initOutEvent=function(){let e=this;setTimeout((function(){(0,a.addEvent)(window,"click",d._window_onOuterClick=e._onOuterClick.bind(e))})),this._opts.autoHide>0&&((0,a.addEvent)(this._iddEl,"mouseleave",(function(){clearTimeout(e._leaveTimeout),e._leaveTimeout=setTimeout((function(){e._isInSubmenu||e._hide()}),e._opts.autoHide)})),(0,a.addEvent)(this._iddEl,"mouseenter",(function(){clearTimeout(e._leaveTimeout)})))},d.prototype.deinit=function(){this._deinitEvents()},d.prototype.setItems=function(e){this._items=(0,l.clone)(e),this.select(e[0][0],!0),this._rebuildDropdown()},d.prototype.getElement=function(){return this._iddEl},d.prototype.getSelected=function(){return this._selected},d.prototype.select=function(e,t){if(this._opts.sublists&&this._opts.sublists[e])return;let i=!1;if((0,c.each)(this._items,(function(t,o){if(o[0]==e)return i=o,!1})),!1===i)throw new Error("No item found for selection");this._selected=i,this._opts.keepTitle||(this._els.valueEl.textContent=i[1]),(0,o.val)(this._els.hiddenInputEl,e);let r=!0;if(!t&&this._opts.onSelect)try{r=!this._opts.onSelect(i[0],i)}catch(e){console.error(e)}return r},d.prototype.val=function(e,t){return void 0!==e?this.select(e,t):this.getSelected()?this.getSelected()[0]:""}},663939:(e,t,i)=>{"use strict";i.r(t),i.d(t,{EMPTY:()=>o,ENDED:()=>s,ERROR:()=>c,FAKE_PAUSED:()=>d,FAKE_PLAYING:()=>l,PAUSED:()=>a,PLAYING:()=>n,UNSTARTED:()=>r});const o="empty",r="unstarted",n="playing",a="paused",s="ended",c="error",l="fakePlaying",d="fakePaused"},570366:(e,t,i)=>{"use strict";i.d(t,{getFocusableElements:()=>r,setFocusIsNeed:()=>n});const o=["a[href]","area[href]",'input:not([disabled]):not([hidden]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([hidden]):not([aria-hidden])","textarea:not([disabled])","button:not([disabled])","iframe","audio","video","[contenteditable]",'[tabindex]:not([tabindex="-1"])'];function r(e=document){return Array.from(e.querySelectorAll(o.join())).filter((e=>null!==e.offsetParent)).filter((e=>-1!==e.tabIndex))}function n(e=document,t=[]){if(document.activeElement&&!t.includes(document.activeElement)&&e.contains(document.activeElement))return;const i=function(e=document,t=[]){return r(e).filter((e=>!t.includes(e)))[0]}(e,t);i&&i.focus()}},270262:(e,t,i)=>{"use strict";i.d(t,{AdBlockDetector:()=>s,getAdblockState:()=>c});var o=i(540462),r=i(210909),n=i(558137),a=i(396858);class s{get hasResult(){return void 0!==this.reason}async detect(e=!1){return this.hasResult&&!e||(this.reason=await(0,r.isAdblockDetected)(),this.detected=!!this.reason,(0,o.partConfigEnabled)("feed_adblock_flag_in_act")&&(0,a.setCookie)("adblock",this.detected?1:0,14)),this.detected}}const c=(0,n.makeSharedState)("adblock_protection/detector",(()=>{const e=new s;return e.detect(),e}),{version:1});((0,o.partConfigEnabled)("post_adblock_protection_promo")||(0,o.partConfigEnabled)("tgb_adblock_protection")||(0,o.partConfigEnabled)("feed_adblock_flag_in_act"))&&c()},962724:(e,t,i)=>{"use strict";i.d(t,{Locator:()=>a});var o=i(283348),r=i(558137);const n=/((#|\.)[a-zA-Z0-9_\-]*)(?:[:|\s]{0})/gi;class a{get isWhitelistedModule(){return this.whitelistedModules.has(window.cur.module)}lookupSelector(e){return this.isWhitelistedModule?this.cache.names[e]??e:e}lookupId(e){return this.lookupSelector(`#${e}`).slice(1)}lookupClassName(e){return this.lookupSelector(`.${e}`).slice(1)}getMappingPairs(){return Object.entries(this.cache.names)}hasCache(){return Object.keys(this.cache.names).length>0}disableLocator(){this.isEnabled=!1}setObserving(e){this.isObserving=e}setWhitelistedModules(e){this.whitelistedModules=new Set(e)}isWhitelistedSelector(e){return this.obfuscateSelectors.has(e)||this.obfuscateSelectorMatchers.some((t=>t(e)))}transform(e){if(!this.isWhitelistedSelector(e))return e;let t=this.cache.names[e];return t||(t=`${e[0]}${(0,o.cid)()}`,this.cache.names[e]=t,this.cache.reverse[t]=e),t}addSelectors(e=[]){for(const t of e)"function"==typeof t?this.obfuscateSelectorMatchers.push(t):this.obfuscateSelectors.add(t)}wrapStyleSheet(e){if(!e.cssRules)return;let t;try{t=new CSSStyleSheet}catch(e){return}for(const i of e.cssRules){if(!(i instanceof CSSStyleRule))continue;const o=i.selectorText,r=o.replace(n,(e=>this.transform(e))),a=i.cssText;if(o!==r){a.includes(": ;")&&console.warn(["[Locator] Найдено неподдерживаемая shorthand-запись, используйте полную запись",`Правило: ${a}`,e?.href?`Файл: ${e.href}`:""].join(". \n"),i);const n=a.replace(o,r);t.insertRule(n,t.cssRules.length)}}return t.cssRules.length>0&&(document.adoptedStyleSheets=[...document.adoptedStyleSheets??[],t]),t}constructor(){this.isEnabled=!0,this.isObserving=!1,this.cache={names:{},reverse:{}},this.obfuscateSelectors=new Set,this.obfuscateSelectorMatchers=[],this.whitelistedModules=new Set}}a.getInstance=(0,r.makeSharedState)("adblock_protection/locator",(()=>new a),{version:3})},283348:(e,t,i)=>{"use strict";i.d(t,{cid:()=>l});var o=i(787661);let r=1e3;const n=function(e){for(let t=0;t<10;t++)e.push(t.toString());for(let t=0;t<25;t++)e.push(String.fromCharCode(97+t)),e.push(String.fromCharCode(65+t));return(0,o.shuffle)(e)}([]),a=n.length;function s(e){return(e>=a?s((e/a|0)-1):"")+n[e%a|0]}const c=function(){const e=[];for(let t=0;e.length<5&&t<n.length;t++)(e.length>0||!/[0-9]/.test(n[t]))&&e.push(n[t]);return e.join("")}(),l=()=>c+s(r++)},865322:(e,t,i)=>{"use strict";i.d(t,{api:()=>_,setApiConfig:()=>p});var o=i(352319),r=i(586138),n=i(157598),a=i(277495),s=i(298077),c=i(468073),l=i(540462),d=i(738150),u=i(982514);const _=(e,t,i,r={})=>{if(!n.globalState.isApiInited)return Promise.reject(new Error("[VKJS][API]: api didn't init. Use setApiConfig function"));let c=null;(0,l.partConfigEnabled)("send_stack_trace_request_api_error")&&"groups.getById"===e&&(c=new Error("request api error"));const _=()=>((e,t,i,r={})=>{if(!n.globalState.isAuth)return Promise.reject(new Error("[VKJS][API]: missing access_token"));const a=n.globalState.isAuth||(0,l.partConfigEnabled)("loginvk_api_use_anonymous_token")?t:{client_secret:o.clientSecret,...t};return(0,d.api)(e,a,i,r)})(e,t,i,r).then((e=>e),(e=>{throw c&&(e?.error?.error_msg&&(c.message=e.error.error_msg),(0,s.logError)(c,{breadcrumb:{data:e}})),e}));return n.globalState.didFirstLogin?_():(0,a.fetchToken)().then((e=>(n.globalState.didFirstLogin=!0,(0,u.setApiConfig)({accessToken:e.access_token}),_())))},p=e=>{n.globalState.isApiInited?(0,u.setApiConfig)({...e}):((0,u.setApiConfig)({appId:o.clientId,version:r.API_VERSION,onTokenExpired:()=>(0,a.fetchToken)(!0).then((({access_token:e})=>e||"")),grouping:c.Ranges.isUserId(window.vk?.id),...e}),n.globalState.isApiInited=!0)}},277495:(e,t,i)=>{"use strict";i.d(t,{fetchToken:()=>f,login:()=>v,setLoginConfig:()=>g});var o=i(614251),r=i(352319),n=i(586138),a=i(157598),s=i(540462),c=i(105330),l=i(101272),d=i(813850),u=i(367375);let _={},p=null;function m(e={}){return p||(e||console.warn("[VKJS][LOGIN]: login didn't instantiated. Use setLoginConfig function"),p=(0,d.createLoginClient)(e)),p}const g=e=>{if(a.globalState.isAuthInited)return;if((0,s.partConfigEnabled)("frontend.api_client_login_instance")){m(e).setLoginConfig({appId:n.VK_WEB_APP_ID,...e})}else(0,u.setLoginConfig)({appId:n.VK_WEB_APP_ID,...e});a.globalState.isAuthInited=!0;const{appId:t,apiDomain:i,clientSecret:o,useAPIGateWay:r}=e;_={appId:t,apiDomain:i,clientSecret:o,useAPIGateWay:r}},v=(e,t,i,o,r={})=>{if(!a.globalState.isAuthInited)return Promise.reject(new Error("[VKJS][LOGIN]: login didn't init. Use setLoginConfig function"));let n;if((0,s.partConfigEnabled)("frontend.api_client_login_instance")){n=m().login(e,t,i,o,r)}else n=(0,u.login)(e,t,i,o,r);return n.then((e=>{if(Boolean(e.access_token)&&(a.globalState.isAuth=!0),window.vk?.id&&!a.globalState.isAuth&&console.error("[VKJS][LOGIN] Token request failed:",e),(0,s.partConfigEnabled)("act_a_check_after_web_token")&&Boolean(e.access_token))try{if((0,s.partConfigEnabled)("frontend.api_client_login_instance")){m().login("a_check",{access_token:e.access_token})}else(0,u.login)("a_check",{access_token:e.access_token})}catch(e){console.error("[VKJS][LOGIN]: a_check act is failed")}return e})).catch((e=>{if(console.error("[VKJS][AUTH]:",e),"unauthorized"===e.error&&"login_error"===e.type){const e=(0,s.partConfigEnabled)("loginvk_unauthorized_force_logout");if(console.error(`[VKJS][AUTH]: logout ${e?"enabled":"disabled"} because `,"loginvk_unauthorized_force_logout = ",e),e)return(0,u.removeLoginCache)(),a.globalState.didFirstLogin=!0,a.globalState.isAuth=!1,(0,l.saveStatlogEvents)({name:"connect_logout_web_link",value:1,keys:[window.location.href]}),window.location.href=window.vk.logoutUrl,new Promise((()=>{}))}return{access_token:"",error:!0,...e}}))},f=(e=!1)=>{const t="audio_anonymous,video_anonymous,photos_anonymous,profile_anonymous";if(_.useAPIGateWay||(0,s.partConfigEnabled)("frontend.video_web_api_auth_token")&&(0,c.isVkVideo)()&&!(0,c.isMvkVKVideo)()){const i=(0,o.getUserId)(_.appId||r.clientId,"video.getWebToken","web_token"),n=_.apiDomain||"api.vkvideo.ru";return i<=0?v("auth.getAnonymToken",{client_secret:_.clientSecret||r.clientSecret,scopes:t,device_id:(0,o.getDeviceId)()},{useAPIGateWay:!0,apiDomain:n},e):v("video.getWebToken",{},{useAPIGateWay:!0,apiDomain:n},e)}if(window.vk?.id<=0&&(0,s.partConfigEnabled)("loginvk_api_use_anonymous_token"))return v("get_anonym_token",{client_secret:r.clientSecret,client_id:r.clientId,scopes:t,isApiOauthAnonymEnabled:!1},{},e);if((0,c.isEmbed)()){const t=window.location.hostname.includes("vkvideo")?{appId:r.clientId,domain:window.location.hostname,path:"al_video.php"}:{};return v("web_token",{},t,e)}return(0,c.isVkVideo)()?(0,c.isMvkVKVideo)()?v("web_token",{},{domain:window.location.hostname,path:"video",appId:r.clientId},e,{headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded"}}):v("web_token",{},{appId:r.clientId,domain:window.location.hostname,path:"al_video.php"},e):v("web_token",{},{},e)}},352319:(e,t,i)=>{"use strict";i.d(t,{API_VERSION:()=>f,VK_ID_AUTH_APP:()=>m,VK_MVK_APP_ID:()=>u,VK_MVK_VKVIDEO_APP_ID:()=>p,VK_WEB_APP_ID:()=>d,VK_WEB_VKVIDEO_APP_ID:()=>_,clientId:()=>v,clientSecret:()=>g});var o=i(105330),r=i(146322);const n="aR5NKGmm03GYrCiNKsaw",a="QbYic1K3lEV5kTGiqlq2",s="IjjCNl4L4Tf5QZEXIHKK",c="o557NLIkAErNhakXrQ7A",l="WStp4ihWG4l3nmXZgIbC",d=6287487,u=7879029,_=52461373,p=52649896,m=51781872,{clientSecret:g,clientId:v}=(()=>{let e=d,t=a;return(0,o.isMvk)()&&(e=u,t=n),(0,o.isVkMe)()&&(e=51745158,t=s),(0,o.isVkVideo)()&&(e=_,t=c),(0,o.isMvkVKVideo)()&&(e=p,t=l),{clientId:e,clientSecret:t}})(),f=r.API_VERSION},157598:(e,t,i)=>{"use strict";i.d(t,{globalState:()=>o});const o={isApiInited:!1,isAuthInited:!1,didFirstLogin:!1,isAuth:!1}},614251:(e,t,i)=>{"use strict";i.d(t,{getDeviceId:()=>c,getUserId:()=>n});var o=i(908423),r=i(553608);const n=(e,...t)=>{if(window.vk?.id)return window.vk.id;for(const i of t)try{const t=`${e}:${i}:login:auth`,o=r.vkLocalStorage.getItem(t);if(!o)continue;const{user_id:n}=JSON.parse(o);if(Number(n))return Number(n)}catch(e){console.error("[VKJS]: ",e)}return 0},a="deviceId",s=()=>{const e=(0,o.nanoid)();try{r.vkLocalStorage.setItem(a,e)}catch(e){console.error("[VKJS]: ",e)}return e},c=()=>{try{const e=r.vkLocalStorage.getItem(a);return e||s()}catch(e){return s()}}},586138:(e,t,i)=>{"use strict";i.d(t,{API_VERSION:()=>o.API_VERSION,VK_ID_AUTH_APP:()=>o.VK_ID_AUTH_APP,VK_MVK_APP_ID:()=>o.VK_MVK_APP_ID,VK_MVK_VKVIDEO_APP_ID:()=>o.VK_MVK_VKVIDEO_APP_ID,VK_WEB_APP_ID:()=>o.VK_WEB_APP_ID,VK_WEB_VKVIDEO_APP_ID:()=>o.VK_WEB_VKVIDEO_APP_ID,clientId:()=>o.clientId,clientSecret:()=>o.clientSecret});i(865322),i(277495);var o=i(352319)},805658:(e,t,i)=>{"use strict";i.d(t,{apiWithPrefetch:()=>m,loadPrefetchCache:()=>p,startCacheMissLog:()=>g});var o=i(636576),r=i(146322),n=i(351118),a=i(540462),s=i(298077);let c,l=!1,d=!1,u=new Set;class _ extends Error{constructor(e){super("Api request failed."),this.type="api_error",this.error=e}}function p(e,t,i){c!==window.cur.apiPrefetchCache&&(c=(0,n.decodeHTMLEntitiesDeep)(window.cur.apiPrefetchCache),window.cur.apiPrefetchCache=c);const o=window.cur?.apiPrefetchCache?.findIndex((o=>o.method===e&&o.version===t&&v(i,o.request)));if(null==o||-1===o)return u.add(e),void(d=!0);const r=window.cur.apiPrefetchCache?.[o];!function(e,t){if(!e||-1===t)return;e.splice(t,1)}(window.cur.apiPrefetchCache,o);const a=r?.response,s=r?.error;if(s)throw new _(s);return a}const m=async(e,t,i,o={})=>{if(window.apiPrefetchReadyPromise&&await window.apiPrefetchReadyPromise,!window.vkApi)throw new Error("[VKJS][API]: api didn't allowed. Use initApi function");const n=i?.version??r.API_VERSION;try{const i=p(e,n,t);if(i)return i}catch(e){throw console.error(e),e}return window.vkApi.api(e,t,i,o)};function g(e){if(l)return()=>{};const t=Boolean(window.cur),i=Array.isArray(window.cur?.apiPrefetchCache),r=0===window.cur?.apiPrefetchCache?.length,n=window.cur?.apiPrefetchCache?.map((({method:e})=>e))??[];function c(...c){l&&(l=!1,d&&((0,o.statlogsValueEvent)("api_prefetch_cache_miss",e,...c),(0,a.partConfigEnabled)("log_api_prefetch_cache_miss")&&(0,s.logError)(new Error("apiWithPrefetch has missing caches for some methods"),{breadcrumb:{message:"Extra information",data:{isCurInitialized:t,isPrefetchDefined:i,isPrefetchEmpty:r,existingMethods:n,missingMethods:Array.from(u)}}})))}return l=!0,d=!1,u.clear(),window.setTimeout((()=>{c()})),c}function v(e,t){return e===t||(!(!y(e)||!y(t))||!y(e)&&!y(t)&&(Array.isArray(e)&&"string"==typeof t?f(e,t.split(",")):"string"==typeof e&&Array.isArray(t)?f(e.split(","),t):Array.isArray(e)&&Array.isArray(t)?f(e,t):"object"==typeof e&&"object"==typeof t?function(e,t){const i=e,o=t,r=new Set([...Object.keys(i),...Object.keys(o)]);for(const e of r){if(!v(i[e],o[e]))return!1}return!0}(e,t):"number"==typeof e&&"string"==typeof t?e===Number.parseFloat(t):"string"==typeof e&&"number"==typeof t?Number.parseFloat(e)===t:"number"!=typeof e||1!==e&&0!==e||"boolean"!=typeof t?"boolean"==typeof e&&"number"==typeof t&&(1===t||0===t)&&e===Boolean(t):Boolean(e)===t))}function f(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!v(e[i],t[i]))return!1;return!0}function y(e){return null==e||""===e||Array.isArray(e)&&0===e.length||"object"==typeof e&&null!==e&&0===Object.keys(e).length||"object"==typeof e&&null!==e&&Object.values(e).every(y)}},957994:(e,t,i)=>{"use strict";i.d(t,{api:()=>o,login:()=>r,removeLoginCache:()=>n,setApiConfig:()=>s,setLoginConfig:()=>a});const o=(e,t,i,o={})=>window.vkApi?window.vkApi.api(e,t,i,o):Promise.reject(new Error("[VKJS][API]: api didn't allowed. Use initApi function")),r=(e,t,i,o)=>window.vkApi?window.vkApi.login(e,t,i,o):Promise.reject(new Error("[VKJS]: login didn't allowed. Use initApi function")),n=(e,t)=>window.vkApi?window.vkApi.removeLoginCache(e,t):console.error("[VKJS]: removeLoginCache didn't allowed. Use initApi function"),a=e=>window.vkApi?window.vkApi.setLoginConfig(e):console.error("[VKJS]: setLoginConfig didn't allowed. Use initApi function"),s=e=>window.vkApi?window.vkApi.setApiConfig(e):console.error("[VKJS]: setApiConfig didn't allowed. Use initApi function")},539977:(e,t,i)=>{"use strict";i.d(t,{getCurrentAppAsync:()=>a});var o=i(540462),r=i(150682),n=i(816980);async function a(){if((0,n.isSpaLaunch)())return(0,r.getSharedCurrentApp)();const{lifecycle:e}=await Promise.all([i.e(762),i.e(6086),i.e("langs/web/MiniAppsLifecycle")]).then(i.bind(i,525815));if(!(0,o.partConfigEnabled)("mini_apps_replace_cur_app_with_get_current_app"))return window.cur.app;const t=e.miniApp.apps.getState(),[a]=e.miniApp.stack.getState();return t.get(a)?.app??null}},816980:(e,t,i)=>{"use strict";i.d(t,{isSpaLaunch:()=>a});var o=i(468073),r=i(540462),n=i(105330);function a(){return!!o.Ranges.isUserId(window.vk.id)&&(function(){const e=(0,r.partConfigEnabled)("apps_force_web_legacy_flow");return!(0,n.isMvk)()&&!e&&((0,r.partConfigEnabled)("web_spa_mini_apps_s")||(0,r.isToggleEnabled)("sa_web_spa_mini_apps_s"))}()||(0,n.isMvk)()&&((0,r.partConfigEnabled)("mobile_spa_mini_apps_r")||(0,r.isToggleEnabled)("sa_spa_mini_apps_mvk")))}},694742:(e,t,i)=>{"use strict";i.d(t,{CUSTOM_MEASURE_TYPE:()=>r,PERFORMANCE_MARK_SHOW_WIKI:()=>o});const o="__navshowwikimark",r={HARD:"hard",SOFT:"soft",FAIL:"fail"}},539310:(e,t,i)=>{"use strict";i.d(t,{CURRENT_APP_SHARED_STATE_KEY:()=>o,IFRAME_APP_TYPE:()=>r});const o="mini_apps_current_app",r=1},150682:(e,t,i)=>{"use strict";i.d(t,{getSharedCurrentApp:()=>a,getSharedState:()=>n});var o=i(558137),r=i(539310);const n=(0,o.makeSharedState)(r.CURRENT_APP_SHARED_STATE_KEY,(()=>({value:null})),{version:1}),a=()=>n().value},802991:(e,t,i)=>{"use strict";function o(e,t="not null assertion failed"){if(null==e)throw new Error(t)}i.d(t,{assertNotNull:()=>o})},706278:(e,t,i)=>{"use strict";i.d(t,{AudioMediaSession:()=>l});var o=i(392358),r=i(423015),n=i(251458),a=i(351118),s=i(636576),c=i(628459);class l{init(){this.mediaSession&&(this.player.subscribe(o.AudioPlayerEventType.PLAY,this.handlePlay),this.player.subscribe(o.AudioPlayerEventType.PLAYLIST_CHANGED,this.handlePlaylistChange))}async updateMediaSessionControls(){const{mediaSession:e}=this;if(e)if(this.player.ads?.isActive)e.setActionHandler("play",this.play),e.setActionHandler("pause",this.pause),e.setActionHandler("seekbackward",null),e.setActionHandler("seekforward",null),e.setActionHandler("previoustrack",null),e.setActionHandler("nexttrack",null);else{e.setActionHandler("play",this.play),e.setActionHandler("pause",this.pause);const t=this.player.getCurrentAudio();if(this.player.isPlaying()?(e.setActionHandler("seekbackward",this.seekBackward),e.setActionHandler("seekforward",this.seekForward)):(e.setActionHandler("seekbackward",null),e.setActionHandler("seekforward",null)),t&&!(0,n.isPodcast)(t))try{const[t,i]=await this.getPrevAndNextAudio();t?e.setActionHandler("previoustrack",this.previousTrack):e.setActionHandler("previoustrack",null);const o=this.player.getCurrentPlaylist();i||o?.isInfinite?.()?e.setActionHandler("nexttrack",this.nextTrack):e.setActionHandler("nexttrack",null)}catch(t){e.setActionHandler("previoustrack",null),e.setActionHandler("nexttrack",null)}else e.setActionHandler("previoustrack",null),e.setActionHandler("nexttrack",null)}}getPrevAndNextAudio(){return Promise.all([this.player.getPrevAudio().catch((()=>null)),this.player.getNextAudio().catch((()=>null))])}constructor(e,t){this.handlePlay=()=>{const{mediaSession:e}=this;if(!e)return;const t=this.player.getCurrentAudio(),i=(0,r.audioTupleToAudioObject)(t);if(!i)return;const o=(0,a.decodeHTMLEntities)(i.title+(i.subTitle?` (${i.subTitle})`:"")).replace(/<[^>]*>?/gm,""),n=(0,a.decodeHTMLEntities)(i.performer||"").replace(/<[^>]*>?/gm,""),s=this.player.getCurrentPlaylist(),l=s?(0,a.decodeHTMLEntities)(s.getTitle&&s.getTitle()||"").replace(/<[^>]*>?/gm,""):"",d=i.coverUrl_p||i.coverUrl_l,u=d?[{sizes:"160x160",src:d}]:[];this.updateMediaSessionControls(),(0,c.updateMediaSessionMetadata)({title:o,artist:n,album:l,artwork:u},e)},this.handlePlaylistChange=()=>{this.player&&!this.player.getCurrentAudio()&&(0,c.clear)()},this.play=()=>{this.player.play(),(0,s.statlogsValueEvent)("global_media_controls","audio_player","play")},this.pause=()=>{this.player.pause(),(0,s.statlogsValueEvent)("global_media_controls","audio_player","pause")},this.previousTrack=()=>{this.player.prev(),(0,s.statlogsValueEvent)("global_media_controls","audio_player","previous_track")},this.nextTrack=()=>{this.player.next(),(0,s.statlogsValueEvent)("global_media_controls","audio_player","next_track")},this.seekBackward=()=>{const e=(0,r.audioTupleToAudioObject)(this.player.getCurrentAudio()),t=e?.duration||0,i=(this.player.getCurrentProgress()||0)*t,o=Math.max(0,(i-10)/t);o>0?this.player.seek(o):this.player.prev(),(0,s.statlogsValueEvent)("global_media_controls","audio_player","seek_backward")},this.seekForward=()=>{const e=(0,r.audioTupleToAudioObject)(this.player.getCurrentAudio()),t=e?.duration||0,i=(this.player.getCurrentProgress()||0)*t,o=Math.min(1,(i+10)/t);o<1?this.player.seek(o):this.player.next(),(0,s.statlogsValueEvent)("global_media_controls","audio_player","seek_forward")},this.player=e,this.mediaSession=t??c.DEFAULT_MEDIA_SESSION}}},392358:(e,t,i)=>{"use strict";i.d(t,{AudioPlayerEventType:()=>o,events:()=>r});var o=function(e){return e.ACTIVATED="activated",e.STATE_INITIALIZED="state_initialized",e.CURRENT_AUDIO_CHANGED="current_audio_changed",e.STATE_RESTORED="state_restored",e.CURRENT_CHANGED="curr",e.PLAY="start",e.PLAY_REQUESTED="request_play",e.IMPL_PLAY="impl_play",e.PAUSE="pause",e.STOP="stop",e.UPDATE="update",e.LOADED="loaded",e.ENDED="ended",e.FAILED="failed",e.BUFFERED="buffered",e.PROGRESS="progress",e.VOLUME="volume",e.PLAYLIST_CHANGED="plchange",e.PLAYLIST_CLEAR_REQUESTED="playlist_clear_requested",e.PLAYLIST_CLEARED="playlist_cleared",e.LOADED_AUDIO_LIST_CHANGED="loaded_audio_list_changed",e.ADDED="added",e.REMOVED="removed",e.FREQ_UPDATE="freq",e.SEEK="seek",e.PLAY_NEXT="play_next",e.AD_READY="ad_ready",e.AD_DEINITED="ad_deinit",e.AD_STARTED="ad_started",e.AD_COMPLETED="ad_completed",e.PLAYER_IS_AD_CHANGED="player_is_ad_changed",e.PLAYER_IS_PLAYING_CHANGED="player_is_playing_changed",e.START_LOADING="start_load",e.CAN_PLAY="actual_start",e.SELECT="select",e.DESELECT="deselect",e.EMPTY_PLAYLIST="empty_playlist",e.NOT_FOUND_PLAYLIST="not_found_playlist",e.INIT="init",e.REQUEST_EXPANDED="request_expanded",e.PLAYLIST_START_LOADING="playlist_start_loading",e.PLAYBACK_QUEUE_SHUFFLED_UPDATED="playback_queue_queue_shuffled_updated",e.MUSIC_AUDIOS_ADD="music_audios_add",e.MUSIC_AUDIOS_DELETE="music_audios_delete",e.MUSIC_PLAYLISTS_ADD="music_playlists_add",e.MUSIC_OWNERS_FOLLOW="music_owners_follow",e.MUSIC_OWNERS_UNFOLLOW="music_owners_unfollow",e.CURATOR_FOLLOW="curator_follow",e.CURATOR_UNFOLLOW="curator_unfollow",e.RADIOSTATION_FOLLOW="radiostation_follow",e.RADIOSTATION_UNFOLLOW="radiostation_unfollow",e.CURRENT_RADIOSTATION_FOLLOW_STATUS_UPDATE="current_radiostation_update",e.CURRENT_AUDIO_DISLIKE_STATUS_UPDATE="current_audio_dislike_status_update",e.AUDIO_RESTORE_BY_DISLIKE_ACTION="audio_restore_by_dislike_action",e.AUDIO_DELETE_BY_DISLIKE_ACTION="audio_delete_by_dislike_action",e.PLACEHOLDER_REMOVE="placeholder_remove",e.PLAY_PREVIEW="play_preview",e.STOP_PREVIEW="stop_preview",e.END_PREVIEW="end_preview",e.PROGRESS_PREVIEW="progress_preview",e.PREVIEW_BUFFERED="preview_buffered",e.PLAY_SNIPPET="play_snippet",e.STOP_SNIPPET="stop_snippet",e.PROGRESS_SNIPPET="progress_snippet",e.SNIPPET_BUFFERED="snippet_buffered",e.SNIPPET_PLAYER_STATE_CHANGED="snippet_player_state_changed",e.SNIPPET_PLAYER_FAIL="snippet_player_fail",e.SNIPPET_PLAYER_PLAY_NEXT_SNIPPET="snippet_player_play_next_snippet",e.SNIPPET_PLAYER_PLAY_PREV_SNIPPET="snippet_player_play_prev_snippet",e.SNIPPET_PLAYER_SNIPPET_PLAYING_END="snippet_player_snippet_playing_end",e.SNIPPET_PLAYER_CHANGE_SOURCE="snippet_player_change_source",e.SNIPPET_PLAYER_PAUSED_BY_INCOMING_CALL="snippet_player_paused_by_incoming_call",e.SNIPPET_PLAYER_PAUSED_BY_VISIBILITY="snippet_player_paused_by_visibility",e.NAVIGATE_TO_SECTION="navigate_to_section",e}({});const r=o},679937:(e,t,i)=>{"use strict";i.d(t,{AudioMixPlaylist:()=>g,PLAYLIST_CONTEXT_VKMIX:()=>u,PLAYLIST_TYPE_VKMIX:()=>d});var o=i(434518),r=i(763812),n=i(346127),a=i(488150),s=i(23975),c=i(540462),l=i(955141);const d="vkmix",u="vkmix:vk_mix";var _=(0,r._)("_items"),p=(0,r._)("_isSessionLaunched"),m=(0,r._)("_ensureAbsIndex");class g{get isSessionLaunched(){return(0,o._)(this,p)[p]}get isEmpty(){return!1}get items(){return(0,o._)(this,_)[_]}get length(){return this.items.length}audioAt(e){return this.items.at(e)}async ensureAt(e){const t=(0,o._)(this,m)[m](e);let i=this.audioAt(t);return i||this.fetchAt(t)}async fetchAt(e,{range:t=0}={}){const i=(0,o._)(this,m)[m](e),r=this.audioAt(i),n=i+t+1-this.length;if(r&&n<=0)return r;const[a]=await this.fetchNext(n);if(!a)throw new Error("fetchNext have not return audios");return a}async fetchNext(e=1){const t=(0,c.partConfigEnabled)("frontend.audio_recom_playlists_starts_with_last_played_audio_web"),{id:i,blockId:o,isSessionLaunched:r}=this,s=(await f({fetcher:async()=>await this.service.fetchNextFx({id:i,blockId:o,count:e,isSessionLaunched:r,isSessionFeatureEnabled:t}),maxRetries:5})).map((e=>function(e){return{...(0,n.mapAPIAudioToMusicAudioData)(a.AudioType.MusicTrack,e),apiAudio:e}}(e)));return this.items.push(...s),s}launchSession(){if(0===this.length)throw new Error("Music mix session cannot be launched if there are no tracks in the mix");(0,o._)(this,p)[p]=!0}breakSession(){this.items.length=0,(0,o._)(this,p)[p]=!1}constructor({id:e,blockId:t,title:i,items:r=[],context:n}){Object.defineProperty(this,m,{value:v}),Object.defineProperty(this,_,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),(0,o._)(this,p)[p]=!1,this.service=(0,l.createAudioVkMixPlaylistService)(),(0,o._)(this,_)[_]=[...r],this.type=d,this.title=i,this.id=e,this.blockId=t,this.context=n}}function v(e){return function(e,t){const i=function(e,t){return t<0?e+t:t}(e.length,t);if(!function(e,t){return t>=0&&t<=e.length}(e,i))throw new Error("Index is out of range");return i}(this,e)}async function f(e){try{const t=await e.fetcher();if(t&&t.length>0||e.maxRetries<=0)return t}catch(e){throw s.AudioError.fromUnknownError(e)}return f({fetcher:e.fetcher,maxRetries:e.maxRetries-1})}},955141:(e,t,i)=>{"use strict";i.d(t,{createAudioVkMixPlaylistService:()=>n});var o=i(32489),r=i(241024);function n(){const e=(0,o.createDomain)("audio/playlist/vkmix"),{$lists:t,fetchNextFx:i}=(0,r.createAudioVkMixService)(e);return{$lists:t,$loading:i.pending,fetchNextFx:i}}},972623:(e,t,i)=>{"use strict";i.d(t,{AudioStats:()=>K,SUBTYPE_PLAYLIST:()=>H,SUBTYPE_UPLOAD:()=>x,TYPE_ADDED:()=>_,TYPE_REMOVED:()=>p,TYPE_SHARE_AUDIO:()=>v,TYPE_SHOW_ALBUM:()=>g});var o=i(7240),r=i(740342),n=i(636576),a=i(418562),s=i(469004),c=i(346723),l=i(314309),d=i(540462),u=i(452223);const _="added",p="removed",m="recommendation_removed",g="show_album",v="share_audio",f="start",y="stop",E="volume",A="rewind",S="play_further",b="broadcast",T="curator",I="default",C="next_track",k="prev_track",P="auto",O="interruption",M="continue_from_pause",L="new",D="close_app",R="queue",N="pause",x="upload",F="on",U="off",B="follow",V="unfollow",H="playlist",j="session_end",W={[f]:1,[y]:2,[E]:3,[A]:4,[S]:5,[_]:6,[p]:7,[m]:8,[g]:9,[v]:10,[b]:11,[T]:12,[u.RADIO_STATION_EVENT_ITEM]:13},G={[I]:1,[C]:2,[k]:3,[P]:4,[O]:5,[M]:6,[L]:7,[D]:8,[R]:9,[N]:10,[x]:11,[F]:12,[U]:13,[B]:14,[V]:15},z="audio_unique_unauth_id";class K{listenOnBeforeUnload(){window.addEvent(window,"beforeunload",this.onPageClose)}stopListenOnBeforeUnload(){window.removeEvent(window,"beforeunload",this.onPageClose)}logEvent(e){return this.actionStatCollector.logEvent(e)}canOperate(){return!!this.playerAdapter&&!(this.playerAdapter.isPodcast()||this.playerAdapter.isExternalStream()||this.playerAdapter.isAdPlaying()||this.playerAdapter.isMarusiaTrack())}getCurrentAudioParams(){if(!this.playerAdapter)return{};const e=this.currentAudioId||this.playerAdapter.getAudioId();if(e){const[t,i]=e.split("_");return{ownerId:t,audioId:i,trackCode:this.currentAudioTrackCode||this.playerAdapter.getAudioTrackCode()}}return{}}getEnvParams(){if(this.playerAdapter)return{state:this.playerAdapter.getState(),context:this.playerAdapter.getContext(),ref:window.cur&&window.vk.widget?String(window.cur.widgetReferrer||"").substring(0,20):""}}getListenedTime(){return this.playerAdapter&&Math.round(this.playerAdapter.getListenedTime())||0}getPlaySubtype(){if(!this.playerAdapter)return"";if(this.playerAdapter.isAutoPlayed())return P;const e=this.playerAdapter.getSequence();if(e)return e>0?C:k;const t=this.pausedAudioId,i=this.playerAdapter.getAudioId();return t&&i===t?M:L}onRadioOn(e){(0,d.partConfigEnabled)("audioRadioActionStatCollectorEnabled")?this.actionStatCollector.logEvent({type:u.RADIO_STATION_EVENT_ITEM,[u.RADIO_STATION_EVENT_ITEM]:{event_type:F,radio_station_id:e.id,track_code:e.trackCode}}):this.sendAudioEvent({type:u.RADIO_STATION_EVENT_ITEM,subtype:F,playlistId:e.id,trackCode:e.trackCode})}onRadioOff(e){(0,d.partConfigEnabled)("audioRadioActionStatCollectorEnabled")?this.actionStatCollector.logEvent({type:u.RADIO_STATION_EVENT_ITEM,[u.RADIO_STATION_EVENT_ITEM]:{event_type:U,radio_station_id:e.id,duration:this.getListenedTime(),track_code:e.trackCode}}):this.sendAudioEvent({type:u.RADIO_STATION_EVENT_ITEM,subtype:U,playlistId:e.id,listened:this.getListenedTime(),trackCode:e.trackCode})}onTrackSwitch(e,t){if(!e||!this.playerAdapter)return;let i=L;const o=this.playerAdapter.getSequence(),[r,n]=e.fullId.split("_");this.playerAdapter.isAutoPlayed()?i=P:o&&(i=o>0?C:k),this.sendCurrentAudioEvent({type:y,subtype:i,position:this.currentPosition,listened:this.currentListened,trackCode:e.trackCode,playlistId:t,ownerId:Number(r),audioId:Number(n)}),this.wasEnded=!0,this.collectListenedData(e),this.collectListenedDataSwitch();const a=this.listenedData;this.listenedData=null,this.sendListenedData(a)}onPageClose(){this.playerAdapter&&this.playerAdapter.isPlaying()&&(this.sendCurrentAudioEvent({type:y,subtype:D}),this.sendListenedData())}collectListenedDataSwitch(){if(this.listenedData){if(this.listenedData.end_stream_reason===j||!this.playerAdapter)return;const e=this.playerAdapter.isAutoPlayed(),t=this.getListenedTime(),i=this.playerAdapter.getSequence();let o=null;i&&!e?o=i>0?"next_btn":"prev":this.playlistChanged&&(o="playlist_change"),!o&&e&&(o="playlist_next"),this.listenedData.end_stream_reason=o||"new",t&&(this.listenedData.listened=t)}}collectListenedData(e=null){const t=e||this.currentAudio;if(!this.canOperate()||!t||!this.playerAdapter)return null;const i=t.fullId,o=t.trackCode||this.playerAdapter.getAudioTrackCode(),r=this.getListenedTime(),n=t.urlHash;if(n||console.log("no url hash"),!r||!n)return null;let a={audio_id:i,listened:r,context:this.playerAdapter.getContext(),hash:n};return window.cur&&window.vk.widget&&(a.ref=window.cur.widgetReferrer||""),this.playerAdapter.hasSearchParams()&&(a.search_params=JSON.stringify(this.playerAdapter.getSearchParams())),this.playerAdapter.hasPlaylist()&&(this.playerAdapter.isRealPlaylist()&&(a.playlist_id=this.playerAdapter.getPlaylistId()),this.playerAdapter.isShuffledPlaylist()&&(a.shuffled=1)),o&&(a.track_code=o),this.playerAdapter.isRepeatCurrentAudio()?a.repeat="one":this.playerAdapter.isRepeatAll()&&(a.repeat="all"),this.playerAdapter.isAutoPlayed()&&(a.auto=1),this.playerAdapter.hasPrevAudio()&&(a.prev_audio_id=this.playerAdapter.getPrevAudioId()),this.playerAdapter.hasPrevPlaylist()&&this.playerAdapter.isRealPrevPlaylist()&&(a.prev_playlist_id=this.playerAdapter.getPrevPlaylistId()),this.playerAdapter.isPlaying()||(a.end_stream_reason="stop_btn"),a.state=document.hidden?"background":"app",this.listenedData=a,this.sendListenedDataDelayed(1e4,a),a}sendListenedData(e=null){if(null!==this.sendTimeout&&clearTimeout(this.sendTimeout),!this.withMarketingStats)return;const t=e||this.listenedData;this.listenedData=null,t&&t.listened&&this.playerAdapter&&(this.uniqueUserId&&(t.unique_id=this.uniqueUserId),this.playerAdapter.sendListenedData?.(t))}sendListenedDataDelayed(e=0,t=null){null!==this.sendTimeout&&clearTimeout(this.sendTimeout),this.sendTimeout=setTimeout((()=>this.sendListenedData(t)),e)}serializeEvent(e){const t=[W[e.type],G[e.subtype],1];return e.audioId?t.push(e.ownerId+"_"+e.audioId):t.push(0),e.trackCode?t.push(e.trackCode):t.push(0),e.state?t.push(e.state):t.push(o.UNKNOWN_STATE),e.ref?t.push(e.ref):t.push(""),e.context?t.push(e.context):t.push("other"),e.volume||0===e.volume?t.push(e.volume):t.push(this.playerAdapter&&this.playerAdapter.getVolume()),e.position||0===e.position?t.push(e.position):t.push(this.playerAdapter&&this.playerAdapter.getProgressInSeconds()),e.shuffle?t.push(e.shuffle?1:0):t.push(0),e.repeat?t.push(e.repeat):t.push(0),e.listened?t.push(Math.max(e.listened,0)):t.push(0),e.playlistId?t.push(e.playlistId):t.push(""),e.targetOwnerId?t.push(e.targetOwnerId):t.push(0),this.uniqueUserId?t.push(this.uniqueUserId):t.push(""),e.positionTo?t.push(e.positionTo):t.push(null),t}sendEvent(e){this.debug&&(console.log("[audio stats event]",e.type,e.subtype,e),window._statForTest||i._dG("_statForTest",[]),window._statForTest.push(e)),(0,n.statlogsValueEvent)("audio_sts",...this.serializeEvent(e))}sendCurrentAudioEvent(e){if(!this.playerAdapter)return;const t=this.playerAdapter.isRepeatCurrentAudio()?1:this.playerAdapter.isRepeatAll()?2:0;this.sendEvent({shuffle:this.playerAdapter.isShuffledPlaylist(),repeat:t,volume:this.playerAdapter.getVolume(),position:this.playerAdapter.getProgressInSeconds(),listened:this.getListenedTime(),playlistId:this.playerAdapter.getPlaylistId(),...this.getEnvParams(),...this.getCurrentAudioParams(),...e})}sendAudioEvent(e){const t={...e,...this.getEnvParams()};!window.vk.id&&this.uniqueUserId&&(t.uniqueUnauthId=this.uniqueUserId),this.sendEvent(t)}destroy(){this.playerAdapter.events.off("play",this.handlePlay).off("pause",this.handlePause).off("stop",this.handlePause).off("progress",this.handleProgress).off("volume",this.handleVolume).off("seekLegacy",this.handleSeek).off("playlistChanged",this.handlePlaylistChanged).off("ended",this.handleEnded).off("playNext",this.handlePlayNext).off("adCompleted",this.handleAdCompleted),this.stopListenOnBeforeUnload(),this.listenedData=null,null!==this.sendTimeout&&clearTimeout(this.sendTimeout)}constructor(e,t=!0){if(this.withMarketingStats=t,this.handlePlay=()=>{if(!this.playerAdapter)return;const e=this.playerAdapter.getAudio();if(!e)return;if(this.playerAdapter.isRadio()&&!this.playerAdapter.isMarusiaTrack())return void this.onRadioOn(e);if(this.playerAdapter.isMarusiaTrack())return void c.marusiaAudioStats.onPlay(this.playerAdapter);if(!this.canOperate())return;const t=e.fullId,i=this.currentAudioId===t||!this.currentAudioId,o=this.currentAudioId!==this.pausedAudioId;let r=this.playerAdapter.getListenedTime();!i&&o&&this.onTrackSwitch(this.currentAudio,this.currentPlaylistId),this.playedTime=Date.now(),this.currentAudioId=t,this.currentAudio=e,this.currentAudioTrackCode=this.playerAdapter.getAudioTrackCode()??null,this.currentPlaylistId=this.playerAdapter.getPlaylistId(),this.wasEnded||this.playerAdapter.hasPrevAudio()&&(!this.pausedAudioId||this.playerAdapter.isAutoPlayed())?(this.currentPosition=0,r=0):this.currentPosition=this.playerAdapter.getProgressInSeconds(),this.currentListened=r,this.sendCurrentAudioEvent({type:f,subtype:this.getPlaySubtype(),position:this.currentPosition,listened:r}),this.pausedAudioId=null,this.playlistChanged=!1,this.wasEnded=!1,this.listenOnBeforeUnload()},this.handlePause=()=>{if(!this.playerAdapter)return;const e=this.playerAdapter.getAudio();if(!e)return;if(this.playerAdapter.isRadio()&&!this.playerAdapter.isMarusiaTrack())return void this.onRadioOff(e);if(this.playerAdapter.isMarusiaTrack())return void c.marusiaAudioStats.onPause(this.playerAdapter);const t=this.playerAdapter.getAudioId();if(!this.canOperate()||!t)return;const i=this.collectListenedData();this.sendListenedDataDelayed(1e3,i),setTimeout((()=>{if(this.currentAudio&&t!==this.currentAudio.fullId)return;if(Date.now()-this.playedTime<150)return;if(!this.playerAdapter)return;this.pausedAudioId=t;const e=this.playerAdapter.getPausedBy();this.sendCurrentAudioEvent({type:y,subtype:e?e===R?R:O:N})}),100),this.stopListenOnBeforeUnload()},this.handleProgress=()=>{this.playerAdapter&&(this.playerAdapter.getProgress()<.01||!this.playerAdapter.isPlaying()||(this.currentPosition=this.playerAdapter.getProgressInSeconds(),this.currentListened=this.playerAdapter.getListenedTime(),!this.pausedAudioId&&Date.now()-this.playedTime>150&&this.collectListenedData(),this.adsCompleted&&(this.sendCurrentAudioEvent({type:f,subtype:this.getPlaySubtype(),position:this.currentPosition}),this.adsCompleted=!1)))},this.handleVolume=(0,r.debounce)((()=>{this.canOperate()&&this.sendCurrentAudioEvent({type:E,subtype:I})}),300),this.handleSeek=()=>{if(!this.canOperate()||!this.playerAdapter)return;const e={position:this.currentPosition,positionTo:this.playerAdapter.getProgressInSeconds()};e.position!==e.positionTo&&this.sendCurrentAudioEvent({type:A,subtype:I,...e})},this.handlePlaylistChanged=()=>{this.canOperate()&&(this.playlistChanged=!0)},this.handleEnded=()=>{this.listenedData&&this.playerAdapter.isLastTrack()&&(this.listenedData.end_stream_reason=j),this.wasEnded=!0,this.playerAdapter.isRepeatCurrentAudio()?(this.sendCurrentAudioEvent({type:y,subtype:P}),this.collectListenedData(),this.sendListenedData()):this.sendListenedDataDelayed(150)},this.handlePlayNext=({audioFullId:e})=>{if(!this.canOperate()||!e)return;const[t,i]=e.split("_");this.sendAudioEvent({type:S,subtype:I,ownerId:Number(t),audioId:Number(i)})},this.handleAdCompleted=()=>{this.adsCompleted=!0},this.handleBroadcastStatusToggled=({status:e,targetOwnerId:t})=>{this.sendCurrentAudioEvent({type:b,subtype:e?F:U,targetOwnerId:t.toString()})},this.playerAdapter=e,this.listenedData=null,this.sendTimeout=null,this.currentAudioId=null,this.currentAudio=null,this.currentAudioTrackCode=null,this.pausedAudioId=null,this.playlistChanged=!1,this.currentPosition=0,this.currentListened=0,this.playedTime=0,this.adsCompleted=!1,this.wasEnded=!1,window.vk.id)this.uniqueUserId=null;else{const e=s.ls.get(z);e?this.uniqueUserId=e:(this.uniqueUserId=(0,a.default)(),s.ls.set(z,this.uniqueUserId))}this.debug=e.isDebug(),this.playerAdapter.events.on("play",this.handlePlay).on("pause",this.handlePause).on("stop",this.handlePause).on("progress",this.handleProgress).on("volume",this.handleVolume).on("seekLegacy",this.handleSeek).on("playlistChanged",this.handlePlaylistChanged).on("ended",this.handleEnded).on("playNext",this.handlePlayNext).on("adCompleted",this.handleAdCompleted).on("broadcastStatusToggled",this.handleBroadcastStatusToggled),this.onPageClose=this.onPageClose.bind(this),this.productionStatCollector=new l.ProductionStatCollector,this.actionStatCollector=new l.ActionStatCollector(this.productionStatCollector)}}},315283:(e,t,i)=>{"use strict";i.d(t,{AudioStatsPlayerAdapter:()=>s,FULL_SCREEN_STATE:()=>a,UNKNOWN_STATE:()=>n});var o=i(392358),r=i(426389);const n=0,a=2;class s{destory(){this.unlistenPlayer()}get events(){return this.emitter.listenable}getPausedBy(){return null}getState(){return document.hidden?1:3}getProgress(){return this.player.playerGetProgress()}getProgressInSeconds(){return this.player.getProgressInSeconds()}getVolume(){return this.player.getVolume()}getAudioId(){return this.player.getAudioId()}getAudio(){return this.player.getAudio()}getAudioTrackCode(){return this.player.getAudioTrackCode()}getPrevAudioId(){return this.player.getPrevAudioId()}getPrevPlaylistId(){return this.player.getPrevPlaylistId()}getPlaylistId(){return this.player.getPlaylistId()}getContext(){return this.player.getContext()}getSequence(){return this.player.getSequence()}getType(){return this.player.getType()}getListenedTime(){return isNaN(this.player.getListenedTime())?0:Math.round(this.player.getListenedTime())}getSearchParams(){return this.player.getSearchParams()}isPlaying(){return this.player.isPlaying()}isPaused(){return this.player.isPaused()}isAutoPlayed(){return this.player.isAutoPlayed()}isRepeatCurrentAudio(){return this.player.isRepeatCurrentAudio()}isRepeatAll(){return this.player.isRepeatAll()}isShuffledPlaylist(){return this.player.isShuffledPlaylist()}isRealPlaylist(){return this.player.isRealPlaylist()}isRealPrevPlaylist(){return this.player.isRealPrevPlaylist()}isPodcast(){return this.player.isPodcast()}isExternalStream(){return this.player.isExternalStream()}isRadio(){return this.player.isRadio()}isMarusiaTrack(){return this.player.isMarusiaTrack()}isAdPlaying(){return this.player.ads.isActive}isLastTrack(){return this.player.isLastTrack()}getTrackPosition(){return this.player.getTrackPosition()}hasPrevAudio(){return this.player.hasPrevAudio()}hasPrevPlaylist(){return this.player.hasPrevPlaylist()}hasPlaylist(){return this.player.hasPlaylist()}hasSearchParams(){return this.player.hasSearchParams()}isDebug(){return!1}sendListenedData(e){return this.player.sendListenedData(e)}getPlaylistQueue(){return null}getCurrentAudio(){return this.player.getCurrentAudioData()}getPlayingAudio(){return this.isPlaying()||this.isPaused()?this.getCurrentAudio():null}listenPlayer(){this.player.subscribe(o.AudioPlayerEventType.PLAY,this.handlePlayerPlay),this.player.subscribe(o.AudioPlayerEventType.PAUSE,this.handlePlayerPause),this.player.subscribe(o.AudioPlayerEventType.STOP,this.handlePlayerStop),this.player.subscribe(o.AudioPlayerEventType.PROGRESS,this.handlePlayerProgress),this.player.subscribe(o.AudioPlayerEventType.VOLUME,this.handlePlayerVolume),this.player.subscribe(o.AudioPlayerEventType.SEEK,this.handlePlayerSeekLegacy),this.player.subscribe(o.AudioPlayerEventType.PLAYLIST_CHANGED,this.handlePlayerPlaylistChanged),this.player.subscribe(o.AudioPlayerEventType.ENDED,this.handlePlayerEnded),this.player.subscribe(o.AudioPlayerEventType.PLAY_NEXT,this.handlePlayerPlayNext),this.player.subscribe(o.AudioPlayerEventType.AD_COMPLETED,this.handlePlayerAdCompleted);const e=this.player.nextEvents;e?.on&&(e.on("playAudio",this.handlePlayerPlayMarked),e.on("pauseAudio",this.handlePlayerPauseMarked),e.on("stopAudio",this.handlePlayerStopMarked),e.on("progressAudio",this.handlePlayerProgressMarked),e.on("playAdv",this.handlePlayerPlayAdv),e.on("pauseAdv",this.handlePlayerPauseAdv),e.on("stopAdv",this.handlePlayerStopAdv),e.on("seek",this.handlePlayerSeek),e.on("stateRestore",this.handlePlayerStateRestore),e.on("broadcastStatusToggled",this.handlePlayerBroadcastStatusToggled))}unlistenPlayer(){this.player.unsubscribe(o.AudioPlayerEventType.PLAY,this.handlePlayerPlay),this.player.unsubscribe(o.AudioPlayerEventType.PAUSE,this.handlePlayerPause),this.player.unsubscribe(o.AudioPlayerEventType.STOP,this.handlePlayerStop),this.player.unsubscribe(o.AudioPlayerEventType.PROGRESS,this.handlePlayerProgress),this.player.unsubscribe(o.AudioPlayerEventType.VOLUME,this.handlePlayerVolume),this.player.unsubscribe(o.AudioPlayerEventType.SEEK,this.handlePlayerSeekLegacy),this.player.unsubscribe(o.AudioPlayerEventType.PLAYLIST_CHANGED,this.handlePlayerPlaylistChanged),this.player.unsubscribe(o.AudioPlayerEventType.ENDED,this.handlePlayerEnded),this.player.unsubscribe(o.AudioPlayerEventType.PLAY_NEXT,this.handlePlayerPlayNext),this.player.unsubscribe(o.AudioPlayerEventType.AD_COMPLETED,this.handlePlayerAdCompleted);const e=this.player.nextEvents;e?.off&&(e.off("playAudio",this.handlePlayerPlayMarked),e.off("pauseAudio",this.handlePlayerPauseMarked),e.off("stopAudio",this.handlePlayerStopMarked),e.off("progressAudio",this.handlePlayerProgressMarked),e.off("playAdv",this.handlePlayerPlayAdv),e.off("pauseAdv",this.handlePlayerPauseAdv),e.off("stopAdv",this.handlePlayerStopAdv),e.off("seek",this.handlePlayerSeek),e.off("stateRestore",this.handlePlayerStateRestore))}constructor(e,t){this.emitterFactory=t,this.emitter=this.emitterFactory.create(),this.handlePlayerPlay=()=>{this.emitter.emit("play")},this.handlePlayerPlayMarked=e=>{const{audio:t,reason:i,progressTime:o}=e;_(t),function(e){if(!c.includes(e))throw new Error(`Invalid play reason: ${e}`)}(i),p(o),this.emitter.emit("playAudio",{audio:t,reason:i,progressTime:o})},this.handlePlayerPause=()=>{this.emitter.emit("pause")},this.handlePlayerPauseMarked=e=>{const{audio:t,reason:i,progressTime:o}=e;_(t),function(e){if(!l.includes(e))throw new Error(`Invalid pause reason: ${e}`)}(i),p(o),this.emitter.emit("pauseAudio",{audio:t,reason:i,progressTime:o})},this.handlePlayerStop=()=>{this.emitter.emit("stop")},this.handlePlayerStopMarked=e=>{const{audio:t,reason:i,progressTime:o}=e;_(t),function(e){if(!d.includes(e))throw new Error(`Invalid stop reason: ${e}`)}(i),p(o),this.emitter.emit("stopAudio",{audio:t,reason:i,progressTime:o})},this.handlePlayerProgressMarked=e=>{this.emitter.emit("progressAudio",e)},this.handlePlayerProgress=()=>{this.emitter.emit("progress")},this.handlePlayerVolume=()=>{this.emitter.emit("volume")},this.handlePlayerSeekLegacy=()=>{this.emitter.emit("seekLegacy")},this.handlePlayerSeek=e=>{const{audio:t,reason:i,progressTime:o,fromTime:r}=e;_(t),function(e){if(!u.includes(e))throw new Error(`Invalid seek reason: ${e}`)}(i),p(o),p(r),this.emitter.emit("seek",{audio:t,reason:i,progressTime:o,fromTime:r})},this.handlePlayerPlaylistChanged=()=>{this.emitter.emit("playlistChanged")},this.handlePlayerEnded=()=>{this.emitter.emit("ended")},this.handlePlayerPlayNext=(e,t)=>{this.emitter.emit("playNext",{currentAudio:e,audioFullId:t})},this.handlePlayerAdCompleted=()=>{this.emitter.emit("adCompleted")},this.handlePlayerPlayAdv=e=>{this.emitter.emit("playAdv",e)},this.handlePlayerPauseAdv=e=>{this.emitter.emit("pauseAdv",e)},this.handlePlayerStopAdv=e=>{this.emitter.emit("stopAdv",e)},this.handlePlayerStateRestore=e=>{const{audio:t,progressTime:i}=e;t&&_(t),p(i),this.emitter.emit("stateRestore",{audio:t,progressTime:i})},this.handlePlayerBroadcastStatusToggled=e=>{this.emitter.emit("broadcastStatusToggled",e)},this.player=e,this.listenPlayer()}}const c=Object.values(r.AudioPlayerPlayAudioEventReason),l=Object.values(r.AudioPlayerPauseAudioEventReason),d=Object.values(r.AudioPlayerStopAudioEventReason),u=Object.values(r.AudioPlayerSeekEventReason);function _(e){if(!e||"object"!=typeof e)throw new Error(`Invalid TrackedAudioData: ${e}`);if(!Number.isFinite(e.id))throw new Error(`Invalid TrackedAudioData (id is not finite): ${e.id}`);if(!Number.isFinite(e.ownerId))throw new Error(`Invalid TrackedAudioData (ownerId is not finite): ${e.ownerId}`);if("string"!=typeof e.trackCode)throw new Error("Invalid TrackedAudioData (trackCode is not string): "+typeof e.trackCode)}function p(e){if("number"!=typeof e)throw new Error(`Value is not number (given: ${typeof e})`)}},7240:(e,t,i)=>{"use strict";i.d(t,{AudioStatsPlayerAdapter:()=>o.AudioStatsPlayerAdapter,FULL_SCREEN_STATE:()=>o.FULL_SCREEN_STATE,UNKNOWN_STATE:()=>o.UNKNOWN_STATE});var o=i(315283)},956648:(e,t,i)=>{"use strict";i.d(t,{AudioTaskManager:()=>n,TaskName:()=>r});var o=i(762701),r=function(e){return e.URL="url",e.PLAYBACK_RATE="playback_rate",e.DELAY="delay",e.SEEK="seek",e.PAUSE="pause",e.PLAY="play",e.VOL_SET="vol_set",e.VOL_UP="vol_up",e.VOL_DOWN="vol_down",e}({});class n{newTask(e,t){let i,o;const r=new Promise(((e,t)=>{i=e,o=t}));return this.tasks.push({name:e,fn:()=>t().then(i).catch(o),id:`${e}_${this.taskIDCounter++}`}),this.doTasks(),r}clearAllTasks(){this.taskAbort=this.taskInProgress,this.taskInProgress=null,this.tasks=[]}clearTask(e){this.tasks=this.tasks||[],this.tasks=this.tasks.filter((t=>t.name!==e))}doTasks(){if(this.taskInProgress)return;const e=this.tasks.shift();e&&(this.taskInProgress=e.id,this.ensureImplReady().then((()=>e.fn())).then((()=>{this.taskAbort!==e.id?(this.taskInProgress=null,this.doTasks()):this.taskAbort=null})))}ensureImplReady(){return new Promise((e=>this.impl.onReady(e)))}delay(e){return this.newTask("delay",(()=>new Promise((t=>(0,o.setWorkerTimeout)(t,e)))))}setUrl(e){return this.newTask("url",(()=>new Promise((t=>this.impl.setUrl(e,t)))))}seekImmediate(e){this.impl.seek(e)}seek(e){return this.clearTask("seek"),this.newTask("seek",(()=>new Promise((t=>{this.seekImmediate(e),t()}))))}pause(){return this.newTask("pause",(()=>new Promise((e=>{this.impl.pause(),e()}))))}play(){return window.browser.safari&&this.impl.play(),this.newTask("play",(()=>new Promise(((e,t)=>{this.impl.play().then(e).catch(t)}))))}setVolume(e,t,i=null){if(t){const t=e?"vol_up":"vol_down";return this.newTask(t,(()=>new Promise((t=>this.impl.fadeVolume(e,i,(()=>t()))))))}return this.newTask("vol_set",(()=>new Promise((t=>{this.impl.setVolume(e),t()}))))}updatePlaybackRate(e){return this.newTask("playback_rate",(()=>new Promise((t=>{this.impl.setPlaybackRate(e),t()}))))}constructor(e){this.impl=e,this.taskIDCounter=1,this.tasks=[],this.taskInProgress=null,this.taskAbort=null}}},726680:(e,t,i)=>{"use strict";i.d(t,{EventBus:()=>o});class o{subscribe(e,t){return Array.isArray(e)&&e.forEach((e=>this.subscribe(e,t))),this.subscriptions[e]||(this.subscriptions[e]=[]),this.subscriptions[e].push(t),{unsubscribe:()=>this.unsubscribe(e,t)}}unsubscribe(e,t){if(this.subscriptions[e]){const i=this.subscriptions[e].indexOf(t);i>=0&&this.subscriptions[e].splice(i,1)}}emit(e,...t){this.precheck&&!this.precheck(e,...t)||(this.onAnyCallBack&&setTimeout((()=>this.onAnyCallBack(e,...t))),this.subscriptions[e]&&this.subscriptions[e].forEach((e=>setTimeout((()=>e(...t))))))}constructor(){this.subscriptions={}}}},269808:(e,t,i)=>{"use strict";i.d(t,{PlaylistSourceType:()=>o,PlaylistType:()=>r,isAutoplayEnabledForPlaylist:()=>a});var o=function(e){return e.CATALOG="catalog",e.MESSAGE="im",e.FEED="feed",e.WALL="wall",e.ALBUM="album",e.CURATOR="curator",e.PLAYLIST="playlist",e.VKMIX="vkmix",e.PODCAST="podcast",e}({}),r=function(e){return e.TYPE_CURRENT="current",e.TYPE_PLAYLIST="playlist",e.TYPE_MY="my",e.TYPE_ALBUM="album",e.TYPE_TEMP="temp",e.TYPE_RECOM="recoms",e.TYPE_SEARCH="search",e.TYPE_LIVE="live",e.TYPE_WALL="wall",e.TYPE_RECENT="recent",e.TYPE_RADIO="radio",e.TYPE_ARTICLE_TTS="article_tts",e.TYPE_VKMIX="vkmix",e}({});const n=["radio","article_tts"],a=e=>!n.includes(e.getType())},733615:(e,t,i)=>{"use strict";i.d(t,{PlaylistQueue:()=>H});var o=i(434518),r=i(763812),n=i(331635),a=i(327813),s=i(351118),c=i(898848),l=i(667545),d=i(867366),u=i(423015),_=i(392358),p=i(269808),m=i(223009),g=i(590733),v=i(482310),f=i(137590),y=i(768035),E=i(22021),A=i(735578),S=i(540462);function b(e){let t=e.length;for(;t>0;){const i=Math.floor(Math.random()*t);t--;const o=e[t];e[t]=e[i],e[i]=o}return e}const{AUDIO_ITEM_INDEX_OWNER_ID:T,AUDIO_ITEM_INDEX_TRACK_CODE:I,AUDIO_ITEM_INDEX_ID:C,AUDIO_QUEUE_MAX_AUDIOS_COUNT:k,AUDIO_ITEM_INDEX_URL:P,AUDIO_ITEM_INDEX_TITLE:O,AUDIO_ITEM_INDEX_PERFORMER:M,AUDIO_ITEM_INDEX_EXTRA:L,AUDIO_ITEM_ACCESS_KEY:D}=d.AUDIO_PLAYER_ENUMS;var R=(0,r._)("_shuffled"),N=(0,r._)("_currentAudio"),x=(0,r._)("_setShuffled"),F=(0,r._)("_removeAudiosFromOriginalList"),U=(0,r._)("_findFirstUnfetchedPosition"),B=(0,r._)("_connectEventBusEvents"),V=(0,r._)("_isAvailablePosition");class H{get eventBus(){return this._eventBus}get list(){return this._list}get isPending(){return this._isPending}get source(){return this._source}get shuffled(){return(0,o._)(this,R)[R]}setSortedQueue(e,t){Array.isArray(e)&&((0,o._)(this,N)[N]=null,this._list=[],this.originalList=[],this.addToList(e),t&&this.setSource(t))}async setSortedQueueByPlaylist(e,t){return this.clean(),this.addPlaylist(e,t)}setSource(e){this._source=e}getAudioIds(e){return"string"==typeof e?e.split("_"):"object"!=typeof e||Array.isArray(e)?[e[T],e[C]]:[e.ownerId,e.id]}compareAudiosIds(e,t){return!(!Array.isArray(e)||e.length<2||!t)&&(e[0]==t[T]&&e[1]==t[C])}async fetchAudios(e){let t=e;Array.isArray(t)&&(t=t.join(","));try{this.markPending();const e=await this.fetchService.reloadAudios(t);return this.unmarkPending(),e}catch(e){throw this.unmarkPending(),e}}findAndFetchEmptyAudiosFrom(e){const t=[],i=[],o=this._list;let r=e+k;r=r<o.length?r:o.length-1;for(let n=e;n<=r;n++){const e=o[n];if(this.isEmptyAudio(e)&&e){const o=`${e[T]}_${e[C]}_${e[D]}`;t.push(o),i.push(n)}}return t.length<1?Promise.resolve({counter:0,successful:!0}):this.fetchAudios(t).then((e=>{if(e){let r=this.syncAndRemoveUnmatchedAudios(t,e,o);return this.truncateArray(i,r),i.forEach(((t,i)=>{if(e[i]){const r=(0,v.getAudioExtra)(e[i]);if(r){const n=(0,v.getAudioExtra)(o[t]);if(n){const t=(0,f.mergeAudioExtra)(n,r);t&&(e[i][L]=t)}else e[i][L]=o[t][L]}else e[i][L]=o[t][L];e[i][I]=o[t][I],(0,a.runInAction)((()=>{o[t]=e[i]}))}})),{counter:r,successful:!0}}return{counter:0,successful:!1}})).catch((()=>({counter:0,successful:!1})))}truncateArray(e,t){return e.length=Math.max(e.length-t,0),e}syncAndRemoveUnmatchedAudios(e,t,i){if(e.length===t.length)return 0;let o=0;const r=t.map((e=>e[C]));return e.forEach((e=>{const t=Number(e.split("_")[1]);if(!r.includes(t)){const[t,r]=e.split("_"),n=i.find((e=>Number(e[C])===Number(r)&&Number(e[T])===Number(t)));n&&(o++,this.removeAudio(n))}})),this.dedupe(),o}getAudio(e){if(!e)return Promise.resolve(null);let t=null,i=null;const o=this.getAudioIds(e);return this._list.find(((e,r)=>!!this.compareAudiosIds(o,e)&&(i=r,t=e,!0))),t&&null!==i?this.isEmptyAudio(t)?this.findAndFetchEmptyAudiosFrom(i).then((({successful:e})=>e&&null!==i?Promise.resolve(this._list[i]):Promise.resolve(null))).catch((()=>Promise.resolve(null))):Promise.resolve(t):Promise.resolve(null)}async ensureAudio(e){let t=null,i=null;for(let o=0;o<this._list.length;o++){const r=this._list[o],n=(0,A.mapAnyAudioToAudioIdentity)(r);if(n&&n.fullId===e.fullId){t=r,i=o;break}}if(!t||"number"!=typeof i)return null;if(!this.isEmptyAudio(t))return t;const{successful:o}=await this.findAndFetchEmptyAudiosFrom(i);return o?this._list.at(i)??null:null}async getFirstAudio(e){const t=await this.getAudioAt(0);return t&&e&&(0,u.audioTupleToAudioObject)(t).isClaimed?this.getNextAudio(t,{repeat:!1,ignoreClaimed:e}):t}async getLastAudio(e){const t=this.length-1;if(t<0)return null;const i=await this.getAudioAt(t);return i&&e&&(0,u.audioTupleToAudioObject)(i).isClaimed?this.getPrevAudio(i,{repeat:!1,ignoreClaimed:e}):i}async getPrevAudio(e,t={}){const{ignoreClaimed:i}=t,o=this.indexOfAudio(e);if(o<0)return null;const r=o-1;if(r<0)return t.repeat?this.getLastAudio(i):null;const n=await this.getAudioAt(r);return n&&i&&(0,u.audioTupleToAudioObject)(n).isClaimed?this.getPrevAudio(n,t):n}async getNextAudio(e,t={}){const{ignoreClaimed:i}=t,o=this.indexOfAudio(e);if(o<0)return null;const r=o+1;if(r>=this.length)return t.repeat?this.getFirstAudio(i):null;const n=await this.getAudioAt(r);return n&&i&&(0,u.audioTupleToAudioObject)(n).isClaimed?this.getNextAudio(n,t):n}indexOfAudio(e){if(!e)return-1;let t=this.getAudioIds(e);return this._list?this._list.findIndex((e=>this.compareAudiosIds(t,e))):-1}getAudioAt(e){return!Array.isArray(this._list)||this._list.length<=e?Promise.resolve(null):e<0?this.findAndFetchEmptyAudiosFrom(0).then((()=>this._list[0])):this.findAndFetchEmptyAudiosFrom(e).then((()=>this._list[e]))}getAudios(e,t){return Number.isInteger(e)&&Number.isInteger(t)?(e<0&&(e=0),e>this._list.length?Promise.resolve(null):(t-e>k&&(t=e+k),t>this._list.length&&(t=this._list.length),this.findAndFetchEmptyAudiosFrom(e).then((({counter:i})=>this._list.slice(e,t+1-i))))):Promise.resolve(null)}async fetchNext(e){if(e<=0)return[];const t=(0,o._)(this,U)[U]();if("number"!=typeof t)return[];return await this.getAudios(t,e)??[]}removeAudio(e){let t=this.indexOfAudio(e);return t>=0?(this._list.splice(t,1),t):(this.dedupe(),-1)}remove(e){return!!(0,o._)(this,V)[V](e)&&(this._list.splice(e,1),this.dedupe(),!0)}addToList(e,t,i){const r=this._list;let n=e;void 0!==t||i?n.forEach((e=>{const t=this.indexOfAudio(e);t>=0&&r.splice(t,1)})):n=n.filter((e=>-1===this.indexOfAudio(e))),n.forEach((e=>{null===e[L]&&(e[L]="[]"),e[O]=(0,c.clean)((0,c.replaceEntities)(e[O]).replace(/(<em>|<\/em>)/g,"")),e[M]=(0,c.clean)((0,c.replaceEntities)(e[M]).replace(/(<em>|<\/em>)/g,""))})),this.shuffled&&(this.originalList.push(...n),n=b(n)),void 0===t?r.push(...n):r.splice(t,0,...n),this.shuffled&&(0,o._)(this,N)[N]&&this.shuffle(),this.dedupe()}addAudio(e,t){this.isArrayOfAudioTuples(e)?this.addToList(e,t,!0):e?.length&&this.addToList([e],t)}isArrayOfAudioTuples(e){return Array.isArray(e)&&Array.isArray(e[0])}addEmptyAudios(e){const t=e.map((e=>{const{audio_raw_id:t,access_key:i,track_code:o}=e,{ownerId:r,id:n}=(0,y.parseRawId)(t),a=[];return a[T]=r,a[C]=n,a[D]=i,a[I]=o,a}));this.addToList(t,void 0,!0)}async addPlaylist(e,t){if(this.isAutoplayEnabledForPlaylist=(0,p.isAutoplayEnabledForPlaylist)(e),!this.isAutoplayEnabledForPlaylist){this.clean();const t=e.getAudiosList();return this.addToList(t),!0}const i=(0,m.getPlaylistRawSource)(e),o=(0,g.getPlaylistSource)(i);if((0,s.isEqual)(o,this._source))return!0;if(this.setSource(o),o.source===p.PlaylistSourceType.VKMIX){this.clean();const t=e.getAudiosList();return this.addToList(t),!0}if(e.isLive()||e?.isLoadable())return!0;try{const i=await e.getAudioIds();if(!Array.isArray(i)||0===i.length){const t=e.getAudiosList();return this.addToList(t),!0}return this.addEmptyAudios(i),this.shuffled&&t&&this.shuffle(),!0}catch{return!1}}moveAudio(e,t){let i=this._list.splice(e,1);e<t&&(t-=1),this._list.splice(t,0,i[0]),this.dedupe()}moveAudioSafely(e,t){if(e===t||!(0,o._)(this,V)[V](e)||!(0,o._)(this,V)[V](t))return!1;const i=this._list.splice(e,1);return this._list.splice(t,0,i[0]),this.dedupe(),!0}clean(){(0,o._)(this,N)[N]=null,this._list=[],this.originalList=[],this._source=null}moveAudioAtFirstPosition(e){let t=this.indexOfAudio(e);-1!==t?(this._list.splice(t,1),this._list.unshift(e),this.dedupe()):this._list.unshift(e)}get length(){return this.list.length}isEmpty(){return!this.length}toggleShuffle(e){(void 0!==e?e:!this.shuffled)?this.shuffle():this.unshuffle()}__getListDeproxified__(){if(!(0,S.partConfigEnabled)("frontend.web_audio_legacy_player_queue_debug"))throw new Error("[PlaylistQueue] No access to debug");return(0,a.toJS)(this._list)}dedupe(){const e=new Set,t=new Set;for(let i=this._list.length-1;i>=0;i--){const o=Y(this._list[i]);e.has(o)?(t.add(o),this._list.splice(i,1)):e.add(o)}t.size>0&&(0,o._)(this,F)[F](t)}unshuffle(){this.shuffled&&(this._list=[...this.originalList],this.dedupe(),(0,o._)(this,x)[x](!1))}shuffle(){this.shuffled&&this.unshuffle(),this.originalList=[...this._list],this._list=b([...this._list]);const e=(0,o._)(this,N)[N];e&&this.moveAudioAtFirstPosition(e),this.dedupe(),(0,o._)(this,x)[x](!0)}markPending(){this._isPending=!0}unmarkPending(){this._isPending=!1}constructor(e,t){if(Object.defineProperty(this,x,{value:j}),Object.defineProperty(this,F,{value:W}),Object.defineProperty(this,U,{value:G}),Object.defineProperty(this,B,{value:z}),Object.defineProperty(this,V,{value:K}),Object.defineProperty(this,R,{writable:!0,value:void 0}),Object.defineProperty(this,N,{writable:!0,value:void 0}),this._list=[],(0,o._)(this,N)[N]=null,this._isPending=!1,this.isEmptyAudio=e=>!(e&&(e[P]||(0,l.isClaimedAudio)(e))),H.instance)return H.instance;this._eventBus=t,this.fetchService=e,(0,a.makeObservable)(this),(0,o._)(this,B)[B](),this.clean(),H.instance=this}}function j(e){e!==(0,o._)(this,R)[R]&&((0,o._)(this,R)[R]=e,this.eventBus.emit(_.AudioPlayerEventType.PLAYBACK_QUEUE_SHUFFLED_UPDATED,(0,o._)(this,R)[R]))}function W(e){0!==e.size&&(this.originalList=this.originalList.filter((t=>!e.has(Y(t)))))}function G(){const e=this._list.findIndex((e=>this.isEmptyAudio(e)));if(-1!==e)return e}function z(){this.eventBus.subscribe(_.AudioPlayerEventType.CURRENT_AUDIO_CHANGED,(e=>{(0,o._)(this,N)[N]=e??null}))}function K(e){return e>0&&e<this.length}function Y(e){return(0,E.isRadio)(e)?e[C].toString():`${e[T]}_${e[C]}`}(0,n.__decorate)([a.observable,(0,n.__metadata)("design:type",Array)],H.prototype,"_list",void 0),(0,n.__decorate)([a.observable],H.prototype,"_isPending",void 0),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",Array),(0,n.__metadata)("design:paramtypes",[])],H.prototype,"list",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",Boolean),(0,n.__metadata)("design:paramtypes",[])],H.prototype,"isPending",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Array,"undefined"==typeof PlaylistSource?Object:PlaylistSource]),(0,n.__metadata)("design:returntype",void 0)],H.prototype,"setSortedQueue",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof Playlist?Object:Playlist,"undefined"==typeof AudioTuple?Object:AudioTuple]),(0,n.__metadata)("design:returntype",Promise)],H.prototype,"setSortedQueueByPlaylist",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",Promise)],H.prototype,"fetchAudios",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Number]),(0,n.__metadata)("design:returntype","undefined"==typeof Promise?Object:Promise)],H.prototype,"findAndFetchEmptyAudiosFrom",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Array,Array,Array]),(0,n.__metadata)("design:returntype",void 0)],H.prototype,"syncAndRemoveUnmatchedAudios",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[String]),(0,n.__metadata)("design:returntype","undefined"==typeof Promise?Object:Promise)],H.prototype,"getAudio",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof IAudioIdentity?Object:IAudioIdentity]),(0,n.__metadata)("design:returntype",Promise)],H.prototype,"ensureAudio",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Boolean]),(0,n.__metadata)("design:returntype",Promise)],H.prototype,"getFirstAudio",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Boolean]),(0,n.__metadata)("design:returntype",Promise)],H.prototype,"getLastAudio",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,"undefined"==typeof GetPrevAudioOptions?Object:GetPrevAudioOptions]),(0,n.__metadata)("design:returntype",Promise)],H.prototype,"getPrevAudio",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,"undefined"==typeof GetNextAudioOptions?Object:GetNextAudioOptions]),(0,n.__metadata)("design:returntype",Promise)],H.prototype,"getNextAudio",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Number]),(0,n.__metadata)("design:returntype","undefined"==typeof Promise?Object:Promise)],H.prototype,"getAudioAt",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Number,Number]),(0,n.__metadata)("design:returntype","undefined"==typeof Promise?Object:Promise)],H.prototype,"getAudios",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Number]),(0,n.__metadata)("design:returntype",Promise)],H.prototype,"fetchNext",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof AudioTuple?Object:AudioTuple]),(0,n.__metadata)("design:returntype",void 0)],H.prototype,"removeAudio",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Number]),(0,n.__metadata)("design:returntype",Boolean)],H.prototype,"remove",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Array,Number,Boolean]),(0,n.__metadata)("design:returntype",void 0)],H.prototype,"addToList",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object,Number]),(0,n.__metadata)("design:returntype",void 0)],H.prototype,"addAudio",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Array]),(0,n.__metadata)("design:returntype",void 0)],H.prototype,"addEmptyAudios",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof Playlist?Object:Playlist,"undefined"==typeof AudioTuple?Object:AudioTuple]),(0,n.__metadata)("design:returntype",Promise)],H.prototype,"addPlaylist",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Number,Number]),(0,n.__metadata)("design:returntype",void 0)],H.prototype,"moveAudio",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Number,Number]),(0,n.__metadata)("design:returntype",Boolean)],H.prototype,"moveAudioSafely",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[]),(0,n.__metadata)("design:returntype",void 0)],H.prototype,"clean",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof AudioTuple?Object:AudioTuple]),(0,n.__metadata)("design:returntype",void 0)],H.prototype,"moveAudioAtFirstPosition",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",Number),(0,n.__metadata)("design:paramtypes",[])],H.prototype,"length",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[]),(0,n.__metadata)("design:returntype",void 0)],H.prototype,"dedupe",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[]),(0,n.__metadata)("design:returntype",void 0)],H.prototype,"unshuffle",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[]),(0,n.__metadata)("design:returntype",void 0)],H.prototype,"shuffle",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[]),(0,n.__metadata)("design:returntype",void 0)],H.prototype,"markPending",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[]),(0,n.__metadata)("design:returntype",void 0)],H.prototype,"unmarkPending",null)},19022:(e,t,i)=>{"use strict";i.d(t,{PlaylistQueue:()=>o.PlaylistQueue});var o=i(733615)},233297:(e,t,i)=>{"use strict";i.d(t,{SpecialProjectController:()=>a});var o=i(119864),r=i(445798);let n;class a{static get(){if(!n)throw new Error("SpecialProjectController must be initialized.");return n}static init(e,t){if(!e)throw new Error("SpecialProjectController must be initialized with showModal.");return n||(n=new a(e,t),n)}showModal(e,t){this.showCurrentModal&&this.showCurrentModal(t,this.tryToSendCloseReason(e))}constructor(e,t){this.audioApi=t,this.projects={},this.statCollector=null,this.wasProjectShown=e=>!!this.projects[e],this.tryModal=async(e,t)=>{if(!this.wasProjectShown(e))try{const i=await this.getSpecialProject(e);this.showModal(e,i),this.statCollector?.open(+e,t)}catch(e){}finally{this.projects[e]="opened"}},this.tryToSendCloseReason=e=>t=>{"closed"!==this.projects[e]&&(this.consumeSpecialProject(e,t),this.statCollector?.close(),this.projects[e]="closed")},this.getSpecialProject=async e=>{const t=await this.audioApi.getSpecialProject({special_project_id:e});return(0,r.mapSpecialProjectData)(t)},this.consumeSpecialProject=(e,t)=>this.audioApi.consumeSpecialProject({special_project_id:e,reason:t}),this.statCollector=new o.SpecialProjectStatCollector,this.showCurrentModal=e}}},119864:(e,t,i)=>{"use strict";i.d(t,{SpecialProjectStatCollector:()=>n});var o=i(452223),r=i(314309);class n{open(e,t){if(this.openedModal)throw new Error("Modal must be closed before opening");this.openedModal={id:e,trackCode:t,startView:this.productCollector.getCurrentTime()}}close(){const{openedModal:e}=this;if(!e)throw new Error("Modal must be open before closing");this.sendView(e),this.openedModal=null}sendView(e){const t={end_view:this.productCollector.getCurrentTime(),start_view:e.startView,type:o.ViewProductionStatEventTypes.TYPE_CATALOG_SPECIAL_PROJECT_ITEM},i={type:o.EventItemType.AUDIO_SPECIAL_PROGECT_MODAL,id:e.id,track_code:e.trackCode};this.viewCollector.logEvent(t,i)}constructor(){this.openedModal=null,this.productCollector=new r.ProductionStatCollector,this.viewCollector=new r.ViewStatCollector(this.productCollector)}}},514871:(e,t,i)=>{"use strict";i.d(t,{SpecialProjectHeader:()=>l});var o=i(474848),r=i(296540),n=i(612196),a=i(351118),s=i(515037);const c=e=>{const[t]=e.filter((e=>!!e&&!!e.url)).map((e=>e.url));return t||""},l=(0,r.memo)((({style:e,image:t=[],className:i,backgroundImage:r=[]})=>{const l=c(r),d=c(t);return(0,o.jsx)("div",{className:(0,a.classNames)(s.default.root,i,{[s.default.singleImage]:"image"===e}),style:{backgroundImage:`url(${"avatar"===e?l:d})`},children:"avatar"===e&&(0,o.jsx)(n.Avatar,{noBorder:!0,src:d,size:72})})}))},445798:(e,t,i)=>{"use strict";i.d(t,{mapSpecialProjectData:()=>o});const o=e=>({...e,backgroundImage:e.background_image})},423769:(e,t,i)=>{"use strict";function o(e){const t=e?.options;if(!t)return[];const i=[];for(const e of t)switch(e.type){case"copy":{const{name:t,copyText:o}=e;if(!t||!o)break;const r=()=>{navigator.clipboard.writeText(o)};i.push({type:"action",label:t,action:r});break}case"default":{const{name:t,clickLink:o}=e;if(!t)break;if(o){i.push({type:"link",label:t,href:o});break}break}}return i}i.d(t,{makeChoicesFromAdman:()=>o})},255818:(e,t,i)=>{"use strict";i.d(t,{makeAudioAdFromAdman:()=>r});var o=i(423769);function r(e){return{id:e.banner_id,choices:(0,o.makeChoicesFromAdman)(e.adChoices)}}},216577:(e,t,i)=>{"use strict";function o(e){return new Promise(((t,i)=>{window.ajax.post("al_audio.php",{act:"get_lyrics",aid:e.audio_id},{onDone:t,onFail:e=>(i(e),!0)})}))}i.d(t,{getLyrics:()=>o})},867366:(e,t,i)=>{"use strict";i.d(t,{AUDIO_PLAYER_ENUMS:()=>n,AudioPlaylistContext:()=>a,EAudioFlagBit:()=>r,EAudioTupleIndex:()=>o});var o=function(e){return e[e.ID=0]="ID",e[e.OWNER_ID=1]="OWNER_ID",e[e.URL=2]="URL",e[e.TITLE=3]="TITLE",e[e.PERFORMER=4]="PERFORMER",e[e.DURATION=5]="DURATION",e[e.ALBUM_ID=6]="ALBUM_ID",e[e.AUTHOR_LINK=8]="AUTHOR_LINK",e[e.LYRICS=9]="LYRICS",e[e.FLAGS=10]="FLAGS",e[e.CONTEXT=11]="CONTEXT",e[e.EXTRA=12]="EXTRA",e[e.HASHES=13]="HASHES",e[e.COVER_URL=14]="COVER_URL",e[e.ADS=15]="ADS",e[e.SUBTITLE=16]="SUBTITLE",e[e.MAIN_ARTISTS=17]="MAIN_ARTISTS",e[e.FEAT_ARTISTS=18]="FEAT_ARTISTS",e[e.ALBUM=19]="ALBUM",e[e.TRACK_CODE=20]="TRACK_CODE",e[e.RESTRICTION=21]="RESTRICTION",e[e.ALBUM_PART=22]="ALBUM_PART",e[e.IS_NEW_STATS=23]="IS_NEW_STATS",e[e.ACCESS_KEY=24]="ACCESS_KEY",e[e.CHART_INFO=25]="CHART_INFO",e[e.TRACK_PAGE_ID=26]="TRACK_PAGE_ID",e[e.IS_ORIGINAL_SOUND=27]="IS_ORIGINAL_SOUND",e[e.ADMIN_URL=28]="ADMIN_URL",e[e.UMA_QUERY_URL=29]="UMA_QUERY_URL",e[e.LEGAL_NOTICES_TYPE=30]="LEGAL_NOTICES_TYPE",e[e.RIGHTHOLDER_MARKS=31]="RIGHTHOLDER_MARKS",e}({}),r=function(e){return e[e.HAS_LYRICS=1]="HAS_LYRICS",e[e.CAN_ADD=2]="CAN_ADD",e[e.CLAIMED=4]="CLAIMED",e[e.QUEUE=8]="QUEUE",e[e.HQ=16]="HQ",e[e.LONG_PERFORMER=32]="LONG_PERFORMER",e[e.UMA=128]="UMA",e[e.REPLACEABLE=512]="REPLACEABLE",e[e.EXPLICIT=1024]="EXPLICIT",e[e.SHOW_INFO=8192]="SHOW_INFO",e}({});const n={AUDIO_ITEM_INDEX_ID:0,AUDIO_ITEM_INDEX_OWNER_ID:1,AUDIO_ITEM_INDEX_URL:2,AUDIO_ITEM_INDEX_TITLE:3,AUDIO_ITEM_INDEX_PERFORMER:4,AUDIO_ITEM_INDEX_DURATION:5,AUDIO_ITEM_INDEX_ALBUM_ID:6,AUDIO_ITEM_INDEX_AUTHOR_LINK:8,AUDIO_ITEM_INDEX_LYRICS:9,AUDIO_ITEM_INDEX_FLAGS:10,AUDIO_ITEM_INDEX_CONTEXT:11,AUDIO_ITEM_INDEX_EXTRA:12,AUDIO_ITEM_INDEX_HASHES:13,AUDIO_ITEM_INDEX_COVER_URL:14,AUDIO_ITEM_INDEX_ADS:15,AUDIO_ITEM_INDEX_SUBTITLE:16,AUDIO_ITEM_INDEX_MAIN_ARTISTS:17,AUDIO_ITEM_INDEX_FEAT_ARTISTS:18,AUDIO_ITEM_INDEX_ALBUM:19,AUDIO_ITEM_INDEX_TRACK_CODE:20,AUDIO_ITEM_INDEX_RESTRICTION:21,AUDIO_ITEM_INDEX_ALBUM_PART:22,AUDIO_ITEM_ACCESS_KEY:24,AUDIO_ITEM_CHART_INFO_INDEX:25,AUDIO_ITEM_INDEX_TRACK_PAGE_ID:26,AUDIO_ITEM_INDEX_IS_ORIGINAL_SOUND:27,AUDIO_ITEM_INDEX_ADMIN_URL:28,AUDIO_ITEM_INDEX_UMA_QUERY_URL:29,AUDIO_ITEM_HAS_LYRICS_BIT:1,AUDIO_ITEM_CAN_ADD_BIT:2,AUDIO_ITEM_CLAIMED_BIT:4,AUDIO_ITEM_QUEUE_BIT:8,AUDIO_ITEM_HQ_BIT:16,AUDIO_ITEM_LONG_PERFORMER_BIT:32,AUDIO_ITEM_UMA_BIT:128,AUDIO_ITEM_REPLACEABLE:512,AUDIO_ITEM_EXPLICIT_BIT:1024,AUDIO_ITEM_SHOW_INFO_BIT:8192,AUDIO_ENOUGH_LOCAL_SEARCH_RESULTS:500,AUDIO_RECOMS_TYPE_LISTENED:"recoms6",AUDIO_PLAYING_CLS:"audio_row__playing",AUDIO_CURRENT_CLS:"audio_row__current",AUDIO_DURATION_CLS:"audio_row__duration",AUDIO_LAYER_HEIGHT:550,AUDIO_LAYER_MIN_WIDTH:400,AUDIO_LAYER_MAX_WIDTH:1e3,AUDIO_HQ_LABEL_CLS:"audio_hq_label_show",AUDIO_MAX_AUDIOS_IN_SNIPPET:5,AUDIO_ROW_COVER_SIZE:40,AUDIO_ROW_PLAY_SIZE:24,AUDIO_ROW_ACTION_ROW_ITEM:'<button class="audio_row__more_action audio_row__more_action_%0% _audio_row__more_action_%0% %3%">%2%</button>',AUDIO_QUEUE_MAX_AUDIOS_COUNT:35,LOG_LS_KEY:"audiolog",ONBOARDING_ARTISTS_LS_KEY:"artists_onboarding",AUDIO_RECOMS_ONBOARDING_NEED_SKIP_LS_KEY:"audio_recoms_onboarding_need_skip"};var a=function(e){return e.USER_WALL="user_wall",e.GROUP_WALL="group_wall",e.WALL="wall",e.FEED="feed",e}({})},71935:(e,t,i)=>{"use strict";i.d(t,{HTMLAudioNode:()=>b});var o=i(434518),r=i(763812),n=i(758140),a=i(994506),s=i(434810),c=i(201659),l=i(262022),d=i(43866),u=i(469004),_=i(491284),p=i(229820),m=(0,r._)("_network"),g=(0,r._)("_networkAnalytics"),v=(0,r._)("_stallRater"),f=(0,r._)("_onUrlInstalled"),y=(0,r._)("_handleUrlInstalled"),E=(0,r._)("_toFragmentEvent"),A=(0,r._)("_handleStalled"),S=(0,r._)("_handleUnstalled");class b{get isFullyLoaded(){return this.fullyLoaded}get error(){return this.audioElement.error||null}get played(){return this.audioElement.played}get src(){return this.url}get hls(){return this.hlsInstance||null}get duration(){return isFinite(this.audioElement.duration)?this.audioElement.duration:0}get readyState(){return this.audioElement.readyState}get currentTime(){return this.audioElement.currentTime}set currentTime(e){this.audioElement.currentTime=e}get volume(){return this.audioElement.volume}set volume(e){this.audioElement.volume=e}set playbackRate(e){this.audioElement.playbackRate=e}get currentProgress(){return isNaN(this.audioElement.duration)?0:Math.max(0,Math.min(1,this.audioElement.currentTime/this.audioElement.duration))}get currentBuffered(){return this.audioElement.buffered.length?Math.min(1,this.audioElement.buffered.end(0)/this.audioElement.duration):0}play(){return(0,d.wrapAudioPlay)(this.audioElement).catch((e=>{switch(e.code){case e.NOT_SUPPORTED_ERR:case e.ABORT_ERR:break;default:throw e}}))}pause(){this.audioElement.pause()}addEventListeners(e){this.audioElement.addEventListener("pause",(()=>{e.onPause(),(0,o._)(this,S)[S]()})),this.audioElement.addEventListener("play",(()=>e.onPlay())),this.audioElement.addEventListener("playing",(()=>{(0,o._)(this,S)[S]()})),this.audioElement.addEventListener("waiting",(()=>{this.audioElement.paused||this.audioElement.readyState<HTMLMediaElement.HAVE_FUTURE_DATA||(0,o._)(this,A)[A]()})),this.audioElement.addEventListener("progress",(()=>{if(e.onBufferUpdate(),!this.hlsInstance){const e=this.audioElement.buffered;e.length&&Math.abs(e.end(e.length-1)-this.audioElement.duration)<1&&(this.fullyLoaded=!0)}})),this.audioElement.addEventListener("timeupdate",(()=>{e.onProgressUpdate&&e.onProgressUpdate()})),this.audioElement.addEventListener("seeked",(()=>{(0,o._)(this,S)[S]()})),this.audioElement.addEventListener("ended",(()=>{e.onEnd&&e.onEnd(),(0,o._)(this,S)[S]()})),this.onFail=e.onFail||(()=>{}),this.audioElement.addEventListener("error",(()=>{this.onFail(),(0,o._)(this,S)[S]()})),this.audioElement.addEventListener("canplay",(()=>{e.onCanPlay&&e.onCanPlay()})),this.audioElement.addEventListener("durationchange",(()=>{e.onDurationChange&&e.onDurationChange()}))}static isHlsUrl(e){const t=(0,s.audioUnmaskSource)(e).includes(".m3u8");if(!(0,a.isAudioPWAFeature)())return t;const i=(0,l.checkIsDownloadedUrl)(e);return t||i}setUrl(e){if(this.url&&(0,o._)(this,S)[S](),this.url=e,b.isHlsUrl(this.url)&&!this.shouldUseNativeHls()&&"function"==typeof window.MediaSource)return this.initHls(this.url).then((()=>(0,o._)(this,S)[S]())).catch((()=>this.onFail()));this.hlsInstance&&this.hlsInstance.destroy();const t=this.audioElement.firstElementChild;return t.src=this.url,b.isHlsUrl(this.url)?t.type="application/vnd.apple.mpegurl":t.removeAttribute("type"),this.audioElement.load(),(0,o._)(this,y)[y](),Promise.resolve()}shouldUseNativeHls(){const[e]=window.browser.version.split("."),t=parseInt(e),i=window.browser.safari,o=window.browser.msie_edge&&t>11&&t<78;return i||o}initHls(e){return(0,n.ensureHLS)().then((t=>new Promise((i=>{const r=!!u.ls.get("_audio_hls_debug");this.hlsInstance&&this.hlsInstance.destroy();const n=new t({debug:r,maxBufferHole:3,nudgeOffset:.5,nudgeMaxRetry:5,maxFragLookUpTolerance:.2});n.on(t.Events.BUFFER_EOS,(()=>this.fullyLoaded=!0)),n.on(t.Events.ERROR,((e,i)=>{(r||i.fatal)&&console.log("audio hls error",e,i),i.details===t.ErrorDetails.BUFFER_STALLED_ERROR&&(n.stopLoad(),n.startLoad(),(0,o._)(this,A)[A]()),i.fatal&&this.onFail({type:i.type,details:i.details,url:i.frag&&i.frag.url||i.context&&i.context.url,code:i.networkDetails?i.networkDetails.status:0})})),n.on(t.Events.FRAG_BUFFERED,((e,t)=>{const i=t.frag.sn,r=Math.ceil(1e3*t.frag.duration),n=Math.ceil(t.stats.loading.first-t.stats.loading.start),a=Math.ceil(t.stats.loading.end-t.stats.loading.start),s=new URL(t.frag.baseurl).host;(0,o._)(this,v)[v].active&&(0,o._)(this,S)[S]({fragment:{id:i,duration:r,timeToFirstByte:n,timeToFirstFrame:a,httpRequestHost:s}})})),n.loadSource(e),n.attachMedia(this.audioElement),this.hlsInstance=n,i()}))))}constructor({network:e,networkAnalytics:t,url:i,volume:r,callbacks:n}){Object.defineProperty(this,y,{value:T}),Object.defineProperty(this,E,{value:I}),Object.defineProperty(this,m,{writable:!0,value:void 0}),Object.defineProperty(this,g,{writable:!0,value:void 0}),Object.defineProperty(this,v,{writable:!0,value:void 0}),Object.defineProperty(this,f,{writable:!0,value:void 0}),Object.defineProperty(this,A,{writable:!0,value:void 0}),Object.defineProperty(this,S,{writable:!0,value:void 0}),this.fullyLoaded=!1,this.url="",(0,o._)(this,v)[v]=new _.StallRater,(0,o._)(this,f)[f]=null,(0,o._)(this,A)[A]=()=>{(0,o._)(this,v)[v].start({networkConnection:(0,o._)(this,m)[m].connection})},(0,o._)(this,S)[S]=(e={})=>{let t;(0,o._)(this,v)[v].active&&(t=(0,o._)(this,v)[v].stop(),(0,o._)(this,g)[g].sendFragmentStalled((0,o._)(this,E)[E](p.AudioNetworkType.FRAGMENT_STALLED,{...e.fragment??{},networkConnection:t.startMeta?.networkConnection,bufferingTime:t.duration})))},(0,o._)(this,m)[m]=e,(0,o._)(this,g)[g]=t,this.audioElement=new Audio,this.audioElement.appendChild(document.createElement("source")),this.audioElement.crossOrigin="anonymous",this.audioElement.preload="auto",this.volume=r,this.addEventListeners(n),i&&this.setUrl(i).then((()=>{this.audioElement.load()})),n.onUrlInstalled&&((0,o._)(this,f)[f]=n.onUrlInstalled)}}function T(){null==(0,o._)(this,f)[f]||(0,o._)(this,f)[f].call(this)}function I(e,t){const i=(0,c.getCurrentAudio)();return{audio:{id:i.id,ownerId:i.ownerId},...t}}},491284:(e,t,i)=>{"use strict";i.d(t,{StallRater:()=>u});var o=i(434518),r=i(763812),n=(0,r._)("_startTime"),a=(0,r._)("_startMeta"),s=(0,r._)("_currentTime"),c=(0,r._)("_reset"),l=(0,r._)("_calcCurrentDuration"),d=(0,r._)("_warn");class u{get active(){return null!==(0,o._)(this,n)[n]}start(e){this.active&&(0,o._)(this,d)[d]("Already started"),(0,o._)(this,n)[n]=(0,o._)(this,s)[s],(0,o._)(this,a)[a]=e}stop(){const e=(0,o._)(this,a)[a];let t;return this.active||(0,o._)(this,d)[d]("Not started"),t=(0,o._)(this,l)[l](),(0,o._)(this,c)[c](),{duration:t,startMeta:e}}constructor(){Object.defineProperty(this,s,{get:_,set:void 0}),Object.defineProperty(this,c,{value:p}),Object.defineProperty(this,l,{value:m}),Object.defineProperty(this,d,{value:g}),Object.defineProperty(this,n,{writable:!0,value:void 0}),Object.defineProperty(this,a,{writable:!0,value:void 0}),(0,o._)(this,n)[n]=null,(0,o._)(this,a)[a]=null}}function _(){return performance.now()}function p(){(0,o._)(this,n)[n]=null,(0,o._)(this,a)[a]=null}function m(){return(0,o._)(this,n)[n]?(0,o._)(this,s)[s]-(0,o._)(this,n)[n]:0}function g(e){}},766194:(e,t,i)=>{"use strict";i.d(t,{setAudioLastListRefCookie:()=>c,setAudioLastListRefCookieDebounced:()=>l});var o=i(351118),r=i(873900),n=i(396858);const a="remixaudio_last_list_ref",s=1/24/60;function c({ref:e,list:t,index:i}){const c={list_id:(0,r.getIdentityRawId)(t),ref:e};(0,o.isNumber)(i)&&(c.index=i);const l=JSON.stringify(c);(0,n.setCookie)(a,l,s)}const l=(0,o.debounce)(c,50)},262022:(e,t,i)=>{"use strict";i.d(t,{checkIsDownloadedUrl:()=>r});var o=i(434810);function r(e){return(0,o.audioUnmaskSource)(e).includes("blob:http")}},310619:(e,t,i)=>{"use strict";i.d(t,{decodeHTML:()=>n});var o=i(351118);const r={"amp;":"&","#38;":"&","lt;":"<","#60;":"<","gt;":">","#62;":">","apos;":"'","#39;":"'","quot;":'"',"#34;":'"',"copy;":"©"};function n(e){return(0,o.decodeHTMLEntities)(e,r)}},482310:(e,t,i)=>{"use strict";i.d(t,{getAudioExtra:()=>n});var o=i(898848),r=i(867366);function n(e){if(!e)return null;let t;if((0,o.isObject)(e)){t=e.extra}else{t=e[r.EAudioTupleIndex.EXTRA]}if((0,o.isObject)(t))return t;try{return JSON.parse(t||"{}")}catch(e){return null}}},519290:(e,t,i)=>{"use strict";i.d(t,{getAudioFullId:()=>r});var o=i(867366);const r=e=>e[o.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_OWNER_ID]+"_"+e[o.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_ID]},201659:(e,t,i)=>{"use strict";i.d(t,{getCurrentAudio:()=>n});var o=i(423015),r=i(105330);function n(){const e={id:0,ownerId:0};try{return(0,r.isMvk)()?window.audio.getCurrent()||e:(0,o.audioTupleToAudioObject)(window.getAudioPlayer().getCurrentAudio())||e}catch(t){return e}}},223009:(e,t,i)=>{"use strict";i.d(t,{getPlaylistRawSource:()=>r});var o=i(269808);const r=e=>{const t=e.getContext(),i=e.getBlockId(),r=e.getFullId();if(i)return{source:o.PlaylistSourceType.CATALOG,section_id:i,entity_id:i,playlist_id:r};if(e.getType()===o.PlaylistSourceType.CURATOR)return{source:o.PlaylistSourceType.CURATOR,section_id:i,entity_id:i,playlist_id:r};const{sourceType:n,id:a}=(e=>{if(e){const[t,i]=e.split(":");return{sourceType:t,id:i}}return{sourceType:"",id:""}})(t);if(n.includes("wall"))return{source:o.PlaylistSourceType.WALL,entity_id:a,owner_id:a};switch(n){case o.PlaylistSourceType.CATALOG:return{source:o.PlaylistSourceType.CATALOG,section_id:a,entity_id:a,playlist_id:r,block_id:i};case o.PlaylistSourceType.MESSAGE:return{source:o.PlaylistSourceType.MESSAGE,entity_id:`_${a}`};case o.PlaylistSourceType.FEED:return{source:o.PlaylistSourceType.FEED,entity_id:a,owner_id:a};case o.PlaylistSourceType.ALBUM:return{source:o.PlaylistSourceType.ALBUM,entity_id:a};case o.PlaylistSourceType.VKMIX:return{source:o.PlaylistSourceType.VKMIX,entity_id:a};default:return{source:o.PlaylistSourceType.PLAYLIST,entity_id:r,playlist_id:r}}}},590733:(e,t,i)=>{"use strict";i.d(t,{getPlaylistSource:()=>r});var o=i(269808);const r=e=>{let t;return t=e.source===o.PlaylistSourceType.CATALOG&&!1===e.block_id?{source:o.PlaylistSourceType.PLAYLIST,entity_id:e.playlist_id}:{source:e.source||"",entity_id:e.entity_id||""},t}},947779:(e,t,i)=>{"use strict";i.d(t,{getSpecialProjectId:()=>r});var o=i(482310);function r(e){const t=(0,o.getAudioExtra)(e);return t?.specialProjectId??null}},219095:(e,t,i)=>{"use strict";i.d(t,{isArticleTts:()=>r});var o=i(482310);function r(e){const t=(0,o.getAudioExtra)(e);return!!t&&!!t.articleTts}},994506:(e,t,i)=>{"use strict";i.d(t,{isAudioPWAFeature:()=>r});var o=i(540462);function r(){return(0,o.partConfigEnabled)("mvk_music_pwa")}},667545:(e,t,i)=>{"use strict";i.d(t,{isClaimedAudio:()=>n});var o=i(423015),r=i(867366);function n(e){return!!e&&!!((e=(0,o.audioTupleToAudioObject)(e)).flags&r.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_CLAIMED_BIT)}},690027:(e,t,i)=>{"use strict";i.d(t,{isExternalStream:()=>r});var o=i(482310);function r(e){const t=(0,o.getAudioExtra)(e);return!!t&&!!t.externalStream}},388952:(e,t,i)=>{"use strict";i.d(t,{isMarusiaTale:()=>r});var o=i(482310);function r(e){const t=(0,o.getAudioExtra)(e);return!!t&&!!t.marusiaTale}},103293:(e,t,i)=>{"use strict";i.d(t,{isMarusiaTrack:()=>r});var o=i(482310);function r(e){const t=(0,o.getAudioExtra)(e);return!!t&&!!t.voiceAssistant}},22021:(e,t,i)=>{"use strict";i.d(t,{isRadio:()=>r});var o=i(482310);function r(e){const t=(0,o.getAudioExtra)(e);return!!t&&!!t.radio}},137590:(e,t,i)=>{"use strict";function o(e,t){return e&&t?{...e,...t}:null}i.d(t,{mergeAudioExtra:()=>o})},315621:(e,t,i)=>{"use strict";i.d(t,{mergeAudioTupleWithoutContext:()=>r});var o=i(867366);function r(e,t){const i=[...e];return Object.assign(i,t),i[o.EAudioTupleIndex.CONTEXT]=e[o.EAudioTupleIndex.CONTEXT],i}},303354:(e,t,i)=>{"use strict";i.d(t,{AudioLyricsProvider:()=>d});var o=i(825127),r=i(203763),n=i(216577),a=i(660617),s=i(423015),c=i(474201),l=i(174736);class d{get(e){return this.lyrics.get(e)||{status:l.EAudioLyricsStatus.Pending}}listen(e,t){return this.eventEmitter.on(e,t),()=>{this.eventEmitter.off(e,t)}}setLoading(e){const t={status:l.EAudioLyricsStatus.Loading};this.lyrics.set(e,t),this.eventEmitter.emit(e,t)}setLoaded(e,t){const i={status:l.EAudioLyricsStatus.Loaded,data:t};this.lyrics.set(e,i),this.eventEmitter.emit(e,i)}setError(e,t){const i={status:l.EAudioLyricsStatus.Error,errorMessage:t};this.lyrics.set(e,i),this.eventEmitter.emit(e,i)}constructor(){this.lyrics=new Map,this.eventEmitter=new o.default,this.fetch=(0,r.dedupeAsyncCallback)((async e=>{const t=(0,s.audioTupleToAudioObject)(e),{fullId:i,hasLyrics:o}=t;try{const e=this.lyrics.get(i);if(e&&e.status===l.EAudioLyricsStatus.Loaded)return e.data||null;if(!o)return this.setLoaded(i,null),null;this.setLoading(i);const t=await(0,n.getLyrics)({audio_id:i}),r=(0,c.mapLyricsResponse)(t);return this.setLoaded(i,r),r}catch(e){throw this.setError(i,e.message||"unknown"),e}}),(e=>(0,a.getAudioTupleFullId)(e)))}}},474201:(e,t,i)=>{"use strict";i.d(t,{mapLyricsResponse:()=>r});var o=i(310619);function r(e){if(Array.isArray(e))return null;const{credits:t,lyrics:i}=e;if(!i)return null;const{text:r,timestamps:n,ugc:a}=i||{},s={};return n&&(s.karaoke=function(e){return e.map((e=>{const{line:t,...i}=e;return t?{...i,text:(0,o.decodeHTML)(t)}:i}))}(n)),r&&(s.static=r.map((e=>({text:(0,o.decodeHTML)(e)})))),a&&(s.ugc=a.map((e=>({text:(0,o.decodeHTML)(e)})))),s.karaoke?.length||s.static?.length||s.ugc?.length?{lines:s,credits:t&&(0,o.decodeHTML)(t)}:null}},174736:(e,t,i)=>{"use strict";i.d(t,{EAudioLyricsStatus:()=>o});var o=function(e){return e[e.Pending=0]="Pending",e[e.Loading=1]="Loading",e[e.Loaded=2]="Loaded",e[e.Error=3]="Error",e}({})},356812:(e,t,i)=>{"use strict";i.d(t,{apiAudioToAudioTuple:()=>c});var o=i(351118),r=i(898848),n=i(133326),a=i(854950);const s=new WeakMap,c=(e,{useCache:t=!1}={})=>{if(!e)return null;if(t){const t=s.get(e);if(t)return t}const i=[e.id,e.owner_id,e.url||"",(0,r.clean)(e.title),(0,r.clean)(e.artist||e.performer||""),e.duration,e.album_id||0,0,"",e.lyrics_id||0,0,"",l(e),(0,n.getAudioHashesString)({addHash:e.access_key,editHash:e.access_key,actionHash:e.access_key,deleteHash:e.access_key,replaceHash:e.access_key,urlHash:e.access_key,restoreHash:e.access_key}),d(e),e.ads||{},(0,r.clean)(e.subtitle||""),u(e),e.featured_artists||"",!!e.album&&[e.album?.owner_id,e.album?.id,e.album?.access_key],e.track_code||"",e.content_restricted||0,e.album_part_number||0,!0,e.access_key||"",e.audio_chart_info||!1,e.release_audio_id||"",void 0,void 0,void 0,e.legal_notices_type||0,e.rightholder_marks];return t&&s.set(e,i),i};function l(e){const{podcast_info:t}=e,i=Boolean(t);return{podcast:i,like:e.like,dislike:e.dislike,fave:i&&Boolean(t?.is_favorite)}}function d(e){const{podcast_info:t,album:i}=e;if(t){const e=t.cover;return e?.sizes&&(0,o.getPhotoSize)(e.sizes||[],(0,a.getImageMinWidth)(40))?.url||""}const r=i?.thumb;return r?r.sizes?(0,o.getPhotoSize)(r.sizes||[],(0,a.getImageMinWidth)(200))?.url||"":`${r.photo_300},${r.photo_135}`||"":""}function u(e){const{main_artists:t}=e;return!t||t.length<1?"":t}},115706:(e,t,i)=>{"use strict";i.d(t,{apiRadioToAudioTuple:()=>r});var o=i(898848);const r=(e,t)=>[e.id,0,e.stream_url??"",(0,o.clean)(e.name),"",0,0,0,"",0,0,t??"",{radio:!0,externalStream:!0},"",e.logo_url||e.logo_png_url||"",{},"","","",!1,e.track_code||"",0,0,!0,"",!1,""]},423015:(e,t,i)=>{"use strict";i.d(t,{audioTupleToAudioObject:()=>l});var o=i(898848),r=i(867366),n=i(349581),a=i(660617),s=i(22021);const c=Symbol.for("audioObjectSymbol");function l(e){if(!e)return null;if("string"==typeof e)return{id:e};if(!Array.isArray(e))return e.__audioObject!==c&&console.warn("audioTupleToAudioObject get audio object that not marked as audioObjectSymbol",{audio:e}),e;const t=e[r.EAudioTupleIndex.FLAGS],i=(e[r.EAudioTupleIndex.HASHES]||"").split("/"),l=(e[r.EAudioTupleIndex.COVER_URL]||"").split(/(,(?!\d))/g).filter((e=>","!==e));return l.length<2&&(0,s.isRadio)(e)&&l.push(e[r.EAudioTupleIndex.COVER_URL],e[r.EAudioTupleIndex.COVER_URL]),{id:(0,o.intval)(e[r.EAudioTupleIndex.ID]),owner_id:(0,o.intval)(e[r.EAudioTupleIndex.OWNER_ID]),ownerId:(0,o.intval)(e[r.EAudioTupleIndex.OWNER_ID]),fullId:(0,a.getAudioTupleFullId)(e),title:e[r.EAudioTupleIndex.TITLE]||"",subTitle:e[r.EAudioTupleIndex.SUBTITLE],performer:(0,n.getAudioPerformers)(e,!1),mainArtists:e[r.EAudioTupleIndex.MAIN_ARTISTS],featArtists:e[r.EAudioTupleIndex.FEAT_ARTISTS],authorLink:e[r.EAudioTupleIndex.AUTHOR_LINK],duration:(0,o.intval)(e[r.EAudioTupleIndex.DURATION]),lyrics:e[r.EAudioTupleIndex.LYRICS],url:e[r.EAudioTupleIndex.URL],context:e[r.EAudioTupleIndex.CONTEXT],extra:e[r.EAudioTupleIndex.EXTRA],accessKey:e[r.EAudioTupleIndex.ACCESS_KEY],addHash:i[0]||"",editHash:i[1]||"",actionHash:i[2]||"",deleteHash:i[3]||"",replaceHash:i[4]||"",urlHash:i[5]||"",restoreHash:i[6]||"",canEdit:!!i[1],canDelete:i[3]===e[r.EAudioTupleIndex.ACCESS_KEY]?window.vk.id===e[r.EAudioTupleIndex.OWNER_ID]:Boolean(i[3]),flags:t,isOriginalSound:e[r.EAudioTupleIndex.IS_ORIGINAL_SOUND],hasLyrics:!!(t&r.EAudioFlagBit.HAS_LYRICS),isLongPerformer:!!(t&r.EAudioFlagBit.LONG_PERFORMER),isClaimed:!!(t&r.EAudioFlagBit.CLAIMED),isFromQueue:!!(t&r.EAudioFlagBit.QUEUE),isExplicit:!!(t&r.EAudioFlagBit.EXPLICIT),isUMA:!!(t&r.EAudioFlagBit.UMA),isReplaceable:!!(t&r.EAudioFlagBit.REPLACEABLE),canAdd:!!(t&r.EAudioFlagBit.CAN_ADD),showInfo:!!(t&r.EAudioFlagBit.SHOW_INFO),coverUrl_s:l[1],coverUrl_p:l[1],coverUrl_l:l[0],hasTrackPage:!!e[r.EAudioTupleIndex.TRACK_PAGE_ID],trackPageId:e[r.EAudioTupleIndex.TRACK_PAGE_ID],ads:e[r.EAudioTupleIndex.ADS],album:e[r.EAudioTupleIndex.ALBUM],albumId:(0,o.intval)(e[r.EAudioTupleIndex.ALBUM_ID]),albumPart:(0,o.intval)(e[r.EAudioTupleIndex.ALBUM_PART]),trackCode:e[r.EAudioTupleIndex.TRACK_CODE],restrictionStatus:e[r.EAudioTupleIndex.RESTRICTION],chartInfo:e[r.EAudioTupleIndex.CHART_INFO],adminUrl:e[r.EAudioTupleIndex.ADMIN_URL]||"",umaQueryUrl:e[r.EAudioTupleIndex.UMA_QUERY_URL]||"",legalNoticesType:e[r.EAudioTupleIndex.LEGAL_NOTICES_TYPE]||0,rightholderMarks:e[r.EAudioTupleIndex.RIGHTHOLDER_MARKS],__audioObject:c}}},423036:(e,t,i)=>{"use strict";function o({id:e,ownerId:t,accessKey:i,trackCode:o}){return[e,t,"","","",0,0,0,"",0,0,"",{},"","",{},"","","",!1,o??"",0,0,!0,i??"",!1,""]}i.d(t,{createEmptyAudioTuple:()=>o})},660617:(e,t,i)=>{"use strict";i.d(t,{getAudioTupleFullId:()=>r});var o=i(867366);function r(e){return`${e[o.EAudioTupleIndex.OWNER_ID]}_${e[o.EAudioTupleIndex.ID]}`}},587952:(e,t,i)=>{"use strict";i.d(t,{AUDIO_PLAYER_ADAPTER_HASHES_SEPARATOR:()=>o});const o="/"},133326:(e,t,i)=>{"use strict";i.d(t,{getAudioHashesString:()=>r});var o=i(587952);const r=({addHash:e,editHash:t,actionHash:i,deleteHash:r,replaceHash:n,urlHash:a,restoreHash:s})=>[e||"",t||"",i||"",r||"",n||"",a||"",s||""].join(o.AUDIO_PLAYER_ADAPTER_HASHES_SEPARATOR)},213921:(e,t,i)=>{"use strict";i.d(t,{toSnippetAudioData:()=>o.toSnippetAudioData,toTrackedAudioData:()=>o.toTrackedAudioData});var o=i(338536);i(289286)},338536:(e,t,i)=>{"use strict";i.d(t,{toSnippetAudioData:()=>s,toTrackedAudioData:()=>a});var o=i(488150),r=i(423015),n=i(482310);function a(e){if(!e||"object"!=typeof e)return;const t=Array.isArray(e)?(0,r.audioTupleToAudioObject)(e):e;return t?function(e){const t=e.extra??"{}",i="string"==typeof t?JSON.parse(t):t,r={id:e.id,ownerId:e.ownerId,accessKey:e.accessKey};let a={...r,identity:r,title:e.title,author:{raw:e.performer,main:[],feat:[]},url:e.url,duration:e.duration,isExplicit:e.isExplicit,trackCode:e.trackCode??"",artwork:[]};if(i.podcast)return{...a,type:o.AudioType.PodcastEpisode,podcastId:a.ownerId};if(i.radio)return{...a,type:o.AudioType.Radio};return{...a,type:o.AudioType.MusicTrack,hasLyrics:e.hasLyrics??!1,disliked:(0,n.getAudioExtra)(e)?.dislike??!1}}(t):void 0}function s(e){var t;if(e&&"object"==typeof e)return{...e,identity:e.identity,title:e.title,artwork:e.cover?(t=e.cover,t.sizes.map((e=>({src:e.src,size:e.width})))):[],id:e.identity.id,ownerId:e.identity.ownerId,author:e.authors,hasLyrics:e.hasLyrics,trackCode:e.context.trackCode??"",disliked:!1}}},289286:(e,t,i)=>{"use strict";i(139612),i(867366)},582218:(e,t,i)=>{"use strict";i.d(t,{QueueListener:()=>o});class o{constructor(e){this.queueHandler=e}}},735578:(e,t,i)=>{"use strict";i.d(t,{mapAnyAudioToAudioIdentity:()=>l,mapAnyAudioToMusicAudioIdentity:()=>_,mapAnyAudioToPodcastAudioIdentity:()=>d,mapAnyAudioToRadiostationIdentity:()=>u});var o=i(968789),r=i(423015),n=i(251458),a=i(22021),s=i(468073),c=i(70148);function l(e){return(0,n.isPodcast)(e)?d(e):(0,a.isRadio)(e)?u(e):_(e)}function d(e){if(!(0,n.isPodcast)(e))return null;const t=Array.isArray(e)?(0,r.audioTupleToAudioObject)(e):e;return new o.PodcastAudioIdentity({id:t.id,ownerId:t.ownerId,accessKey:t.accessKey,podcastId:s.Ranges.convertOwnerIdToGroupId(t.ownerId)})}function u(e){if(!(0,a.isRadio)(e))return null;const t=Array.isArray(e)?(0,r.audioTupleToAudioObject)(e):e;return{id:t.id,fullId:t.id}}function _(e){if((0,n.isPodcast)(e)||(0,a.isRadio)(e))return null;const t=Array.isArray(e)?(0,r.audioTupleToAudioObject)(e):e;return new c.OwnedIdentity({id:t.id,ownerId:t.ownerId,accessKey:t.accessKey})}},797251:(e,t,i)=>{"use strict";i.d(t,{mapAudioTupleToMusicAudioIdentity:()=>o.mapAudioTupleToMusicAudioIdentity});var o=i(960518)},960518:(e,t,i)=>{"use strict";i.d(t,{mapAudioTupleToMusicAudioIdentity:()=>o.mapAudioTupleToMusicAudioIdentity});var o=i(220436)},220436:(e,t,i)=>{"use strict";i.d(t,{mapAudioTupleToMusicAudioIdentity:()=>n});var o=i(867366),r=i(70148);function n(e){return new r.OwnedIdentity({id:e[o.EAudioTupleIndex.ID],ownerId:e[o.EAudioTupleIndex.OWNER_ID],accessKey:e[o.EAudioTupleIndex.ACCESS_KEY]})}},943223:(e,t,i)=>{"use strict";i.d(t,{mapAudioTupleToMusicAudioIdentity:()=>o.mapAudioTupleToMusicAudioIdentity});var o=i(797251)},227997:(e,t,i)=>{"use strict";i.d(t,{mapPlaylistToMusicMixIdentity:()=>o.mapPlaylistToMusicMixIdentity,mapPlaylistToMusicPlaylistIdentity:()=>o.mapPlaylistToMusicPlaylistIdentity});var o=i(874903)},874903:(e,t,i)=>{"use strict";i.d(t,{mapPlaylistToMusicMixIdentity:()=>o.mapPlaylistToMusicMixIdentity,mapPlaylistToMusicPlaylistIdentity:()=>o.mapPlaylistToMusicPlaylistIdentity});var o=i(998082)},998082:(e,t,i)=>{"use strict";i.d(t,{mapPlaylistToMusicMixIdentity:()=>o.mapPlaylistToMusicMixIdentity,mapPlaylistToMusicPlaylistIdentity:()=>r.mapPlaylistToMusicPlaylistIdentity});var o=i(736722),r=i(764144)},736722:(e,t,i)=>{"use strict";i.d(t,{mapPlaylistToMusicMixIdentity:()=>r});var o=i(843161);function r(e){let t=e.getPlaylistId();if(null==t)throw new Error("There is no identity in the music mix");if("number"==typeof t&&(t=String(t)),"string"!=typeof t)throw new Error("There is no identity in the music mix");return new o.SingleIdentity({id:t})}},764144:(e,t,i)=>{"use strict";i.d(t,{mapPlaylistToMusicPlaylistIdentity:()=>n});var o=i(35215),r=i(70148);function n(e){const t=e.getPlaylistId(),i=e.getOwnerId?.();if(null==t||null==i)throw new Error("There is no identity in the music playlist");const n=parseInt(String(t)),a=parseInt(String(i));if(!(0,o.isNumber)(n)||!(0,o.isNumber)(a))throw new Error("There is no identity in the music playlist");return new r.OwnedIdentity({id:n,ownerId:a})}},280494:(e,t,i)=>{"use strict";i.d(t,{mapAudioTupleToMusicAudioIdentity:()=>o.mapAudioTupleToMusicAudioIdentity,mapPlaylistToMusicMixIdentity:()=>r.mapPlaylistToMusicMixIdentity,mapPlaylistToMusicPlaylistIdentity:()=>r.mapPlaylistToMusicPlaylistIdentity});var o=i(943223),r=i(227997)},734768:(e,t,i)=>{"use strict";i.d(t,{GlobalAudioPlayerLazyProxy:()=>g});var o=i(434518),r=i(763812),n=i(331635),a=i(327813),s=i(132028),c=i(190050),l=i(738445),d=(0,r._)("_provider"),u=(0,r._)("_mock"),_=(0,r._)("_player"),p=(0,r._)("_getValue"),m=(0,r._)("_createMethod");class g{get isInitializing(){return(0,o._)(this,p)[p]("isInitializing")}get events(){return(0,o._)(this,p)[p]("events")}get queue(){return(0,o._)(this,p)[p]("queue")}get currentAudio(){return(0,o._)(this,p)[p]("currentAudio")}get currentAudioIdentity(){return(0,o._)(this,p)[p]("currentAudioIdentity")}get prevAudio(){return(0,o._)(this,p)[p]("prevAudio")}get currentListIdentity(){return(0,o._)(this,p)[p]("currentListIdentity")}get playbackSource(){return(0,o._)(this,p)[p]("playbackSource")}get currentSubChannel(){return(0,o._)(this,p)[p]("currentSubChannel")}get repeat(){return(0,o._)(this,p)[p]("repeat")}get isPlaying(){return(0,o._)(this,p)[p]("isPlaying")}get isPaused(){return(0,o._)(this,p)[p]("isPaused")}get isEnded(){return(0,o._)(this,p)[p]("isEnded")}get isPending(){return(0,o._)(this,p)[p]("isPending")}get isShuffled(){return(0,o._)(this,p)[p]("isShuffled")}get isMuted(){return(0,o._)(this,p)[p]("isMuted")}get progress(){return(0,o._)(this,p)[p]("progress")}get listenedTime(){return(0,o._)(this,p)[p]("listenedTime")}get bufferingProgress(){return(0,o._)(this,p)[p]("bufferingProgress")}get volume(){return(0,o._)(this,p)[p]("volume")}get duration(){return(0,o._)(this,p)[p]("duration")}get playbackSpeed(){return(0,o._)(this,p)[p]("playbackSpeed")}get frequencyData(){return(0,o._)(this,p)[p]("frequencyData")}get negativeDurationTypeEnabled(){return(0,o._)(this,p)[p]("negativeDurationTypeEnabled")}get advertising(){return(0,o._)(this,p)[p]("advertising")}get activatedAt(){return(0,o._)(this,p)[p]("activatedAt")}async init(){await(0,o._)(this,d)[d].ensure()}constructor(e){Object.defineProperty(this,_,{get:v,set:void 0}),Object.defineProperty(this,p,{value:f}),Object.defineProperty(this,m,{value:y}),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,u,{writable:!0,value:void 0}),(0,o._)(this,u)[u]=new c.GlobalAudioPlayerMock({methodsThrowsErrors:!1}),this.isCurrentAudioList=(0,o._)(this,m)[m]("isCurrentAudioList"),this.playAudio=(0,o._)(this,m)[m]("playAudio"),this.playQueuedAudio=(0,o._)(this,m)[m]("playQueuedAudio"),this.playAudioList=(0,o._)(this,m)[m]("playAudioList"),this.play=(0,o._)(this,m)[m]("play"),this.pause=(0,o._)(this,m)[m]("pause"),this.resume=(0,o._)(this,m)[m]("resume"),this.stop=(0,o._)(this,m)[m]("stop"),this.playNext=(0,o._)(this,m)[m]("playNext"),this.playPrev=(0,o._)(this,m)[m]("playPrev"),this.toggleShuffle=(0,o._)(this,m)[m]("toggleShuffle"),this.setRepeat=(0,o._)(this,m)[m]("setRepeat"),this.toggleNegativeDurationType=(0,o._)(this,m)[m]("toggleNegativeDurationType"),this.seek=(0,o._)(this,m)[m]("seek"),this.seekBySlider=(0,o._)(this,m)[m]("seekBySlider"),this.updateVolume=(0,o._)(this,m)[m]("updateVolume"),this.toggleMuted=(0,o._)(this,m)[m]("toggleMuted"),this.updatePlaybackSpeed=(0,o._)(this,m)[m]("updatePlaybackSpeed"),(0,o._)(this,d)[d]=e,(0,a.makeObservable)(this),(0,o._)(this,d)[d].ensure()}}function v(){return(0,o._)(this,d)[d].instance}function f(e){return(0,o._)(this,_)[_]?.[e]??(0,o._)(this,u)[u][e]}function y(e){return(...t)=>{const i=(0,o._)(this,_)[_],r=(0,o._)(this,u)[u];return i?i[e](...t):r[e](...t)}}(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],g.prototype,"isInitializing",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],g.prototype,"queue",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],g.prototype,"currentAudio",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],g.prototype,"currentAudioIdentity",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],g.prototype,"prevAudio",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],g.prototype,"currentListIdentity",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],g.prototype,"playbackSource",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],g.prototype,"currentSubChannel",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type","undefined"==typeof TPlaybackQueueRepeat?Object:TPlaybackQueueRepeat),(0,n.__metadata)("design:paramtypes",[])],g.prototype,"repeat",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],g.prototype,"isPlaying",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],g.prototype,"isPaused",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],g.prototype,"isEnded",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],g.prototype,"isPending",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],g.prototype,"isShuffled",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],g.prototype,"isMuted",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],g.prototype,"progress",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],g.prototype,"listenedTime",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],g.prototype,"bufferingProgress",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],g.prototype,"volume",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],g.prototype,"duration",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],g.prototype,"playbackSpeed",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],g.prototype,"frequencyData",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],g.prototype,"negativeDurationTypeEnabled",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",Object),(0,n.__metadata)("design:paramtypes",[])],g.prototype,"advertising",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",Object),(0,n.__metadata)("design:paramtypes",[])],g.prototype,"activatedAt",null),g=(0,n.__decorate)([s.scope.global(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===l.GlobalAudioPlayerProvider?Object:l.GlobalAudioPlayerProvider])],g)},190050:(e,t,i)=>{"use strict";i.d(t,{GlobalAudioPlayerMock:()=>c});var o=i(434518),r=i(763812),n=i(192619),a=(0,r._)("_params"),s=(0,r._)("_createMethod");class c{constructor(e){Object.defineProperty(this,s,{value:l}),Object.defineProperty(this,a,{writable:!0,value:void 0}),this.isInitializing=!0,this.events=new _,this.currentAudio=null,this.prevAudio=null,this.currentAudioIdentity=null,this.currentListIdentity=null,this.playbackSource=null,this.currentList=null,this.currentSubChannel=null,this.repeat="none",this.negativeDurationTypeEnabled=!1,this.isPlaying=!1,this.isPaused=!1,this.isEnded=!1,this.isPending=!1,this.isShuffled=!1,this.isMuted=!1,this.progress=0,this.listenedTime=0,this.bufferingProgress=0,this.volume=0,this.duration=0,this.playbackSpeed=1,this.frequencyData={amplitude:0,pitch:0,modulation:0,harmonics:0},this.advertising=null,this.activatedAt=null,this.isCurrentAudioList=(0,o._)(this,s)[s]("isCurrentAudioList",(()=>!1)),this.playAudio=(0,o._)(this,s)[s]("playAudio",u),this.playQueuedAudio=(0,o._)(this,s)[s]("playQueuedAudio",u),this.playAudioList=(0,o._)(this,s)[s]("playAudioList",u),this.play=(0,o._)(this,s)[s]("play",d),this.pause=(0,o._)(this,s)[s]("pause",d),this.resume=(0,o._)(this,s)[s]("resume",d),this.stop=(0,o._)(this,s)[s]("stop",d),this.playNext=(0,o._)(this,s)[s]("playNext",d),this.playPrev=(0,o._)(this,s)[s]("playPrev",d),this.toggleShuffle=(0,o._)(this,s)[s]("toggleShuffle",d),this.setRepeat=(0,o._)(this,s)[s]("setRepeat",d),this.toggleNegativeDurationType=(0,o._)(this,s)[s]("toggleNegativeDurationType",d),this.seek=(0,o._)(this,s)[s]("seek",d),this.seekBySlider=(0,o._)(this,s)[s]("seekBySlider",d),this.updateVolume=(0,o._)(this,s)[s]("updateVolume",u),this.toggleMuted=(0,o._)(this,s)[s]("toggleMuted",u),this.updatePlaybackSpeed=(0,o._)(this,s)[s]("updatePlaybackSpeed",d),(0,o._)(this,a)[a]=e,this.queue=new n.GlobalAudioPlayerPlaybackQueueMock({methodsThrowsErrors:e.methodsThrowsErrors})}}function l(e,t){return(...i)=>{if((0,o._)(this,a)[a].methodsThrowsErrors)throw new Error(`Not implemented method ${e}`);return t(...i)}}function d(){}async function u(){}class _{constructor(){this.on=()=>this,this.off=()=>this,this.once=()=>this,this.emit=()=>!1,this.createAggregator=()=>new p}}class p{constructor(){this.on=()=>this,this.off=()=>this,this.once=()=>this,this.emit=()=>!1,this.createAggregator=()=>new p,this.dispose=()=>{}}}},192619:(e,t,i)=>{"use strict";i.d(t,{GlobalAudioPlayerPlaybackQueueMock:()=>s});var o=i(434518),r=i(763812),n=(0,r._)("_methodsThrowsErrors"),a=(0,r._)("_createMethod");class s{constructor(e){Object.defineProperty(this,a,{value:c}),Object.defineProperty(this,n,{writable:!0,value:void 0}),this.length=0,this.isEmpty=!0,this.canFetchNext=!1,this.isPending=!1,this.head=[],this.move=(0,o._)(this,a)[a]("move",l),this.remove=(0,o._)(this,a)[a]("remove",(()=>!1)),this.clear=(0,o._)(this,a)[a]("clear",l),this.fetchNext=(0,o._)(this,a)[a]("fetchNext",d),(0,o._)(this,n)[n]=e.methodsThrowsErrors}}function c(e,t){return(...i)=>{if((0,o._)(this,n)[n])throw new Error(`Not implemented method ${e}`);return t(...i)}}function l(){}async function d(){}},738445:(e,t,i)=>{"use strict";i.d(t,{GlobalAudioPlayerProvider:()=>l});var o=i(434518),r=i(763812),n=i(331635),a=i(327813),s=i(132028),c=(0,r._)("_initialization");class l{get instance(){return this._instance}async ensure(){if(this.instance)return this.instance;if((0,o._)(this,c)[c])return(0,o._)(this,c)[c];(0,o._)(this,c)[c]=(async()=>{const e=await this.lazyCreateImpl();return this.setInstance(e)})();const e=await(0,o._)(this,c)[c];return(0,o._)(this,c)[c]=null,e}setInstance(e){return this._instance=e}constructor(){Object.defineProperty(this,c,{writable:!0,value:void 0}),this._instance=null,(0,o._)(this,c)[c]=null,(0,a.makeObservable)(this)}}(0,n.__decorate)([a.observable.ref,(0,n.__metadata)("design:type",Object)],l.prototype,"_instance",void 0),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",Object),(0,n.__metadata)("design:paramtypes",[])],l.prototype,"instance",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof IGlobalAudioPlayer?Object:IGlobalAudioPlayer]),(0,n.__metadata)("design:returntype","undefined"==typeof IGlobalAudioPlayer?Object:IGlobalAudioPlayer)],l.prototype,"setInstance",null),l=(0,n.__decorate)([s.scope.global({abstract:!0}),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[])],l)},461657:(e,t,i)=>{"use strict";i.d(t,{PlayableAudioListPlaylistAdapter:()=>F});var o=i(434518),r=i(763812),n=i(331635),a=i(327813),s=i(23975),c=i(897424),l=i(891480),d=i(500435),u=i(549294),_=i(639653),p=i(269808),m=i(356812),g=i(423036),v=i(519290),f=i(982250),y=i(898848),E=i(867366),A=i(115706),S=(0,r._)("_list"),b=(0,r._)("_getOwnerId"),T=(0,r._)("_getPlaylistId"),I=(0,r._)("_getBlockId"),C=(0,r._)("_getTitle"),k=(0,r._)("_getAccessRawId"),P=(0,r._)("_getAccessHash"),O=(0,r._)("_getType"),M=(0,r._)("_getContext"),L=(0,r._)("_getLoadable"),D=(0,r._)("_checkIsFullyLoaded"),R=(0,r._)("_checkIsInfinite"),N=(0,r._)("_ensureMusicTrackWithSaveTrackCode"),x=(0,r._)("_ensureAudio");class F{get list(){const e=(0,o._)(this,S)[S];return X(e)?e.items.map(((t,i)=>{const r=e.audioAt(i);return r?(0,o._)(this,N)[N](t,r):(0,g.createEmptyAudioTuple)({id:t.identity.id,ownerId:t.identity.ownerId,accessKey:t.identity.accessKey,trackCode:t.trackCode})})):e.head.map((e=>(0,o._)(this,x)[x](e)))}get length(){return(0,o._)(this,S)[S].head.length}get lastPlayedAudio(){return null}equals(e){return this.getSelf()===e.getSelf()}mergeWith(){}pushAudio(){}constructor(e){Object.defineProperty(this,b,{value:U}),Object.defineProperty(this,T,{value:B}),Object.defineProperty(this,I,{value:V}),Object.defineProperty(this,C,{value:H}),Object.defineProperty(this,k,{value:j}),Object.defineProperty(this,P,{value:W}),Object.defineProperty(this,O,{value:G}),Object.defineProperty(this,M,{value:z}),Object.defineProperty(this,L,{value:K}),Object.defineProperty(this,D,{value:Y}),Object.defineProperty(this,R,{value:$}),Object.defineProperty(this,x,{value:q}),Object.defineProperty(this,S,{writable:!0,value:void 0}),Object.defineProperty(this,N,{writable:!0,value:void 0}),this.getType=()=>this.type,this.getBlockId=()=>this.blockId,this.getPlaylistId=()=>this.playlistId||"",this.getOwnerId=()=>this.ownerId||"",this.getContext=()=>this.context,this.getFullId=()=>(0,o._)(this,S)[S].identity.fullId.toString()||"",this.getAudio=e=>this.list.filter((t=>e===(0,v.getAudioFullId)(t)))[0],this.getAudioIds=async()=>(0,o._)(this,S)[S].items.map((e=>(0,f.toAudioIds)((0,o._)(this,S)[S],e))),this.getAudios=()=>Promise.resolve(),this.getAudiosList=()=>this.list,this.isLive=()=>!1,this.isLoadable=()=>this.loadable,this.isFullyLoaded=()=>this.fullyLoaded,this.isInfinite=()=>this.infinite,this.getAudiosCount=()=>this.length,this.getNoConsecutivePlay=()=>!0,this.getId=()=>this.playlistId,this.setContext=e=>{this.context=e},this.isExpired=()=>!1,this.isReference=()=>!1,this.getSelf=()=>this,this.getIsFakeId=()=>!1,this.getAlbumId=()=>this.albumId,this.getAccessHash=()=>this.accessHash,this.hasMore=()=>!1,this.getOriginalPlaylistRawId=()=>this.originalPlaylistRawId,this.getTitle=()=>this.title,this.getAudioAt=e=>{const t=(0,o._)(this,S)[S].audioAt(e);if(t)return(0,o._)(this,x)[x](t)},this.indexOfAudio=e=>{if(!e)return-1;let t=[];(0,y.isString)(e)?t=e.split("_"):!function(e){return(0,y.isObject)(e)}(e)?function(e){return(0,y.isArray)(e)}(e)&&(t=[e[E.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_OWNER_ID],e[E.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_ID]]):t=[e.ownerId,e.id];const i=this.getAudiosList();if(!i)return-1;for(let e=0,o=i.length;e<o;e++)if(i[e]&&t[0]==i[e][E.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_OWNER_ID]&&t[1]==i[e][E.AUDIO_PLAYER_ENUMS.AUDIO_ITEM_INDEX_ID])return e;return-1},this.asObject=()=>{let e={};e.type=this.getType()||p.PlaylistType.TYPE_TEMP,e.ownerId=this.getOwnerId(),e.albumId=this.getAlbumId(),e.accessHash=this.getAccessHash(),e.hasMore=this.hasMore(),e.nextOffset=0,e.title=this.getTitle(),e.context=this.getContext(),e.originalPlaylistRawId=this.getOriginalPlaylistRawId(),e.expire=null,e.blockId=this.getBlockId();const t=this.getAlbumId();return this.getType()===p.PlaylistType.TYPE_PLAYLIST&&t&&parseInt(t)>0&&(e.originalPlaylistRawId=(0,o._)(this,k)[k]()),this.getType()===p.PlaylistType.TYPE_RADIO&&(e.list=this.getAudiosList()),e},this.fetchNextAudio=async()=>{if(!this.loadable)throw new Error("Cannot fetch next audio without loading the playlist (loadable === false).");let e=this.getAudiosCount();this.isFullyLoaded()&&(e=0);try{const t=await(0,o._)(this,S)[S].ensureAt(e);return(0,o._)(this,x)[x](t)}catch(e){throw s.AudioError.fromUnknownError(e)}},(0,o._)(this,N)[N]=(e,t)=>(0,o._)(this,x)[x]({...t,type:t.type,data:{...t.data,apiAudio:{...t.data.apiAudio,track_code:e.trackCode}}}),(0,o._)(this,S)[S]=e,this.playlistId=(0,o._)(this,T)[T](),this.ownerId=(0,o._)(this,b)[b](),this.albumId=this.playlistId,this.blockId=(0,o._)(this,I)[I](),this.type=(0,o._)(this,O)[O](),this.context=(0,o._)(this,M)[M](),this.loadable=(0,o._)(this,L)[L](),this.fullyLoaded=(0,o._)(this,D)[D](),this.infinite=(0,o._)(this,R)[R](),this.accessHash=(0,o._)(this,P)[P](),this.originalPlaylistRawId="",this.title=(0,o._)(this,C)[C](),(0,a.makeObservable)(this)}}function U(){const{identity:e}=(0,o._)(this,S)[S];return"ownerId"in e?e.ownerId.toString():null}function B(){const{identity:e}=(0,o._)(this,S)[S];return"id"in e?e.id.toString():"blockId"in e?e.blockId.toString():""}function V(){return(0,c.isSpecificAudioList)((0,o._)(this,S)[S],l.AudioListType.CatalogMusicTrackList)?(0,o._)(this,S)[S].identity.blockId:""}function H(){const e=(0,o._)(this,S)[S];return"title"in e?e.title??"":""}function j(){const e=(0,o._)(this,P)[P]();return`${this.getOwnerId()}_${this.getAlbumId()}${e?`_${e}`:""}`}function W(){return(0,d.isSpecificMusicPlaylist)((0,o._)(this,S)[S])||(0,c.isSpecificAudioList)((0,o._)(this,S)[S],l.AudioListType.GroupMusicTrackList)?(0,o._)(this,S)[S].identity.accessKey??"":""}function G(){return(0,o._)(this,S)[S].type===l.AudioListType.MusicAlbumPlaylist?p.PlaylistType.TYPE_ALBUM:X((0,o._)(this,S)[S])?p.PlaylistType.TYPE_PLAYLIST:(0,o._)(this,S)[S].type===l.AudioListType.Podcast?p.PlaylistType.TYPE_TEMP:(0,o._)(this,S)[S].type===l.AudioListType.MusicMix?p.PlaylistType.TYPE_VKMIX:""}function z(){return(0,c.isSpecificAudioList)((0,o._)(this,S)[S],l.AudioListType.Podcast)?p.PlaylistSourceType.PODCAST:(0,c.isSpecificAudioList)((0,o._)(this,S)[S],l.AudioListType.MusicMix)?p.PlaylistSourceType.VKMIX:X((0,o._)(this,S)[S])?(0,o._)(this,S)[S].context.ref?(0,o._)(this,S)[S].context.ref:(0,o._)(this,S)[S].type===l.AudioListType.MusicAlbumPlaylist?p.PlaylistSourceType.ALBUM:(0,o._)(this,S)[S].type===l.AudioListType.MusicUGCGroupPlaylist&&(0,o._)(this,S)[S].data.source.playlist.is_curator?p.PlaylistSourceType.CURATOR:p.PlaylistSourceType.PLAYLIST:""}function K(){return(0,c.isSpecificAudioList)((0,o._)(this,S)[S],[l.AudioListType.MusicMix,...u.MusicPlaylistsTypes,l.AudioListType.GroupMusicTrackList,l.AudioListType.CatalogMusicTrackList])}function Y(){return!(!this.isLoadable()||this.isInfinite())&&(!!X((0,o._)(this,S)[S])&&(e=(0,o._)(this,S)[S]).length===e.count);var e}function $(){return(0,c.isSpecificAudioList)((0,o._)(this,S)[S],l.AudioListType.MusicMix)}function q(e){const{identity:t}=e;if(!e.data.apiAudio)throw new Error(`Audio with fullId ${t.fullId} was included in the audio list without contextual audioplayer adapter-object`);return e.type===_.AudioType.Radio?(0,A.apiRadioToAudioTuple)(e.data.apiAudio):(0,m.apiAudioToAudioTuple)(e.data.apiAudio)}function X(e){return(0,d.isSpecificMusicPlaylist)(e)||(0,c.isSpecificAudioList)(e,[l.AudioListType.GroupMusicTrackList,l.AudioListType.CatalogMusicTrackList])}(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",Array),(0,n.__metadata)("design:paramtypes",[])],F.prototype,"list",null)},266502:(e,t,i)=>{"use strict";i.d(t,{PlayableAudioListPlaylistAdapter:()=>o.PlayableAudioListPlaylistAdapter});var o=i(461657)},982250:(e,t,i)=>{"use strict";i.d(t,{toAudioIds:()=>a});var o=i(897424),r=i(891480),n=i(549294);function a(e,t){return(0,o.isSpecificAudioList)(e,[r.AudioListType.CatalogMusicTrackList,r.AudioListType.CatalogRadiostationList])?{access_key:"",audio_raw_id:"",track_code:""}:((0,o.isSpecificAudioList)(e,n.MusicPlaylistsTypes)&&function(e){e.identity.accessKey,e.identity.rawId,e.trackCode}(t),function(e){return{access_key:e.identity.accessKey||"",audio_raw_id:e.identity.rawId,track_code:e.context.trackCode}}(t))}},332911:(e,t,i)=>{"use strict";i.d(t,{PlayableAudioListTypes:()=>a,PlayableAudioTypes:()=>s});var o=i(549294),r=i(891480),n=i(639653);const a=[...o.MusicPlaylistsTypes,r.AudioListType.SimpleAudioList,r.AudioListType.MusicMix,r.AudioListType.Podcast,r.AudioListType.ShortVideoMusicTrackList,r.AudioListType.AttachmentAudioList,r.AudioListType.GroupMusicTrackList,r.AudioListType.CatalogMusicTrackList],s=[n.AudioType.MusicTrack,n.AudioType.PodcastEpisode]},830135:(e,t,i)=>{"use strict";i.d(t,{GlobalAudioPlayerSubChannelType:()=>r});var o=i(351494),r=function(e){return e[e.MusicTrack=o.AudioPlayerChannelType.MusicTrack]="MusicTrack",e[e.Radio=o.AudioPlayerChannelType.Radio]="Radio",e[e.Podcast=o.AudioPlayerChannelType.Podcast]="Podcast",e.Ads="ads",e}({})},718540:(e,t,i)=>{"use strict";i.d(t,{GlobalAudioPlayerSubChannelType:()=>o.GlobalAudioPlayerSubChannelType,PlayableAudioListTypes:()=>r.PlayableAudioListTypes,PlayableAudioTypes:()=>r.PlayableAudioTypes});var o=i(830135),r=i(332911)},344893:(e,t,i)=>{"use strict";i.d(t,{isSpecificPlayableAudio:()=>o.isSpecificPlayableAudio});var o=i(920817)},920817:(e,t,i)=>{"use strict";i.d(t,{isSpecificPlayableAudio:()=>r});var o=i(718540);function r(e,t){const{context:i,apiAudio:r}=e;return!!(e.type&&i&&r)&&(t?Array.isArray(t)?t.includes(e.type):e.type===t:o.PlayableAudioTypes.includes(e.type))}},103466:(e,t,i)=>{"use strict";i.d(t,{GlobalAudioPlayerProvider:()=>o.GlobalAudioPlayerProvider,GlobalAudioPlayerSubChannelType:()=>n.GlobalAudioPlayerSubChannelType,PlayableAudioListPlaylistAdapter:()=>r.PlayableAudioListPlaylistAdapter,PlayableAudioListTypes:()=>n.PlayableAudioListTypes,isSpecificPlayableAudio:()=>a.isSpecificPlayableAudio});i(734768);var o=i(738445),r=i(266502),n=i(718540),a=i(344893)},44337:(e,t,i)=>{"use strict";i.d(t,{AudioPlayerTrackRef:()=>o.AudioPlayerTrackRef});var o=i(521525)},521525:(e,t,i)=>{"use strict";i.d(t,{AudioPlayerTrackRef:()=>o});var o=function(e){return e.SnippetFeed="snippet_feed",e.FeedPost="feed",e.FeedRecommendation="news_feed_recommended_playlists",e.Im="im",e.UserProfile="user_profile",e.Group="group_profile",e.UserWall="user_wall",e.GroupWall="group_wall",e.Reply="replies",e.Wiki="wiki",e}({})},880804:(e,t,i)=>{"use strict";i.d(t,{AudioPlayerPauseAudioEventReason:()=>r,AudioPlayerPlayAudioEventReason:()=>o,AudioPlayerSeekEventReason:()=>a,AudioPlayerStopAudioEventReason:()=>n});var o=function(e){return e.PlayButton="PLAY_BUTTON",e.NextButton="NEXT_BUTTON",e.PrevButton="PREV_BUTTON",e.NextMediaSession="NEXT_MEDIA_SESSION",e.PrevMediaSession="PREV_MEDIA_SESSION",e.MixAndPlayButton="MIX_AND_PLAY_BUTTON",e.ListButton="LIST_BUTTON",e.AudioButton="AUDIO_BUTTON",e.QueueContinuation="QUEUE_CONTINUATION",e.QueueContinuationAfterError="QUEUE_CONTINUATION_AFTER_ERROR",e.Autoplay="AUTOPLAY",e.Repeat="REPEAT",e.Voice="VOICE",e.NextVoice="NEXT_VOICE",e.PrevVoice="PREV_VOICE",e.ChannelAutoResume="CHANNEL_AUTO_RESUME",e.Unknown="UNKNOWN",e}({}),r=function(e){return e.PauseButton="PAUSE_BUTTON",e.MediaSession="MEDIA_SESSION",e.ChannelAutoPause="CHANNEL_AUTO_PAUSE",e.Voice="VOICE",e.Paywall="PAYWALL",e.Unknown="UNKNOWN",e}({}),n=function(e){return e.NextButton="NEXT_BUTTON",e.PrevButton="PREV_BUTTON",e.QueueContinuation="QUEUE_CONTINUATION",e.Adv="ADV",e.Repeat="REPEAT",e.ChangeQueue="CHANGE_QUEUE",e.Clear="CLEAR",e.Error="ERROR",e.Unknown="UNKNOWN",e}({}),a=function(e){return e.SliderForward="SLIDER_FORWARD",e.SliderBack="SLIDER_BACK",e.TapForward="TAP_FORWARD",e.TapBack="TAP_BACK",e.DoubleTapForward="DOUBLE_TAP_FORWARD",e.DoubleTapBack="DOUBLE_TAP_BACK",e.Unknown="UNKNOWN",e}({})},294718:(e,t,i)=>{"use strict";i.d(t,{createAudioPlayerEventEmitter:()=>r});var o=i(26530);function r(e){return e.resolve(o.EmitterFactory).create()}},198994:(e,t,i)=>{"use strict";i.d(t,{getStopReasonForPlayReason:()=>r});var o=i(880804);function r(e){switch(e){case o.AudioPlayerPlayAudioEventReason.QueueContinuation:return o.AudioPlayerStopAudioEventReason.QueueContinuation;case o.AudioPlayerPlayAudioEventReason.QueueContinuationAfterError:return o.AudioPlayerStopAudioEventReason.Error;case o.AudioPlayerPlayAudioEventReason.NextButton:case o.AudioPlayerPlayAudioEventReason.NextMediaSession:case o.AudioPlayerPlayAudioEventReason.NextVoice:return o.AudioPlayerStopAudioEventReason.NextButton;case o.AudioPlayerPlayAudioEventReason.PrevButton:case o.AudioPlayerPlayAudioEventReason.PrevMediaSession:case o.AudioPlayerPlayAudioEventReason.PrevVoice:return o.AudioPlayerStopAudioEventReason.PrevButton;case o.AudioPlayerPlayAudioEventReason.MixAndPlayButton:case o.AudioPlayerPlayAudioEventReason.ListButton:case o.AudioPlayerPlayAudioEventReason.AudioButton:case o.AudioPlayerPlayAudioEventReason.Voice:return o.AudioPlayerStopAudioEventReason.ChangeQueue;case o.AudioPlayerPlayAudioEventReason.Repeat:return o.AudioPlayerStopAudioEventReason.Repeat;case o.AudioPlayerPlayAudioEventReason.Unknown:return o.AudioPlayerStopAudioEventReason.Unknown;default:return}}},913735:(e,t,i)=>{"use strict";i.d(t,{createAudioPlayerEventEmitter:()=>o.createAudioPlayerEventEmitter,getStopReasonForPlayReason:()=>r.getStopReasonForPlayReason});var o=i(294718),r=i(198994)},426389:(e,t,i)=>{"use strict";i.d(t,{AudioPlayerPauseAudioEventReason:()=>o.AudioPlayerPauseAudioEventReason,AudioPlayerPlayAudioEventReason:()=>o.AudioPlayerPlayAudioEventReason,AudioPlayerSeekEventReason:()=>o.AudioPlayerSeekEventReason,AudioPlayerStopAudioEventReason:()=>o.AudioPlayerStopAudioEventReason,createAudioPlayerEventEmitter:()=>r.createAudioPlayerEventEmitter,getStopReasonForPlayReason:()=>r.getStopReasonForPlayReason});var o=i(880804),r=i(913735)},978367:(e,t,i)=>{"use strict";i.d(t,{AudioPlayerPauseAudioEventReason:()=>r.AudioPlayerPauseAudioEventReason,AudioPlayerPlayAudioEventReason:()=>r.AudioPlayerPlayAudioEventReason,AudioPlayerSeekEventReason:()=>r.AudioPlayerSeekEventReason,AudioPlayerStopAudioEventReason:()=>r.AudioPlayerStopAudioEventReason,AudioPlayerTrackRef:()=>o.AudioPlayerTrackRef});var o=i(44337),r=i(426389)},771979:(e,t,i)=>{"use strict";i.d(t,{AudioPlayerStatsListener:()=>P});var o=i(434518),r=i(763812),n=i(488150),a=i(460884),s=i(107885),c=i(985890),l=i(851636),d=(0,r._)("_stats"),u=(0,r._)("_handlePlayAudio"),_=(0,r._)("_handlePlayAdv"),p=(0,r._)("_handlePauseAudio"),m=(0,r._)("_handlePauseAdv"),g=(0,r._)("_handleStopAudio"),v=(0,r._)("_handleStopAdv"),f=(0,r._)("_handleSeek"),y=(0,r._)("_handleStateRestore"),E=(0,r._)("_handlePageClose"),A=(0,r._)("_makeAdvEventData"),S=(0,r._)("_makeAudioEventData"),b=(0,r._)("_makeEventData"),T=(0,r._)("_canOperate"),I=(0,r._)("_getPlayedTime"),C=(0,r._)("_handleRadioHeartbeat"),k=(0,r._)("_radioHeartbeat");class P{destroy(){window.removeEventListener("beforeunload",(0,o._)(this,E)[E]),this.playerAdapter.events.off("playAudio",(0,o._)(this,u)[u]).off("pauseAudio",(0,o._)(this,p)[p]).off("stopAudio",(0,o._)(this,g)[g]).off("playAdv",(0,o._)(this,_)[_]).off("pauseAdv",(0,o._)(this,m)[m]).off("stopAdv",(0,o._)(this,v)[v]).off("seek",(0,o._)(this,f)[f]).off("stateRestore",(0,o._)(this,y)[y])}constructor(e){Object.defineProperty(this,A,{value:O}),Object.defineProperty(this,S,{value:M}),Object.defineProperty(this,b,{value:L}),Object.defineProperty(this,T,{value:D}),Object.defineProperty(this,I,{value:R}),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,_,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),Object.defineProperty(this,m,{writable:!0,value:void 0}),Object.defineProperty(this,g,{writable:!0,value:void 0}),Object.defineProperty(this,v,{writable:!0,value:void 0}),Object.defineProperty(this,f,{writable:!0,value:void 0}),Object.defineProperty(this,y,{writable:!0,value:void 0}),Object.defineProperty(this,E,{writable:!0,value:void 0}),Object.defineProperty(this,C,{writable:!0,value:void 0}),Object.defineProperty(this,k,{writable:!0,value:void 0}),this.playerAdapter=e,(0,o._)(this,d)[d]=new s.AudioPlayerStatsCollector(new a.AudioNavScreenProvider),(0,o._)(this,u)[u]=({reason:e,audio:t,progressTime:i})=>{if(!(0,o._)(this,T)[T]())return;const r=(0,o._)(this,S)[S](t,i);(0,o._)(this,d)[d].play((0,c.mapPlayReasonToSubtype)(e),r),t.type===n.AudioType.Radio&&(0,o._)(this,k)[k].start(t)},(0,o._)(this,_)[_]=({reason:e,advId:t,progressTime:i})=>{if(!(0,o._)(this,T)[T]())return;const r=(0,o._)(this,A)[A](t,i);(0,o._)(this,d)[d].play((0,c.mapPlayReasonToSubtype)(e),r)},(0,o._)(this,p)[p]=({reason:e,audio:t,progressTime:i})=>{if(!(0,o._)(this,T)[T]())return;const r=(0,o._)(this,S)[S](t,i);(0,o._)(this,d)[d].pause((0,c.mapPauseReasonToSubtype)(e),r),t.type===n.AudioType.Radio&&(0,o._)(this,k)[k].stop(t)},(0,o._)(this,m)[m]=({reason:e,advId:t,progressTime:i})=>{if(!(0,o._)(this,T)[T]())return;const r=(0,o._)(this,A)[A](t,i);(0,o._)(this,d)[d].pause((0,c.mapPauseReasonToSubtype)(e),r)},(0,o._)(this,g)[g]=({reason:e,audio:t,progressTime:i,wasPaused:r})=>{if(!(0,o._)(this,T)[T]())return;const a=(0,o._)(this,S)[S](t,i);(0,o._)(this,d)[d].end((0,c.mapStopReasonToSubtype)(e),a),t.type!==n.AudioType.Radio||r||(0,o._)(this,k)[k].stop(t)},(0,o._)(this,v)[v]=({reason:e,advId:t,progressTime:i})=>{if(!(0,o._)(this,T)[T]())return;const r=(0,o._)(this,A)[A](t,i);(0,o._)(this,d)[d].end((0,c.mapStopReasonToSubtype)(e),r)},(0,o._)(this,f)[f]=({reason:e,audio:t,progressTime:i,fromTime:r})=>{if(!(0,o._)(this,T)[T]())return;const n=(0,o._)(this,S)[S](t,r);(0,o._)(this,d)[d].pause((0,c.mapSeekPauseReasonToSubtype)(e),n);const a=(0,o._)(this,S)[S](t,i);(0,o._)(this,d)[d].play((0,c.mapSeekPlayReasonToSubtype)(e),a)},(0,o._)(this,y)[y]=({audio:e,progressTime:t})=>{if(!e||!(0,o._)(this,T)[T]())return;const i=(0,o._)(this,S)[S](e,t);(0,o._)(this,d)[d].pause(s.PauseEventSubtype.StateRestore,i),(0,o._)(this,k)[k].clear()},(0,o._)(this,E)[E]=()=>{const e=this.playerAdapter.getPlayingAudio();if(!e||!(0,o._)(this,T)[T]())return;const t=(0,o._)(this,S)[S](e,(0,o._)(this,I)[I]());(0,o._)(this,d)[d].end(s.StopEventSubtype.Close,t),(0,o._)(this,k)[k].clear()},(0,o._)(this,C)[C]=e=>{const t=(0,o._)(this,S)[S](e,(0,o._)(this,I)[I]());(0,o._)(this,d)[d].play(s.PlayEventSubtype.Heartbeat,t)},(0,o._)(this,k)[k]=new l.AudioHeartbeatTimer({ms:1e4,onBeat:(0,o._)(this,C)[C]}),this.playerAdapter=e,window.addEventListener("beforeunload",(0,o._)(this,E)[E]),this.playerAdapter.events.on("playAudio",(0,o._)(this,u)[u]).on("pauseAudio",(0,o._)(this,p)[p]).on("stopAudio",(0,o._)(this,g)[g]).on("playAdv",(0,o._)(this,_)[_]).on("pauseAdv",(0,o._)(this,m)[m]).on("stopAdv",(0,o._)(this,v)[v]).on("seek",(0,o._)(this,f)[f]).on("stateRestore",(0,o._)(this,y)[y])}}function O(e,t){const i=(0,s.makeAdvListeningData)(e),r=Math.round(t/1e3);return{...(0,o._)(this,b)[b](),timeline:r,trackCode:"",...i}}function M(e,t){const i=(0,c.mapAudioDataToListeningData)(e),r=Math.round(t/1e3);return{...(0,o._)(this,b)[b](),trackCode:e.trackCode,timeline:r,...i}}function L(){return{shuffle:Boolean(this.playerAdapter.isShuffledPlaylist()),repeatMode:this.playerAdapter.isRepeatCurrentAudio()?s.RepeatMode.One:this.playerAdapter.isRepeatAll()?s.RepeatMode.All:s.RepeatMode.Off,volume:this.playerAdapter.getVolume(),speed:100,streamingType:s.StreamingType.Online,playerInitId:null,layer:!0,autorecoms:!0}}function D(){return!this.playerAdapter.isMarusiaTrack()}function R(){return 1e3*Math.round(this.playerAdapter.getListenedTime())||0}},818212:(e,t,i)=>{"use strict";i.d(t,{AudioPlayerStatsCollector:()=>f});var o=i(434518),r=i(763812),n=i(314309),a=i(540462),s=i(975106),c=i(847154),l=i(674234);const d=["audio","podcast"];var u=(0,r._)("_eventTimelines"),_=(0,r._)("_actionCollector"),p=(0,r._)("_audioNavScreenProvider"),m=(0,r._)("_log"),g=(0,r._)("_debug"),v=(0,r._)("_getNavScreen");class f{play(e,t){(0,o._)(this,m)[m]({category:s.EventCategory.Play,type:s.PlayEventType.Start,subtype:e},t)}pause(e,t){(0,o._)(this,m)[m]({category:s.EventCategory.Stop,type:s.StopEventType.Pause,subtype:e},t)}end(e,t){(0,o._)(this,m)[m]({category:s.EventCategory.Stop,type:s.StopEventType.End,subtype:e},t)}constructor(e){Object.defineProperty(this,m,{value:y}),Object.defineProperty(this,g,{get:E,set:void 0}),Object.defineProperty(this,v,{value:A}),Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,_,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),(0,o._)(this,u)[u]=new Map,(0,o._)(this,_)[_]=new n.ActionStatCollector(new n.ProductionStatCollector),(0,o._)(this,p)[p]=e}}function y(e,t){const i=(0,o._)(this,v)[v](),r=(0,l.getEventDataKey)(t),n=(0,c.makeEventItem)(e,t,(0,o._)(this,u)[u].get(r)??0,i);if((0,o._)(this,_)[_].logEvent({type:s.EVENT_ITEM_TYPE,[s.EVENT_ITEM_TYPE]:n},{screen:i.screen}),(0,o._)(this,g)[g]){const e=n.event.type,t=n.event[e];console.log([["event_category",e],["event_type",t.type],["event_subtype",t.subtype],["screen",i.screen]].map((([e,t])=>`${e}: ${t}`)).join("\n"),n)}e.category===s.EventCategory.Stop&&e.type===s.StopEventType.End?(0,o._)(this,u)[u].delete(r):(0,o._)(this,u)[u].set(r,t.timeline)}function E(){return(0,a.partConfigEnabled)("frontend.audio_player_stats_debug")}function A(){let e=window.cur.module,t=null;return d.includes(e)?(e=(0,o._)(this,p)[p].screen??e,t=(0,o._)(this,p)[p].catalogSectionId):(0,o._)(this,p)[p].clearPage(),{screen:e,catalogSectionId:t}}},761372:(e,t,i)=>{"use strict";i.d(t,{ListeningType:()=>o,MusicContentType:()=>r,PauseEventSubtype:()=>l,PlayEventSubtype:()=>c,PodcastContentType:()=>n,RepeatMode:()=>a,StopEventSubtype:()=>d,StreamingType:()=>s});var o=function(e){return e.Music="type_audio_audio_listening_item",e.Podcast="type_audio_podcast_listening_item",e.Book="type_audio_book_listening_item",e.Adv="type_audio_adv_listening_item",e.Radio="type_audio_radio_listening_item",e}({}),r=function(e){return e.Track="music_track",e.Snippet="music_snippet",e}({}),n=function(e){return e.Episode="podcast_episode",e.Trailer="podcast_trailer",e}({}),a=function(e){return e.Off="off",e.One="one",e.All="all",e}({}),s=function(e){return e.Online="online",e.OnlineCache="online_cache",e}({}),c=function(e){return e.PlayButton="play_btn",e.NextButton="next_btn",e.PrevButton="prev_btn",e.NextMediaSession="next_by_system",e.PrevMediaSession="prev_by_system",e.MixAndPlayButton="mix_and_play_btn",e.FastplayListButton="fastplay_list_btn",e.FastplayAudioButton="fastplay_audio_btn",e.QueueContinuation="autoplay",e.QueueContinuationAfterError="autoplay_error",e.Autoplay="autoplay",e.Repeat="repeat",e.Voice="voice",e.NextVoice="next_voice",e.PrevVoice="prev_voice",e.PullSliderForward="pull_slider_forward",e.PullSliderBack="pull_slider_back",e.SeekTapForward="seek_tap_forward",e.SeekTapBack="seek_tap_back",e.NextDoubleTap="next_double_tap",e.PrevDoubleTap="prev_double_tap",e.ChannelAutoResume="session_terminated_autostart",e.Heartbeat="heartbeat",e.Unknown="unhandled_on_client",e}({}),l=function(e){return e.PauseButton="pause_btn",e.MediaSession="pause_by_system",e.ChannelAutoPause="session_terminated",e.PullSliderForward="pull_slider_forward",e.PullSliderBack="pull_slider_back",e.SeekTapForward="seek_tap_forward",e.SeekTapBack="seek_tap_back",e.NextDoubleTap="next_double_tap",e.PrevDoubleTap="prev_double_tap",e.Voice="voice",e.Paywall="paywall_pause",e.StateRestore="client_restore",e.Error="error",e.Unknown="unhandled_on_client",e}({}),d=function(e){return e.NextButton="next",e.PrevButton="prev",e.Autoplay="autoplay",e.Adv="adv",e.Repeat="repeat",e.ChangeSource="change_source",e.Close="close",e.Error="error",e.Unknown="unhandled_on_client",e}({})},805711:(e,t,i)=>{"use strict";i.d(t,{makeAdvListeningData:()=>o.makeAdvListeningData});var o=i(69095)},69095:(e,t,i)=>{"use strict";i.d(t,{makeAdvListeningData:()=>r});var o=i(761372);function r(e){return{listeningType:o.ListeningType.Adv,contentType:"audio_adv",advId:e}}},107885:(e,t,i)=>{"use strict";i.d(t,{AudioPlayerStatsCollector:()=>o.AudioPlayerStatsCollector,ListeningType:()=>r.ListeningType,MusicContentType:()=>r.MusicContentType,PauseEventSubtype:()=>r.PauseEventSubtype,PlayEventSubtype:()=>r.PlayEventSubtype,PodcastContentType:()=>r.PodcastContentType,RepeatMode:()=>r.RepeatMode,StopEventSubtype:()=>r.StopEventSubtype,StreamingType:()=>r.StreamingType,makeAdvListeningData:()=>n.makeAdvListeningData});var o=i(818212),r=i(761372),n=i(805711)},975106:(e,t,i)=>{"use strict";i.d(t,{AppState:()=>p,AudioEventLayer:()=>d,Autorecoms:()=>_,EVENT_ITEM_TYPE:()=>a,EventCategory:()=>s,PLAYER_INIT_ID:()=>n,PlayEventType:()=>c,Shuffle:()=>u,StopEventType:()=>l});var o=i(418562),r=i(553608);const n=(()=>{const e="AUDIO_PLAYER_INIT_ID",t=(0,r.getSessionStorage)();let i=t.getItem(e);return i||(i=(0,o.default)(),t.setItem(e,i)),i})(),a="type_audio_listening_item";var s=function(e){return e.Play="play",e.Stop="stop",e}({}),c=function(e){return e.Start="start",e}({}),l=function(e){return e.Pause="pause",e.End="end",e}({}),d=function(e){return e.Not="not",e.Layer="layer",e}({}),u=function(e){return e.Off="off",e.On="on",e}({}),_=function(e){return e.Off="off",e.On="on",e}({}),p=function(e){return e.Active="active",e.Inactive="inactive",e}({})},674234:(e,t,i)=>{"use strict";i.d(t,{getEventDataKey:()=>r});var o=i(761372);function r(e){return`${function(e){switch(e.listeningType){case o.ListeningType.Music:{const{contentType:t,audioId:i,ownerId:o}=e;return`${t}/${o}_${i}`}case o.ListeningType.Adv:{const{contentType:t,advId:i}=e;return`${t}/${i}`}case o.ListeningType.Podcast:{const{contentType:t,podcastId:i,ownerId:o,episodeId:r}=e;return`${t}/${o}_${i}_${r}`}case o.ListeningType.Book:{const{contentType:t,bookId:i,chapterId:o}=e;return`${t}/${i}${o?"_":""}${o}`}case o.ListeningType.Radio:{const{contentType:t,radioId:i}=e;return`${t}/${i}`}}}(e)}/${e.trackCode}`}},847154:(e,t,i)=>{"use strict";i.d(t,{getClientServerTime:()=>o.getClientServerTime,getClientTime:()=>o.getClientTime,makeEventItem:()=>o.makeEventItem});i(982727);var o=i(187847)},187847:(e,t,i)=>{"use strict";i.d(t,{getClientServerTime:()=>c,getClientTime:()=>s,makeEventItem:()=>a});var o=i(616398),r=i(975106),n=i(982727);function a(e,t,i,o){const a=s(),l=function({category:e,type:t,subtype:i}){const o={type:e};return{[e]:{type:t,subtype:i},...o}}(e),{catalogSectionId:d}=o;return{event:l,client_time:a,client_server_time:c(a),layer:t.layer?r.AudioEventLayer.Layer:r.AudioEventLayer.Not,autorecoms:t.autorecoms?r.Autorecoms.On:r.Autorecoms.Off,track_code:t.trackCode,timeline:t.timeline,timeline_from:i,player_init_id:r.PLAYER_INIT_ID,volume:t.volume,speed:t.speed,shuffle:t.shuffle?r.Shuffle.On:r.Shuffle.Off,app_state:document.hidden?r.AppState.Inactive:r.AppState.Active,streaming_type:t.streamingType,repeat_mode:t.repeatMode,...d?{nav_info:{section_id:d}}:void 0,...(0,n.mapListeningData)(t)}}function s(){return Math.floor(Date.now()/1e3)}function c(e=s()){return e-(Number.isFinite(window.vk?.dt)?window.vk.dt:(0,o.calculateTimeOffsets)())}},982727:(e,t,i)=>{"use strict";i.d(t,{mapListeningData:()=>r});var o=i(761372);function r(e){switch(e.listeningType){case o.ListeningType.Music:return function({listeningType:e,...t}){return{listening_type:e,[e]:{audio_id:t.audioId,audio_owner_id:t.ownerId,content_type:t.contentType}}}(e);case o.ListeningType.Podcast:return function({listeningType:e,...t}){return{listening_type:e,[e]:{podcast_id:t.podcastId,podcast_owner_id:t.ownerId,episode_id:t.episodeId,podcast_authors_ids:t.authorIds,content_type:t.contentType}}}(e);case o.ListeningType.Book:return function({listeningType:e,...t}){return{listening_type:e,[e]:{book_id:t.bookId,chapter_id:t.chapterId,content_type:"audiobook_chapter"}}}(e);case o.ListeningType.Radio:return function({listeningType:e,...t}){return{listening_type:e,[e]:{radio_id:t.radioId,content_type:"radio"}}}(e);case o.ListeningType.Adv:return function({listeningType:e,...t}){return{listening_type:e,[e]:{adv_id:t.advId,content_type:"audio_adv"}}}(e)}}},123965:(e,t,i)=>{"use strict";i.d(t,{AudioPlayerMediascopeListener:()=>o.AudioPlayerMediascopeListener,AudioPlayerMyTrackerListener:()=>r.AudioPlayerMyTrackerListener,AudioPlayerStatsListener:()=>n.AudioPlayerStatsListener});var o=i(888090),r=i(405188),n=i(771979)},851636:(e,t,i)=>{"use strict";i.d(t,{AudioHeartbeatTimer:()=>p});var o=i(434518),r=i(763812),n=i(478455),a=i(86909),s=(0,r._)("_ms"),c=(0,r._)("_onBeat"),l=(0,r._)("_clearIntervalFn"),d=(0,r._)("_currentAudio"),u=(0,r._)("_clearInterval"),_=(0,r._)("_isActive");class p{start(e){if((0,o._)(this,_)[_])throw new Error("HeartbeatTimer is already started");const t=(0,o._)(this,c)[c];(0,o._)(this,u)[u](),(0,o._)(this,d)[d]=e,(0,o._)(this,l)[l]=(0,a.setStableInterval)((()=>{t(e)}),(0,o._)(this,s)[s],{name:"AudioHeartbeatTimer"})}stop(e){if(!(0,o._)(this,_)[_])throw new Error("HeartbeatTimer is not started");const t=(0,o._)(this,d)[d]&&(0,n.getAudioFullId)((0,o._)(this,d)[d]);if((0,n.getAudioFullId)(e)!==t)throw new Error("Trying to pause another audio");(0,o._)(this,u)[u](),(0,o._)(this,d)[d]=null}clear(){(0,o._)(this,u)[u](),(0,o._)(this,d)[d]=null}constructor(e){Object.defineProperty(this,u,{value:m}),Object.defineProperty(this,_,{get:g,set:void 0}),Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),(0,o._)(this,l)[l]=null,(0,o._)(this,d)[d]=null,(0,o._)(this,s)[s]=e.ms,(0,o._)(this,c)[c]=e.onBeat}}function m(){(0,o._)(this,l)[l]&&((0,o._)(this,l)[l](),(0,o._)(this,l)[l]=null)}function g(){return!!(0,o._)(this,l)[l]}},985890:(e,t,i)=>{"use strict";i.d(t,{mapAudioDataToListeningData:()=>o.mapAudioDataToListeningData,mapPauseReasonToSubtype:()=>r.mapPauseReasonToSubtype,mapPlayReasonToSubtype:()=>r.mapPlayReasonToSubtype,mapSeekPauseReasonToSubtype:()=>r.mapSeekPauseReasonToSubtype,mapSeekPlayReasonToSubtype:()=>r.mapSeekPlayReasonToSubtype,mapStopReasonToSubtype:()=>r.mapStopReasonToSubtype});var o=i(936112),r=i(530887)},936112:(e,t,i)=>{"use strict";i.d(t,{mapAudioDataToListeningData:()=>s});var o=i(488150),r=i(107885);const n={[o.AudioType.MusicTrack]:r.MusicContentType.Track,[o.AudioType.MusicSnippet]:r.MusicContentType.Snippet},a={[o.AudioType.PodcastEpisode]:r.PodcastContentType.Episode};function s(e){const{id:t,ownerId:i,type:s}=e;switch(s){case o.AudioType.MusicTrack:case o.AudioType.MusicSnippet:return{listeningType:r.ListeningType.Music,contentType:n[s],audioId:t,ownerId:i};case o.AudioType.PodcastEpisode:return{listeningType:r.ListeningType.Podcast,contentType:a[s],episodeId:t,ownerId:i,podcastId:e.podcastId};case o.AudioType.Radio:return{listeningType:r.ListeningType.Radio,contentType:"radio",radioId:t}}}},530887:(e,t,i)=>{"use strict";i.d(t,{mapPauseReasonToSubtype:()=>u,mapPlayReasonToSubtype:()=>d,mapSeekPauseReasonToSubtype:()=>p,mapSeekPlayReasonToSubtype:()=>m,mapStopReasonToSubtype:()=>_});var o=i(426389),r=i(107885);const n={[o.AudioPlayerPlayAudioEventReason.PlayButton]:r.PlayEventSubtype.PlayButton,[o.AudioPlayerPlayAudioEventReason.NextButton]:r.PlayEventSubtype.NextButton,[o.AudioPlayerPlayAudioEventReason.PrevButton]:r.PlayEventSubtype.PrevButton,[o.AudioPlayerPlayAudioEventReason.NextMediaSession]:r.PlayEventSubtype.NextMediaSession,[o.AudioPlayerPlayAudioEventReason.PrevMediaSession]:r.PlayEventSubtype.PrevMediaSession,[o.AudioPlayerPlayAudioEventReason.MixAndPlayButton]:r.PlayEventSubtype.MixAndPlayButton,[o.AudioPlayerPlayAudioEventReason.ListButton]:r.PlayEventSubtype.FastplayListButton,[o.AudioPlayerPlayAudioEventReason.AudioButton]:r.PlayEventSubtype.FastplayAudioButton,[o.AudioPlayerPlayAudioEventReason.QueueContinuation]:r.PlayEventSubtype.QueueContinuation,[o.AudioPlayerPlayAudioEventReason.QueueContinuationAfterError]:r.PlayEventSubtype.QueueContinuationAfterError,[o.AudioPlayerPlayAudioEventReason.Autoplay]:r.PlayEventSubtype.Autoplay,[o.AudioPlayerPlayAudioEventReason.Repeat]:r.PlayEventSubtype.Repeat,[o.AudioPlayerPlayAudioEventReason.Voice]:r.PlayEventSubtype.Voice,[o.AudioPlayerPlayAudioEventReason.NextVoice]:r.PlayEventSubtype.NextVoice,[o.AudioPlayerPlayAudioEventReason.PrevVoice]:r.PlayEventSubtype.PrevVoice,[o.AudioPlayerPlayAudioEventReason.ChannelAutoResume]:r.PlayEventSubtype.ChannelAutoResume,[o.AudioPlayerPlayAudioEventReason.Unknown]:r.PlayEventSubtype.Unknown},a={[o.AudioPlayerPauseAudioEventReason.PauseButton]:r.PauseEventSubtype.PauseButton,[o.AudioPlayerPauseAudioEventReason.MediaSession]:r.PauseEventSubtype.MediaSession,[o.AudioPlayerPauseAudioEventReason.ChannelAutoPause]:r.PauseEventSubtype.ChannelAutoPause,[o.AudioPlayerPauseAudioEventReason.Voice]:r.PauseEventSubtype.Voice,[o.AudioPlayerPauseAudioEventReason.Paywall]:r.PauseEventSubtype.Paywall,[o.AudioPlayerPauseAudioEventReason.Unknown]:r.PauseEventSubtype.Unknown},s={[o.AudioPlayerStopAudioEventReason.NextButton]:r.StopEventSubtype.NextButton,[o.AudioPlayerStopAudioEventReason.PrevButton]:r.StopEventSubtype.PrevButton,[o.AudioPlayerStopAudioEventReason.QueueContinuation]:r.StopEventSubtype.Autoplay,[o.AudioPlayerStopAudioEventReason.Adv]:r.StopEventSubtype.Adv,[o.AudioPlayerStopAudioEventReason.Repeat]:r.StopEventSubtype.Repeat,[o.AudioPlayerStopAudioEventReason.ChangeQueue]:r.StopEventSubtype.ChangeSource,[o.AudioPlayerStopAudioEventReason.Clear]:r.StopEventSubtype.Close,[o.AudioPlayerStopAudioEventReason.Error]:r.StopEventSubtype.Error,[o.AudioPlayerStopAudioEventReason.Unknown]:r.StopEventSubtype.Unknown},c={[o.AudioPlayerSeekEventReason.SliderForward]:r.PauseEventSubtype.PullSliderForward,[o.AudioPlayerSeekEventReason.SliderBack]:r.PauseEventSubtype.PullSliderBack,[o.AudioPlayerSeekEventReason.TapForward]:r.PauseEventSubtype.SeekTapForward,[o.AudioPlayerSeekEventReason.TapBack]:r.PauseEventSubtype.SeekTapBack,[o.AudioPlayerSeekEventReason.DoubleTapForward]:r.PauseEventSubtype.NextDoubleTap,[o.AudioPlayerSeekEventReason.DoubleTapBack]:r.PauseEventSubtype.PrevDoubleTap,[o.AudioPlayerSeekEventReason.Unknown]:r.PauseEventSubtype.Unknown},l={[o.AudioPlayerSeekEventReason.SliderForward]:r.PlayEventSubtype.PullSliderForward,[o.AudioPlayerSeekEventReason.SliderBack]:r.PlayEventSubtype.PullSliderBack,[o.AudioPlayerSeekEventReason.TapForward]:r.PlayEventSubtype.SeekTapForward,[o.AudioPlayerSeekEventReason.TapBack]:r.PlayEventSubtype.SeekTapBack,[o.AudioPlayerSeekEventReason.DoubleTapForward]:r.PlayEventSubtype.NextDoubleTap,[o.AudioPlayerSeekEventReason.DoubleTapBack]:r.PlayEventSubtype.PrevDoubleTap,[o.AudioPlayerSeekEventReason.Unknown]:r.PlayEventSubtype.Unknown};function d(e){return n[e??o.AudioPlayerPlayAudioEventReason.Unknown]}function u(e){return a[e??o.AudioPlayerPauseAudioEventReason.Unknown]}function _(e){return s[e??o.AudioPlayerStopAudioEventReason.Unknown]}function p(e){return c[e??o.AudioPlayerPauseAudioEventReason.Unknown]}function m(e){return l[e??o.AudioPlayerPauseAudioEventReason.Unknown]}},599653:(e,t,i)=>{"use strict";i.d(t,{AudioPlayerMediascopeListener:()=>u});var o=i(434518),r=i(763812),n=(0,r._)("_player"),a=(0,r._)("_counter"),s=(0,r._)("_handlePlayAudio"),c=(0,r._)("_handlePauseAudio"),l=(0,r._)("_handleStopAudio"),d=(0,r._)("_canOperate");class u{destroy(){(0,o._)(this,n)[n].events.off("playAudio",(0,o._)(this,s)[s]).off("pauseAudio",(0,o._)(this,c)[c]).off("stopAudio",(0,o._)(this,l)[l])}constructor(e,t){Object.defineProperty(this,d,{value:_}),Object.defineProperty(this,n,{writable:!0,value:void 0}),Object.defineProperty(this,a,{writable:!0,value:void 0}),Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0}),(0,o._)(this,s)[s]=()=>{(0,o._)(this,d)[d]()&&(0,o._)(this,a)[a].start()},(0,o._)(this,c)[c]=()=>{(0,o._)(this,d)[d]()&&(0,o._)(this,a)[a].stop()},(0,o._)(this,l)[l]=()=>{(0,o._)(this,d)[d]()&&(0,o._)(this,a)[a].stop()},(0,o._)(this,n)[n]=e,(0,o._)(this,a)[a]=t.ensureActivityCounter({type:"service",events:{start:{code:"632121"},stop:{code:"652121"},heartbeat:{code:"642121",msInterval:3e4}}}),(0,o._)(this,n)[n].events.on("playAudio",(0,o._)(this,s)[s]).on("pauseAudio",(0,o._)(this,c)[c]).on("stopAudio",(0,o._)(this,l)[l])}}function _(){return!(0,o._)(this,n)[n].isMarusiaTrack()}},888090:(e,t,i)=>{"use strict";i.d(t,{AudioPlayerMediascopeListener:()=>o.AudioPlayerMediascopeListener});var o=i(599653)},164374:(e,t,i)=>{"use strict";i.d(t,{AudioListenedDAUCounter:()=>p});var o=i(434518),r=i(763812);var n=(0,r._)("_onReach"),a=(0,r._)("_startedAt"),s=(0,r._)("_timeout"),c=(0,r._)("_listenedTime"),l=(0,r._)("_reached"),d=(0,r._)("_reach"),u=(0,r._)("_clear"),_=(0,r._)("_clearTimeout");class p{start(){(0,o._)(this,l)[l]||this.started||((0,o._)(this,a)[a]=Date.now(),(0,o._)(this,s)[s]=setTimeout((()=>{(0,o._)(this,d)[d](),(0,o._)(this,s)[s]=null}),3e4-(0,o._)(this,c)[c]))}pause(){this.started&&((0,o._)(this,_)[_](),(0,o._)(this,c)[c]+=Date.now()-(0,o._)(this,a)[a],(0,o._)(this,c)[c]>=3e4&&(0,o._)(this,d)[d]())}reset(){this.pause(),(0,o._)(this,u)[u]()}get started(){return null!==(0,o._)(this,s)[s]}constructor(e){Object.defineProperty(this,d,{value:m}),Object.defineProperty(this,u,{value:g}),Object.defineProperty(this,_,{value:v}),Object.defineProperty(this,n,{writable:!0,value:void 0}),Object.defineProperty(this,a,{writable:!0,value:void 0}),Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0}),(0,o._)(this,a)[a]=-1,(0,o._)(this,s)[s]=null,(0,o._)(this,c)[c]=0,(0,o._)(this,l)[l]=!1,(0,o._)(this,n)[n]=e}}function m(){(0,o._)(this,l)[l]=!0,(0,o._)(this,n)[n]()}function g(){(0,o._)(this,_)[_](),(0,o._)(this,a)[a]=-1,(0,o._)(this,c)[c]=0,(0,o._)(this,l)[l]=!1}function v(){const e=(0,o._)(this,s)[s];e&&(clearTimeout(e),(0,o._)(this,s)[s]=null)}},977e3:(e,t,i)=>{"use strict";i.d(t,{AudioPlayerActivityCounter:()=>f});var o=i(434518),r=i(763812),n=i(478455),a=i(540462),s=i(261793),c=i(164374),l=(0,r._)("_type"),d=(0,r._)("_timespent"),u=(0,r._)("_dau"),_=(0,r._)("_listenedCounter"),p=(0,r._)("_currentAudio"),m=(0,r._)("_debug"),g=(0,r._)("_logDebug"),v=(0,r._)("_isCurrentAudio");class f{get isActiveTimespent(){return(0,o._)(this,d)[d].isActiveTimespent}start(e){(0,o._)(this,v)[v](e)||((0,o._)(this,p)[p]=e,(0,o._)(this,_)[_].reset()),(0,o._)(this,g)[g](`start ${(0,n.getAudioFullId)(e.identity)}`),(0,o._)(this,_)[_].start(),(0,o._)(this,d)[d].startTimespent()}pause(e){(0,o._)(this,v)[v](e)&&(0,o._)(this,_)[_].pause(),(0,o._)(this,d)[d].stopTimespent(),(0,o._)(this,g)[g](`pause ${(0,n.getAudioFullId)(e.identity)}`)}stop(e){(0,o._)(this,v)[v](e)&&(0,o._)(this,_)[_].reset(),(0,o._)(this,d)[d].stopTimespent(),(0,o._)(this,g)[g](`stop ${(0,n.getAudioFullId)(e.identity)}`)}constructor({myTracker:e,type:t,strict:i}){Object.defineProperty(this,m,{get:y,set:void 0}),Object.defineProperty(this,g,{value:E}),Object.defineProperty(this,v,{value:A}),Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,_,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),(0,o._)(this,_)[_]=new c.AudioListenedDAUCounter((()=>{(0,o._)(this,u)[u].increment(),(0,o._)(this,g)[g]("increment")})),(0,o._)(this,p)[p]=null,(0,o._)(this,l)[l]=t,(0,o._)(this,d)[d]=S(e,s.TIMESPENT_ACTIVITY_MAP[t],i),(0,o._)(this,u)[u]=S(e,s.DAU_ACTIVITY_MAP[t],i)}}function y(){return(0,a.partConfigEnabled)("frontend.audio_player_stats_debug")}function E(e){(0,o._)(this,m)[m]&&console.log(`[AudioPlayerActivityCounter][${(0,o._)(this,l)[l]}] ${e}`)}function A(e){const t=(0,o._)(this,p)[p];return!!t&&(0,n.getAudioFullId)(e.identity)===(0,n.getAudioFullId)(t.identity)}function S(e,t,i){return e.ensureActivityCounter({activityId:t,timespentType:"service",strict:i})}},660857:(e,t,i)=>{"use strict";i.d(t,{AudioPlayerMyTrackerListener:()=>m});var o=i(434518),r=i(763812),n=i(261793),a=i(977e3),s=(0,r._)("_player"),c=(0,r._)("_counters"),l=(0,r._)("_handlePlayAudio"),d=(0,r._)("_handlePauseAudio"),u=(0,r._)("_handleStopAudio"),_=(0,r._)("_getCounter"),p=(0,r._)("_canOperate");class m{destroy(){(0,o._)(this,s)[s].events.off("playAudio",(0,o._)(this,l)[l]).off("pauseAudio",(0,o._)(this,d)[d]).off("stopAudio",(0,o._)(this,u)[u])}constructor(e,t){Object.defineProperty(this,_,{value:g}),Object.defineProperty(this,p,{value:v}),Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,u,{writable:!0,value:void 0}),(0,o._)(this,l)[l]=e=>{if(!(0,o._)(this,p)[p]())return;const{audio:t}=e;(0,o._)(this,_)[_](t.type).start(t)},(0,o._)(this,d)[d]=e=>{if(!(0,o._)(this,p)[p]())return;const{audio:t}=e;(0,o._)(this,_)[_](t.type).pause(t)},(0,o._)(this,u)[u]=e=>{if(!(0,o._)(this,p)[p]())return;const{audio:t}=e;(0,o._)(this,_)[_](t.type).stop(t)},(0,o._)(this,s)[s]=e,(0,o._)(this,c)[c]=function(e){const t=t=>new a.AudioPlayerActivityCounter({myTracker:e,type:t,strict:!1});return{[n.AudioPlayerActivityCounterType.Music]:t(n.AudioPlayerActivityCounterType.Music),[n.AudioPlayerActivityCounterType.MusicSnippets]:t(n.AudioPlayerActivityCounterType.MusicSnippets),[n.AudioPlayerActivityCounterType.Podcasts]:t(n.AudioPlayerActivityCounterType.Podcasts),[n.AudioPlayerActivityCounterType.Audiobooks]:t(n.AudioPlayerActivityCounterType.Audiobooks),[n.AudioPlayerActivityCounterType.Radio]:t(n.AudioPlayerActivityCounterType.Radio)}}(t),(0,o._)(this,s)[s].events.on("playAudio",(0,o._)(this,l)[l]).on("pauseAudio",(0,o._)(this,d)[d]).on("stopAudio",(0,o._)(this,u)[u])}}function g(e){const t=n.AUDIO_TYPE_ACTIVITY_TYPE_MAP[e];return(0,o._)(this,c)[c][t]}function v(){return!(0,o._)(this,s)[s].isMarusiaTrack()}},261793:(e,t,i)=>{"use strict";i.d(t,{AUDIO_TYPE_ACTIVITY_TYPE_MAP:()=>a,AudioPlayerActivityCounterType:()=>n,DAU_ACTIVITY_MAP:()=>c,TIMESPENT_ACTIVITY_MAP:()=>s});var o=i(571355),r=i(488150),n=function(e){return e.Music="music",e.MusicSnippets="music_snippets",e.Podcasts="podcasts",e.Audiobooks="audiobooks",e.Radio="radio",e}({});const a={[r.AudioType.MusicTrack]:"music",[r.AudioType.MusicSnippet]:"music_snippets",[r.AudioType.PodcastEpisode]:"podcasts",[r.AudioType.Radio]:"radio"},s={music:o.MyTrackerActivityId.MusicListen,music_snippets:o.MyTrackerActivityId.MusicSnippetsListen,podcasts:o.MyTrackerActivityId.PodcastsListen,audiobooks:o.MyTrackerActivityId.AudiobooksListen,radio:o.MyTrackerActivityId.RadioListen},c={music:o.MyTrackerActivityId.MusicTrackListenedDAU,music_snippets:o.MyTrackerActivityId.MusicSnippetListenedDAU,podcasts:o.MyTrackerActivityId.PodcastEpisodeListenedDAU,audiobooks:o.MyTrackerActivityId.AudiobookListenedDAU,radio:o.MyTrackerActivityId.RadiostationListenedDAU}},405188:(e,t,i)=>{"use strict";i.d(t,{AudioPlayerMyTrackerListener:()=>o.AudioPlayerMyTrackerListener});var o=i(660857)},220347:(e,t,i)=>{"use strict";function o(e){const t={};return e&&e.length&&e.filter((e=>!!e)).map((e=>e.queues&&e.queues[0])).forEach((e=>t[e.type]=e)),t}i.d(t,{unpackQueues:()=>o})},43899:(e,t,i)=>{"use strict";i.d(t,{renderAvatarToString:()=>c});var o=i(474848),r=i(440961),n=i(751268),a=i(330882),s=i(709241);function c(e,t,i,c="",l,d,u,_,p,m){let g;l&&(g="online"),a.mobPlatforms[l]&&(g="online-mobile");const v=null!==i&&i?"a":"span",f=document.createElement(v);void 0!==d&&f.setAttribute("onclick",d),m&&f.classList.add("nft_avatar_wrap"),c&&(Array.isArray(c)?f.classList.add(...c):f.classList.add(c)),i&&(f.href=i),r.render((0,o.jsxs)(n.RichAvatar,{className:s.default.root,alt:p,src:e,size:t,nft:m,children:[u&&(0,o.jsx)(n.RichAvatar.Outline,{"data-outline-id":_,appearance:"accent"}),g&&(0,o.jsx)(n.RichAvatar.BadgeWithPreset,{preset:g})]}),f);const y=f.outerHTML;return r.unmountComponentAtNode(f),y}},564048:(e,t,i)=>{"use strict";i.d(t,{ColorSchemeMode:()=>o,ColorSchemeName:()=>r,SchemeColors:()=>n});var o=function(e){return e.Light="light",e.Dark="dark",e.Auto="auto",e}({}),r=function(e){return e.Dark="space_gray",e.Light="bright_light",e.WebDark="vkcom_dark",e.WebLight="vkcom_light",e}({}),n=function(e){return e.Dark="#222222",e.Light="#ffffff",e}({})},175819:(e,t,i)=>{"use strict";i.d(t,{OUR_DOMAINS:()=>a,RE_DOMAIN_PATTERN:()=>c,TOP_DOMAINS:()=>r,VK_DOMAIN:()=>s});var o=i(105330);const r=[..."aaa,aarp,abarth,abb,abbott,abbvie,abc,able,abogado,abudhabi,ac,academy,accenture,accountant,accountants,aco,active,actor,ad,adac,ads,adult,ae,aeg,aero,aetna,af,afamilycompany,afl,africa,ag,agakhan,agency,ai,aig,aigo,airbus,airforce,airtel,akdn,al,alfaromeo,alibaba,alipay,allfinanz,allstate,ally,alsace,alstom,am,americanexpress,americanfamily,amex,amfam,amica,amsterdam,an,analytics,android,anquan,anz,ao,aol,apartments,app,apple,aq,aquarelle,ar,aramco,archi,army,arpa,art,arte,as,asda,asia,associates,at,athleta,attorney,au,auction,audi,audible,audio,auspost,author,auto,autos,avianca,aw,aws,ax,axa,az,azure,ba,baby,baidu,banamex,bananarepublic,band,bank,bar,barcelona,barclaycard,barclays,barefoot,bargains,baseball,basketball,bauhaus,bayern,bb,bbc,bbt,bbva,bcg,bcn,bd,be,beats,beauty,beer,bentley,berlin,best,bestbuy,bet,bf,bg,bh,bharti,bi,bible,bid,bike,bing,bingo,bio,biz,bj,bl,black,blackfriday,blanco,blockbuster,blog,bloomberg,blue,bm,bms,bmw,bn,bnl,bnpparibas,bo,boats,boehringer,bofa,bom,bond,boo,book,booking,boots,bosch,bostik,boston,bot,boutique,box,bq,br,bradesco,bridgestone,broadway,broker,brother,brussels,bs,bt,budapest,bugatti,build,builders,business,buy,buzz,bv,bw,by,bz,bzh,ca,cab,cafe,cal,call,calvinklein,cam,camera,camp,cancerresearch,canon,capetown,capital,capitalone,car,caravan,cards,care,career,careers,cars,cartier,casa,case,caseih,cash,casino,cat,catering,catholic,cba,cbn,cbre,cbs,cc,cd,ceb,center,ceo,cern,cf,cfa,cfd,cg,ch,chanel,channel,chase,chat,cheap,chintai,chloe,christmas,chrome,chrysler,church,ci,cipriani,circle,cisco,citadel,citi,citic,city,cityeats,ck,cl,claims,cleaning,click,clinic,clinique,clothing,cloud,club,clubmed,cm,cn,co,coach,codes,coffee,college,cologne,com,comcast,commbank,community,company,compare,computer,comsec,condos,construction,consulting,contact,contractors,cooking,cookingchannel,cool,coop,corsica,country,coupon,coupons,courses,cr,credit,creditcard,creditunion,cricket,crown,crs,cruise,cruises,csc,cu,cuisinella,cv,cw,cx,cy,cymru,cyou,cz,dabur,dad,dance,data,date,dating,datsun,day,dclk,dds,de,deal,dealer,deals,degree,delivery,dell,deloitte,delta,democrat,dental,dentist,desi,design,dev,dhl,diamonds,diet,digital,direct,directory,discount,discover,dish,diy,dj,dk,dm,dnp,do,docs,doctor,dodge,dog,doha,domains,dot,download,drive,dtv,dubai,duck,dunlop,duns,dupont,durban,dvag,dvr,dz,earth,eat,ec,eco,edeka,edu,education,ee,eg,eh,email,emerck,energy,engineer,engineering,enterprises,epost,epson,equipment,er,ericsson,erni,es,esq,estate,esurance,et,eu,eurovision,eus,events,everbank,exchange,expert,exposed,express,extraspace,fage,fail,fairwinds,faith,family,fan,fans,farm,farmers,fashion,fast,fedex,feedback,ferrari,ferrero,fi,fiat,fidelity,fido,film,final,finance,financial,fire,firestone,firmdale,fish,fishing,fit,fitness,fj,fk,flickr,flights,flir,florist,flowers,fly,fm,fo,foo,food,foodnetwork,football,ford,forex,forsale,forum,foundation,fox,fr,free,fresenius,frl,frogans,frontdoor,frontier,ftr,fujitsu,fujixerox,fun,fund,furniture,futbol,fyi,ga,gal,gallery,gallo,gallup,game,games,gap,garden,gb,gbiz,gd,gdn,ge,gea,gent,genting,george,gf,gg,ggee,gh,gi,gift,gifts,gives,giving,gl,glade,glass,gle,global,globo,gm,gmail,gmbh,gmo,gmx,gn,godaddy,gold,goldpoint,golf,goo,goodhands,goodyear,goog,google,gop,got,gov,gp,gq,gr,grainger,graphics,gratis,green,gripe,group,gs,gt,gu,guardian,gucci,guge,guide,guitars,guru,gw,gy,hair,hamburg,hangout,haus,hbo,hdfc,hdfcbank,health,healthcare,help,helsinki,here,hermes,hgtv,hiphop,hisamitsu,hitachi,hiv,hk,hkt,hm,hn,hockey,holdings,holiday,homedepot,homegoods,homes,homesense,honda,honeywell,horse,hospital,host,hosting,hot,hoteles,hotmail,house,how,hr,hsbc,ht,htc,hu,hughes,hyatt,hyundai,ibm,icbc,ice,icu,id,ie,ieee,ifm,ikano,il,im,imamat,imdb,immo,immobilien,in,industries,infiniti,info,ing,ink,institute,insurance,insure,int,intel,international,intuit,investments,io,ipiranga,iq,ir,irish,is,iselect,ismaili,ist,istanbul,it,itau,itv,iveco,iwc,jaguar,java,jcb,jcp,je,jeep,jetzt,jewelry,jio,jlc,jll,jm,jmp,jnj,jo,jobs,joburg,jot,joy,jp,jpmorgan,jprs,juegos,juniper,kaufen,kddi,ke,kerryhotels,kerrylogistics,kerryproperties,kfh,kg,kh,ki,kia,kim,kinder,kindle,kitchen,kiwi,km,kn,koeln,komatsu,kosher,kp,kpmg,kpn,kr,krd,kred,kuokgroup,kw,ky,kyoto,kz,la,lacaixa,ladbrokes,lamborghini,lamer,lancaster,lancia,lancome,land,landrover,lanxess,lasalle,lat,latino,latrobe,law,lawyer,lb,lc,lds,lease,leclerc,lefrak,legal,lego,lexus,lgbt,li,liaison,lidl,life,lifeinsurance,lifestyle,lighting,like,lilly,limited,limo,lincoln,linde,link,lipsy,live,living,lixil,lk,loan,loans,local,locker,locus,loft,lol,london,lotte,lotto,love,lpl,lplfinancial,lr,ls,lt,ltd,ltda,lu,lundbeck,lupin,luxe,luxury,lv,ly,ma,macys,madrid,maif,maison,makeup,man,management,mango,market,marketing,markets,marriott,marshalls,maserati,mattel,mba,mc,mcd,mcdonalds,mckinsey,md,me,med,media,meet,melbourne,meme,memorial,men,menu,meo,metlife,mf,mg,mh,miami,microsoft,mil,mini,mint,mit,mitsubishi,mk,ml,mlb,mls,mm,mma,mn,mo,mobi,mobile,mobily,moda,moe,moi,mom,monash,money,monster,montblanc,mopar,mormon,mortgage,moscow,moto,motorcycles,mov,movie,movistar,mp,mq,mr,ms,msd,mt,mtn,mtpc,mtr,mu,museum,mutual,mv,mw,mx,my,mz,na,nab,nadex,nagoya,name,nationwide,natura,navy,nba,nc,ne,nec,net,netbank,netflix,network,neustar,new,newholland,news,next,nextdirect,nexus,nf,nfl,ng,ngo,nhk,ni,nico,nike,nikon,ninja,nissan,nissay,nl,no,nokia,northwesternmutual,norton,now,nowruz,nowtv,np,nr,nra,nrw,ntt,nu,nyc,nz,obi,observer,off,office,okinawa,olayan,olayangroup,oldnavy,ollo,om,omega,one,ong,onl,online,onyourside,ooo,open,oracle,orange,org,organic,orientexpress,origins,osaka,otsuka,ott,ovh,pa,page,pamperedchef,panasonic,panerai,paris,pars,partners,parts,party,passagens,pay,pccw,pe,pet,pf,pfizer,pg,ph,pharmacy,philips,phone,photo,photography,photos,physio,piaget,pics,pictet,pictures,pid,pin,ping,pink,pioneer,pizza,pk,pl,place,play,playstation,plumbing,plus,pm,pn,pnc,pohl,poker,politie,porn,post,pr,pramerica,praxi,press,prime,pro,prod,productions,prof,progressive,promo,properties,property,protection,pru,prudential,ps,pt,pub,pw,pwc,py,qa,qpon,quebec,quest,qvc,racing,radio,raid,re,read,realestate,realtor,realty,recipes,red,redstone,redumbrella,rehab,reise,reisen,reit,reliance,ren,rent,rentals,repair,report,republican,rest,restaurant,review,reviews,rexroth,rich,richardli,ricoh,rightathome,ril,rio,rip,rmit,ro,rocher,rocks,rodeo,rogers,room,rs,rsvp,ru,ruhr,run,rw,rwe,ryukyu,sa,saarland,safe,safety,sakura,sale,salon,samsclub,samsung,sandvik,sandvikcoromant,sanofi,sap,sapo,sarl,sas,save,saxo,sb,sbi,sbs,sc,sca,scb,schaeffler,schmidt,scholarships,school,schule,schwarz,science,scjohnson,scor,scot,sd,se,seat,secure,security,seek,select,sener,services,ses,seven,sew,sex,sexy,sfr,sg,sh,shangrila,sharp,shaw,shell,shia,shiksha,shoes,shop,shopping,shouji,show,showtime,shriram,si,silk,sina,singles,site,sj,sk,ski,skin,sky,skype,sl,sling,sm,smart,smile,sn,sncf,so,soccer,social,softbank,software,sohu,solar,solutions,song,sony,soy,space,spiegel,spot,spreadbetting,sr,srl,srt,ss,st,stada,staples,star,starhub,statebank,statefarm,statoil,stc,stcgroup,stockholm,storage,store,stream,studio,study,style,su,sucks,supplies,supply,support,surf,surgery,suzuki,sv,swatch,swiftcover,swiss,sx,sy,sydney,symantec,systems,sz,tab,taipei,talk,taobao,target,tatamotors,tatar,tattoo,tax,taxi,tc,tci,td,tdk,team,tech,technology,tel,telecity,telefonica,temasek,tennis,teva,tf,tg,th,thd,theater,theatre,tiaa,tickets,tienda,tiffany,tips,tires,tirol,tj,tjmaxx,tjx,tk,tkmaxx,tl,tm,tmall,tn,to,today,tokyo,tools,top,toray,toshiba,total,tours,town,toyota,toys,tp,tr,trade,trading,training,travel,travelchannel,travelers,travelersinsurance,trust,trv,tt,tube,tui,tunes,tushu,tv,tvs,tw,tz,ua,ubank,ubs,uconnect,ug,uk,um,unicom,university,uno,uol,ups,us,uy,uz,va,vacations,vana,vanguard,vc,ve,vegas,ventures,verisign,vermögensberater,vermögensberatung,versicherung,vet,vg,vi,viajes,video,vig,viking,villas,vin,vip,virgin,visa,vision,vista,vistaprint,viva,vivo,vlaanderen,vn,vodka,volkswagen,volvo,vote,voting,voto,voyage,vu,vuelos,wales,walmart,walter,wang,wanggou,warman,watch,watches,weather,weatherchannel,webcam,weber,website,wed,wedding,weibo,weir,wf,whoswho,wien,wiki,williamhill,win,windows,wine,winners,wme,wolterskluwer,woodside,work,works,world,wow,ws,wtc,wtf,xbox,xerox,xfinity,xihuan,xin,xperia,xxx,xyz,yachts,yahoo,yamaxun,yandex,ye,yodobashi,yoga,yokohama,you,youtube,yt,yu,yun,za,zappos,zara,zero,zip,zippo,zm,zone,zuerich,zw".split(","),..."бг,бел,дети,ею,католик,ком,мкд,мон,москва,онлайн,орг,рус,рф,сайт,срб,укр".split(","),..."qxam,90ae,90ais,d1acj3b,e1a4c,80aqecdr1a,j1aef,d1alf,l1acc,80adxhks,80asehdb,c1avg,p1acf,p1ai,80aswg,90a3ac,j1amh,80ao21a,y9a3aq,9dbq2a,mgbca7dzdo,mgba3a3ejt,mgbayh7gpa,lgbbat1ad8j,mgberp4a5d4ar,mgba7c0bbn0a,mgbc0a9azcg,mgb2ddes,mgbaam7a8h,mgba3a4f16a,mgbbh1a,mgbab2bd,ngbe9e0a,mgbbh1a71e,pgbs0dh,mgbpl2fh,ogbpf8fl,ngbc5azd,mgbtx2b,mgb9awbf,ygbi2ammx,wgbl6a,mgbi4ecexp,fhbei,wgbh1c,mgbx4cd0ab,mgbb9fbpob,4gbrim,mgbt3dhd,mgbai9azgqp6j,mgbgu82a,11b4c3d,c2br7g,h2brj9c,h2breg3eve,h2brj9c8c,i1b6b1a6a2e,54b7fta0cc,45brj9c,45br5cyl,s9brj9c,gecrj9c,3hcrj9c,xkc2dl3a5ee0h,xkc2al3hye2a,clchc0ea0b2g2a9gcd,fpcrj9c3d,2scrj9c,rvc1e0am3e,fzc2c9e2c,42c2d9a,o3cw4h,node,q9jyb4c,gckr3f0f,qcka1pmc,tckwe,cck2b3b,1ck2e1b,bck1b9a5dre4c,eckvdtc9d,rhqv96g,fiq64b,fiqs8s,fiqz9s,fiq228c5hs,vhquv,1qqw23a,vuq861b,nyqy26a,45q11c,55qx5d,55qw42g,kprw13d,kpry57d,czru2d,czrs0t,czr694b,w4rs40l,w4r85el8fhu5dnra,3ds443g,3oq18vl8pn36a,pssy2u,tiq49xqyj,fjq720a,fct429k,estv75g,xhq521b,9krt00a,30rr7y,6qq986b3xl,kput3i,kpu716f,zfr164b,mxtq1m,yfro4i67o,efvy88h,9et52u,rovu88b,nqv7f,b4w605ferd,unup4y,mix891f,mix082f,3pxu8k,pbt977c,6frz82g,nqv7fs00ema,ses554g,hxt814e,5tzm5g,io0a7i,8y0a063a,jlq61u9w7b,flw351e,g2xx48c,gk3at1e,3bst00m,fzys8d69uvgm,kcrx77d1x4a,jvr189m,imr513n,5su34j936bgsg,j6w193g,t60b56a,mk1bu44c,cg4bki,3e0b707e".split(",").map((e=>"xn--"+e))],n=o.VK_HOST_REGEX_GROUP_UNSAFE.source,a=new RegExp(`^([a-zA-Z0-9\\.\\_\\-]+\\.)?(${n}|vk\\.cc)$`),s=new RegExp(`^(?:https?:\\/\\/)?(?:${o.VK_SITES_REGEX_SOURCE_UNSAFE})?\\/([a-zA-Z0-9\\._]+)\\??$`),c="((?:[a-z0-9_]*[a-z0-9])?(?:(?:\\.[a-z](?:[a-z0-9_]+[a-z0-9])?)*\\.[a-z][a-z0-9_]{2,40}[a-z0-9])?)"},470403:(e,t,i)=>{"use strict";i.d(t,{EMAIL:()=>r});var o=i(828758);const r=new RegExp("([a-zA-Zа-яА-Я\\-_\\.0-9\\+]+@("+o.RE_URL_DOMAIN_NAME+o.RE_URL_DOMAIN_TOP+"))","ig")},846145:(e,t,i)=>{"use strict";i.d(t,{MENTION:()=>o});const o=/\[(id|club)(\d+)(?:\:([a-z0-9_\-]+))?\|([^\$]+?)\]/g},828758:(e,t,i)=>{"use strict";i.d(t,{RE_URL_DOMAIN_NAME:()=>r,RE_URL_DOMAIN_TOP:()=>n,RE_URL_PATTERN:()=>a});const o="\\w\\$А-Яа-яёЁєЄҐґЇїІіЈј",r="((?:["+o+"\\—\\-\\_]+\\.){1,5})",n="([A-Za-zа-яА-Я\\-\\d]{2,22})",a="(https?:\\/\\/)?"+("("+r+n+"(?:\\:(\\d{2,5}))?)")+("(([\\/?#])(?:\\&|\\&#\\d{2,6};|,[_%]|!|,*[\\wА-Яа-я\\xa8\\xb8\\xc0-\\xffєЄҐґЇїІіЈј\\—\\-\\_@#%?+\\/\\$.~=;:'ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢴࢶ-ࢽऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛱ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢄᢇ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲈᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿕ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞮꞰ-ꞷꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭥꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ　-〿＀-￯*]+|"+("(?:\\(|\\[)["+o+"\\d&#%;,]+(?:\\)|\\])")+"){0,200})?")},389585:(e,t,i)=>{"use strict";i.d(t,{TIMESPENT_SCREEN_COUNTER_IDS:()=>c,TIMESPENT_SERVICE_COUNTER_IDS:()=>l,TimespentCollector:()=>d,getScreenTimespentCollector:()=>u,getServiceTimespentCollector:()=>_});var o=i(571355),r=i(558137),n=i(814516),a=i(101272),s=i(314309),c=function(e){return e[e.FEED=5]="FEED",e[e.MESSENGER=7]="MESSENGER",e[e.MINI_APPS=75]="MINI_APPS",e[e.VIDEO_SHOWCASE_VIEW=63]="VIDEO_SHOWCASE_VIEW",e[e.VIDEO_VIEW=20]="VIDEO_VIEW",e[e.DATING=67]="DATING",e[e.SHORT_VIDEOS=98]="SHORT_VIDEOS",e[e.SHORT_VIDEOS_FULL_SCREEN=97]="SHORT_VIDEOS_FULL_SCREEN",e[e.SHORT_VIDEOS_ENGAGEMENT_3_ITEMS=96]="SHORT_VIDEOS_ENGAGEMENT_3_ITEMS",e[e.AUDIO=o.MyTrackerActivityId.MusicScreen]="AUDIO",e}({}),l=function(e){return e[e.MUSIC_ENGAGEMENT_30S=1]="MUSIC_ENGAGEMENT_30S",e[e.CALLS_IN_CALL=21]="CALLS_IN_CALL",e[e.VIDEO_VIEW_30S=77]="VIDEO_VIEW_30S",e}({});class d{startVisibilityChangeListener(){document.addEventListener("visibilitychange",(()=>{document.hidden?this.onScreenHide():this.onScreenShow()}))}startPageCloseListener(){window.addEventListener("beforeunload",(()=>{this.active.forEach(((e,t)=>{this.finish(t)}))}))}get isDebug(){return!1}warn(...e){this.isDebug||console.warn("[MyTrackerTimespent]",...e)}onScreenHide(){if("service"===this.type)return;const e=Date.now();this.startData.forEach(((t,i)=>{const o=(this.timespent.get(i)??0)+(e-(t.span_ts??t.start_ts));this.timespent.set(i,o),this.startData.set(i,{...t,span_ts:Date.now()}),this.hideTimestamp=Date.now()}))}onScreenShow(){"service"!==this.type&&(this.hideTimestamp=null,this.startData.forEach(((e,t)=>{this.startData.set(t,{...e,span_ts:Date.now()})})))}start(e){this.active.has(e)?this.isDebug&&this.warn("Запись таймспента #%s уже началась. Проверьте механизм записи.",e):(this.active.add(e),this.startData.set(e,{...this.getCurrentTimingMetadata(),start_ts:Date.now()}),this.tmrTimespentUtils.tmrStartTimespent(e,"service"===this.type))}finish(e){if(!this.active.has(e))return void(this.isDebug&&this.warn("Не удалось завершить запись таймспента #%s. Проверьте механизм записи.",e));this.active.delete(e),this.tmrTimespentUtils.tmrFinishTimespent(e,"service"===this.type);const t=this.startData.get(e);if(!t)return;this.startData.delete(e);const i=t.span_ts??t.start_ts,o=this.hideTimestamp??Date.now(),r=o-i,n=(this.timespent.get(e)??0)+r;(0,a.saveStatlogEvents)({name:"tmp_tmr_timespent",value:n,keys:[this.type,e]}),this.collector.logEvent({activity_id:e,counter_id:this.counterId,start_time:Math.floor(i/1e3),end_time:Math.floor(o/1e3)}),this.timespent.delete(e)}getCurrentTimingMetadata(){return{module:window.cur?.module||"unknown",screen:window.cur?.screen||"unknown"}}constructor(e,t){this.active=new Set,this.startData=new Map,this.timespent=new Map,this.collector=new s.MTTimespentStatCollector,this.hideTimestamp=null,this.type=e;const{tmrFinishTimespent:i=n.tmrFinishTimespent,tmrStartTimespent:o=n.tmrStartTimespent}=t?(0,n.getCustomCounterIdTmrUtils)(t):{};this.tmrTimespentUtils={tmrFinishTimespent:i,tmrStartTimespent:o},this.counterId=parseInt(t??n.counterId),this.startVisibilityChangeListener(),this.startPageCloseListener()}}const u=(0,r.makeSharedState)("myTrackerScreenTimespentCollector",(()=>new d("screen")),{version:1}),_=(0,r.makeSharedState)("myTrackerServiceTimespentCollector",(()=>new d("service")),{version:1})},316435:(e,t,i)=>{"use strict";i.d(t,{MY_TRACKER_COUNT_EVENT_IDS:()=>o});var o=function(e){return e[e.COMMUNITY_SUBSCRIBE=11]="COMMUNITY_SUBSCRIBE",e[e.POST_PUBLISH=13]="POST_PUBLISH",e[e.MESSAGE_SEND=26]="MESSAGE_SEND",e}({})},251703:(e,t,i)=>{"use strict";i.r(t),i.d(t,{MY_TRACKER_COUNT_EVENT_IDS:()=>n.MY_TRACKER_COUNT_EVENT_IDS,TIMESPENT_SCREEN_COUNTER_IDS:()=>a.TIMESPENT_SCREEN_COUNTER_IDS,TIMESPENT_SERVICE_COUNTER_IDS:()=>a.TIMESPENT_SERVICE_COUNTER_IDS,TimespentCollector:()=>a.TimespentCollector,counterId:()=>o.counterId,getCustomCounterIdTmrUtils:()=>o.getCustomCounterIdTmrUtils,getScreenTimespentCollector:()=>a.getScreenTimespentCollector,getServiceTimespentCollector:()=>a.getServiceTimespentCollector,handleModuleChanged:()=>r.handleModuleChanged,tmrFinishTimespent:()=>o.tmrFinishTimespent,tmrPushRawEvent:()=>o.tmrPushRawEvent,tmrSendTimespentEvent:()=>o.tmrSendTimespentEvent,tmrStartTimespent:()=>o.tmrStartTimespent,tmrTrackCustomGoal:()=>o.tmrTrackCustomGoal,tmrTrackMiniAppClose:()=>o.tmrTrackMiniAppClose,tmrTrackMiniAppCustom:()=>o.tmrTrackMiniAppCustom,tmrTrackMiniAppEvent:()=>o.tmrTrackMiniAppEvent,tmrTrackMiniAppOpen:()=>o.tmrTrackMiniAppOpen,tmrTrackPage:()=>o.tmrTrackPage,tmrUpdateUserId:()=>o.tmrUpdateUserId});var o=i(814516),r=i(830195),n=i(316435),a=i(389585)},830195:(e,t,i)=>{"use strict";i.d(t,{handleModuleChanged:()=>s});var o=i(558137),r=i(389585);const n={audio:r.TIMESPENT_SCREEN_COUNTER_IDS.AUDIO,feed:r.TIMESPENT_SCREEN_COUNTER_IDS.FEED,mini_apps_catalog:r.TIMESPENT_SCREEN_COUNTER_IDS.MINI_APPS,im:r.TIMESPENT_SCREEN_COUNTER_IDS.MESSENGER,mail:r.TIMESPENT_SCREEN_COUNTER_IDS.MESSENGER},a=(0,o.makeSharedState)("tmr-active-module",(()=>({activeModule:""})),{version:1});function s(e){const t=a().activeModule;if(e===t)return;const i=(0,r.getScreenTimespentCollector)(),o=n[t];o&&i.finish(o),a().activeModule=e;const s=n[e];s&&i.start(s)}},863578:(e,t,i)=>{"use strict";i.d(t,{CustomStatCollector:()=>n});var o=i(298077),r=i(101272);class n{getCurrentTime(e=!0){const t=Date.now().toString(10);return e?t+"000":t}getIntId(){return Math.floor(Math.random()*n.MAX_INT32)}getBaseEvent(){return{id:this.getIntId(),timestamp:this.getCurrentTime()}}logEvent(e){e.type&&e[e.type]?(0,r.saveCustomStats)(e):(0,o.logError)(new Error("CustomStatCollector: invalid event."))}}n.MAX_INT32=2147483647},116068:(e,t,i)=>{"use strict";i.d(t,{DevNullStatCollector:()=>r});var o=i(658960);class r{logEvent(e){const t={...this.customStatCollector.getBaseEvent(),type:o.CustomStatEventTypes.TYPE_DEV_NULL_ITEM,[o.CustomStatEventTypes.TYPE_DEV_NULL_ITEM]:e};this.customStatCollector.logEvent(t)}constructor(e){this.customStatCollector=e}}},596181:(e,t,i)=>{"use strict";i.d(t,{CustomStatCollector:()=>o.CustomStatCollector,DevNullStatCollector:()=>r.DevNullStatCollector});var o=i(863578),r=i(116068)},658960:(e,t,i)=>{"use strict";i.d(t,{CustomStatEventTypes:()=>o});var o=function(e){return e.TYPE_DEV_NULL_ITEM="type_dev_null_item",e}({})},157007:(e,t,i)=>{"use strict";i.d(t,{DebugConfig:()=>n});var o=i(469004);const r={showBubble:!1,blinkOnPostTrack:!1,serverEvents:!1,statlogsWatch:[],productionStatsLogsImmediately:!1,serviceWorker:!1,forcePWA:"",printPerformanceMarks:!1};class n{static loadConfig(){this._config={...r,...JSON.parse(o.ls.get("debug-menu")||"{}")}}static addEmitter(e){this._debugEmitters.push(e)}static saveConfig(){o.ls.set("debug-menu",JSON.stringify(n.getConfig()))}static getConfig(){return n._config}static set(e,t){this._config[e]!==t&&(this._config[e]=t,this._debugEmitters.forEach((t=>t.emit("update",e))))}static get(e){return this._config[e]}}n._debugEmitters=[],n._config=r,n.loadConfig()},425946:(e,t,i)=>{"use strict";i.d(t,{ensureDIRootContainer:()=>Pe});var o=i(132028),r=i(712600),n=i(24516),a=i(295372),s=i(130653),c=i(882543),l=i(622934),d=i(558576),u=i(988010),_=i(510454),p=i(12196),m=i(873548),g=i(590780),v=i(809424),f=i(670252),y=i(49396),E=i(575362),A=i(717436),S=i(268688),b=i(71892),T=i(550490),I=i(888584),C=i(123980),k=i(90526),P=i(804797),O=i(784022),M=i(876011),L=i(209708),D=i(214079),R=i(842396),N=i(474928),x=i(551178),F=i(223476),U=i(946258),B=i(736780),V=i(622644),H=i(744464),j=i(253145),W=i(569002),G=i(916992),z=i(204754),K=i(124300),Y=i(270364),$=i(951652),q=i(955060),X=i(500926),Q=i(759339),Z=i(298077),J=i(103466),ee=i(760031),te=i(338268),ie=i(975747),oe=i(697392),re=i(189045),ne=i(859402),ae=i(111606),se=i(181600),ce=i(413288),le=i(162306),de=i(601849),ue=i(292989),_e=i(138253),pe=i(128914),he=i(513859),me=i(778021),ge=i(167013),ve=i(455461),fe=i(798113),ye=i(856085),Ee=i(363215),Ae=i(399758),we=i(910186),Se=i(715007),be=i(107582),Te=i(367734),Ie=i(865734),Ce=i(999148);let ke=!1;function Pe({SnackbarImpl:e,VideoDownloadImpl:t,PushNotifierImpl:i,PhotoViewerImpl:Pe,GlobalAudioPlayerProviderImpl:Oe,AudioPlatformConfigImpl:Me,ModelEventsHandlersImpl:Le,MiniAppLaunchServiceImpl:De,NotifierImpl:Re}){return ke||(o.rootContainer.replace(r.Langs,ee.BrowserLangs),o.rootContainer.replace(n.UserEnv,oe.BrowserUserEnv),o.rootContainer.replace(a.ApiPrefetch,re.BrowserApiPrefetch),o.rootContainer.replace(s.Tmr,c.BrowserTmr),o.rootContainer.replace(l.Mediascope,d.BrowserMediascope),o.rootContainer.replace(u.ExternalEvents,ne.BrowserExternalEvents),o.rootContainer.replace(_.LocalStorage,te.BrowserLocalStorage),o.rootContainer.replace(p.SessionStorage,de.BrowserSessionStorage),o.rootContainer.replace(m.PersistentEmbedStorage,ie.BrowserPersistentEmbedStorage),o.rootContainer.replace(g.Performance,ce.BrowserPerformance),o.rootContainer.replace(v.MetaData,_e.MetaDataImpl),o.rootContainer.replace(f.Snackbar,e),o.rootContainer.replace(y.VideoDownload,t),o.rootContainer.replace(E.Appearance,pe.BrowserAppearance),o.rootContainer.replace(A.MiniAppApiWrapper,he.MiniAppApiWrapperImpl),o.rootContainer.replace(S.Analytics,ae.BrowserAnalytics),o.rootContainer.replace(b.Analytics,se.BrowserAnalytics),o.rootContainer.replace(T.Cookie,le.BrowserCookie),o.rootContainer.replace(I.VkHost,ue.BrowserVkHost),o.rootContainer.replace(C.APIClient,me.BrowserAPIClient),o.rootContainer.replace(k.MapsFactory,P.MapsFactoryImpl),o.rootContainer.replace(O.CaptchaSDK,M.CaptchaSDK),o.rootContainer.replace(L.VKPlayApi,ge.BrowserVKPlayApi),o.rootContainer.replace(J.GlobalAudioPlayerProvider,Oe),o.rootContainer.replace(Te.AudioPlatformConfig,Me),o.rootContainer.replace(D.StatsInfo,ve.BrowserStatsInfo),o.rootContainer.replace(R.PhotoUtils,fe.BrowserPhotoUtils),o.rootContainer.replace(N.Network,Ee.BrowserNetwork),o.rootContainer.replace(x.PerformanceStatsCore,Ae.PerformanceStatsCoreImpl),o.rootContainer.replace(F.PerformanceStatsProduct,we.PerformanceStatsProductImpl),o.rootContainer.replace(o.ModelEventsHandlers,Le),o.rootContainer.replace(Q.MiniAppLaunchService,De),o.rootContainer.replace(U.PushNotifier,i),o.rootContainer.replace(B.PhotoViewer,Pe),o.rootContainer.replace(V.LoafStats,Se.LoafStatsImpl),o.rootContainer.replace(H.FavIcon,j.FavIconImpl),o.rootContainer.replace(Ie.PageSkeletonUserEnv,Ce.PageSkeletonUserEnvFacade),o.rootContainer.replace(W.PixelTracker,G.PixelTrackerBrowser),o.rootContainer.replace(z.Notifier,Re),o.rootContainer.replace(K.DoormanPage,ye.BrowserDoormanPage),o.rootContainer.replace(Y.Fingerprint,be.FingerprintImpl),(0,X.registerBrowserPlugins)(o.rootContainer),o.rootContainer.resolve($.AuthService).setUserId(window.vk.id),o.rootContainer.resolve(q.ErrorLogger).init(Z.logError),ke=!0),o.rootContainer}},778021:(e,t,i)=>{"use strict";i.d(t,{BrowserAPIClient:()=>s});var o=i(331635),r=i(132028),n=i(957994),a=i(738150);class s{request(e,t,i={}){return(0,n.api)(e,t,{...void 0!==i.version?{version:i.version}:{},...void 0!==i.grouping?{grouping:i.grouping}:{},...void 0!==i.accessToken?{accessToken:i.accessToken}:{},...void 0!==i.maxRetries?{maxRetries:i.maxRetries}:{},...void 0!==i.domain?{domain:i.domain}:{}},{signal:i?.signal})}fetchWebToken(e,t){return(0,n.login)("web_token",e,t)}fetchConnectExchangeHash(e){return(0,n.login)("connect_exchange_hash",e)}fetchConnectExchangeToken(e){return(0,n.login)("connect_exchange_token",e)}upload(e,t){return(0,a.upload)(e,t)}}s=(0,o.__decorate)([r.scope.global()],s)},111606:(e,t,i)=>{"use strict";i.d(t,{BrowserAnalytics:()=>s});var o=i(331635),r=i(132028),n=i(506856),a=i(101272);class s{sendBenchmarkMainStats(e){this.DEBUG&&(0,n.log)(e),(0,a.saveBenchmarkMainStats)(e)}sendCustomStats(e){this.DEBUG&&(0,n.log)(e),(0,a.saveCustomStats)(e)}sendNetworkStats(e){this.DEBUG&&(0,n.log)(e),(0,a.saveNetworkStats)(e)}sendProductionStats(e,t){this.DEBUG&&(0,n.log)(e),(0,a.saveProductionStats)(e,t)}sendStatlogEvents(e){this.DEBUG&&(0,n.log)(e),(0,a.saveStatlogEvents)(e)}sendStoryViewStats(e){this.DEBUG&&(0,n.log)(e),(0,a.saveStoryViewStats)(e)}sendWebPerfStats(e){this.DEBUG&&(0,n.log)(e),(0,a.saveWebPerfStats)(e)}sendWebStatsWithoutQueue(e,t){this.DEBUG&&(0,n.log)(t),(0,a.sendWebStats)(e,t)}constructor(){this.DEBUG=!1}}s=(0,o.__decorate)([r.scope.global()],s)},181600:(e,t,i)=>{"use strict";i.d(t,{BrowserAnalytics:()=>s});var o=i(331635),r=i(132028),n=i(506856),a=i(101272);class s{sendBenchmarkMainStats(e){this.DEBUG&&(0,n.log)(e),(0,a.saveBenchmarkMainStats)(e)}sendCustomStats(e){this.DEBUG&&(0,n.log)(e),(0,a.saveCustomStats)(e)}sendNetworkStats(e){this.DEBUG&&(0,n.log)(e),(0,a.saveNetworkStats)(e)}sendProductionStats(e,t){this.DEBUG&&(0,n.log)(e),(0,a.saveProductionStats)(e,t)}sendStatlogEvents(e){this.DEBUG&&(0,n.log)(e),(0,a.saveStatlogEvents)(e)}sendStoryViewStats(e){this.DEBUG&&(0,n.log)(e),(0,a.saveStoryViewStats)(e)}sendWebPerfStats(e){this.DEBUG&&(0,n.log)(e),(0,a.saveWebPerfStats)(e)}sendWebStatsWithoutQueue(e,t){this.DEBUG&&(0,n.log)(t),(0,a.sendWebStats)(e,t)}constructor(){this.DEBUG=!1}}s=(0,o.__decorate)([r.scope.global()],s)},189045:(e,t,i)=>{"use strict";i.d(t,{BrowserApiPrefetch:()=>a});var o=i(331635),r=i(132028),n=i(805658);class a{loadPrefetchCache(e,t,i){return(0,n.loadPrefetchCache)(e,t,i)}}a=(0,o.__decorate)([r.scope.global()],a)},128914:(e,t,i)=>{"use strict";i.d(t,{BrowserAppearance:()=>l});var o=i(331635),r=i(348847),n=i(19589),a=i(564048),s=i(132028);const c={[r.AppearanceTheme.Dark]:a.ColorSchemeName.Dark,[r.AppearanceTheme.Light]:a.ColorSchemeName.Light};class l{isDarkTheme(){return n.colorScheme.isDarkScheme()}forceTheme(e){const t=c[e];n.colorScheme.applyScheme(document.body,t)}clearForcing(){n.colorScheme.applyScheme(document.body,n.colorScheme.getScheme())}setMode(e){const t=n.colorScheme.getColorModeFromValue(e);if(!t)throw new Error(`Unsupported color scheme mode: ${e}`);n.colorScheme.setMode(t)}getMode(){return n.colorScheme.getMode()}onModeChange(e){return n.colorScheme.subscribe(e)}}l=(0,o.__decorate)([s.scope.global()],l)},162306:(e,t,i)=>{"use strict";i.d(t,{BrowserCookie:()=>a});var o=i(331635),r=i(132028),n=i(396858);class a{get(e){return(0,n.getCookie)(e)}set(e,t,{domain:i,excludeSubdomains:o,expireDays:r,isSecured:a,sameSiteValue:s}={}){(0,n.setCookie)(e,t,r,a,s,i,{withoutSubdomains:o})}}a=(0,o.__decorate)([r.scope.platform()],a)},856085:(e,t,i)=>{"use strict";i.d(t,{BrowserDoormanPage:()=>a});var o=i(331635),r=i(132028),n=i(124300);class a extends n.DoormanPage{listen(){this.closePage(),this.openPage()}closePage(){window.addEventListener("beforeunload",(()=>{this.emitter.emit("closePage")}))}openPage(){this.emitter.emit("openPage")}constructor(){super(),this.listen()}}a=(0,o.__decorate)([r.scope.platform(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[])],a)},859402:(e,t,i)=>{"use strict";i.d(t,{BrowserExternalEvents:()=>c});var o=i(331635),r=i(132028),n=i(793384);const a="stories_seen",s="stories_remove";class c{subscribeToRemoveStory(e){const t=this.removeStoryHandler((t=>e(t)));return window.addEventListener(s,t),()=>{window.removeEventListener(s,t)}}subscribeToAllStoriesSeen(e){const t=this.seenStoryHandler((t=>this.allStoriesSeenListener(t,e))),i=this.removeStoryHandler((t=>this.allStoriesSeenListener(t,e)));return window.addEventListener(a,t),window.addEventListener(s,i),()=>{window.removeEventListener(a,t),window.removeEventListener(s,i)}}allStoriesSeenListener(e,t){e.forEach((e=>{const[i]=e.split("_"),o=(0,n.isIntAsString)(i)?Number(i):null;if(!o)return;let r=window.cur[`stories_list_owner_feed${o}`];if(!r){const e=window.cur.stories_list_feed;e&&(r=e.filter((e=>e.author.id===o)))}if(!r||!r.length)return;r.every((e=>e.items.every((({unread:e})=>!e))))&&t(o)}))}constructor(){this.seenStoryHandler=e=>({detail:t})=>{const i=t.reduce(((e,t)=>(e.push(...t.storyRawIdSet.values()),e)),[]);e(i)},this.removeStoryHandler=e=>({detail:t})=>{const i=t.reduce(((e,t)=>(e.push(t.rawId),e)),[]);e(i)}}}c=(0,o.__decorate)([r.scope.global()],c)},760031:(e,t,i)=>{"use strict";i.d(t,{BrowserLangs:()=>s});var o=i(331635),r=i(132028),n=i(712600),a=i(866467);class s extends n.Langs{numeric(e,t,i){return(0,a.langNumeric)(e,t,i)}sex(e,t){return(0,a.langSex)(e,t)}date(e,t,i,o={}){return(0,a.langDate)(e,t,o.offset??0,i,o.onlyDate)}getLang(e,t=!1){return t?(0,a.getLang)(e,"raw"):(0,a.getLang)(e)}get locale(){return window.langConfig?.locale||"ru"}get localeId(){return window.langConfig?.id||0}get isCyrillic(){return"boolean"!=typeof window.vk?.isCyrillic||window.vk.isCyrillic}}s=(0,o.__decorate)([r.scope.platform()],s)},338268:(e,t,i)=>{"use strict";i.d(t,{BrowserLocalStorage:()=>a});var o=i(331635),r=i(132028),n=i(553608);class a{setItem(e,t){return n.vkLocalStorage.setItem(e,t)}getItem(e){return n.vkLocalStorage.getItem(e)}removeItem(e){return n.vkLocalStorage.removeItem(e)}clear(){return n.vkLocalStorage.clear()}length(){return n.vkLocalStorage.length()}key(e){return n.vkLocalStorage.key(e)}keys(){return n.vkLocalStorage.keys()}}a=(0,o.__decorate)([r.scope.global()],a)},767813:(e,t,i)=>{"use strict";i.d(t,{BrowserNetwork:()=>d});var o=i(434518),r=i(763812),n=i(331635),a=i(327813),s=i(132028),c=i(284587),l=(0,r._)("_connectionRef");class d{get connection(){return(0,o._)(this,l)[l].current}get isOnline(){return window.navigator.onLine}addEventListener(e,t){window.addEventListener(e,t)}removeEventListener(e,t){window.removeEventListener(e,t)}constructor(){Object.defineProperty(this,l,{writable:!0,value:void 0}),(0,a.makeObservable)(this),(0,o._)(this,l)[l]=new c.NetworkConnection}}(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type","undefined"==typeof INetworkConnection?Object:INetworkConnection),(0,n.__metadata)("design:paramtypes",[])],d.prototype,"connection",null),d=(0,n.__decorate)([s.scope.global(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[])],d)},363215:(e,t,i)=>{"use strict";i.d(t,{BrowserNetwork:()=>o.BrowserNetwork});var o=i(767813)},284587:(e,t,i)=>{"use strict";i.d(t,{NetworkConnection:()=>_});var o=i(434518),r=i(763812),n=i(331635),a=i(327813);const s=Object.freeze({type:"unknown",effectiveType:"unknown"});var c=(0,r._)("_fallback"),l=(0,r._)("_source"),d=(0,r._)("_subscribe"),u=(0,r._)("_unsubscribe");class _{get current(){const e=this._current;return e||(0,o._)(this,c)[c]}constructor(){Object.defineProperty(this,c,{get:p,set:void 0}),Object.defineProperty(this,l,{get:m,set:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,u,{writable:!0,value:void 0}),this._current=null,this.handleChange=()=>{const e=window.navigator.connection;e&&(this._current=g(e))},(0,o._)(this,d)[d]=()=>{(0,o._)(this,l)[l]&&(this.handleChange(),(0,o._)(this,l)[l].addEventListener("change",this.handleChange))},(0,o._)(this,u)[u]=()=>{(0,o._)(this,l)[l]&&(0,o._)(this,l)[l].removeEventListener("change",this.handleChange)},(0,a.makeObservable)(this),(0,a.onBecomeObserved)(this,"_current",(0,o._)(this,d)[d]),(0,a.onBecomeUnobserved)(this,"_current",(0,o._)(this,u)[u])}}function p(){const e=(0,o._)(this,l)[l];return e?g(e):s}function m(){return window.navigator.connection}function g(e){return{type:e.type??"unknown",effectiveType:e.effectiveType??"unknown",downlink:e.downlink,downlinkMax:e.downlinkMax,rtt:e.rtt,saveData:e.saveData}}(0,n.__decorate)([a.observable.ref,(0,n.__metadata)("design:type",Object)],_.prototype,"_current",void 0),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type","undefined"==typeof INetworkConnection?Object:INetworkConnection),(0,n.__metadata)("design:paramtypes",[])],_.prototype,"current",null),(0,n.__decorate)([a.action.bound],_.prototype,"handleChange",void 0)},413288:(e,t,i)=>{"use strict";i.d(t,{BrowserPerformance:()=>n});var o=i(331635),r=i(132028);class n{mark(e,t){return window.performance.mark(e,t)}measure(e,t,i){return window.performance.measure(e,t,i)}clearMarks(e){return window.performance.clearMarks(e)}clearMeasures(e){return window.performance.clearMeasures(e)}get timeOrigin(){return window.performance.timeOrigin}getEntriesByType(e){return window.performance.getEntriesByType(e)}}n=(0,o.__decorate)([r.scope.platform()],n)},975747:(e,t,i)=>{"use strict";i.d(t,{BrowserPersistentEmbedStorage:()=>a});var o=i(331635),r=i(132028),n=i(553608);class a{setItem(e,t){return n.bestAvailableStorage.setItem(e,t)}getItem(e){return n.bestAvailableStorage.getItem(e)}removeItem(e){return n.bestAvailableStorage.removeItem(e)}clear(){return n.bestAvailableStorage.clear()}length(){return n.bestAvailableStorage.length()}key(e){return n.bestAvailableStorage.key(e)}keys(){return n.bestAvailableStorage.keys()}}a=(0,o.__decorate)([r.scope.global()],a)},798113:(e,t,i)=>{"use strict";i.d(t,{BrowserPhotoUtils:()=>n});var o=i(331635),r=i(132028);class n{showPhoto(e,t,i){window.showPhoto?.(e,t,i)}showAlbum(e,t,i){window.showAlbum?.(e,t,i)}uploadPhoto(e,t){i._dG("filesToUpload",t),window.nav.go(e)}}n=(0,o.__decorate)([r.scope.platform()],n)},601849:(e,t,i)=>{"use strict";i.d(t,{BrowserSessionStorage:()=>a});var o=i(331635),r=i(132028),n=i(553608);class a{setItem(e,t){return n.vkSessionStorage.setItem(e,t)}getItem(e){return n.vkSessionStorage.getItem(e)}removeItem(e){return n.vkSessionStorage.removeItem(e)}clear(){return n.vkSessionStorage.clear()}length(){return n.vkSessionStorage.length()}key(e){return n.vkSessionStorage.key(e)}keys(){return n.vkSessionStorage.keys()}}a=(0,o.__decorate)([r.scope.global()],a)},455461:(e,t,i)=>{"use strict";i.d(t,{BrowserStatsInfo:()=>n});var o=i(331635),r=i(132028);class n{getFromType(e){return(history.state?.from||new URLSearchParams(window.location.search).get("from"))===e}getBlockId(){return new URLSearchParams(window.location.search).get("block_id")}}n=(0,o.__decorate)([r.scope.global()],n)},697392:(e,t,i)=>{"use strict";i.d(t,{BrowserUserEnv:()=>a});var o=i(331635),r=i(132028),n=i(540462);class a{partConfigEnabled(e){return(0,n.partConfigEnabled)(e)}getConfigValue(e){return(0,n.getConfigValue)(e)}isToggleEnabled(e){return(0,n.isToggleEnabled)(e)}getToggleAbGroupId(e){return(0,n.getToggleAbGroupId)(e)}}a=(0,o.__decorate)([r.scope.global()],a)},167013:(e,t,i)=>{"use strict";i.d(t,{BrowserVKPlayApi:()=>a});var o=i(331635),r=i(132028),n=i(209708);class a extends n.VKPlayApi{async request(e,t,i){const o=new URL(`${n.VKPlayApi.VK_PLAY_API_BASE}/${e}/`);for(const[e,i]of Object.entries(t))o.searchParams.append(e,String(i));const r=await fetch(o,{signal:i?.signal}),a=await r.json();if("failed"===a.status)throw a.error;return a}}a=(0,o.__decorate)([r.scope.global()],a)},292989:(e,t,i)=>{"use strict";i.d(t,{BrowserVkHost:()=>s});var o=i(331635),r=i(132028),n=i(888584),a=i(24516);class s extends n.VkHost{getGlobalObject(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}}getDomainName(){return this.userEnv.partConfigEnabled("frontend.vk_host_plugin_domain_name_fix")?this.getGlobalObject().vk?.apiConfigDomains.domain:this.getGlobalObject().vk?.host}getHostName(){return this.getGlobalObject().vk?.__domain||"vk.com"}constructor(e){super(),this.userEnv=e}}s=(0,o.__decorate)([r.scope.global(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===a.UserEnv?Object:a.UserEnv])],s)},107582:(e,t,i)=>{"use strict";i.d(t,{FingerprintImpl:()=>a});var o=i(331635),r=i(132028),n=i(244990);class a{resolveDeviceId(){return(0,n.resolveDeviceId)()}}a=(0,o.__decorate)([r.scope.global()],a)},715007:(e,t,i)=>{"use strict";i.d(t,{LoafStatsImpl:()=>l});var o=i(331635),r=i(132028),n=i(24516),a=i(627876),s=i(809424),c=i(105330);class l{startFPSMeasure(){const e=performance.now(),t=[];let i=-1,o=0,r=e,n=0,a=1/0,s=-1/0;const c=()=>{const e=performance.now();if(o++,n++,e-r>=1e3){const i=(e-r)/1e3,o=Math.round(n/i);a=Math.min(a,o),s=Math.max(s,o),t.push(o),n=0,r=e}i=requestAnimationFrame(c)};return i=requestAnimationFrame(c),()=>{const r=Math.round(o/(performance.now()-e)*1e3);return cancelAnimationFrame(i),r>this.capFps&&this.statLog.send({name:"tmp_stat.web_loaf_stats_errors",value:0,keys:["web_loaf_stats_errors",r,this.capFps]}),{"fps-min":a,"fps-max":s,"fps-avg":r,"fps-cap":this.capFps,"fps-drop-percent":Math.round(100-100*r/Math.max(r,this.capFps)),...this.getPercentiles(t,[50,75,95],"fps-p")}}}getPercentiles(e,t,i="p"){return e.sort(((e,t)=>e-t)),Object.fromEntries(t.map((t=>{const o=t/100*(e.length-1),r=Math.floor(o),n=Math.ceil(o);if(n>=e.length)return[`${i}${t}`,e[e.length-1]];const a=o-r,s=e[r]+a*(e[n]-e[r]);return[`${i}${t}`,Math.round(s)]})))}getTotalBlockingTime(e){return{"task-tbt":Math.round(e.reduce(((e,t)=>e+t-16),0))}}getLongestEntry(e){return{"task-longest-entry":Math.round(e.reduce(((e,t)=>Math.max(e,t)),0))}}sendLog(e,...t){const{module:i,screen:o,isSPAPage:r}=this.metaData.get();this.statLog.send({name:"web_loaf_stats",value:e,keys:[i,o,...t,...this.userEnv.partConfigEnabled("frontend.is_spa_page_enabled")?[String(r)]:[]]})}observe(e){const{isSearchBot:t}=this.metaData.get(),i=this.userEnv.partConfigEnabled("frontend.loaf_stats_plugin"),o=!(0,c.isMvk)()&&(t||!this.userEnv.partConfigEnabled("profile_web_spa_enabled"));if(!i&&!o)return()=>{};this.typeToDisconnect[e]&&this.disconnect(e,!0);let r=!1;const n=performance.now(),a=[],s=new PerformanceObserver((e=>{a.push(...e.getEntries())})),l=this.startFPSMeasure();s.observe({type:"long-animation-frame"});const d=(t=!1)=>{if(r)return;const i=performance.now(),o=Math.ceil((i-n)/1e3),c=a.map((({duration:e})=>e)),d={...this.getTotalBlockingTime(c),...this.getLongestEntry(c),...this.getPercentiles(c,[25,50,75,90,99],"task-p"),...l()};Object.entries(d).forEach((([i,r])=>{this.sendLog(r??0,r?"withErrors":"withoutErros",i,e,o,String(t))})),r=!0,delete this.typeToDisconnect[e],s.disconnect()};return this.typeToDisconnect[e]=d,d}disconnect(e,t=!1){this.typeToDisconnect[e]?.(t)}constructor(e,t,i){this.userEnv=e,this.statLog=t,this.metaData=i,this.percentiles=[25,50,75,90,99],this.capFps=0,this.typeToDisconnect={};let o=performance.now(),r=0;const n=()=>{const e=performance.now();r++,e-o>=1e3&&(this.capFps=Math.max(this.capFps,r),r=0,o=e),requestAnimationFrame(n)};requestAnimationFrame(n)}}l=(0,o.__decorate)([r.scope.global(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===n.UserEnv?Object:n.UserEnv,void 0===a.Statlog?Object:a.Statlog,void 0===s.MetaData?Object:s.MetaData])],l)},138253:(e,t,i)=>{"use strict";i.d(t,{MetaDataImpl:()=>a});var o=i(331635),r=i(132028),n=i(586138);class a{get(){return{module:window.cur?.module||"unknown",screen:window.cur?.screen||"unknown",moduleDisabled:Boolean(window.cur?.moduleDisabled)||1===window.currentStateCode,platformId:n.clientId,platformSecret:n.clientSecret,domains:{api:window.vk?.apiConfigDomains?.apiDomain||"api.vk.com",login:window.vk?.apiConfigDomains?.loginDomain||"login.vk.com",connect:window.vk?.apiConfigDomains?.connectDomain||"id.vk.com"},statsMeta:{time:window.vk?.statsMeta?.time,st:window.vk?.statsMeta?.st,platform:window.vk?.statsMeta?.platform,hash:window.vk?.statsMeta?.hash},wsTransport:window.vk?.wsTransport,isSearchBot:Boolean(window.vk?.isSearchBot),isBanned:Boolean(window.vk?.isBanned),referrer:document.referrer,isSPAPage:window.cur?.isSPAPage}}setIsSPAPage(e){window.cur&&(window.cur.isSPAPage=e)}}a=(0,o.__decorate)([r.scope.global()],a)},513859:(e,t,i)=>{"use strict";i.d(t,{MiniAppApiWrapperImpl:()=>s});var o=i(331635),r=i(132028),n=i(365815),a=i(957994);class s{isAPIResponseWithErrors(e){return null!=e&&"object"==typeof e&&"execute_errors"in e}transformAPIParams(e){return new Promise(((t,i)=>{t(Object.entries(e).reduce(((e,[t,o])=>{try{return{...e,[t]:"object"==typeof o?JSON.stringify(o):o}}catch{i({error_code:n.ERROR_CODES.INVALID_PARAMS,error_reason:`Param "params[${t}]" should be a valid json`})}}),{}))}))}constructor(){this.requestApiMethod=async(e,t,i)=>{const o={...i,grouping:!1},r=await this.transformAPIParams(t),n=await(0,a.api)(e,r,o),{response:s,error:c=null,execute_errors:l=null}=this.isAPIResponseWithErrors(n)?n:{response:n};if(null==s){if(c||l)throw c||l;throw new Error("MiniAppsService: empty api response")}return{response:s}}}}s=(0,o.__decorate)([r.scope.global()],s)},399758:(e,t,i)=>{"use strict";i.d(t,{PerformanceStatsCoreImpl:()=>p});var o=i(331635),r=i(418562),n=i(132028),a=i(773444),s=i(24516),c=i(951652),l=i(750937),d=i(433367),u=i(170022),_=i(807978);class p{createTrace(e,t,i){let o;const{module:n,screen:s}=e;switch(t){case a.Action.Pop:o=i.length>1?"HISTORY_TRANSITION":"INITIAL_LOAD";break;case a.Action.Push:o=this.visitedModules.has(n)?"LINK_TRANSITION_WITH_CACHE":"LINK_TRANSITION";break;case a.Action.Replace:o="APP_REDIRECT"}return"unknown"!==n&&this.visitedModules.add(n),{id:(0,r.default)(),startDate:"INITIAL_LOAD"===o?0:performance.now(),cause:o,module:n||"unknown",screen:s||"unknown"}}onRouterChangedEvent({activeRoute:e,action:t,historyLocations:i}){this.trace&&this.cooldownManager.updateMetricTimestamp(this.trace.module),this.trace=e?this.createTrace(e,t,i):void 0}send(e,{debug:t}={}){if(!this.userEnv.partConfigEnabled("frontend.performance_stats_core_plugin")||!this.trace)return;const{id:i,startDate:o,cause:r,module:n,screen:a}=this.trace,s=e.split("."),[c,d]=[s.pop(),s.join("_")],u=this.userEnv.getConfigValue("performance_stats_core_modules_coefficients")[n]??1;"INITIAL_LOAD"===r&&this.cooldownManager.isMetricOnCoolDown(n)||Math.random()>=u||"APP_REDIRECT"===r||(0,l.sendPerformanceStats)({entity:d,event:c,trace_id:i,trace_cause:r,module:n,page:a,value:Math.round(performance.now()-o),debug_meta:t})}constructor(e,t){this.userEnv=e,this.authService=t,this.visitedModules=new Set,this.cooldownManager=new d.CooldownManager(this.authService.userId,u.METRICS_SCOPE.PERFORMANCE_STATS_CORE,this.userEnv.getConfigValue("performance_stats_core_module_cooldown")||8*_.HOUR)}}p=(0,o.__decorate)([n.scope.global(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===s.UserEnv?Object:s.UserEnv,void 0===c.AuthService?Object:c.AuthService])],p)},910186:(e,t,i)=>{"use strict";i.d(t,{PerformanceStatsProductImpl:()=>g});var o=i(331635),r=i(132028),n=i(24516),a=i(951652),s=i(809424),c=i(627876),l=i(433367),d=i(170022),u=i(807978),_=function(e){return e.Event="event",e.LayoutShift="layout-shift",e.LoAF="long-animation-frame",e}(_||{});const p=5*u.SECOND,m=u.SECOND;class g{getCLS(e){let t,i,o=0,r=0;for(const{value:n,startTime:a,hadRecentInput:s}of e)s||((!t||i&&a-i>m||a-t>p)&&(r=0,t=a),r+=n,o=Math.max(o,r),i=a);return 1e3*o}getINP(e){const t=new Map;for(const i of e){const{interactionId:e,duration:o}=i;if(!e||o<40)continue;const r=t.get(e);(!r||o>r.duration)&&t.set(e,i)}return t.size>0?Math.round(Math.max(...t.values().map((({duration:e})=>e)))):0}getTBT(e){return Math.round(e.reduce(((e,{blockingDuration:t})=>e+t),0))}mark(e,t){var i,o;if(!this.userEnv.partConfigEnabled("frontend.performance_stats_product_plugin")||this.cooldownManager.isMetricOnCoolDown(e))return;((i=this.idToMarks)[o=e]??(i[o]=[])).push(t),performance.mark(t)}clearMarks(e){const{module:t,screen:i}=this.metaData.get(),o=this.idToMarks[e]??[];for(const r of o){const{duration:n}=performance.measure(e,o[0],r);this.statLog.send({name:"web_perf_custom",value:Math.round(n),keys:[t,i,e,r]})}this.cooldownManager.updateMetricTimestamp(e),delete this.idToMarks[e]}start(e){if(!this.userEnv.partConfigEnabled("frontend.performance_stats_product_plugin")||this.cooldownManager.isMetricOnCoolDown(e)||this.nameToDisconnect[e])return;const t=performance.now();0===Object.keys(this.nameToDisconnect).length&&this.observer.observe({entryTypes:Object.values(_)}),this.nameToDisconnect[e]=()=>{const{module:i,screen:o}=this.metaData.get(),r=this.entries.filter((e=>e.startTime>=t));for(const t of Object.values(_)){let n,a;switch(t){case"event":{const e=r.filter((e=>"event"===e.entryType));n="INP",a=this.getINP(e);break}case"layout-shift":{const e=r.filter((e=>"layout-shift"===e.entryType));n="CLS",a=this.getCLS(e);break}case"long-animation-frame":{const e=r.filter((e=>"long-animation-frame"===e.entryType));n="TBT",a=this.getTBT(e);break}}this.statLog.send({name:"web_perf_custom",value:a,keys:[i,o,e,n]})}}}stop(e){const t=this.nameToDisconnect[e];t&&(delete this.nameToDisconnect[e],t(),this.cooldownManager.updateMetricTimestamp(e),0===Object.keys(this.nameToDisconnect).length&&(this.observer.disconnect(),this.entries=[]))}constructor(e,t,i,o){this.userEnv=e,this.authService=t,this.metaData=i,this.statLog=o,this.nameToDisconnect={},this.idToMarks={},this.entries=[],this.observer=new PerformanceObserver((e=>{this.entries.push(...e.getEntries())})),this.cooldownManager=new l.CooldownManager(this.authService.userId,d.METRICS_SCOPE.PERFORMANCE_STATS_PRODUCT,this.userEnv.getConfigValue("performance_stats_product_id_cooldown")||8*u.HOUR)}}g=(0,o.__decorate)([r.scope.global(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===n.UserEnv?Object:n.UserEnv,void 0===a.AuthService?Object:a.AuthService,void 0===s.MetaData?Object:s.MetaData,void 0===c.Statlog?Object:c.Statlog])],g)},407869:(e,t,i)=>{"use strict";i.d(t,{ensureDIRootContainer:()=>o.ensureDIRootContainer});var o=i(425946)},701563:(e,t,i)=>{"use strict";i.d(t,{logDonutEvent:()=>a});var o=i(93642),r=i(452223),n=i(261910);function a(e,t){const{type:i,type_property:a,params:s}=(0,n.parseJSON)(e);a===r.ActionProductionStatEventTypes.TYPE_DONUT_PAYMENT_ITEM?o.donutStats.logEventAction({event_type:s.event_type,source:s.source,owner_id:s.owner_id}):t&&i===r.ProductionStatEventTypes.TYPE_NAVGO&&function(e,{params:t,typeProperty:i}){if(i===r.NavigationProductionStatEventTypes.TYPE_DONUT_DESCRIPTION_NAV_ITEM){const e=t.owner_id,i=t.track_code;if(!t||"number"!=typeof e||"string"!=typeof i)return;o.donutStats.logEventDescriptionClick({ownerId:e,trackCode:i})}}(0,{typeProperty:a,params:s})}},93642:(e,t,i)=>{"use strict";i.d(t,{donutStats:()=>s});var o=i(314309),r=i(452223),n=i(671398);class a{logEventAction(e){return this.actionStatCollector.logEvent(a.createDonutActionStatEvent(e))}logEventActionView(e){return this.logEventAction({...e,event_type:n.DonutActionEventType.PAYMENT_FORM})}logEventDescriptionClick(e){this.navStatCollector.logEvent({...a.createNavStatEventBase(),...a.createDescriptionClickStatEvent(e)})}static createDonutActionStatEvent(e){return{type:r.ActionProductionStatEventTypes.TYPE_DONUT_PAYMENT_ITEM,[r.ActionProductionStatEventTypes.TYPE_DONUT_PAYMENT_ITEM]:e}}static createNavStatEventBase(){return{screen:"wall",subtype:r.NavigationProductionStatEventTypes.GO}}static createDescriptionClickStatEvent(e){return{item:a.processClickParamsToEventItem(e),type:r.NavigationProductionStatEventTypes.TYPE_DONUT_DESCRIPTION_NAV_ITEM,[r.NavigationProductionStatEventTypes.TYPE_DONUT_DESCRIPTION_NAV_ITEM]:{}}}static processClickParamsToEventItem(e){return{type:r.EventItemType.BROWSER,owner_id:e.ownerId,track_code:e.trackCode}}constructor(){this.productionStatCollector=new o.ProductionStatCollector,this.actionStatCollector=new o.ActionStatCollector(this.productionStatCollector),this.navStatCollector=new o.NavigationStatCollector(this.productionStatCollector)}}const s=new a},604341:(e,t,i)=>{"use strict";i.d(t,{TaskQueue:()=>n});var o=i(402210),r=i.n(o);class n{get events(){return this._emitter}static migrate(e,t=()=>{}){const i=new n(t);return i.pause(),e&&e.destroy&&e._handlers&&e._q&&(e.destroy(),Object.keys(e._handlers).forEach((t=>{const o=e._handlers[t];i.setHandler(t,o,o.once)})),e._q.forEach((e=>i.push(e)))),i.restart(),i}setupGc(e){this._gcTimer&&clearInterval(this._gcTimer),this._gcTimer=setInterval(this._gcTask.bind(this),e||n._gcDefaultInterval)}_next(e=!1){this._timer=setTimeout(this._processNext.bind(this),e?0:this._timerInterval)}_gcTask(){this.pause(),this._emitter.emit("ev_gc_start");const e=this._q.filter((e=>e.postponed));this._q=this._q.filter((e=>!e.postponed)),this._emitter.emit("ev_gc_end",e),this.restart()}_processNext(){const[e]=this._q.splice(0,1);if(!e)return void this.pause();const t=this._handlers[e.selector];if(t?.once&&this.removeHandler(e.selector),!t)return e.postponed||(e.postponed=!0),this._q.push(e),void(this._timer&&this._next());let i;this._emitter.emit("ev_task_start",e.selector),window._tqVerbose&&console.info("Running evbus task",e.selector);try{i=Promise.resolve(t(e))}catch(e){i=Promise.reject(e)}i.then((()=>{this._next(!0)}),(t=>{this._errorHandler&&this._errorHandler(e,t),this._next(!0)}))}constructor(e=()=>{}){this._errorHandler=e,this._timerInterval=15,this._handlers=Object.create(null),this._emitter=new(r()),this._q=[],this.destroy=()=>{this.pause(),clearInterval(this._gcTimer)},this.pause=()=>{this._timer&&(clearTimeout(this._timer),this._timer=void 0,this._emitter.emit("ev_paused"))},this.restart=()=>{this._timer||(this._next(),this._emitter.emit("ev_restarted"))},this.push=e=>{this._q.push(e),this.restart()},this.setHandler=(e,t,i=!1)=>{t.once=i,this._handlers[e]=t,this._emitter.emit("ev_new_handler",e)},this.removeHandler=e=>{delete this._handlers[e],this._emitter.emit("ev_rm_handler",e)},this._next()}}n._gcDefaultInterval=5e3},338329:(e,t,i)=>{"use strict";i.d(t,{init:()=>o.init,initLazy:()=>o.initLazy,processExecData:()=>r.processExecData,tq:()=>o.tq});var o=i(530107),r=i(258230)},530107:(e,t,i)=>{"use strict";i.d(t,{init:()=>c,initLazy:()=>l,tq:()=>d});var o=i(604341),r=i(120517),n=i(540462),a=i(258230);const s=()=>!!(0,a.containerNode)()._tq,c=(e=r.onDomReady)=>{if((0,n.partConfigEnabled)("lazy_tq_init"))return;const t=(0,a.containerNode)();s()?(t._tqi=o.TaskQueue.migrate(t._tqi,a.tqErrorHandler),t._tqs=o.TaskQueue.migrate(t._tqs,a.tqErrorHandler),(0,a.refreshHandlers)(e)):(0,a.initTq)(e)},l=(e=r.onDomReady)=>{if(!(0,n.partConfigEnabled)("lazy_tq_init"))if(document.head)s()||c(e);else{const t=new MutationObserver((()=>{document.head&&(l(e),t.disconnect())}));t.observe(document.documentElement,{childList:!0})}},d=(0,a.tqgen)("tq")},258230:(e,t,i)=>{"use strict";i.d(t,{containerNode:()=>u,initTq:()=>S,processExecData:()=>v,refreshHandlers:()=>A,tqErrorHandler:()=>d,tqgen:()=>_,tqi:()=>p,tqs:()=>m});var o=i(964025),r=i(540462),n=i(604341),a=i(120517),s=i(298077);const c={click:1,mouseover:1,mouseout:1,keyup:1,keydown:1,change:1,paste:1},l=["focus","mouseenter","mouseleave"],d=(e,t)=>{const i={message:"Task execution error",data:{taskName:e.selector,type:void 0===e.payload.dataAttrs?"startup_task":"interactive_task",params:JSON.stringify(void 0===e.payload.dataAttrs?e.payload.data:e.payload.dataAttrs)}};(0,s.logError)(t,{environment:"task_queue",breadcrumb:i}),console.error(t)},u=()=>{if(!document.head)throw new Error("Document must be loaded before queue init");return document.head},_=e=>()=>{const t=u();if((0,r.partConfigEnabled)("lazy_tq_init")&&(t._tq||S(a.onDomReady)),!t["_"+e])throw new Error(e+" not initialized");return t["_"+e]},p=_("tqi"),m=_("tqs"),g=e=>t=>{if(t.type!==e||!t.target||!e)return;let i=(e=>e.nodeType===Node.TEXT_NODE?e.parentNode:(0,r.partConfigEnabled)("web_task_queue_global_handler_init_svg_fix")?"svg"===e.nodeName?e.parentNode:"path"===e.nodeName?e.parentNode?.parentNode:e:e)(t.target);if((0,o.isReactHTMLElement)(i)||!i.dataset)return;let n=i.dataset[`task${e.toUpperCase()[0]+e.slice(1)}`];if(!n){if("click"!==t.type)return;const o=i.closest("[data-task-click]");if(!o)return;i=o,n=o.dataset[`task${e.toUpperCase()[0]+e.slice(1)}`]}if(n){if(i.dataset.prevent&&t instanceof MouseEvent&&"A"===i.tagName){const e=i.hasAttribute("href"),o=t.ctrlKey||t.metaKey;if(e&&o)return}if(p().push({selector:n,payload:{target:i,dataAttrs:i.dataset,event:t},postponed:!1,createTime:Date.now()}),i.dataset.prevent)return 2&Number(i.dataset.prevent)&&t.stopPropagation(),t.preventDefault(),!1}},v=(e,t)=>{let i={};try{i=JSON.parse(e)}catch(t){console.error("Failed to parse JSON: ",e)}for(let e in i)i.hasOwnProperty(e)&&m().push({selector:e,payload:{target:t,data:i[e]},postponed:!1,createTime:Date.now()})},f=e=>{if(e.matches("[data-exec]")){const t=e.dataset.exec||"{}";e.removeAttribute("data-exec"),v(t,e)}},y=e=>{for(const t of l){const i=`data-task-${t}`;if(e.hasAttribute(i)){const o=e.getAttribute(i)??"";e.removeAttribute(i),e.addEventListener(t,(t=>{const i=p()._handlers[o];Promise.resolve(null).then((()=>i?.({selector:o,payload:{dataAttrs:e.dataset,target:e,event:t},postponed:!1,createTime:Date.now()}))).catch((e=>console.error(e)))}),{passive:!0})}}},E=(e=document)=>{for(const t of e.querySelectorAll("[data-exec]"))(t instanceof HTMLElement||t instanceof SVGElement)&&f(t);for(const t of l)for(const i of e.querySelectorAll(`[data-task-${t}]`))(i instanceof HTMLElement||i instanceof SVGElement)&&y(i)},A=e=>e((()=>{((e,t)=>{for(let i in t)t.hasOwnProperty(i)&&e.removeEventListener(i,t[i])})(document.body,u()._tqhl),u()._tqhl=(e=>{const t={};for(let i in c){if(!c.hasOwnProperty(i))continue;const o=g(i);e.addEventListener(i,o),t[i]=o}return t})(document.body)})),S=e=>{const t=u();t._tqs=new n.TaskQueue(d),t._tqi=new n.TaskQueue(d),A(e),t._tq={setInteractiveHandler:(e,i,o=!1)=>t._tqi.setHandler(e,i,o),setStartupHandler:(i,o,r=!1)=>{t._tqs.setHandler(i,o,r),e((()=>{t._tqs.setupGc(),t._tqs.restart()}))}},e((()=>{t._tqi.setupGc(),i._dG("_obs",new MutationObserver((function(e){for(let t of e)for(let e of t.addedNodes)(e instanceof HTMLElement||e instanceof SVGElement)&&(f(e),y(e),E(e))}))),window._obs.observe(document,{subtree:!0,childList:!0,attributes:!0}),E(document)}))}},374339:(e,t,i)=>{"use strict";i.d(t,{getAdAttribute:()=>c,hasAdElementAttributes:()=>u,hideAdAttributesOnTarget:()=>s,removeAdAttribute:()=>d,updateAdAttribute:()=>l});var o=i(540462),r=i(33414);const n=()=>(0,o.partConfigEnabled)("post_adblock_protection_promo"),a=e=>e.replace(/^data-/,"");function s(e,t){if(!n())return;t.matches(r.POST_SELECTOR_WHITELIST)&&(e.maskPost(t),t.removeAttribute(r.DATA_POST_LOCATOR_ATTR));const i=t.querySelectorAll(r.POST_SELECTOR_WHITELIST);for(const t of i)e.maskPost(t),t.removeAttribute(r.DATA_POST_LOCATOR_ATTR)}function c(e,t){if(!e)return null;const i=a(t);return n()?e.adAttrs?.[i]??e.getAttribute(`data-${i}`):e.getAttribute(`data-${i}`)}function l(e,t,i){if(!e)return;const o=a(t);n()?(e.adAttrs||(e.adAttrs={}),e.adAttrs[o]=i):e.setAttribute(`data-${o}`,i)}function d(e,t){if(!e)return;const i=a(t);n()?e&&e.adAttrs&&delete e.adAttrs[i]:e.removeAttribute(`data-${i}`)}function u(e){if(!e)return!1;const t=e.adAttrs&&0!==Object.keys(e.adAttrs).length;return!(!n()||!t)||!!e.getAttributeNames().find((e=>r.DATA_AD_ATTR_REGEXP.test(e)))}},33414:(e,t,i)=>{"use strict";i.d(t,{AD_LINKS_SELECTOR:()=>c,DATA_AD_ATTR_REGEXP:()=>l,DATA_AD_DETAILS_ATTR:()=>n,DATA_AD_RECCOMENDATION_INFO_ATTR:()=>a,DATA_ERID_MARKER_ATTR:()=>u,DATA_POST_LOCATOR_ATTR:()=>r,DATA_SMOKEGUARD_ATTR:()=>p,ERID_MARKER_PROP:()=>d,EVENT_HANDLER_SELECTORS_TO_HIDE:()=>_,FAKE_ALPHABET:()=>m,OBFUSCATED_ATTR:()=>g,POST_ACTION_MENU_ITEM_SELECTOR:()=>f,POST_MENU_OPENER_SELECTOR:()=>v,POST_OBFUSCATABLE_ELEMENT_SELECTOR:()=>y,POST_SELECTOR_WHITELIST:()=>s,smokeGuardElementClasses:()=>E});var o=i(398402);const r="data-post-locator",n="data-ad-details-link",a="data-ad-recommendation-info-link",s=`[${r}],${o.FEED_POST_INDICATOR_CLASSNAME_INDICATOR}`,c=["adaato","msadto"].map((e=>`a[href*="away.php?${e}="]`)).join(","),l=/^data-ad\b/,d="marker_id",u=`data-${d}`,_=[["click","wall.showIgnoreItemReasons"],["click","wall.adBlockClickStat"],["click","wall.markAsSpam"],["click","wall.ignoreAdsOwner"]],p="data-smokeguard",m=Array.from("0123456789abcdefghijklmnopqrstuvwxyzабвгдеклмнопртсефхцчшц".repeat(3)).sort((()=>Math.random()-.5)),g="smokeguard-obfuscated",v=[".ads_ad_action_menu_list",".ui_actions_menu_wrap"].join(", "),f=".PostHeaderActions .ui_actions_menu > .ui_actions_menu_item",y=[f,".PostHeaderSubtitle"].join(", "),E={HIDDEN:"SmokeGuardElement--hidden",VISIBLE:"SmokeGuardElement--visible"}},195995:(e,t,i)=>{"use strict";i.d(t,{obfuscateChildNodes:()=>c,obfuscateDataSmokeguardElements:()=>l});var o=i(33414),r=i(374339);const n=(e=!1)=>{const t=document.createElement(Math.random()>.5?"span":"div");return t.setAttribute("aria-hidden",e?"true":"false"),!e&&Math.random()>.5&&t.removeAttribute("aria-hidden"),t.classList.add("SmokeGuard__char"),e&&t.classList.add("SmokeGuard__char--fake"),t},a=({char:e,fake:t})=>{if(!t&&Math.random()>.7)return document.createTextNode(e);const i=n(t);return i.textContent=e,i},s=(e,t=!1,i=0)=>{if(0===e.length)return document.createTextNode("");if(1===e.length)return a(e[0]);const o=0===i?document.createDocumentFragment():n();if(t){const r=Math.trunc(Math.random()*(e.length-2)+1);o.append(s(e.slice(0,r),t,i+1),s(e.slice(r),t,i+1))}else for(const t of e)o.append(a(t));return o};function c(e,t=!1){if(!(0,r.getAdAttribute)(e,o.OBFUSCATED_ATTR)){for(const i of e.childNodes){if(i.nodeType===Node.TEXT_NODE&&i.textContent){const t=Array.from(i.textContent).reduce(((e,t,i)=>{if(e.push({char:t,fake:!1}),i%3==0||1===i){const t=o.FAKE_ALPHABET[Math.floor(Math.random()*o.FAKE_ALPHABET.length)];e.push({char:t,fake:!0})}return e}),[]),r=s(t);e.replaceChild(r,i)}t&&i.nodeType===Node.ELEMENT_NODE&&c(i,t)}(0,r.updateAdAttribute)(e,o.OBFUSCATED_ATTR,"true")}}function l(e){e.matches(`[${o.DATA_SMOKEGUARD_ATTR}]`)&&(c(e),e.replaceWith(...e.childNodes));const t=e.querySelectorAll(`[${o.DATA_SMOKEGUARD_ATTR}]`);for(const e of t)c(e),e.replaceWith(...e.childNodes)}},115939:(e,t,i)=>{"use strict";i.d(t,{AdBlockPostMasker:()=>c});var o=i(898848),r=i(558137),n=i(33414),a=i(195995),s=i(866467);class c{setAdBlockDetected(e){this.adBlockDetected=e}maskPost(e){this.shouldSkip(e)||(this.maskSubtitle(e),this.maskPostId(e),this.hideAdDetailsHref(e),this.hideReccomendationInfoHref(e),this.hideEridMarkerId(e),this.hideAdHtmlEventsHandlers(e),this.hideDataAdAttributes(e),this.hideAdAwayLinks(e),this.hideActionMenuItemHandlers(e),this.obfuscateNodes(e))}shouldSkip(e){return!!e.querySelector('img[src*="yandex.net/get-direct"]')}isMailRuAds(e){return e.id.startsWith("postadsite")}getOriginalPostId(e){return this.postIdMapping.maskedToOriginal[e]??e}getMaskedPostId(e){return this.postIdMapping.originalToMasked[e]??e}hideDataAdAttributes(e){const{attributes:t}=e;Object.values(t).filter((e=>n.DATA_AD_ATTR_REGEXP.test(e.nodeName))).forEach((t=>{e.adAttrs||(e.adAttrs={}),e.adAttrs[t.nodeName.replace("data-","")]=t.nodeValue,e.removeAttribute(t.nodeName)}))}maskSubtitle(e){const t="PostHeaderSubtitle__link",i=e.querySelector(".PostHeaderSubtitle");if(!i)return;const o=document.createElement("template");o.innerHTML=`<time class="${t} ${n.smokeGuardElementClasses.HIDDEN}">\n    <span class="rel_date rel_date_needs_update" abs_time="${(0,s.getLang)("global_just_now")}" time="${Math.trunc(Date.now()/1e3)}">\n    ${(0,s.getLang)("global_just_now")}\n    </span>\n    </time>`;let r=i.querySelector(`.${t}`);if(r){l(r),d(r,"click"),r.classList.add(n.smokeGuardElementClasses.VISIBLE);const e=r.querySelector("time");e?e.classList.add(n.smokeGuardElementClasses.VISIBLE):r.prepend(o.content)}else{r=document.createElement("a");const e=document.createElement("template");e.innerHTML=`<a class="${t} ${n.smokeGuardElementClasses.HIDDEN}" role="link">\n        ${o.innerHTML}\n      </a>`,i.prepend(e.content)}}hideActionMenuItemHandlers(e){const t=e.querySelector(n.POST_MENU_OPENER_SELECTOR);t&&(d(t,"mouseover"),d(t,"mouseout"));for(const t of e.querySelectorAll(n.POST_ACTION_MENU_ITEM_SELECTOR))d(t,"click")}hideAdHtmlEventsHandlers(e){for(const[t,i]of n.EVENT_HANDLER_SELECTORS_TO_HIDE){const o=[i[0].toUpperCase()+i.slice(1),i[0].toLowerCase()+i.slice(1)].map((e=>`[on${t}*="${e}"]`)).join(", ");e.matches(o)&&d(e,t);for(const i of e.querySelectorAll(o))d(i,t)}}hideEridMarkerId(e){const t=e.querySelector(`[${n.DATA_ERID_MARKER_ATTR}]`);t&&(t.adAttrs||(t.adAttrs={}),t.adAttrs[n.ERID_MARKER_PROP]=t.getAttribute(n.DATA_ERID_MARKER_ATTR),t.removeAttribute(n.DATA_ERID_MARKER_ATTR))}hideReccomendationInfoHref(e){const t=e.querySelector(`[${n.DATA_AD_RECCOMENDATION_INFO_ATTR}]`);t&&(t.removeAttribute(n.DATA_AD_RECCOMENDATION_INFO_ATTR),l(t))}hideAdDetailsHref(e){const t=e.querySelector(`[${n.DATA_AD_DETAILS_ATTR}]`);t&&(t.removeAttribute(n.DATA_AD_DETAILS_ATTR),t.href=`/away.php?to=${encodeURIComponent(t.href)}`,this.adBlockDetected&&(t.href=`${t.href}&delay=1`),l(t))}maskPostId(e){if(!this.isMailRuAds(e))return;const t=e.id;let i=parseInt(e.dataset.postAuthorId??"",10);if(!i){const e=(0,o.irand)(6,8);i=Math.trunc(Math.random()*10**e)}i=i>0?-1*i:i;const r=e.id.replace(/adsite_?/,`${i}_`);e.id=r,Object.defineProperty(e,"id",{get:()=>t,set:t=>e.setAttribute("id",t)}),this.postIdMapping.originalToMasked[t]=r,this.postIdMapping.maskedToOriginal[r]=t}hideAdAwayLinks(e){if(this.isMailRuAds(e))for(const t of e.querySelectorAll(n.AD_LINKS_SELECTOR)){if(this.adBlockDetected){const e=new URL(t.href);e.searchParams.append("delay","1"),t.href=e.href}l(t)}}obfuscateNodes(e){const t=e.querySelectorAll(n.POST_OBFUSCATABLE_ELEMENT_SELECTOR);for(let e of t)(0,a.obfuscateChildNodes)(e)}constructor(){this.postIdMapping={originalToMasked:{},maskedToOriginal:{}}}}function l(e){if(!e.hasAttribute("href"))return;const{href:t,target:i}=e;e.setAttribute("role","link"),e.removeAttribute("href"),e.removeAttribute("target"),e.adAttrs||(e.adAttrs={}),e.adAttrs.href=t,e.addEventListener("click",(()=>{e.setAttribute("href",t),e.setAttribute("target",i),setTimeout((()=>{e.removeAttribute("href"),e.removeAttribute("target")}),0)}))}function d(e,t){const i=`on${t}`,o=e?.[i];"function"==typeof o&&(e.addEventListener(t,o),e.removeAttribute(i))}c.getInstance=(0,r.makeSharedState)("adblock_protection/post_masker",(()=>new c),{version:1})},398402:(e,t,i)=>{"use strict";i.d(t,{FEED_POST_INDICATOR_CLASSNAME_INDICATOR:()=>o,MVK_WALL_ITEM_SELECTOR:()=>n,WEB_WALL_POST_SELECTOR:()=>r});const o=".feed_post_indicator",r=`.post, .wl_post, ${o}`,n=`.wall_item, .post_item, .js-wall_item, ${o}`},111476:(e,t,i)=>{"use strict";i.d(t,{FeedDonutPaymentStats:()=>n});var o=i(314309),r=i(452223);const n={paymentFromLikes(e,t,i,n){i&&o.feedPostDonutPaymentStatsCollector.logEvent({subtype:r.FeedPostDonutPaymentEventSubtypeTypes.LIKES_ACTIVITY},{id:e,owner_id:t,track_code:i,type:r.EventItemType.POST},n??void 0)},paymentFromFooter(e,t,i,n){i&&o.feedPostDonutPaymentStatsCollector.logEvent({subtype:r.FeedPostDonutPaymentEventSubtypeTypes.FOOTER},{id:e,owner_id:t,track_code:i,type:r.EventItemType.POST},n??void 0)}}},457872:(e,t,i)=>{"use strict";i.d(t,{FeedPostMenuStats:()=>n});var o=i(660521),r=i(452223);const n={sendDonut(e,t){e&&o.feedItemMenuActionCollector.logEvent({action:"send_donut"},{track_code:e,type:r.EventItemType.POST},t??void 0)},postStat(e,t){e&&o.feedItemMenuActionCollector.logEvent({action:"post_stat"},{track_code:e,type:r.EventItemType.POST},t??void 0)},editPost(e,t){e&&o.feedItemMenuActionCollector.logEvent({action:"edit_post"},{track_code:e,type:r.EventItemType.POST},t??void 0)},copyERID(e,t){e&&o.feedItemMenuActionCollector.logEvent({action:"copy_erid"},{track_code:e,type:r.EventItemType.ADS},t??void 0)},openAdvertiserInfo(e,t){e&&o.feedItemMenuActionCollector.logEvent({action:"open_advertiser_info"},{track_code:e,type:r.EventItemType.ADS},t??void 0)},deletePost(e,t){e&&o.feedItemMenuActionCollector.logEvent({action:"delete_post"},{track_code:e,type:r.EventItemType.POST},t??void 0)},closeComments(e,t){e&&o.feedItemMenuActionCollector.logEvent({action:"close_comments"},{track_code:e,type:r.EventItemType.POST},t??void 0)},openComments(e,t){e&&o.feedItemMenuActionCollector.logEvent({action:"open_comments"},{track_code:e,type:r.EventItemType.POST},t??void 0)},archivePost(e,t){e&&o.feedItemMenuActionCollector.logEvent({action:"archive_post"},{track_code:e,type:r.EventItemType.POST},t??void 0)},clickToDots(e,t,i=r.EventItemType.POST){e&&o.feedItemMenuActionCollector.logEvent({action:"click_to_dots"},{track_code:e,type:i},t??void 0)},copyLink(e,t,i=r.EventItemType.POST){e&&o.feedItemMenuActionCollector.logEvent({action:"copy_link"},{track_code:e,type:i},t??void 0)},makeDonutPostPublic(e,t,i=r.EventItemType.POST){e&&o.feedItemMenuActionCollector.logEvent({action:"make_donut_post_public"},{track_code:e,type:i},t??void 0)},openOriginal(e,t,i=r.EventItemType.POST){e&&o.feedItemMenuActionCollector.logEvent({action:"open_original"},{track_code:e,type:i},t??void 0)}}},24744:(e,t,i)=>{"use strict";i.d(t,{useBodyPropertyNumberValue:()=>r});var o=i(296540);const r=e=>(0,o.useSyncExternalStore)((e=>(window.addEventListener("spaReady",e),()=>window.removeEventListener("spaReady",e))),(()=>function(e){return parseInt(getComputedStyle(document.body).getPropertyValue(e),10)||0}(e)),(()=>0))},990275:(e,t,i)=>{"use strict";i.d(t,{useHeaderHeight:()=>r});var o=i(24744);const r=()=>(0,o.useBodyPropertyNumberValue)("--header-height")},907678:(e,t,i)=>{"use strict";i.d(t,{usePageBlockOffset:()=>r});var o=i(24744);const r=()=>(0,o.useBodyPropertyNumberValue)("--page-block-offset")},650353:(e,t,i)=>{"use strict";i.d(t,{convertAttachesToPhpMedia:()=>p,convertKludgesToAttaches:()=>_,getRemovedToken:()=>f,isEventForMarusia:()=>v,isOnboardingFindFriendsLink:()=>g,isPinnedSortId:()=>m});var o=i(898848),r=i(312641),n=i(105330),a=i(542435),s=i(182622);function c(e,t=[]){const[i,o]=e.split("_");return[i,o,t]}function l(e,t,i=0,o=0){if(o>50)return[[],e.length];const r=[];let n="";for(;i<e.length;){const a=e[i];if("id"===a)n=t[i];else if(","===a&&n)r.push(c(n)),n="";else if("("===a){const[a,s]=l(e,t,i+1,o+1);i=s,r.push(c(n,a)),n=""}else if(")"===a)return""!==n&&r.push(c(n)),[r,i];i++}return n&&r.push(c(n)),[r,i]}let d={};function u(e){if(d[e])return d[e];const t=e?e.length:0,i=[],o=[];let r="";for(let n=0;n<t;n++){const t=e[n],a=t.charCodeAt(0);a>=48&&a<=57||"_"===t||"-"===t?r+=t:"("!==t&&")"!==t&&":"!==t&&","!==t||(""!==r&&(o.push(r),i.push("id"),r=""),o.push(t),i.push(t))}r.length>0&&(o.push(r),i.push("id"));const[n]=l(i,o);return Object.keys(d).length>300&&(d={}),d[e]=n,n}function _(e,t){const i=[];e.fwd_count?i.push({type:"mail",id:-t,object:{fwd_count:e.fwd_count}}):e.fwd&&i.push({type:"mail",id:-t,object:{fwd_count:u(e.fwd).length}});for(let t=1;e[`attach${t}_type`];++t)switch(e[`attach${t}_type`]){case"call":i.push({type:e[`attach${t}_type`],id:e[`attach${t}`],initiatorId:(0,o.intval)(e[`attach${t}_call_initiator_id`]),state:e[`attach${t}_call_state`],duration:(0,o.intval)(e[`attach${t}_call_duration`]),receiverId:(0,o.intval)(e[`attach${t}_call_receiver_id`])});break;case"doc":if("audiomsg"===e[`attach${t}_kind`]){const o=e.attachments?JSON.parse(e.attachments)[0]:{};i.push({type:e[`attach${t}_type`],kind:"audio_message",id:e[`attach${t}`],audio_message:o.audio_message});break}default:i.push({type:e[`attach${t}_type`],id:e[`attach${t}`],kind:e[`attach${t}_kind`],productId:e[`attach${t}_product_id`]})}return e.geo&&i.push({type:"geo",id:e.geo}),i}function p(e){return e.map((e=>{const t="audiomsg"===e[2]?"audio_message":e[2];return`${e[0]}:${e[1]}:${t}`})).join(",")}function m(e){return e>0&&(e|r.PINNED_CONVERSATION_BIT_MASK)===r.PINNED_CONVERSATION_BIT_MASK}function g(e){return new RegExp(`(^(https?:\\/\\/)?([a-z0-9_\\-.]+\\.)?${n.VK_SITE_REGEX_SOURCE_UNSAFE})?\\/onboarding_find_friends`).test(decodeURIComponent(e))}function v(e){return e.type===a.ADD_MESSAGE&&(0,s.isMarusiaPeer)(e.peerId)}const f=(e,t)=>{if(t.length<e.length)return null;const i=new Set(e.map((({value:e})=>e)));for(let e=0;e<t.length;e++){const{value:o}=t[e];if(!i.has(o))return o}return null}},979805:(e,t,i)=>{"use strict";i.d(t,{getMessageFromTuple:()=>a,hasUserMentions:()=>s});var o=i(12473),r=i(650353),n=i(468073);const a=([e,t,i,a,s,c,l,d,u,_])=>{const p=Object.assign({},c||{},l||{});return Array.isArray(p.marked_users)&&(p.marked_users=p.marked_users.filter((e=>Object.values(o.MARKED_TYPE).includes(e[0])))),{messageId:e,flags:t,peerId:i,date:a,attaches:(0,r.convertKludgesToAttaches)(p,e),subject:p.title||"",text:s,kludges:p,randomId:d,userId:n.Ranges.isChatOrChannelPeer(i)?Number(p.from)||0:i,update_time:_,chat_local_id:u}};function s(e,t){return!!e.kludges&&(e.kludges.marked_users||[]).some((e=>{if(e[0]!==o.MARKED_TYPE.MENTIONS)return!1;switch(e[1]){case"all":return!0;case"online":return e[2].includes(t);default:return e[1].includes(t)}}))}},89473:(e,t,i)=>{"use strict";i.d(t,{ADD_MESSAGE:()=>n.ADD_MESSAGE,CHANGE_PEER:()=>n.CHANGE_PEER,CHANGE_TAB:()=>n.CHANGE_TAB,CONVERSATION_UPDATED:()=>n.CONVERSATION_UPDATED,CONVO_MAJOR_ID_CHANGED:()=>n.CONVO_MAJOR_ID_CHANGED,CONVO_MINOR_ID_CHANGED:()=>n.CONVO_MINOR_ID_CHANGED,DELETE_DIALOG:()=>n.DELETE_DIALOG,EDIT_MESSAGE:()=>n.EDIT_MESSAGE,FAILED_MESSAGE:()=>n.FAILED_MESSAGE,FLAG_AUDIO_MESSAGE_LISTENED:()=>n.FLAG_AUDIO_MESSAGE_LISTENED,FLAG_DELETED:()=>n.FLAG_DELETED,FLAG_DELETE_BY_TTL:()=>n.FLAG_DELETE_BY_TTL,FLAG_HAS_REACTIONS:()=>n.FLAG_HAS_REACTIONS,FLAG_HAS_REPLY:()=>n.FLAG_HAS_REPLY,FLAG_IMPORTANT:()=>n.FLAG_IMPORTANT,FLAG_OUTBOUND:()=>n.FLAG_OUTBOUND,FLAG_SPAM:()=>n.FLAG_SPAM,FLAG_STEALTH:()=>n.FLAG_STEALTH,FOLDER_AD_TAG:()=>n.FOLDER_AD_TAG,FOLDER_HAS_BANNER:()=>n.FOLDER_HAS_BANNER,FOLDER_IMPORTANT:()=>n.FOLDER_IMPORTANT,INVALIDATE_MESSAGE:()=>n.INVALIDATE_MESSAGE,KEYBOARD_CALLBACK_RECEIVED:()=>n.KEYBOARD_CALLBACK_RECEIVED,MAIL_CHAT_FLAG_DISABLE_STICKERS_POPUP_AUTOPLAY:()=>n.MAIL_CHAT_FLAG_DISABLE_STICKERS_POPUP_AUTOPLAY,MAIL_CHAT_UPDATE_TYPE_ADMIN_GRANTED:()=>n.MAIL_CHAT_UPDATE_TYPE_ADMIN_GRANTED,MAIL_CHAT_UPDATE_TYPE_ADMIN_KICKED:()=>n.MAIL_CHAT_UPDATE_TYPE_ADMIN_KICKED,MAIL_CHAT_UPDATE_TYPE_BANNER_CHANGED:()=>n.MAIL_CHAT_UPDATE_TYPE_BANNER_CHANGED,MAIL_CHAT_UPDATE_TYPE_BUSINESS_NOTIFY_DATA_CHANGED:()=>n.MAIL_CHAT_UPDATE_TYPE_BUSINESS_NOTIFY_DATA_CHANGED,MAIL_CHAT_UPDATE_TYPE_CALL_IN_PROGRESS_CHANGED:()=>n.MAIL_CHAT_UPDATE_TYPE_CALL_IN_PROGRESS_CHANGED,MAIL_CHAT_UPDATE_TYPE_CONTACT_CONVERTED:()=>n.MAIL_CHAT_UPDATE_TYPE_CONTACT_CONVERTED,MAIL_CHAT_UPDATE_TYPE_FLAGS_CHANGED:()=>n.MAIL_CHAT_UPDATE_TYPE_FLAGS_CHANGED,MAIL_CHAT_UPDATE_TYPE_IS_NEW_CHANGED:()=>n.MAIL_CHAT_UPDATE_TYPE_IS_NEW_CHANGED,MAIL_CHAT_UPDATE_TYPE_KEYBOARD_CHANGED:()=>n.MAIL_CHAT_UPDATE_TYPE_KEYBOARD_CHANGED,MAIL_CHAT_UPDATE_TYPE_MESSAGE_REQUEST_CHANGED:()=>n.MAIL_CHAT_UPDATE_TYPE_MESSAGE_REQUEST_CHANGED,MAIL_CHAT_UPDATE_TYPE_PINNED:()=>n.MAIL_CHAT_UPDATE_TYPE_PINNED,MAIL_CHAT_UPDATE_TYPE_USER_JOINED:()=>n.MAIL_CHAT_UPDATE_TYPE_USER_JOINED,MAIL_CHAT_UPDATE_TYPE_USER_KICKED:()=>n.MAIL_CHAT_UPDATE_TYPE_USER_KICKED,MAIL_CHAT_UPDATE_TYPE_USER_LEFT:()=>n.MAIL_CHAT_UPDATE_TYPE_USER_LEFT,MESSAGE_REQUEST_STATUS_ACCEPTED:()=>n.MESSAGE_REQUEST_STATUS_ACCEPTED,MESSAGE_REQUEST_STATUS_NEW:()=>n.MESSAGE_REQUEST_STATUS_NEW,MESSAGE_REQUEST_STATUS_REJECTED:()=>n.MESSAGE_REQUEST_STATUS_REJECTED,MUTEX:()=>n.MUTEX,NOTIFY_SETTINGS_CHANGED:()=>n.NOTIFY_SETTINGS_CHANGED,PEER_PROFILE_TAGS_CHANGED_EVENT:()=>n.PEER_PROFILE_TAGS_CHANGED_EVENT,PEER_TAGS_CHANGED_EVENT:()=>n.PEER_TAGS_CHANGED_EVENT,REACTION_CREATE_OR_EDIT_EVENT:()=>n.REACTION_CREATE_OR_EDIT_EVENT,READ_INBOUND:()=>n.READ_INBOUND,READ_INBOUND_BY_CMID:()=>n.READ_INBOUND_BY_CMID,READ_OUTBOUND:()=>n.READ_OUTBOUND,READ_OUTBOUND_BY_CMID:()=>n.READ_OUTBOUND_BY_CMID,RECONNECTED:()=>n.RECONNECTED,RECONNECTING:()=>n.RECONNECTING,RECORDING_AUDIO:()=>n.RECORDING_AUDIO,REFRESH_LP_KEY:()=>n.REFRESH_LP_KEY,REPLACE_DIRECTORIES:()=>n.REPLACE_DIRECTORIES,REPLACE_FLAGS:()=>n.REPLACE_FLAGS,REPLACE_MESSAGE:()=>n.REPLACE_MESSAGE,RESEND:()=>n.RESEND,RESET_DIRECTORIES:()=>n.RESET_DIRECTORIES,RESET_FLAGS:()=>n.RESET_FLAGS,RESET_PEER:()=>n.RESET_PEER,RESYNC:()=>n.RESYNC,SET_DIRECTORIES:()=>n.SET_DIRECTORIES,SET_FLAGS:()=>n.SET_FLAGS,TRANSITION:()=>n.TRANSITION,TYPING:()=>n.TYPING,UNREAD_COUNT:()=>n.UNREAD_COUNT,UNREAD_REACTIONS:()=>n.UNREAD_REACTIONS,WAITING_FOR_RECONNECT:()=>n.WAITING_FOR_RECONNECT,constructEvent:()=>a,mutexEvent:()=>_,readInboundByCmidEvent:()=>d,readInboundEvent:()=>s,resetDirectoriesEvent:()=>c,resyncEvent:()=>u,setDirectoriesEvent:()=>l});var o=i(979805),r=i(898848),n=i(542435);function a(e){switch(e[0]){case 0:return function([,e]){return{type:n.DELETE,localId:e}}(e);case 1:return function([,e,t,i]){return{type:n.REPLACE_FLAGS,messageId:e,mask:t,peerId:i}}(e);case 2:return function([,e,t,i]){return{type:n.SET_FLAGS,messageId:e,flags:t,peerId:i}}(e);case 3:return function([,e,t,i]){return{type:n.RESET_FLAGS,messageId:e,flags:t,peerId:i}}(e);case 4:return function([,e,t,i,r,a,s,c,l,d,u,_]){return{type:n.ADD_MESSAGE,...(0,o.getMessageFromTuple)([Number(e),Number(t),Number(r),Number(a),s,c,l,d,u,_]),minorSortId:i}}(e);case 5:return function([,e,t,i,r,a,s,c,l,d,u]){return{type:n.EDIT_MESSAGE,...(0,o.getMessageFromTuple)([Number(e),Number(t),Number(i),Number(r),a,s,c,l,d,u])}}(e);case 6:return s(e);case 7:return function([,e,t,i]){return{type:n.READ_OUTBOUND,peerId:e,upToId:t,unread:i}}(e);case 10:return c(e);case 11:return function([,e,t]){return{type:n.REPLACE_DIRECTORIES,peerId:e,mask:t}}(e);case 12:return l(e);case 13:return function([,e,t,i]){return{type:n.DELETE_DIALOG,peerId:e,localId:t,leaveChat:i}}(e);case 18:return function([,e,t,i,r,a,s,c,l,d,u]){return{type:n.REPLACE_MESSAGE,...(0,o.getMessageFromTuple)([Number(e),Number(t),Number(i),Number(r),a,s,c,l,d,u])}}(e);case 19:return function([,e]){return{type:n.INVALIDATE_MESSAGE,messageId:e}}(e);case 20:return function([,e,t]){return{type:n.CONVO_MAJOR_ID_CHANGED,peerId:e,majorId:t}}(e);case 21:return function([,e,t]){return{type:n.CONVO_MINOR_ID_CHANGED,peerId:e,minorId:t}}(e);case 23:return function([,e,t]){return{type:n.PEER_TAGS_CHANGED_EVENT,peerId:e,peerTagsMask:t}}(e);case 51:return function([,e,t]){return{type:n.CHAT_CHANGED,chatId:e,self:t}}(e);case 52:return function([,e,t,i]){return{type:n.CONVERSATION_UPDATED,peerId:t,updateType:e,updateArg:i}}(e);case 63:return function([,e,t,i,o]){return{type:n.TYPING,peerId:e,userIds:t,totalCount:i,ts:o}}(e);case 64:return function([,e,t,i,o]){return{type:n.RECORDING_AUDIO,peerId:e,userIds:t,totalCount:i,ts:o}}(e);case 70:return function([,e,t]){return{type:n.VIDEO_CALL,userId:e,callId:t}}(e);case 80:return function([,e,t,i,o,r,a,s,c,l]){return{type:n.UNREAD_COUNT,count:e,countNotMuted:t,showOnlyNotMuted:i,businessNotifyUnread:o,headerTotalUnread:r,headerNotMutedUnread:a,archiveUnreadCount:s,archiveUnreadUnmutedCount:c,archiveMentionsCount:l}}(e);case 114:return function([,e]){const{peer_id:t,sound:i,disabled_until:o}=e||{};return{type:n.NOTIFY_SETTINGS_CHANGED,peerId:t,sound:i,disabledUntil:o}}(e);case 115:return function([,e]){return{type:n.INCOMING_CALL,payload:e}}(e);case 119:return function([,e]){const{event_id:t,owner_id:i,peer_id:o,action:r}=e;return{type:n.KEYBOARD_CALLBACK_RECEIVED,event_id:t,owner_id:i,peer_id:o,action:r}}(e);case 120:return function([]){return{type:n.PEER_PROFILE_TAGS_CHANGED_EVENT}}(e);case 601:return function([,e,...t]){const i=[],o=1===e?t.splice(2,1).pop():void 0,[r,a,s,...c]=t;for(let e=0;e<s;e++){const e=c.shift(),[t,o,,...r]=c.splice(0,e);i.push({reaction_id:t,count:o,...r?{user_ids:r}:void 0})}return{type:n.REACTION_CREATE_OR_EDIT_EVENT,subtype:e,peerId:r,cmid:a,reactionsCount:s,reactionCounters:i,...o?{reactionId:o}:void 0}}(e);case 602:return function([,e,t,...i]){return{type:n.UNREAD_REACTIONS,peerId:e,totalCount:t,cmids:i}}(e);case 10006:return d(e);case 10007:return function([,e,t,i]){return{type:n.READ_OUTBOUND_BY_CMID,peerId:e,upToCmid:t,unread:i}}(e);case-1:return u();case-2:return function([,e,t]){return{type:n.REFRESH_LP_KEY,key:e,url:t}}(e);case-3:return function([,e]){return{type:n.WAITING_FOR_RECONNECT,timeout:e}}(e);case-4:return{type:n.RECONNECTING};case-5:return{type:n.RECONNECTED};default:return function(e){return{type:n.EMPTY,params:e}}(e)}}function s([,e,t,i]){return{type:n.READ_INBOUND,peerId:e,upToId:t,unread:i}}function c([,e,t,i=!1]){return{type:n.RESET_DIRECTORIES,peerId:e,mask:t,local:i}}function l([,e,t,i=!1]){return{type:n.SET_DIRECTORIES,peerId:e,mask:t,local:i}}function d([,e,t,i]){return{type:n.READ_INBOUND_BY_CMID,peerId:e,upToCmid:t,unread:i}}function u(){return{type:n.RESYNC}}function _([,e,t,i,o,a]){return{type:n.MUTEX,free:!!(0,r.intval)(e)||(0,r.intval)(o)===window.vk.id,resource:t,peerId:(0,r.intval)(i),who:(0,r.intval)(o),name:a}}},542435:(e,t,i)=>{"use strict";i.d(t,{ADD_MESSAGE:()=>s,CHANGE_PEER:()=>L,CHANGE_TAB:()=>D,CHAT_CHANGED:()=>p,CONVERSATION_UPDATED:()=>m,CONVO_MAJOR_ID_CHANGED:()=>G,CONVO_MINOR_ID_CHANGED:()=>z,DELETE:()=>o,DELETE_DIALOG:()=>x,EDIT_MESSAGE:()=>F,EMPTY:()=>S,FAILED_MESSAGE:()=>R,FLAG_AUDIO_MESSAGE_LISTENED:()=>te,FLAG_DELETED:()=>Z,FLAG_DELETE_BY_TTL:()=>ie,FLAG_HAS_REACTIONS:()=>oe,FLAG_HAS_REPLY:()=>ee,FLAG_IMPORTANT:()=>X,FLAG_OUTBOUND:()=>q,FLAG_SPAM:()=>Q,FLAG_STEALTH:()=>J,FOLDER_AD_TAG:()=>se,FOLDER_HAS_BANNER:()=>ae,FOLDER_IMPORTANT:()=>ne,INCOMING_CALL:()=>W,INVALIDATE_MESSAGE:()=>B,KEYBOARD_CALLBACK_RECEIVED:()=>A,MAIL_CHAT_FLAG_DISABLE_STICKERS_POPUP_AUTOPLAY:()=>re,MAIL_CHAT_UPDATE_TYPE_ADMIN_GRANTED:()=>ce,MAIL_CHAT_UPDATE_TYPE_ADMIN_KICKED:()=>he,MAIL_CHAT_UPDATE_TYPE_BANNER_CHANGED:()=>me,MAIL_CHAT_UPDATE_TYPE_BUSINESS_NOTIFY_DATA_CHANGED:()=>ye,MAIL_CHAT_UPDATE_TYPE_CALL_IN_PROGRESS_CHANGED:()=>Ee,MAIL_CHAT_UPDATE_TYPE_CONTACT_CONVERTED:()=>fe,MAIL_CHAT_UPDATE_TYPE_FLAGS_CHANGED:()=>le,MAIL_CHAT_UPDATE_TYPE_IS_NEW_CHANGED:()=>Ae,MAIL_CHAT_UPDATE_TYPE_KEYBOARD_CHANGED:()=>ge,MAIL_CHAT_UPDATE_TYPE_MESSAGE_REQUEST_CHANGED:()=>ve,MAIL_CHAT_UPDATE_TYPE_PINNED:()=>de,MAIL_CHAT_UPDATE_TYPE_USER_JOINED:()=>ue,MAIL_CHAT_UPDATE_TYPE_USER_KICKED:()=>pe,MAIL_CHAT_UPDATE_TYPE_USER_LEFT:()=>_e,MESSAGE_REQUEST_STATUS_ACCEPTED:()=>we,MESSAGE_REQUEST_STATUS_NEW:()=>be,MESSAGE_REQUEST_STATUS_REJECTED:()=>Se,MUTEX:()=>M,NOTIFY_SETTINGS_CHANGED:()=>E,PEER_PROFILE_TAGS_CHANGED_EVENT:()=>Y,PEER_TAGS_CHANGED_EVENT:()=>K,REACTION_CREATE_OR_EDIT_EVENT:()=>$,READ_INBOUND:()=>c,READ_INBOUND_BY_CMID:()=>d,READ_OUTBOUND:()=>l,READ_OUTBOUND_BY_CMID:()=>_,RECONNECTED:()=>j,RECONNECTING:()=>H,RECORDING_AUDIO:()=>v,REFRESH_LP_KEY:()=>k,REPLACE_DIRECTORIES:()=>T,REPLACE_FLAGS:()=>n,REPLACE_MESSAGE:()=>U,RESEND:()=>N,RESET_DIRECTORIES:()=>b,RESET_FLAGS:()=>a,RESET_PEER:()=>O,RESYNC:()=>C,SET_DIRECTORIES:()=>I,SET_FLAGS:()=>r,TRANSITION:()=>P,TYPING:()=>g,UNREAD_COUNT:()=>y,UNREAD_REACTIONS:()=>u,VIDEO_CALL:()=>f,WAITING_FOR_RECONNECT:()=>V});const o="event_delete",r="event_set_flags",n="event_replace_flags",a="event_reset_flags",s="event_add_message",c="event_read_inbound",l="event_read_outbound",d="event_read_inbound_by_cmid",u="event_unread_reactions",_="event_read_outbound_by_cmid",p="event_chat_changed",m="event_chat_updated",g="event_typing",v="event_recoding_audio",f="event_video_call",y="event_unread_count",E="event_notify_settings_changed",A="event_keyboard_callback_received",S="event_empty",b="event_reset_directories",T="event_replace_directories",I="event_set_directories",C="event_resync",k="event_refresh_lp_key",P="transition_event",O="reset_peer",M="mutex",L="change_peer",D="event_change_tab",R="event_failed_message",N="event_resend",x="event_delete_dialog",F="event_edit_message",U="event_replace_message",B="event_invalidate_event",V="event_waiting_for_reconnect",H="event_reconnecting",j="event_reconnected",W="incoming_call",G="event_convo_major_id_changed",z="event_convo_minor_id_changed",K="peer_tags_changed",Y="peer_profile_tags_changed",$="reaction_create_or_edit",q=2,X=8,Q=64,Z=128,J=65536,ee=1<<21,te=4096,ie=1<<22,oe=1<<24,re=549755813888,ne=1,ae=8,se=32768,ce=3,le=4,de=5,ue=6,_e=7,pe=8,he=9,me=10,ge=11,ve=12,fe=13,ye=14,Ee=19,Ae=22,we=1,Se=2,be=3},182622:(e,t,i)=>{"use strict";function o(e){return 100===e}function r(e){return 333===e}function n(e){return-194070336===e}i.d(t,{isMarusiaPeer:()=>n,isSupportAgentPeer:()=>r,isVkAdminPeer:()=>o})},12473:(e,t,i)=>{"use strict";i.d(t,{AttachmentType:()=>r,MARKED_TYPE:()=>o});var o=function(e){return e[e.MENTIONS=1]="MENTIONS",e[e.CASPER=2]="CASPER",e}({}),r=function(e){return e.REPLY="reply",e.DOCUMENT="doc",e.MAIL="mail",e.CALL="call",e.STICKER="sticker",e.UGC_STICKER="ugc_sticker",e}({})},19589:(e,t,i)=>{"use strict";i.d(t,{ColorScheme:()=>s,ColorSchemeMode:()=>a.ColorSchemeMode,ColorSchemeName:()=>a.ColorSchemeName,colorScheme:()=>c});var o=i(396858),r=i(105330),n=i(636576),a=i(564048);class s{init(e){if(this.isExecuted)return;if(this.schemesMap=e.schemesMap,this.isModeSavingAllowed=e.isModeSavingAllowed??!0,this.setMode(e.mode),this.initSubscribers.forEach((e=>{e()})),(0,n.statlogsValueEvent)("web_dark_theme",this.getMode(),this.getScheme(),Number(this.isDarkScheme())),!s.isSchemesAutoSwitchingSupported())return;window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(e=>{this.currentMode===a.ColorSchemeMode.Auto&&this.setScheme(e.matches)})),this.isExecuted=!0}setScheme(e){s.isSchemesSupported()&&(this.applyScheme(document.body,e?a.ColorSchemeName.Dark:a.ColorSchemeName.Light),this.currentIsDark=e,document.querySelector("meta[name=theme-color]")?.setAttribute("content",e?a.SchemeColors.Dark:a.SchemeColors.Light),document.querySelector("meta[name=color-scheme]")?.setAttribute("content",e?"dark":"light"),this.isSchemeSavingAllowed&&(0,o.setCookie)("remixdark_color_scheme",Number(e),365),this.subscribers.forEach((e=>{e()})))}static getAppearanceByScheme(){switch(document.body.getAttribute("scheme")){case a.ColorSchemeName.Dark:case a.ColorSchemeName.WebDark:return"dark"}return"light"}isDarkScheme(){return this.currentIsDark}getMode(){return this.currentMode}getColorModeFromValue(e){const t=Object.values(a.ColorSchemeMode).find((t=>t===e));return t||null}setMode(e){let t=!1;switch(e){case a.ColorSchemeMode.Light:t=!1;break;case a.ColorSchemeMode.Dark:t=!0;break;case a.ColorSchemeMode.Auto:if(s.isSchemesAutoSwitchingSupported()){t=window.matchMedia("(prefers-color-scheme: dark)").matches}else e=a.ColorSchemeMode.Light}this.currentMode=e,this.setScheme(t),this.isModeSavingAllowed&&(0,o.setCookie)("remixcolor_scheme_mode",e,365)}getScheme(){return(0,r.isMvk)()?this.getMVKScheme():this.getWebScheme()}getMVKScheme(){return this.isDarkScheme()?a.ColorSchemeName.Dark:a.ColorSchemeName.Light}getWebScheme(){return this.isDarkScheme()?a.ColorSchemeName.WebDark:a.ColorSchemeName.WebLight}applyScheme(e,t){const i=this.schemesMap?.[t]||t;e.setAttribute("scheme",i)}subscribe(e){return this.subscribers.push(e),()=>{this.subscribers=this.subscribers.filter((t=>e!==t))}}onInit(e){return this.initSubscribers.push(e),()=>{this.initSubscribers=this.initSubscribers.filter((t=>e!==t))}}static isSchemesSupported(){return window.CSS&&CSS.supports&&CSS.supports("color","var(--custom-property)")}static isSchemesAutoSwitchingSupported(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme)").matches}constructor(){this.subscribers=[],this.initSubscribers=[],this.isExecuted=!1,this.isModeSavingAllowed=!0,this.isSchemeSavingAllowed=!0}}let c;c=window.colorScheme?window.colorScheme:new s,i._dG("colorScheme",c),i._dG("isSchemesSupported",s.isSchemesSupported.bind(null))},253003:(e,t,i)=>{"use strict";i.d(t,{processWaf:()=>u});var o=i(540462);const r=429,n="429.html",a="X-WAF-Redirect";function s(){return!(0,o.partConfigEnabled)("challenge_ajax_requests")}function c(e=""){return s()&&""!==e}let l=!1;function d(){l||(l=!0,location.reload())}function u(e){if(!s())return!1;let t=!1;if(e instanceof XMLHttpRequest){let i;try{i=e.getResponseHeader(a)}catch(e){}t=c(i||"")}else e&&(t=function(e){return s()&&e.status===r&&e.source===n}(e));return t&&d(),t}},725669:(e,t,i)=>{"use strict";i.d(t,{asyncComponent:()=>n});var o=i(296540),r=i(351118);function n(e,t){return(0,o.lazy)((()=>(0,r.asyncImportLoader)(e,3).then((e=>({default:t(e)})))))}},402187:(e,t,i)=>{"use strict";i.d(t,{browser:()=>r});const o=navigator.userAgent.toLowerCase(),r={version:(o.match(/.+(?:me|ox|on|rv|it|era|opr|ie|edge)[\/: ]([\d.]+)/)||[0,"0"])[1],opera:/opera/i.test(o)||/opr/i.test(o),vivaldi:/vivaldi/i.test(o),amigo:/amigo.*mrchrome soc/i.test(o),msie:/msie/i.test(o)&&!/opera/i.test(o)||/trident\//i.test(o)||/edge/i.test(o),msie6:/msie 6/i.test(o)&&!/opera/i.test(o),msie7:/msie 7/i.test(o)&&!/opera/i.test(o),msie8:/msie 8/i.test(o)&&!/opera/i.test(o),msie9:/msie 9/i.test(o)&&!/opera/i.test(o),msie_edge:/edge/i.test(o)&&!/opera/i.test(o),mozilla:/firefox/i.test(o),yabrowser:/yabrowser/i.test(o),whale:/whale/i.test(o),chrome:/chrome/i.test(o)&&!/edge/i.test(o),safari:!/chrome/i.test(o)&&/webkit|safari|khtml/i.test(o),iphone:/iphone/i.test(o),ipod:/ipod/i.test(o),iphone4:/iphone.*OS 4/i.test(o),ipod4:/ipod.*OS 4/i.test(o),ipad:/ipad/i.test(o),ios:/.+(ipod|ipad|iphone.*os)/i.test(o),android:/android/i.test(o),bada:/bada/i.test(o),mobile:/iphone|ipod|ipad|opera mini|opera mobi|iemobile|android/i.test(o),msie_mobile:/iemobile/i.test(o),safari_mobile:/iphone|ipod|ipad/i.test(o),opera_mobile:/opera mini|opera mobi/i.test(o),opera_mini:/opera mini/i.test(o),mac:/mac/i.test(o),windows7:/windows nt 6.1/i.test(o),windowsVista:/windows nt 6.0/i.test(o),windowsXp:/windows nt (5.2|5.1)/i.test(o),search_bot:/(yandex|google|stackrambler|aport|slurp|msnbot|bingbot|twitterbot|ia_archiver|facebookexternalhit)/i.test(o),smart_tv:/smart-tv|smarttv/i.test(o)}},330882:(e,t,i)=>{"use strict";i.d(t,{browser:()=>r.browser,browserFeatures:()=>o.browserFeatures,getBrowserKeyMatch:()=>o.getBrowserKeyMatch,initBrowserUtils:()=>o.initBrowserUtils,mobPlatforms:()=>o.mobPlatforms,redirectToMVK:()=>o.redirectToMVK});var o=i(878818),r=i(402187)},416368:(e,t,i)=>{"use strict";i.d(t,{processChallenge:()=>c,processFetchChallenge:()=>l});var o=i(540462);const r="X-Challenge",n="X-Challenge-Url";let a=!1;function s(e){if(!a){(0,o.partConfigEnabled)("is_not_defined_errors_redirect")&&window.dispatchEvent(new CustomEvent("redirect-challenge"));const t=URL.parse(e??"");if(!t)return;t.searchParams.append("back",window.location.href),a=!0,i._dG("isRedirectChallenge",!0),window.location.href=t.toString()}}function c(e){if(!(0,o.partConfigEnabled)("challenge_ajax_requests"))return!1;if(e instanceof XMLHttpRequest)try{if("required"===e.getResponseHeader(r))return s(e.getResponseHeader(n)),!0}catch(e){}return!1}function l(e){if(!(0,o.partConfigEnabled)("challenge_ajax_requests"))return!1;if(e)try{if("required"===e.headers.get(r))return s(e.headers.get(n)),!0}catch{}return!1}},695847:(e,t,i)=>{"use strict";function o(e){return navigator.clipboard?function(e){return navigator.clipboard.writeText(e)}(e):(r(e),Promise.resolve())}function r(e){const t=document.createElement("input"),i=document.activeElement;t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),i.focus()}i.d(t,{_copyWithFakeElement:()=>r,copyToClipboard:()=>o})},969686:(e,t,i)=>{"use strict";i.r(t),i.d(t,{fromQueryString:()=>s,toQueryString:()=>a});const o=new Map,r=function(e){if(o.get(e))return String(e);try{return encodeURIComponent(e)}catch(e){return""}},n=function(e){try{return decodeURIComponent(e)}catch(t){return o.set(e,1),e}};function a(e,t=!1){const i=[];for(const t in e){if(!e.hasOwnProperty(t))continue;const o=e[t];if(null!=o&&"function"!=typeof o)if(Array.isArray(o))for(let e=0,n=0,a=o.length;e<a;++e)null!=o[e]&&"function"!=typeof o[e]&&(i.push(r(t)+"["+n+"]="+r(o[e])),++n);else i.push(r(t)+"="+r(o))}return t||i.sort(),i.join("&")}function s(e){const t={};if(!e)return t;const i=e.split("&");for(let e=0;e<i.length;e++){const o=i[e].split("=");if(o[0]){const e=n(o[1]+"");if("[]"===o[0].substr(o.length-2)){const i=n(o[0].substr(0,o.length-2)),r=t[i];let a;a=t[i]&&Array.isArray(r)?r:[],a.push(e),t[i]=a}else t[n(o[0])]=e}}return t}},353557:(e,t,i)=>{"use strict";function o(e,t){let i;e=Math.max(e,0);const o=Math.floor(e%60);i=o<10?"0"+o:o;const r=(e=Math.floor(e/60))%60;return i=r+":"+i,((e=Math.floor(e/60))>0||t)&&(r<10&&(i="0"+i),i=e+":"+i),i}i.d(t,{formatTime:()=>o})},203763:(e,t,i)=>{"use strict";i.d(t,{dedupeAsyncCallback:()=>r});var o=i(351118);function r(e,t=(...e)=>e){const i=new Map;return(...r)=>{const n=t(...r);for(const[e,t]of i.entries())if((0,o.isEqual)(n,e))return t;const a=e(...r);return i.set(n,a),a.finally((()=>{i.delete(n)})),a}}},244990:(e,t,i)=>{"use strict";i.d(t,{resolveDeviceId:()=>n});i(396858);function o(){return Promise.all([i.e(61037),i.e("langs/web/grip-lib")]).then(i.bind(i,435689))}let r=null;async function n(){if(r)return r;try{const{initGrip:e}=await o();r=await e()}catch(e){r="empty"}return r}},581197:(e,t,i)=>{"use strict";i.d(t,{createElementFromHTML:()=>n,emptyNode:()=>a,findChildOrSelf:()=>m,getElementOffset:()=>s,getElementSize:()=>d,getH:()=>y,getJsonDataValue:()=>u,getSize:()=>r,getViewportSize:()=>c,getW:()=>f,getXY:()=>g,hide:()=>A,isVisibleInViewPort:()=>l,setGlobalCustomProperty:()=>_,show:()=>E,triggerAnimationClass:()=>p});var o=i(330882);function r(e){return[e&&e.offsetWidth||0,e&&e.offsetHeight||0]}function n(e){const t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}function a(e){if(e)for(;e.firstChild;)e.removeChild(e.firstChild)}function s(e){const t=e.getBoundingClientRect();return{left:t.left,top:t.top}}function c(){const{clientWidth:e,clientHeight:t}=document.documentElement;return{width:e,height:t}}function l(e,t=0){const i=e.getBoundingClientRect(),o=i.height*t,r=Math.max(document.documentElement.clientHeight,window.innerHeight);return i.bottom-o>0&&i.top-r+o<=0}function d(e){const{width:t,height:i}=e.getBoundingClientRect();return t&&i?{width:t,height:i}:{width:e.offsetWidth,height:e.offsetHeight}}const u=(e,t)=>{const i=e.getAttribute(t);if(i)try{return JSON.parse(i)}catch(e){return}},_=(e,t)=>{document.documentElement.style.setProperty(e,t)},p=(e,t,i)=>{e.classList.add(t),setTimeout((()=>{e.classList.remove(t)}),i)};function m(e,t){return e.matches(t)?e:e.querySelector(t)}function g(e){if(!e)return[0,0];const t=e.getBoundingClientRect();return[t.left+window.scrollX,t.top+window.scrollY]}const v=(e,t,i)=>{let o,r=[0,0];if(t&&e&&"border-box"===e.style.boxSizing&&(t=!1),e){function n(){e&&void 0!==e.getBoundingClientRect&&(o=function(e,t){let i;if(t&&"inline"===e?.style.display){const t=e.getClientRects();i=t&&t[0]||e.getBoundingClientRect()}else i=e?.getBoundingClientRect();return i}(e,i))&&void 0!==o.width?r=[o.width,o.height]:e&&(r=[e.offsetWidth,e.offsetHeight]),t&&r.forEach((t=>{(t?["Top","Bottom"]:["Left","Right"]).forEach((i=>{r[t]-=Number(e?.style[`padding${i}`])||0,r[t]-=Number(e?.style[`border${i}Width`])||0}))}))}if("none"===e.style.display){const a={position:"absolute",visibility:"hidden",display:"block"},s={},c=e.style.cssText.includes("!important")?e.style.cssText:"";Object.keys(a).forEach((t=>{const i=t;s[i]=e.style[t],e.style[i]=a[t]})),n(),Object.keys(a).forEach((t=>{e.style[t]=s[t]})),c&&(e.style.cssText=c)}else n()}return r};function f(e){return v(e)[0]}function y(e){return v(e)[1]}function E(...e){const t=e.length;if(t>1){for(let i=0;i<t;i++)E(e[i]);return}const i=e[0],r=i.olddisplay;if(i.style.display=r||"",function(e){const t=e?.style?.display;return!(!e||"none"===t)&&"none"!==getComputedStyle(e,null).display}(i))return;const n=i.tagName.toLowerCase();let a="block";i.classList.contains("inline")||i.classList.contains("_inline")||i.classList.contains("_i")?a="inline":i.classList.contains("_inline_block")||i.classList.contains("_ib")?a="inline-block":i.classList.contains("_flex")?a="flex":"tr"!==n||o.browser.msie?"table"!==n||o.browser.msie||(a="table"):a="table-row",i.style.display=i.olddisplay=a}function A(...e){const t=e.length;if(t>1){for(let i=0;i<t;i++)A(e[i]);return}const i=e[0],o=i.style.display;i.olddisplay="none"!==o?o:"",i.style.display="none"}},298077:(e,t,i)=>{"use strict";i.d(t,{logError:()=>n,logEvalError:()=>s,logUnknownError:()=>a});var o=i(540462),r=i(501397);function n(e,t={}){window?.vk?.static?.init_entries?.includes("sentry.js")||window?.vk?.static?.init_entries?.includes("tracer.js");(0,r.logError)(e,t),(0,o.partConfigEnabled)("webinf_show_error_logs")&&window?.console.error(e)}function a(e){if(e instanceof Error)return void n(e);let t="unknown error";if("string"==typeof e&&(t=e),"object"==typeof e&&null!==e&&"message"in e){const{message:i}=e;"string"==typeof i&&(t=i)}n(new Error(t))}function s(e){n(e)}},517556:(e,t,i)=>{"use strict";i.d(t,{LangReplace:()=>n});var o=i(474848),r=i(296540);function n({string:e,tokens:t}){const i=Object.keys(t).reduce(((e,i)=>{const n=t[i];return e.forEach(((t,a)=>{const s=function(e,t,i){if("string"!=typeof e)return[e];const n=`{${t}}`,a=e.split(n);return function(e,t,i){const n=e.length-1;return e.reduce(((e,a,s)=>{if(e.push(a),s!==n){const n=`${t}-${s}`;e.push((0,o.jsx)(r.Fragment,{children:i},n))}return e}),[])}(a,t,i)}(t,i,n);e.splice(a,1,...s)})),e}),[e]);return(0,o.jsx)(o.Fragment,{children:i})}},982136:(e,t,i)=>{"use strict";i.d(t,{LangReplace:()=>o.LangReplace});var o=i(517556)},866467:(e,t,i)=>{"use strict";i.d(t,{LangReplace:()=>o.LangReplace,addLangKeys:()=>r.addLangKeys,getLang:()=>r.getLang,getShortDate:()=>r.getShortDate,getSmDate:()=>r.getSmDate,langDate:()=>r.langDate,langLink:()=>r.langLink,langNumeric:()=>r.langNumeric,langReplace:()=>r.langReplace,langReplacePrep:()=>r.langReplacePrep,langSex:()=>r.langSex,langStr:()=>r.langStr,langTag:()=>r.langTag,parseLatin:()=>r.parseLatin,useLangContext:()=>n.useLangContext});var o=i(982136),r=i(768602),n=i(110091)},110091:(e,t,i)=>{"use strict";i.d(t,{useLangContext:()=>n});var o=i(296540),r=i(768602);function n(){return(0,o.useMemo)((()=>({getLang:r.getLang,langDate:r.langDate,langSex:r.langSex,langNumeric:r.langNumeric})),[])}},768602:(e,t,i)=>{"use strict";i.d(t,{addLangKeys:()=>a,getLang:()=>s,getShortDate:()=>y,getSmDate:()=>f,langDate:()=>v,langLink:()=>m,langNumeric:()=>c,langReplace:()=>_,langReplacePrep:()=>g,langSex:()=>l,langStr:()=>d,langTag:()=>p,parseLatin:()=>E});var o=i(351118),r=i(540462),n=i(298077);function a(e){const t=window.cur?.lang??window.lang??window.langpack;t&&Object.assign(t,e)}function s(e,t,i){if(!e)return"...";try{const a=function(e){const t=window.cur&&window.cur.lang&&window.cur.lang[e]||window.lang&&window.lang[e]||window.langpack&&window.langpack[e]||window[e];return!t&&(0,r.partConfigEnabled)("log_get_lang_errors")&&(0,n.logError)(new ReferenceError(`No value for lang key "${e}" is specified`)),t}(e);if(!a){const t=e.split("_");return t.shift(),t.join(" ")}let s;if((0,o.isFunction)(a))s=String(a.apply(null,[...arguments]));else if(void 0===t&&!Array.isArray(a)||"raw"===t){if("string"!=typeof a)return(0,o.decodeHTMLEntitiesDeep)(a);s=a}else s=c(t,a,i);return(0,o.decodeHTMLEntities)(s)}catch(e){const t="getLang error: "+e.message+"("+[...arguments].join(", ")+")";return(0,r.partConfigEnabled)("log_get_lang_errors")&&(0,n.logError)(new ReferenceError(t)),console.error(t),"..."}}function c(e,t,i){const r=window.langConfig;if(!t||!r){if(!(0,o.isNumeric)(e)){const t=new Error("Non-numeric value passed to langNumeric");throw console.log(e,t),t}return String(e)}let n;Array.isArray(t)?(n=t[1],e!=Math.floor(e)?n=t[r.numRules.float]:(r.numRules.int||[]).some((i=>{if("*"===i[0])return n=t[i[2]],!0;const o=i[0]?e%i[0]:e;return Array.isArray(i[1])&&i[1].includes(o)?(n=t[i[2]],!0):void 0}))):n=t;let a=String(e);if(i){const e=a.split("."),t=[];for(let i=e[0].length-3;i>-3;i-=3)t.unshift(e[0].slice(i>0?i:0,i+3));e[0]=t.join(r.numDel),a=e.join(r.numDec)}return n=(n||"%s").replace("%s",a),n}function l(e,t){if(!Array.isArray(t))return t||"...";let i=t[1];const o=window.langConfig;return o?(o.sexRules&&o.sexRules.some((o=>"*"===o[0]||Number(e)===Number(o[0])&&t[o[1]]?(i=t[o[1]],!0):void 0)),i):i}function d(e,...t){let i=String(e);for(let e=0;e<t.length;e+=2){if(null==t[e])continue;const o=String(t[e]).startsWith("%")?t[e]:"{"+t[e]+"}";i=i.replace(o,t[e+1])}return i}const u=e=>{const t=Object.entries(e).map((([e,t])=>[e,(0,o.escape)(t)]));return Object.fromEntries(t)};function _(e,t,i={}){const o=i.escapeTokens?u(t):t;for(const t in o){if(!o.hasOwnProperty(t))continue;const i=`{${t}}`;e=e.replace(i,o[t])}return e}function p(e,t,i,o="tag"){return i=(i=i.replace(`{${o}}`,e)).replace(`{/${o}}`,t)}function m(e,t,i="link",o=""){return p(`<a href="${e}" ${o}>`,"</a>",t,i)}function g(e,t){if(!t)return e;const i=window.langConfig.prep;if(i.length){const o=i.map((t=>{const[i,o,r]=t,[n,a]=i.split(","),[s,c]=r.split(","),l=new RegExp(n).test(e),d=new RegExp(a).test(e);return l?[n,o,s]:!!d&&[a,o,c]})).filter((e=>!!e));if(2===o.length){const[i,r]=o,[n,a,s]=r;if(!a.split(",").find((e=>{const i=e.replace("*","");return i&&new RegExp(`^${i}`).test(t)}))){const[o,r,n]=i;if(r.split(",").find((e=>{const i=e.replace("*","");return i&&new RegExp(`^${i}`).test(t)})))return e.replace(o,n)}return e.replace(n,s)}}return e}function v(e,t,i,r,n,a){const{langConfig:s}=window;if(!e||!t)return"";let c;if(a||(a=""),"string"==typeof t&&(t=["",t,t,t,t]),"number"==typeof e?(e>2147483646e3&&(e=0),e+=i,c=new Date(e)):c=e,n)t=t[1];else{let e="";e=(0,o.isDateToday)(c)?t[3]:(0,o.isDateYesterday)(c)?t[2]:(0,o.isDateTomorrow)(c)?t[4]:t[1],!e&&t[1]&&(e=t[1]),t=e}let l="",d={hours:c.getHours(),minutes:c.getMinutes(),seconds:c.getSeconds(),day:c.getDate(),month:c.getMonth()+1,year:c.getFullYear()};switch(3===s.id&&(l=c.getHours()>11?"pm":"am",d.hours=c.getHours()%12==0?12:c.getHours()%12),s.id){case 1:switch(c.getHours()){case 11:t=t.replace(" о "," об ");break;case 0:t=t.replace(" о "," в ")}break;case 3:!(0,o.isDateToday)(c)||(0,o.isDateYesterday)(c)||(0,o.isDateTomorrow)(c)||(t=a+t);break;case 12:case 73:1==c.getHours()&&(t=t.replace(" &#224;s "," &#224; "))}return 68===s.id&&(d.year=d.year+543),t.replace("{hour}",d.hours.toString()).replace("{num_hour}",(0,o.leadingZero)(d.hours)).replace("{minute}",(0,o.leadingZero)(d.minutes)).replace("{day}",d.day.toString()).replace("{num_day}",(0,o.leadingZero)(d.day)).replace("{month}",r[d.month]).replace("{year}",d.year.toString()).replace("{short_year}",(d.year%100).toString()).replace("{second}",(0,o.leadingZero)(d.seconds)).replace("{am_pm}",l)}function f(e,t=0,i=!0){const o=new Date,r=o.getFullYear(),n=o.getMonth(),a=new Date(1e3*e),c=a.getFullYear(),l=a.getMonth();return v(1e3*e,s(c<r&&(n>1||l<9||r-c>=2)?"global_date":"global_short_date_time","raw"),t,s("months_sm_of","raw"),!i)}function y(e,t,i=!0,o=s("months_of","raw"),r){e*=1e3,t*=1e3;const n=Date.now(),a=new Date(n),c=new Date(e+t);return!r&&e>n&&e-n<864e5&&a.getDate()===c.getDate()?v(e,"{hour}:{minute} {am_pm}",t,[],!i):c.getFullYear()!==a.getFullYear()||e<n-157248e5?v(e,s("global_date","raw"),t,o,!i):v(e,s("global_short_date","raw"),t,o,!i)}function E(e){const t=["yo","zh","kh","ts","ch","sch","shch","sh","eh","yu","ya","YO","ZH","KH","TS","CH","SCH","SHCH","SH","EH","YU","YA","'"],i=["ё","ж","х","ц","ч","щ","щ","ш","э","ю","я","Ё","Ж","Х","Ц","Ч","Щ","Щ","Ш","Э","Ю","Я","ь"];let o=e;for(let e=0,r=t.length;e<r;e++)o=o.split(t[e]).join(i[e]);const r="abvgdezijklmnoprstufhcyABVGDEZIJKLMNOPRSTUFHCYёЁ";for(let e=0,t=48;e<t;e++)o=o.split(r.charAt(e)).join("абвгдезийклмнопрстуфхцыАБВГДЕЗИЙКЛМНОПРСТУФХЦЫеЕ".charAt(e));return o===e?null:o}},469004:(e,t,i)=>{"use strict";i.d(t,{ls:()=>c,multiAccountLs:()=>u});var o=i(553608);function r(){try{return void 0!==window.localStorage&&null!==window.localStorage&&void 0!==window.JSON}catch(e){return!1}}function n(e,t){if(void 0===e)return!1;s(e);try{return o.vkLocalStorage.setItem(e,JSON.stringify(t))}catch(e){return!1}}function a(e){if(void 0===e)return!1;try{return JSON.parse(o.vkLocalStorage.getItem(e))}catch(e){return!1}}function s(e){try{o.vkLocalStorage.removeItem(e)}catch(e){}}const c={checkVersion:r,remove:s,get:a,set:n},l=e=>void 0!==e?`${e}_@id:${window.vk.id}`:void 0,d=e=>(...t)=>{const[i,...o]=t,r=[l(i),...o];return e(...r)},u={checkVersion:r,remove:d(s),get:e=>{const t=d(a)(e);if(null===t){const t=a(e);if(null!==t)return u.set(e,t),s(e),t}return t},set:d(n)}},194025:(e,t,i)=>{"use strict";i.d(t,{NarrativeAnalyticEventType:()=>n.NarrativeAnalyticEventType,NarrativeAnalyticNavScreen:()=>n.NarrativeAnalyticNavScreen,sendNarrativeAnalytic:()=>a});var o=i(636576),r=i(540462),n=i(501332);function a(e,t,i=n.NarrativeAnalyticNavScreen.other){const a=t?.title||void 0,s=t?.customCover?0:t?.coverStoryId||0,c=t?.id||0,l=t?.ownerId||0;let d=t?.storyIds;d?.length||(d=t?.stories?.map((e=>e.id)));const u={event_type:e,nav_screen:i,narrative_owner_id:l,narrative_id:c,narrative_title:a,story_ids:d?.length?d:void 0,cover_story_id:s};(0,o.statlogsValueEvent)("narrative_product_analytic",u),(0,r.partConfigEnabled)("narratives_web_analytic_debug")&&console.log("-- narrative analytic",u)}},355474:(e,t,i)=>{"use strict";function o(){return location.hostname}i.d(t,{currentHostname:()=>o})},259139:(e,t,i)=>{"use strict";i.d(t,{currentHostnameBase:()=>l,isRelativeURL:()=>s,isSameSubdomainHostname:()=>c,isVKSiteURLAnySubdomainTarget:()=>u,isVKSiteURLForNav:()=>p,isVKSiteURLSameSubdomainTarget:()=>d});var o=i(105330),r=i(355474);const n=new RegExp(`^(([a-zA-Z0-9\\.\\_\\-]+)\\.)?(${o.VK_HOST_REGEX_UNSAFE.source})$`);function a(e){const t=e.match(n);if(!t)return;const[,,i,o]=t;return{baseDomain:o,subDomain:i}}function s(e){return!/^https?:\/\//i.test(e)}function c(e,t){return!(!o.VK_DOMAIN_REGEX.test(e)||!o.VK_DOMAIN_REGEX.test(t))&&function(e,t){const i=a(e)?.subDomain,o=a(t)?.subDomain;return i===o}(e,t)}function l(){const e=(0,r.currentHostname)(),t=a(e);return t?t.baseDomain:e}function d(e,t){return!!p(e)&&function(e,t){const i=m(e);return!!i&&(!(!t||!c(l(),i.url.hostname))||c((0,r.currentHostname)(),i.url.hostname))}(e,t)}function u(e){return p(e)}function _(e){const t=function(e){const t=m(e);if(t)return a(t.url.hostname)?.baseDomain}(e);return void 0!==t&&("vkvideo.ru"===t?(0,o.isVkVideo)():o.VK_POSSIBLE_SITE_HOSTS.includes(t))}function p(e){return _(e)}function m(e){if(o.VK_URL_REGEX_STRICT.test(e))try{return{url:new URL(e)}}catch(e){console.error(e)}}},342018:(e,t,i)=>{"use strict";function o(e){window.cur&&window.cur.destroy&&window.cur.destroy.push(e)}i.d(t,{pushNavDestroy:()=>o})},905366:(e,t,i)=>{"use strict";i.d(t,{isVKSiteHostnameSameSubdomainForNav:()=>l,isVKSiteURLForNav:()=>n.isVKSiteURLForNav,maybeStripVKSiteURLOriginAnySubdomain:()=>u,stripVKSiteURLOrigin:()=>d,toMaybeVKSiteURLRelativeName:()=>a,toMaybeVKSiteURLRelativePath:()=>s});var o=i(105330),r=i(355474),n=i(259139);function a(e,t){return c(e,"",t)}function s(e,t){return c(e,"/",t)}function c(e,t,i={}){const{allowAnySubdomainAsCurrent:r=!1,allowWebBaseDomainAsCurrent:a=!1}=i,s=r?(0,n.isVKSiteURLAnySubdomainTarget)(e):(0,n.isVKSiteURLSameSubdomainTarget)(e,a);if(!((0,n.isRelativeURL)(e)||s))return e;const c=new RegExp(`(${o.VK_ORIGIN_PREFIX_REGEX.source})?/?`);return e.replace(new RegExp(c),t)}function l(e){return function(e){return o.VK_DOMAIN_REGEX.test(e)}(e)&&(0,n.isSameSubdomainHostname)((0,r.currentHostname)(),e)}function d(e,t=!1){return(0,n.isVKSiteURLForNav)(e)?t&&(0,n.currentHostnameBase)()===(0,o.getVkVideoDomain)()?s(e):s(e,{allowWebBaseDomainAsCurrent:!0}):e}function u(e){if((0,n.isVKSiteURLForNav)(e))return s(e,{allowAnySubdomainAsCurrent:!0})}},261910:(e,t,i)=>{"use strict";i.d(t,{parseJSON:()=>r});var o=i(298077);function r(e){try{return JSON.parse(e)}catch(t){const i={environment:"parseJsonError",breadcrumb:{message:"Uncaught json parse error",data:{json:e},category:"custom"}};return(0,o.logError)(t,i),{}}}},680960:(e,t,i)=>{"use strict";i.d(t,{logQuestionError:()=>o});const o=(0,i(339328).createSentryLogger)({debugPrefix:"[Questions Sentry Logger]"})},961209:(e,t,i)=>{"use strict";i.d(t,{QuestionsStatCollector:()=>c});var o=i(314309),r=i(452223),n=i(540462),a=i(148230),s=i(419222);class c{logClickEvent(e,t={}){const i={type:r.ClickProductionStatEventTypes.TYPE_QUESTION_ITEM,[r.ClickProductionStatEventTypes.TYPE_QUESTION_ITEM]:{type:e,screen:t.navScreen||window.cur.module||""}};t.questionReceiverId&&(i[r.ClickProductionStatEventTypes.TYPE_QUESTION_ITEM].question_receiver_id=t.questionReceiverId),t.questionAuthorId&&(i[r.ClickProductionStatEventTypes.TYPE_QUESTION_ITEM].question_author_id=t.questionAuthorId),t.questionText&&(i[r.ClickProductionStatEventTypes.TYPE_QUESTION_ITEM].question_text=t.questionText);const o={type:r.EventItemType.QUESTION,id:t.questionId||0};(0,n.partConfigEnabled)("profile_questions_analytic_debug")&&console.log(`--${e}`,i,o),this.clickStatCollector.logEvent(i,o)}logOpeningEvent(e,t,i){let o;switch(t){case s.QuestionsBoxRef.STORY:o=i===a.QuestionAnalyticBoxName.askQuestion?a.QuestionAnalyticEventType.openAskQuestionFromStory:a.QuestionAnalyticEventType.openMyQuestionsFromStory;break;case s.QuestionsBoxRef.SNIPPET:o=i===a.QuestionAnalyticBoxName.askQuestion?a.QuestionAnalyticEventType.openAskQuestionFromSnippet:a.QuestionAnalyticEventType.openMyQuestionsFromSnippet;break;default:o=i===a.QuestionAnalyticBoxName.askQuestion?a.QuestionAnalyticEventType.openAskQuestionFromUrl:a.QuestionAnalyticEventType.openMyQuestionsFromUrl}const r={questionReceiverId:e};i===a.QuestionAnalyticBoxName.askQuestion&&(r.questionAuthorId=window.vk.id),this.logClickEvent(o,r)}constructor(){this.productionStatCollector=new o.ProductionStatCollector,this.clickStatCollector=new o.ClickStatCollector(this.productionStatCollector)}}},508611:(e,t,i)=>{"use strict";i.d(t,{logQuestionsClickEvent:()=>r,logQuestionsOpeningEvent:()=>n});const o=new(i(961209).QuestionsStatCollector);function r(e,t={}){o.logClickEvent(e,t)}function n(e,t,i){o.logOpeningEvent(e,t,i)}},148230:(e,t,i)=>{"use strict";i.d(t,{QuestionAnalyticBoxName:()=>r,QuestionAnalyticEventType:()=>o});var o=function(e){return e.clickToQuestion="click_to_question",e.reply="reply",e.replyAgain="reply_again",e.sharing="sharing",e.shareToStory="share_to_story",e.shareToWall="share_to_wall",e.shareToGroup="share_to_group",e.shareToIm="share_to_im",e.copyLink="copy_link",e.openStory="open_story",e.callFriends="call_friends",e.openSettings="open_settings",e.openProfile="open_profile",e.block="block",e.unblock="unblock",e.deleteAllQuestions="delete_all_questions",e.delete="delete",e.cancelDelete="cancel_delete",e.cancelDeleteAllAuthorQuestions="cancel_delete_all_author_questions",e.cancelDeleteAllAnonymousQuestions="cancel_delete_all_anonymous_questions",e.next="next",e.close="close",e.clickToSend="click_to_send",e.sendQuestion="send_question",e.cancelSendQuestion="cancel_send_question",e.cancelWriteAnswer="cancel_write_answer",e.closeMyQuestions="close_my_questions",e.openMyQuestionsFromUrl="open_my_questions_from_url",e.openAskQuestionFromUrl="open_ask_question_from_url",e.openMyQuestionsFromSnippet="open_my_questions_from_snippet",e.openAskQuestionFromSnippet="open_ask_question_from_snippet",e.openMyQuestionsFromStory="open_my_questions_from_story",e.openAskQuestionFromStory="open_ask_question_from_story",e}({}),r=function(e){return e[e.askQuestion=0]="askQuestion",e[e.myQuestions=1]="myQuestions",e}({})},142278:(e,t,i)=>{"use strict";i.d(t,{createReactInitiator:()=>o.createReactInitiator,createReactLazyInitiator:()=>o.createReactLazyInitiator});var o=i(260152)},260152:(e,t,i)=>{"use strict";i.d(t,{createReactInitiator:()=>o.createReactInitiator,createReactLazyInitiator:()=>o.createReactLazyInitiator});var o=i(356656)},356656:(e,t,i)=>{"use strict";i.d(t,{createReactInitiator:()=>a,createReactLazyInitiator:()=>s});var o=i(474848),r=i(53266),n=i(105330);function a(e,t=null,i){const n=(0,r.createBasicReactInitiator)(t,i);return{...n,render:function(t){return i?.onBeforeRender?.(),n.render((0,o.jsx)(e,{...t}))}}}function s(e,t=null,i){const a=(0,r.createBasicReactInitiator)(t,i),s=!t;let c;return{...a,render:async function(r,l){const d=new Error("Async render error");if(!c){if(c=await e(),l?.abortSignal.aborted)return;const i=(0,n.isMvk)(),o=Boolean("function"==typeof t?t():t);if(i&&!s&&!o)return void console.warn("Target container not found. Verify that it exists before render.")}return i?.onBeforeRender?.(),a.render((0,o.jsx)(c,{...r}),{asyncBaseError:d})}}}},827235:(e,t,i)=>{"use strict";i.d(t,{LifecycleWrapper:()=>n});var o=i(474848),r=i(296540);function n({children:e,onMount:t,onRendered:i}){return(0,r.useLayoutEffect)((()=>{i?.(),t?.()}),[]),(0,o.jsx)(o.Fragment,{children:e})}},53266:(e,t,i)=>{"use strict";i.d(t,{createBasicReactInitiator:()=>d});var o=i(440961),r=i(205338),n=i(296540),a=i(342018),s=i(540462),c=i(62208),l=i(827235);function d(e=null,t={}){const{onRendered:i,onMounted:d,onUpdated:_,onUnmounted:p,destroyAfterNavigation:m=!0,useConcurrentRender:g}=t,v=!!(0,s.partConfigEnabled)("enable_create_root")||g,f=!e;let y=!1,E=null;function A(){if(e)return e;const t=(0,c.createReactContainer)();return document.body.appendChild(t),t}let S=null;function b(){if(!E||y)return!1;y=!0;let e=!0;return v?(S?.unmount(),S=null):e=o.unmountComponentAtNode(E),f&&E.remove(),E=null,p?.(e),y=!1,e}return{render:v?function(e,t={}){let s=!1;try{E||(s=!0,E=u(A())),S||(S=(0,r.createRoot)(E));const a=()=>S?.render((0,n.createElement)(l.LifecycleWrapper,{onMount:()=>d?.(b),onRendered:()=>i?.(b)},e));t.force?(0,o.flushSync)(a):a()}catch(e){throw t.asyncBaseError?new Error(e.message,{cause:t.asyncBaseError}):e}s&&m&&(0,a.pushNavDestroy)(b),s||(i?.(b),_?.(b))}:function(e,t={}){let r=!1;try{E||(r=!0,E=u(A())),o.render(e,E)}catch(e){throw t.asyncBaseError?new Error(e.message,{cause:t.asyncBaseError}):e}if(i?.(b),r){const e=E;m&&(0,a.pushNavDestroy)((()=>{e===E&&b()})),d?.(b)}else _?.(b)},unmount:b,getContainer:function(){return E},isMounted:v?()=>false:function(){return!!E}}}function u(e){if("function"!=typeof e)return e;const t=e();if(!t)throw new Error("Target container not found. Verify that it exists before render.");return t}},62208:(e,t,i)=>{"use strict";function o(){const e=document.createElement("div");return e.id=`${r}_${n++}`,e}i.d(t,{createReactContainer:()=>o});const r=`rc_${(0,i(898848).srand)()}`;let n=0},444024:(e,t,i)=>{"use strict";i.d(t,{parseReactWikiLinks:()=>u});var o=i(474848),r=i(296540),n=i(279734),a=i(34231);const s={target:"_self",withVKUILink:!1,withNewRegex:!1,wrapAwayIfExternal:!1},c=new RegExp(`\\[?(${/(?:http(s)?:\/\/)/.source}?${/[\w.-]+(?:\.[\w.-]+)+[\w\-._~:/?#[\]@!$&'()*+,;=.]+/.source})${/(?:\|([\wёЁА-я ]{1,}))/.source}?\\]?`),l=new RegExp(`(${c.source}|${/\[(id|public|club|event)-?[\d]{1,}\|[\wёЁА-я ]{1,}\]/.source})`,"gi"),d=/^(http(s)?:\/\/)?vk.(com|ru)/gi;function u(e,t=s){const{target:i=s.target,withVKUILink:c=s.withVKUILink}=t,u=e.match(t.withNewRegex?l:/\[(.*?)\]/g),_=u?u.map((e=>e.replace(/\[|(.*?)\]/g,"$1"))):[];if(!u||!_.length)return(0,o.jsx)(r.Fragment,{children:e});const p=c?n.Link:"a",m=_.map(((e,r)=>{const[n,s]=e.split("|");let c=t.hrefMap?.[n]||(d.test(n)?n.replace(d,""):n);const l=t.onClickMap?.[n];return t.wrapAwayIfExternal&&(c=(0,a.wrapAwayIfExternal)(c)),(0,o.jsx)(p,{href:c,target:i,onClick:l,children:s||n},r)})),g=[];return u.forEach(((t,i)=>{const o=e.indexOf(t);g.push(e.substr(0,o)),g.push(m[i]),e=e.slice(o+t.length)})),g.push(e),(0,o.jsx)(r.Fragment,{children:g})}},330478:(e,t,i)=>{"use strict";i.d(t,{JS_LOAD_ERROR_TEXT:()=>d,isCrossoriginEnabled:()=>c,loadScript:()=>u,loadStyle:()=>l});var o=i(298077),r=i(540462),n=i(105330);const a="Stylesheet load error for",s=e=>!!e&&/st\d+-\d+/.test(e)?(0,r.partConfigEnabled)("crossorigin_credentials_regions"):(0,r.partConfigEnabled)("crossorigin_credentials_spb");function c(e){const t=(0,n.isMvk)()?window.vk?.static.domain:window.vk?.stDomain;return!(!t||!s(t))&&e.includes(t)}function l(e,{preload:t,target:i=document.head,fetchPriority:s}={}){if((0,r.partConfigEnabled)("log_static_duplicates_errors")&&i instanceof HTMLElement){Array.from(i.getElementsByTagName("link")).filter((e=>"text/css"===e.type)).filter((t=>t.href?.endsWith(e))).length>0&&(0,o.logError)(new Error("Loading duplicate style with src "+e))}return new Promise(((o,l)=>{const d=document.createElement("link");t?(d.rel="preload",d.as="style"):d.rel="stylesheet",s&&(d.fetchPriority=s),d.type="text/css",d.href=e,c(e)&&(d.crossOrigin="use-credentials"),d.onload=()=>{o([e,d])},d.onerror=(t,i,o,s,c)=>{d.remove(),l(!(0,n.isMvk)()&&(0,r.partConfigEnabled)("extended_static_loading_errors")?{message:i?String(t):`${a} ${e}`,source:i??e,lineno:o,colno:s,error:c}:new Error(`${a} ${e}`))},i.appendChild(d)}))}const d="Script load error for";function u(e,t=document.head,i){if((0,r.partConfigEnabled)("log_static_duplicates_errors")){const i=t instanceof Element?t:document.head;Array.from(i.getElementsByTagName("script")).filter((t=>t.src?.endsWith(e))).length>0&&(0,o.logError)(new Error("Loading duplicate script with src "+e))}return new Promise(((o,a)=>{let s=document.createElement("script");if(s.src=e,c(e)&&(s.crossOrigin="use-credentials"),s.onload=()=>o([e,s]),s.onerror=(t,i,o,c,l)=>{s.remove(),a(!(0,n.isMvk)()&&(0,r.partConfigEnabled)("extended_static_loading_errors")?{message:i?String(t):`${d} ${e}`,source:i??e,lineno:o,colno:c,error:l}:new Error(`${d} ${e}`))},i)for(const[e,t]of Object.entries(i))null==t||("boolean"==typeof t?s.toggleAttribute(e,t):s.setAttribute(e,t));t.appendChild(s)}))}},598129:(e,t,i)=>{"use strict";function o(e,t){let i,o=t.timeout,r=t.onLoad,n=t.onError,a=document.createElement("script");if(a.addEventListener("load",s),a.addEventListener("readystatechange",s),a.addEventListener("error",c),t.attributes)for(const[e,i]of Object.entries(t.attributes))null==i||("boolean"==typeof i?a.toggleAttribute(e,i):a.setAttribute(e,i));function s(){a.readyState&&"loaded"!==a.readyState&&"complete"!==a.readyState||(l(),r&&r())}function c(){l(),n&&n()}function l(){clearTimeout(i),a.removeEventListener("load",s),a.removeEventListener("readystatechange",s),a.removeEventListener("error",c)}return a.src=e,document.head.appendChild(a),o&&(i=setTimeout(c,o)),{destroy:function(){l()}}}i.d(t,{loadScript:()=>o})},105330:(e,t,i)=>{"use strict";i.d(t,{DOMAIN:()=>o,DOMAIN_RU:()=>r,VK_DOMAIN_REGEX:()=>m,VK_DOMAIN_REGEX_UNSAFE:()=>p,VK_HOST_REGEX_GROUP_UNSAFE:()=>_,VK_HOST_REGEX_UNSAFE:()=>u,VK_ORIGIN_PREFIX_REGEX:()=>f,VK_ORIGIN_REGEX:()=>g,VK_ORIGIN_REGEX_STRICT:()=>v,VK_POSSIBLE_SITE_HOSTS:()=>a,VK_SITES_REGEX_SOURCE_UNSAFE:()=>d,VK_SITE_REGEX_SOURCE_UNSAFE:()=>l,VK_SITE_RELATIVE_URL:()=>c,VK_URL_REGEX:()=>y,VK_URL_REGEX_STRICT:()=>E,getAverageRGB:()=>x,getBlobType:()=>R,getGlobalObject:()=>L,getHostName:()=>M,getMediaBlob:()=>D,getPhotoFromVideo:()=>U,getVkVideoDomain:()=>C,isEmbed:()=>b,isMvk:()=>A,isMvkVKVideo:()=>k,isOffice:()=>P,isPWA:()=>O,isVkMe:()=>S,isVkVideo:()=>I,isWidget:()=>T,loadFontFace:()=>V,loadFontFacePromise:()=>H,loadImage:()=>B,loadVideo:()=>F,noop:()=>N});const o="vk.com",r="vk.ru",n=e=>e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1"),a=["vk.com","vk.ru","vkvideo.ru",M()].filter(((e,t,i)=>i.indexOf(e)===t)),s=a.concat(["vkontakte.ru","vk.me","userapi.com"]),c=[r,o].includes(M())?"":`https://${o}`,l=n(M()),d=a.map(n).join("|"),u=new RegExp("("+s.map(n).join("|")+")"),_=new RegExp(s.map(n).join("|")),p=(new RegExp("^"+u.source+"$"),new RegExp(`([a-zA-Z0-9\\.\\_\\-]+\\.)?${u.source}`)),m=new RegExp("^"+p.source+"$"),g=new RegExp(`^(https?:\\/\\/)?${p.source}$`),v=new RegExp(`^(https?:\\/\\/)${p.source}$`),f=new RegExp(`^(https?:\\/\\/)${p.source}`),y=new RegExp(`^(https?:\\/\\/)?${p.source}($|\\/(.*))`),E=new RegExp(`^(https?:\\/\\/)${p.source}($|\\/(.*))`);function A(){return!!window.isMVK}function S(){return!!window.vkmeConfig?.anonymBroadcastInitArgs}const b=()=>{const e=L();return Boolean("embed"===e.cur?.screen||e.cur?.mvOpts?.embed)},T=()=>Boolean(window.vk?.widget),I=()=>{const e=L();return Boolean(e.vk?.isVideoStandalone||e.cur?.isVideoStandalone)},C=()=>{const e=L();return e.vk?.vkVideoDomain||"vkvideo.ru"},k=()=>A()&&I(),P=()=>{const e=L();return Boolean(e.vk?.isOffice)};function O(){return window.vk?.platform?.startsWith?.("pwa")}function M(){return L().vk?.__domain||"vk.com"}function L(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}}function D(e){return new Promise(((t,i)=>{const o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="blob",o.onload=()=>{if(404===o.response.status)return i();t(o.response)},o.onerror=i,o.send()}))}function R(e){try{return e.type.split("/").splice(-1)[0]}catch(e){return null}}const N=()=>{};function x(e,t=0,i=0,o,r){const n={r:0,g:0,b:0};let a;o=o||e.canvas.width,r=r||e.canvas.height;try{a=e.getImageData(t,i,o,r)}catch(e){return n}let s=-4,c=0;for(;(s+=20)<a.data.length;)++c,n.r+=a.data[s],n.g+=a.data[s+1],n.b+=a.data[s+2];return n.r=~~(n.r/c),n.g=~~(n.g/c),n.b=~~(n.b/c),n}function F(e){return new Promise(((t,i)=>{const o=document.createElement("video");o.muted=!0,o.autoplay=!0,o.playsInline=!0,o.addEventListener("canplay",(()=>{o.pause(),t(o)}),{once:!0}),o.addEventListener("error",i,{once:!0}),o.crossOrigin="anonymous",o.src=e}))}function U(e,t=[0]){const i=[];return new Promise(((o,r)=>{const n=document.createElement("canvas"),a=n.getContext("2d"),{videoWidth:s,videoHeight:c}=e;n.width=s,n.height=c,function l(d){const u=e.currentTime;e.addEventListener("seeked",(()=>{a?.drawImage(e,0,0,s,c,0,0,s,c),e.currentTime=u,B(n.toDataURL("image/jpeg",1)).then((r=>{i.push(r),d>=t.length-1?(e.src="",o(i)):l(d+1)})).catch(r)}),{once:!0}),e.currentTime=-1===t[d]?e.duration:t[d]}(0)}))}function B(e){return new Promise(((t,i)=>{const o=new Image;o.crossOrigin=e.startsWith("data:")?null:"Anonymous",o.onerror=()=>i(new Error(`Failed to load image's URL: ${e}`)),o.onload=()=>t(o),o.src=e}))}function V(e,t){const i={normal:"400",500:"500",600:"600",bold:"700"},o={tolerance:2,delay:100,glyphs:"",success:function(){},error:function(){},timeout:5e3,weight:"400",style:"normal"},r={display:"block","font-size":"48px","line-height":"normal","font-variant":"normal","white-space":"nowrap",position:"absolute",visibility:"hidden",top:"-9999px",left:"-9999px",width:"auto",height:"auto",margin:"0",padding:"0"};let n,a,s,c,l,d,u;function _(e){let t=[];return each(e,(function(e,i){t.push(e+":"+i)})),t.join(";")}function p(e,t,i){return Math.abs(e.width-t.offsetWidth)>i||Math.abs(e.height-t.offsetHeight)>i}function m(){c||(utilsNode.appendChild(l),c=!0,s={sansSerif:{width:u.offsetWidth,height:u.offsetHeight},serif:{width:d.offsetWidth,height:d.offsetHeight}},u.style.fontFamily=`"${e}", sans-serif`,d.style.fontFamily=`"${e}", serif`),c&&s&&(p(s.sansSerif,u,t.tolerance)||p(s.serif,d,t.tolerance))?(l&&l.remove(),t.success()):(new Date).getTime()-a.getTime()>t.timeout?(l&&l.remove(),t.error()):!c&&"requestAnimationFrame"in window?window.requestAnimationFrame(m):window.setTimeout(m,t.delay)}for(let e in o)t.hasOwnProperty(e)||(t[e]=o[e]);r["font-weight"]=t.weight,r["font-style"]=t.style,!t.glyphs&&"fonts"in document?(t.timeout&&(n=setTimeout((function(){t.error()}),t.timeout)),function(o){each(document?.fonts,(function(r){r.family.toLowerCase()===e.toLowerCase()&&(i[r.weight]||r.weight)===""+t.weight&&r.style===t.style&&r.load().then((function(){t.success(),clearTimeout(o)}))}))}(n)):function(){const e="AxmTYklsjo190QW"+t.glyphs;a=new Date,l=document.createElement("div"),u=document.createElement("div"),u.innerHTML=e,d=document.createElement("div"),d.innerHTML=e,u.setAttribute("style",_(extend({"font-family":"sans-serif"},r))),d.setAttribute("style",_(extend({"font-family":"serif"},r))),l.appendChild(u),l.appendChild(d),m()}()}function H(e,t){return new Promise(((i,o)=>{V(e,{...t,glyphs:"",success(){const e=()=>{i(),t?.success&&t.success()};browser.safari?setTimeout(e,150):e()},error(){o(),t?.error&&t.error()}})}))}},553608:(e,t,i)=>{"use strict";i.d(t,{bestAvailableStorage:()=>v,getSessionStorage:()=>_,isStorageAvailable:()=>s,vkLocalStorage:()=>d,vkSessionStorage:()=>p});class o{setItem(e,t){this.data[e]=String(t)}removeItem(e){delete this.data[e]}clear(){this.data={}}get length(){return Object.keys(this.data).length}key(e){return Object.keys(this.data)[e]}constructor(){this.data={},this.getItem=e=>this.data.hasOwnProperty(e)?this.data[e]:null,this.keys=()=>Object.keys(this.data)}}const r="vk-ls-dummy",n=Math.random().toString(),a={localStorage:null,sessionStorage:null};function s(e){if(null===a[e])try{const t=window[e];t.setItem(r,n),a[e]=n===t.getItem(r),t.removeItem(r)}catch(t){a[e]=!1}return a[e]}let c;function l(){return c||(c=s("localStorage")?window.localStorage:new o,c)}const d={setItem:(e,t)=>l().setItem(e,t),getItem:e=>l().getItem(e),removeItem:e=>l().removeItem(e),clear:()=>l().clear(),length:()=>l().length,key:e=>l().key(e),keys(){const e=l();return e instanceof o?e.keys():Object.keys(e)},getPrefixedKeys:e=>d.keys().filter((t=>t.startsWith(e)))};let u;function _(){return u||(u=s("sessionStorage")?window.sessionStorage:new o,u)}const p={setItem:(e,t)=>_().setItem(e,t),getItem:e=>_().getItem(e),removeItem:e=>_().removeItem(e),clear:()=>_().clear(),length:()=>_().length,key:e=>_().key(e),keys(){const e=_();return e instanceof o?e.keys():Object.keys(e)},getPrefixedKeys:e=>p.keys().filter((t=>t.startsWith(e)))};let m;function g(){return m||(m=s("localStorage")?window.localStorage:s("sessionStorage")?window.sessionStorage:new o,m)}const v={setItem:(e,t)=>g().setItem(e,t),getItem:e=>g().getItem(e),removeItem:e=>g().removeItem(e),clear:()=>g().clear(),length:()=>g().length,key:e=>g().key(e),keys(){const e=g();return e instanceof o?e.keys():Object.keys(e)},getPrefixedKeys:e=>v.keys().filter((t=>t.startsWith(e)))}},101272:(e,t,i)=>{"use strict";i.d(t,{saveBenchmarkMainStats:()=>O,saveCustomStats:()=>b,saveNetworkStats:()=>S,saveProductionStats:()=>T,saveStatlogEvents:()=>A,saveStoryViewBaseStats:()=>C,saveStoryViewStats:()=>k,saveVkResStats:()=>L,saveWebPerfStats:()=>P,sendWebStats:()=>M,writeAndSendWebStats:()=>I});var o=i(558137),r=i(241448),n=i(510794),a=i(586138),s=i(105330),c=i(244990),l=i(540462),d=i(636576);const u=()=>({get st(){return window.vk.statsMeta.st},get platform(){return window.vk?.statsMeta?.platform?window.vk?.statsMeta?.platform:(0,s.isMvk)()?"mvk":"web2"},get appId(){return a.clientId},get time(){return window.vk.statsMeta.time},get hash(){return window.vk.statsMeta.hash},get wsTransport(){return window.vk.wsTransport},get userId(){return window.vk.id},get started(){return window.vk.started},get itemId(){return window.cur?.item_id},get itemOwnerId(){return window.cur?.item_owner_id},get itemType(){return window.cur?.item_type}}),_=()=>({get isDebuggerMode(){return(0,l.partConfigEnabled)("web_stats_transport_debugger")},get isNewQueue(){return(0,l.partConfigEnabled)("webinf_change_queue_analytics")},get useReservedUrls(){return(0,l.partConfigEnabled)("frontend.use_reserve_stats_url")}});function p(e,t){return`${e.wsTransport}/web-stats/${e.st?"s":"p"}${t&&`?${t}`}`}function*m(){for(const e of window.vk?.reservedTransport??[])yield e}function g(){const e=(0,l.getConfigValue)("akashi_endpoint");return String(e)}const v=(0,o.makeSharedState)("webStats",(()=>new r.WebStats({hostName:(0,s.getHostName)(),options:_(),statlogsValueEvent:d.statlogsValueEvent,getBrowserFingerprint:c.resolveDeviceId,statsMeta:u(),smallerChunks:!1,createUrl:p,generateReservedUrl:m})),{version:1}),f=(0,o.makeSharedState)("akashi",(()=>{const e={hostName:(0,s.getHostName)(),options:_(),localStorage:new n.CustomStorage,sessionStorage:new n.CustomStorage,getBrowserFingerprint:c.resolveDeviceId,statsMeta:u(),smallerChunks:!1,createUrl:g};return new r.WebStats(e)}),{version:1}),y=v(),E=f(),A=y.saveStatlogEvents.bind(y),S=y.saveNetworkStats.bind(y),b=y.saveCustomStats.bind(y),T=y.saveProductionStats.bind(y),I=y.writeAndSendWebStats.bind(y),C=y.saveStoryViewBaseStats.bind(y),k=y.saveStoryViewStats.bind(y),P=y.saveWebPerfStats.bind(y),O=y.saveBenchmarkMainStats.bind(y),M=y.sendWebStats.bind(y),L=E.saveVkResStats.bind(E)},346723:(e,t,i)=>{"use strict";i.d(t,{marusiaAudioStats:()=>c});var o=i(540462),r=i(482310),n=i(793722),a=i(121246);class s{startLoop(){this.stopLoop(),this.sendIsPlayingInterval=setInterval(this.sendTrackPlaying.bind(this),s.SEND_IS_PLAYING_INTERVAL),this.currentTrackStartPlayTimeMs=this.getCurrentTime()}getCurrentTime(){return(new Date).getTime()}stopLoop(){this.sendIsPlayingInterval&&(clearInterval(this.sendIsPlayingInterval),this.sendIsPlayingInterval=null),this.currentTrackStartPlayTimeMs=null}sendTrackPlaying(){if(!this.playerAdapter)return void this.stopLoop();if(!this.playerAdapter.isMarusiaTrack())return void this.stopLoop();const e=this.playerAdapter.getAudio();e?(this.sendDeviceStatEvent(a.PlayerDeviceStatEventType.TRACK_PLAYING,a.ActivationSource.playback,e),this.sendPlayerStatusEvent("PLAY",e)):this.stopLoop()}sendPlayerStatusEvent(e,t){if(!this.playerAdapter||!this.currentTrackStartPlayTimeMs)return;const i=(0,r.getAudioExtra)(t)?.voiceAssistant;if(!i)return;const o=i.source?.url??t.url,n=i.source?.skill_name??s.GLOBAL,a={meta:{source:i.source,title:t.title,url:o},url:o,volume:this.playerAdapter.getVolume(),repeat:this.playerAdapter.isRepeatCurrentAudio()?1:0,state:e,updated:(new Date).getTime()/1e3,position:this.playerAdapter.getTrackPosition(),elapsed:this.playerAdapter.getProgressInSeconds(),duration:t.duration,created:this.currentTrackStartPlayTimeMs,skill:n,random:this.playerAdapter.isShuffledPlaylist()};this.api.sendPlayerStatus(n,a)}sendDeviceStatEvent(e,t,i){if(!i||!this.playerAdapter)return;const o=(0,r.getAudioExtra)(i)?.voiceAssistant;if(!o)return;const n={type:e,phrase_id:o.source?.phrase_id??"",timestamp:Math.round((new Date).getTime()/1e3),data:{track_id:o.track_id??"",position:this.playerAdapter.getProgress(),duration:this.playerAdapter.getAudio()?.duration??0,activated_by:t,source_type:o.source?.type??"",flags:o.flags??"",playback_duration:this.playerAdapter.getListenedTime(),audio_type:o.source?.media_type??""}};this.api.sendDeviceStat([n])}getActivatedBy(e,t){switch(e){case a.PlayerDeviceStatEventType.TRACK_STOP:return a.ActivationSource.os_system;case a.PlayerDeviceStatEventType.TRACK_START:case a.PlayerDeviceStatEventType.TRACK_RESUME:if(t.isAutoPlayed())return a.ActivationSource.playback;return t.getSequence()?a.ActivationSource.playback:a.ActivationSource.app_ui;default:return a.ActivationSource.os_system}}onPlay(e){if(!(0,o.partConfigEnabled)("marusia_web_music_stats"))return;this.playerAdapter=e;const t=this.playerAdapter.getAudio();if(!t)return;const i=t.fullId,r=this.currentAudioId===i;this.currentAudioId=i,!r&&this.currentAudio&&this.onEnded(e,this.currentAudio),this.currentAudio=t;const n=r?a.PlayerDeviceStatEventType.TRACK_RESUME:a.PlayerDeviceStatEventType.TRACK_START,s=e.isAutoPlayed()?a.ActivationSource.playback:a.ActivationSource.app_ui;this.sendDeviceStatEvent(n,s,t),this.sendPlayerStatusEvent("PLAY",t),this.startLoop()}onPause(e){if(!(0,o.partConfigEnabled)("marusia_web_music_stats"))return;this.playerAdapter=e;const t=this.playerAdapter.getAudio();t&&(this.sendDeviceStatEvent(a.PlayerDeviceStatEventType.TRACK_PAUSE,a.ActivationSource.os_system,t),this.sendPlayerStatusEvent("PAUSE",t),this.stopLoop())}onEnded(e,t){(0,o.partConfigEnabled)("marusia_web_music_stats")&&(this.playerAdapter=e,t&&(this.sendDeviceStatEvent(a.PlayerDeviceStatEventType.TRACK_STOP,a.ActivationSource.os_system,t),this.sendPlayerStatusEvent("STOP",t),this.stopLoop()))}constructor(){this.api=new n.MarusiaSharedApi,this.sendIsPlayingInterval=null,this.playerAdapter=null,this.currentTrackStartPlayTimeMs=null,this.currentAudioId=null,this.currentAudio=null}}s.SEND_IS_PLAYING_INTERVAL=15e3,s.GLOBAL="__global__";const c=new s},793722:(e,t,i)=>{"use strict";i.d(t,{MarusiaSharedApi:()=>l});var o=i(957994),r=i(812527),n=i(40147),a=i(461742),s=i(474284);const c="https://vc.go.mail.ru";class l{generateDeviceId(){return(0,n.generateDeviceId)("vk_web",this.debug)}processBackendCommands(e,t){const i={phrase_id:e,command_ids:JSON.stringify(t)};return(0,o.api)("marusia.processCommands",i)}getSuggests(e){const t={has_unread_messages:Number(e)};return(0,o.api)("marusia.getSuggests",t)}getWebStatic(){return(0,o.api)("marusia.getWebStatic",{})}getWebSession(e){const t={device_id:e};return(0,o.api)("marusia.getWebSession",t)}revokeWebSession(e){const t={device_id:e};return(0,o.api)("marusia.revokeWebSession",t)}getLastMessageCommands(){return(0,o.api)("marusia.getLastMessageCommands",{})}sendStartSessionEvent(){return(0,o.api)("marusia.sendStartSessionEvent",{})}getOnboarding(){return(0,o.api)("marusia.getOnboarding",{})}async isBackendCommand(e){const t=(await this.getInitConfig()).marusiaBackendCommands?.commands;return!t||t.some((t=>"media"===e.type?"vk"===e.meta?.source?.type&&(e.type===t.type&&e.media_type===t.media_type):("playlist"!==e.type||"vk"===e.tracks[0]?.meta?.source?.type)&&e.type===t.type))}getInitConfig(){return null===this.initConfigCache&&(this.initConfigCache=(0,o.api)("marusia.getInitConfig",{device_id:this.generateDeviceId(),tts_type:"mp3"})),this.initConfigCache}sendMessage(e,t,i){return(0,o.api)("messages.send",{peer_id:e,random_id:Math.round(2147483647*Math.random()),payload:JSON.stringify(i),message:t})}reloadAudios(e){return Promise.resolve([])}getApiHost(){return this.getInitConfig().then((e=>e.marusiaServerType?e.marusiaServerType:{server_url:c,skill:""}))}async makeRequest(e,t={},i={}){const o=await(0,r.getSession)(this),n=await this.getApiHost(),s=n.server_url,l=this.generateDeviceId(),d=(await this.getInitConfig()).maskedChatId,u={...t,dialog_mode:"vk_bot",session_id:o.session_id,device_id:l,chat_id:":vk:chat:"+d};s!==c&&(u.skillserver_type=n.skill);const _=new URLSearchParams(u).toString();let p=!0,m=null;try{m=await fetch(`${s}/${e}?${_}`,{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o.session_secret}`},...i}),400===m.status&&(p=!1,m=null)}catch{}if(!p)return await(0,r.revokeSession)(this),this.makeRequest(e,t,i);if(!m)throw new Error(a.MarusiaError.API_ERROR);return m.json()}async getPreparedCapabilities(){const e=(await this.getInitConfig()).capabilities.capabilities2;let t={};return e&&(t=e.reduce(((e,t)=>({...e,[t.capability]:t.enabled})),{})),t}async getDefaultOptions(e){const t=await this.getPreparedCapabilities();return{body:JSON.stringify({...e,capabilities2:{capabilities:t}})}}async addChunk(e,t,i=!1,o,r){const n={last:i?1:0,phrase_id:e,chunk_num:t},a={signal:r,body:o};return(await this.makeRequest("phrase/add",n,a)).result}async createAsrPhrase(e,t){const i={};e&&(i.player_data=e);const o=await this.getDefaultOptions(i);return t&&(o.signal=t),this.makeRequest("phrase/create",{no_kw:1},o)}async phraseCreateText(e,t,i){const o={text:e,refuse_tts:1},r=t??{};i&&(r.player_data=i);const n=await this.getDefaultOptions(r);return this.makeRequest("phrase/create/text",o,n)}async phraseCreateEvent(e,t,i){const o={event:e,refuse_tts:1},r=t??{};i&&(r.player_data=i);const n=await this.getDefaultOptions(r);return this.makeRequest("phrase/create/event",o,n)}async getPhraseResult(e){const t={phrase_id:e,capabilities2:JSON.stringify({capabilities:await this.getPreparedCapabilities()})};return this.makeRequest("phrase/result",t,{method:"GET"})}async upgradeToken(e){const t={app_id:s.MARUSIA_APP_ID},i={body:JSON.stringify({phrase_info:e.phrase_info})};return this.makeRequest("account/vk/upgrade_token",t,i)}sendDeviceStat(e){const t={body:JSON.stringify({events:e})};return this.makeRequest("device/stat",{},t)}sendPlayerStatus(e,t){const i={as_global:1,skill_id:e},o={body:JSON.stringify(t)};return this.makeRequest("player/status",i,o)}skillList(e){const t={category:e,size:10,page:0,use_all_platforms:0};return this.makeRequest("skill_list",t,{method:"GET"})}skillListCategories(){return this.makeRequest("skill_list/categories",{add_featured:1,use_all_platforms:0},{method:"GET"})}constructor(e){this.debug=!1,this.initConfigCache=null,this.debug=!!e}}},474284:(e,t,i)=>{"use strict";i.d(t,{MARUSIA_APP_ID:()=>o});const o=6463690},40147:(e,t,i)=>{"use strict";i.d(t,{generateDeviceId:()=>a});var o=i(351118),r=i(75745);const n="marusia-device-id";function a(e,t){let i=o.localStorage.getItem(n);if(!i){i=`:${t?"d":"c"}:${"chat"}:${e}:${(0,r.uuid)(32)}`,o.localStorage.setItem(n,i)}return i}},812527:(e,t,i)=>{"use strict";let o;i.d(t,{getSession:()=>n,revokeSession:()=>s});let r=3;async function n(e){if(!o){const t=e.generateDeviceId();o=e.getWebSession(t)}try{return await o}catch(t){if(console.error("get session error",t),r<3)return r+=1,a(),n(e);throw new Error("get session error")}}function a(){o=void 0}function s(e){return a(),e.revokeWebSession(e.generateDeviceId())}},461742:(e,t,i)=>{"use strict";i.d(t,{CommunicationType:()=>o,MarusiaError:()=>r});var o=function(e){return e.kws="kws",e.listen_command="listen_command",e.button="button",e.text="text",e.suggest="suggest",e.skill="skill",e.widget="widget",e.other="other",e}({}),r=function(e){return e.HIDDEN="HIDDEN",e.BACKEND_COMMAND_TIMEOUT="BACKEND_COMMAND_TIMEOUT",e.USER_INTERRUPT="USER_INTERRUPT",e.ATTACH_LOAD_TIMEOUT="ATTACHES_LOAD_TIMEOUT",e.API_ERROR="API_ERROR",e}({})},794070:(e,t,i)=>{"use strict";i.d(t,{MarusiaMediaType:()=>o});var o=function(e){return e[e.music=1]="music",e[e.radio=2]="radio",e[e.noise=3]="noise",e[e.tale=4]="tale",e[e.podcast=5]="podcast",e[e.books=6]="books",e[e.video=8]="video",e}({})},121246:(e,t,i)=>{"use strict";i.d(t,{ActivationSource:()=>r,PlayerDeviceStatEventType:()=>o});var o=function(e){return e.TRACK_START="player.track_start",e.TRACK_STOP="player.track_stop",e.TRACK_RESUME="player.track_resume",e.TRACK_PAUSE="player.track_pause",e.TRACK_PLAYING="player.track_playing",e}({}),r=function(e){return e.playback="playback",e.backend_new_media="backend_new_media",e.backend_controls="backend_controls",e.os_ui="os_ui",e.os_system="os_system",e.app_ui="app_ui",e.playback_limit="playback_limit",e}({})},75745:(e,t,i)=>{"use strict";i.d(t,{MARUSIA_PEER_ID:()=>o,disableMarusiaTextInput:()=>s,enableMarusiaTextInput:()=>c,getSuggestContentForApi:()=>d,isPayloadForCommand:()=>n,isSuggestCommand:()=>a,parseBase64JSON:()=>l,replaceSpecialPhrases:()=>u,uuid:()=>r});i(794070),i(89473);const o=-194070336;function r(e=32){return[...Array(e).keys()].reduce((e=>`${e}${Math.floor(16*Math.random()).toString(16)}`),"")}function n(e,t){if(!e.voice_assistant)return!1;const i=e.voice_assistant;return!(i.phrase_id!==t.phraseId||(o=i.command_ids,r=t.commandIds,o.length!==r.length||!o.every((e=>r.includes(e)))));var o,r}function a(e){return["text_suggest","event_suggest","url_suggest"].includes(e.type)}function s(e){e.contentEditable="false",e.classList.add("im-chat-input--text_disabled")}function c(e){e.contentEditable="true",e.classList.remove("im-chat-input--text_disabled")}function l(e){let t=null;if(e)try{t=JSON.parse(atob(e))}catch(e){console.error("Failed to parse JSON")}return t}function d(e){let t="";return"event_suggest"===e.type&&(t=e.text),"text_suggest"===e.type&&(t=e.payload),u(t)}function u(e){return e.replace("#DISLIKE#","👎🏻").replace("#LIKE#","👍🏻")}},683852:(e,t,i)=>{"use strict";i.d(t,{areResourcesBlocked:()=>r});var o=i(952492);async function r(){const e=new AbortController;try{await Promise.all(o.URLS.map((t=>fetch(t,{method:"HEAD",mode:"no-cors",signal:e.signal}))))}catch{return e.abort(),!0}return!1}},952492:(e,t,i)=>{"use strict";i.d(t,{ADBLOCK_CONFIG_KEY:()=>r,DEFAULT_ADBLOCK_STATS_COOLDOWN_MS:()=>o,STATLOG_TEST_KEY:()=>n,URLS:()=>a});const o=864e5,r="unique_adblock_users",n="frontend_statlog_compare",a=["https://tns-counter.ru","https://top-fwz1.mail.ru","https://ads.vk.com","https://r0.mradx.net"]},210909:(e,t,i)=>{"use strict";i.d(t,{isAdblockDetected:()=>m});var o=i(596181),r=i(101272),n=i(540462),a=i(636576),s=i(170022),c=i(433367),l=i(952492),d=i(683852),u=i(636111),_=i(957994);const p={RESOURCE:"resource",ADVERT:"advert",BOTH:"both"};async function m(){const[e,t]=await Promise.all([(0,d.areResourcesBlocked)(),(0,u.isAdvertBlocked)()]);return e&&t?p.BOTH:e?p.RESOURCE:!!t&&p.ADVERT}class g extends o.CustomStatCollector{logEvent(e){(0,_.api)("statEvents.addWeb",{events:JSON.stringify([e])})}}const v=new o.DevNullStatCollector(new o.CustomStatCollector),f=new o.DevNullStatCollector(new g);function y(e,t,i){(0,a.statlogsValueEvent)(l.STATLOG_TEST_KEY,e,`s-${t}`,...i),(0,r.saveStatlogEvents)({name:l.STATLOG_TEST_KEY,value:e,keys:[`e-${t}`,...i]}),v.logEvent({key:l.STATLOG_TEST_KEY,value_str:`p-${t}`,value_str2:i[0],value_str3:i[1],value_str4:i[2],value_str5:i[3],value_str6:i[4],value_str7:i[5],value_str8:i[6]}),f.logEvent({key:l.STATLOG_TEST_KEY,value_str:`a-${t}`,value_str2:i[0],value_str3:i[1],value_str4:i[2],value_str5:i[3],value_str6:i[4],value_str7:i[5],value_str8:i[6]})}(0,n.partConfigEnabled)("unique_adblock_users")&&requestIdleCallback((async()=>{const e=new c.CooldownManager(window.vk?.id,s.METRICS_SCOPE.ADBLOCK_STATS,l.DEFAULT_ADBLOCK_STATS_COOLDOWN_MS);if(!e.isMetricOnCoolDown()){const t=await m();if((0,a.statlogsValueEvent)(l.ADBLOCK_CONFIG_KEY,window.vk.id,window.vk.statsMeta.platform,Boolean(t).toString(),t||void 0,window.cur.module||void 0),(0,n.partConfigEnabled)("frontend.frontend_statlog_compare")){const e=[window.vk.statsMeta.platform,t||"good",window.cur.module];y(window.vk.id,"0s",[...e,"0s"]),setTimeout((()=>{y(window.vk.id,"5s",[...e,"5s"])}),5e3),setTimeout((()=>{y(window.vk.id,"30s",[...e,"30s"])}),3e4),setTimeout((()=>{y(window.vk.id,"60s",[...e,"60s"])}),6e4)}e.updateMetricTimestamp()}}),{timeout:5e3})},765362:(e,t,i)=>{"use strict";i.d(t,{scheduleChecker:()=>u});var o=i(636576),r=i(170022),n=i(433367),a=i(810935),s=i(807978),c=i(540462);const l=new a.BrowserCertificateSupportStatsCollector,d=new n.CooldownManager(window.vk?.id,r.METRICS_SCOPE.BROWSER_CERTIFICATE_SUPPORT,s.DAY);function u(){d.isMetricOnCoolDown()||requestIdleCallback((()=>{d.updateMetricTimestamp();const e=function(){const e=(0,c.getConfigValue)("mincifry_check_endpoint");if(e)return fetch(e).then((e=>e.ok)).catch((()=>!1))}();e&&e.then((e=>{l.logEvent({module:window.cur?.module??"unknown",mincifry:e})}));const t=function(){const e=(0,c.getConfigValue)("r3_check_endpoint");if(e)return fetch(e).then((e=>e.ok)).catch((()=>!1))}();t&&t.then((e=>{(0,o.statlogsValueEvent)("ssl_r3_support",null,e)}))}),{timeout:5*s.SECOND})}},170022:(e,t,i)=>{"use strict";i.d(t,{METRICS_SCOPE:()=>o});var o=function(e){return e.USER_INFO_STATS="USER_INFO_STATS",e.PERFORMANCE_STATS="PERFORMANCE_STATS",e.PERFORMANCE_STATS_CORE="PERFORMANCE_STATS_CORE",e.PERFORMANCE_STATS_PRODUCT="PERFORMANCE_STATS_PRODUCT",e.ADBLOCK_STATS="ADBLOCK_STATS",e.MODULE_NAVIGATION_STATS="MODULE_NAVIGATION_STATS",e.BROWSER_CERTIFICATE_SUPPORT="CERT_STATS",e.WASM_SUPPORT="WASM_STATS",e}({})},433367:(e,t,i)=>{"use strict";i.d(t,{CooldownManager:()=>r});var o=i(553608);class r{getMetricsState(){const e=o.vkLocalStorage.getItem(this.storageName);return e?JSON.parse(e):{timestamps:{}}}getMetricName(e){if("number"==typeof this.cooldown)return e??"default";if(!e)throw new Error("The metric name is required for a complex cooldown configuration.");return e}getMetricTTL(e){return"number"==typeof this.cooldown?this.cooldown:this.cooldown[e]}checkMetricCooldown(e,t){return(!this.options.invalidationReasons?.dateChange||new Date(t).toDateString()===(new Date).toDateString())&&t+this.getMetricTTL(e)>Date.now()}isMetricOnCoolDown(e){const t=this.getMetricName(e),i=this.getMetricsState().timestamps[t]??0;return this.scheduleCleanOutdatedMetrics(),this.checkMetricCooldown(t,i)}updateMetricTimestamp(e){const t=this.getMetricName(e),i=this.getMetricsState();i.timestamps[t]=Date.now(),o.vkLocalStorage.setItem(this.storageName,JSON.stringify(i)),this.scheduleCleanOutdatedMetrics()}cleanOutdatedMetrics(){const e=this.getMetricsState(),t={...e};Object.entries(e.timestamps).forEach((([e,i])=>{this.checkMetricCooldown(e,i)||delete t.timestamps[e]})),o.vkLocalStorage.setItem(this.storageName,JSON.stringify(t))}scheduleCleanOutdatedMetrics(){this.options.cleanOutdatedMetrics&&!this.isOutdatedMetricsCleanScheduled&&(this.isOutdatedMetricsCleanScheduled=!0,requestIdleCallback((()=>{this.isOutdatedMetricsCleanScheduled=!1,this.cleanOutdatedMetrics()}),{timeout:5e3}))}constructor(e,t,i,o={}){this.id=e,this.scope=t,this.cooldown=i,this.options=o,this.isOutdatedMetricsCleanScheduled=!1,this.storageName=`@METRICS_${e||"GUEST"}_${t}`}}},750937:(e,t,i)=>{"use strict";i.d(t,{sendPerformanceStats:()=>u});var o=i(150353),r=i(166583),n=i(540462),a=i(101272),s=i(105330),c=i(551178);const l=new o.PerformanceStatsCollector;let d;const u=e=>{const t=`${e.entity}.${e.event}`;t!==c.PerformanceStatsCoreEventType.NAVIGATION_DONE?(l.logEvent({...e,value:e.value.toString(),network_effective_type:e.networkEffectiveType??r.default.getConnectionEffectiveType()}),e.trace_id&&(0,n.partConfigEnabled)("frontend.performance_stats_core_plugin_statlogs")&&((0,a.saveStatlogEvents)({name:"web_perf_core",value:e.value,keys:[(0,s.isMvk)()?"mvk":"web",window.location.host,e.module,e.page,r.default.getConnectionEffectiveType(),`${c.PerformanceStatsCoreEventType.NAVIGATION_DONE}_to_${t}`,Boolean(window.vk.id)?"true":"false",e.trace_cause]}),d&&(0,a.saveStatlogEvents)({name:"web_perf_core",value:e.value-d.value,keys:[(0,s.isMvk)()?"mvk":"web",window.location.host,e.module,e.page,r.default.getConnectionEffectiveType(),`${d.entity}.${d.event}_to_${t}`,Boolean(window.vk.id)?"true":"false",e.trace_cause]}),d=e)):d=void 0}},895509:(e,t,i)=>{"use strict";i.d(t,{injectTimestampIntoParamsObj:()=>a,makeWrappedImporter:()=>n});var o=i(351118),r=i(996361);function n(e){let t=null;return i=>{const n=performance.now();t||(t=(0,r.sleep)(50).then((()=>(0,o.asyncImportLoader)(e,3))),t.then((()=>{}))),t.then((e=>i(e,n)),(()=>{}))}}function a(e,t=performance.now()){return{...e,time:e.time??t}}},511356:(e,t,i)=>{"use strict";i.d(t,{trackHideViewerLoader:()=>_,trackShowViewerLoader:()=>u,trackStoryClosed:()=>l,trackStoryDownloadEnd:()=>c,trackStoryDownloadFailure:()=>d,trackStoryOpened:()=>a,trackStoryOpeningStart:()=>n,trackStoryViewerClosed:()=>s});var o=i(895509);const r=(0,o.makeWrappedImporter)((()=>Promise.all([i.e(64007),i.e(12334),i.e("langs/web/stories-perf-metrics")]).then(i.bind(i,924203)))),n=e=>{r(((t,i)=>{t.trackStoryOpeningStart((0,o.injectTimestampIntoParamsObj)(e,i))}))},a=e=>{r(((t,i)=>{t.trackStoryOpened((0,o.injectTimestampIntoParamsObj)(e,i))}))},s=e=>{r(((t,i)=>{t.trackStoryViewerClosed((0,o.injectTimestampIntoParamsObj)(e,i))}))},c=e=>{r(((t,i)=>{t.trackStoryDownloadEnd((0,o.injectTimestampIntoParamsObj)(e,i))}))},l=e=>{r(((t,i)=>{t.trackStoryClosed((0,o.injectTimestampIntoParamsObj)(e,i))}))},d=e=>{r(((t,i)=>{t.trackStoryDownloadFailure((0,o.injectTimestampIntoParamsObj)(e,i))}))},u=e=>{r(((t,i)=>{t.trackShowViewerLoader((0,o.injectTimestampIntoParamsObj)(e,i))}))},_=e=>{r(((t,i)=>{t.trackHideViewerLoader((0,o.injectTimestampIntoParamsObj)(e,i))}))}},530888:(e,t,i)=>{"use strict";i.d(t,{STORY_TECH_STATS_STORAGE_NAME:()=>o,StoryErrorType:()=>a,StoryEventType:()=>s,StoryEventTypeDebugTypes:()=>c,StoryTypeNext:()=>n,StoryTypeOpen:()=>r});const o="story_tech_stats_storage";var r=function(e){return e.OPEN_STORY_BY_CLICK="OPEN_STORY_BY_CLICK",e.NEXT_OPEN_STORY="NEXT_OPEN_STORY",e.UNKNOWN="UNKNOWN",e}({}),n=function(e){return e.NEXT_STORY="NEXT_STORY",e.PREV_STORY="PREV_STORY",e.RESET_STORY="RESET_STORY",e.NEXT_CONTAINER_STORY="NEXT_CONTAINER_STORY",e.PREV_CONTAINER_STORY="PREV_CONTAINER_STORY",e}({}),a=function(e){return e.DOWNLOAD="download",e.UPLOAD="upload",e}({}),s=function(e){return e.STORY_FEED_BLOCK_START_LOADING="story_feed_block_start_loading",e.STORY_FEED_BLOCK_CHUNK_LOADED="story_feed_block_chunk_loaded",e.STORY_FEED_BLOCK_DATA_LOADED="story_feed_block_data_loaded",e.STORY_FEED_BLOCK_DATA_LOADED_BEFORE_FEED_RENDERED="story_feed_block_data_loaded_before_feed_rendered",e.STORY_FEED_BLOCK_DATA_LOADED_AFTER_FEED_RENDERED="story_feed_block_data_loaded_after_feed_rendered",e.STORY_FEED_BLOCK_LOADING="story_feed_block_loading",e.FEED_RENDERED="feed_rendered",e.STORY_FEED_BLOCK_RENDERED="story_feed_block_rendered",e.STORY_FEED_BLOCK_RENDERED_WITHOUT_FEED="story_feed_block_rendered_without_feed",e.STORY_OPENING_START="story_opening_start",e.STORY_OPENED="story_opened",e.STORY_VIEWER_CLOSED="story_viewer_closed",e.STORY_CLOSED="story_closed",e.SHOW_VIEWER_LOADER="show_viewer_loader",e.HIDE_VIEWER_LOADER="hide_viewer_loader",e.DOWNLOAD="download",e.DOWNLOAD_START="download_start",e.UPLOAD_START="upload_start",e.UPLOAD="upload",e.VIDEO_STALL="video_stall",e.PLAYING_VIDEO_ERROR="playing_video_error",e}({});const c=new Set(["story_feed_block_start_loading","story_opening_start","show_viewer_loader","download_start","upload_start","story_viewer_closed","story_closed"])},79612:(e,t,i)=>{"use strict";i.d(t,{navigationStat:()=>a});var o=i(558137),r=i(57075),n=i(942746);const a=(0,o.makeSharedState)("navigation-stat-collector",(()=>{const e=new n.ProductionStatCollector;return new r.NavigationStatCollector(e)}),{version:1})()},746971:(e,t,i)=>{"use strict";i.d(t,{ActionStatCollector:()=>r});var o=i(658007);class r{logEvent(e,t={}){const i={...this.productionStatCollector.getBaseEvent(t.screen),type:o.ProductionStatEventTypes.TYPE_ACTION,[o.ProductionStatEventTypes.TYPE_ACTION]:e};this.productionStatCollector.logEvent(i,t)}constructor(e){this.productionStatCollector=e}}},8843:(e,t,i)=>{"use strict";i.d(t,{AdMiniAppsEventStatsCollector:()=>n});var o=i(452223),r=i(314309);class n{logEvent(e,t){const i={mini_app_id:e,event:t},r={type:o.ActionProductionStatEventTypes.TYPE_AD_MINI_APPS_EVENT_ITEM,[o.ActionProductionStatEventTypes.TYPE_AD_MINI_APPS_EVENT_ITEM]:i};this.actionStatCollector.logEvent(r)}constructor(){this.productStatCollector=new r.ProductionStatCollector,this.actionStatCollector=new r.ActionStatCollector(this.productStatCollector)}}},962496:(e,t,i)=>{"use strict";i.d(t,{BridgeEventStatsCollector:()=>c});var o=i(452223),r=i(314309),n=i(540462),a=i(609620),s=i(898848);class c{logEvent(e,t,i,r,c,l,d){const u={webview_url:e,mini_app_id:t,event:i,error:r,track_code:d};(0,n.partConfigEnabled)("mini_apps_send_session_uuid_bridge_events")&&(u.session_uuid=c),(0,n.partConfigEnabled)("mini_apps_bridge_stats_bridge_log_field")&&(0,s.isString)(l)&&(u.bridge_log=(0,a.default)(l,{length:this.BRIDGE_LOG_MAX_LENGTH}));const _={type:o.ActionProductionStatEventTypes.TYPE_BRIDGE_EVENT_ITEM,[o.ActionProductionStatEventTypes.TYPE_BRIDGE_EVENT_ITEM]:u};this.actionStatCollector.logEvent(_)}constructor(){this.BRIDGE_LOG_MAX_LENGTH=256,this.productStatCollector=new r.ProductionStatCollector,this.actionStatCollector=new r.ActionStatCollector(this.productStatCollector)}}},810935:(e,t,i)=>{"use strict";i.d(t,{BrowserCertificateSupportStatsCollector:()=>n});var o=i(314309),r=i(452223);class n{logEvent(e){const t={type:r.ActionProductionStatEventTypes.TYPE_BROWSER_CERTIFICATE_SUPPORT_STATS_ITEM,[r.ActionProductionStatEventTypes.TYPE_BROWSER_CERTIFICATE_SUPPORT_STATS_ITEM]:e};this.actionStatCollector.logEvent(t)}constructor(){this.productionStatCollector=new o.ProductionStatCollector,this.actionStatCollector=new o.ActionStatCollector(this.productionStatCollector)}}},699916:(e,t,i)=>{"use strict";i.d(t,{CommunityAppsCatalogActionEventCollector:()=>n});var o=i(452223),r=i(314309);class n{logEvent(e,t,i){const r={event:e};t&&(r.source=t),i&&(r.target=i);const n={type:o.ActionProductionStatEventTypes.TYPE_COMMUNITY_APPS_CATALOG_EVENT_ITEM,[o.ActionProductionStatEventTypes.TYPE_COMMUNITY_APPS_CATALOG_EVENT_ITEM]:r};this.actionStatCollector.logEvent(n)}constructor(){this.productStatCollector=new r.ProductionStatCollector,this.actionStatCollector=new r.ActionStatCollector(this.productStatCollector)}}},274229:(e,t,i)=>{"use strict";i.d(t,{EasterEggsItemStatCollector:()=>n});var o=i(452223),r=i(314309);class n{logEvent(e,t,i,r){const n={egg_id:e,egg_event_id:t,position_id:i,event_type:r},a={type:o.ActionProductionStatEventTypes.TYPE_EASTER_EGGS_ITEM,[o.ActionProductionStatEventTypes.TYPE_EASTER_EGGS_ITEM]:n};this.actionStatCollector.logEvent(a)}constructor(){this.productStatCollector=new r.ProductionStatCollector,this.actionStatCollector=new r.ActionStatCollector(this.productStatCollector)}}},90273:(e,t,i)=>{"use strict";i.d(t,{GamesJsSDKEventStatsCollector:()=>n});var o=i(452223),r=i(314309);class n{logEvent(e,t){const i={app_id:e,event_name:t},r={type:o.ActionProductionStatEventTypes.TYPE_GAMES_JS_SDK_ITEM,[o.ActionProductionStatEventTypes.TYPE_GAMES_JS_SDK_ITEM]:i};this.actionStatCollector.logEvent(r)}constructor(){this.productStatCollector=new r.ProductionStatCollector,this.actionStatCollector=new r.ActionStatCollector(this.productStatCollector)}}},679497:(e,t,i)=>{"use strict";i.d(t,{VideoKidsAgeFilterActionCollector:()=>n});var o=i(314309),r=i(452223);class n{logEvent(e){this._actionStatCollector.logEvent(e)}constructor(){this.logAgeFilterSelect=e=>{this.logEvent({type:r.EventItemType.VIDEO_AGE_FILTER_SELECT,[r.EventItemType.VIDEO_AGE_FILTER_SELECT]:{object_value:e}})},this._productionStatCollector=new o.ProductionStatCollector,this._actionStatCollector=new o.ActionStatCollector(this._productionStatCollector)}}},90348:(e,t,i)=>{"use strict";i.d(t,{MarketingTransitionItemStatCollector:()=>a});var o=i(452223),r=i(314309),n=i(396858);class a{logEvent(e,t,i,r=""){const a={campaign:e,source:i,event:t,unauth_id:(0,n.getCookie)("remixstid")};r&&(a.url=r);const s={type:o.ActionProductionStatEventTypes.TYPE_MARKETING_TRANSITION_ITEM,[o.ActionProductionStatEventTypes.TYPE_MARKETING_TRANSITION_ITEM]:a};this.actionStatCollector.logEvent(s)}constructor(){this.productStatCollector=new r.ProductionStatCollector,this.actionStatCollector=new r.ActionStatCollector(this.productStatCollector)}}},529133:(e,t,i)=>{"use strict";i.d(t,{MiniAppsActionEventCollector:()=>n});var o=i(452223),r=i(314309);class n{logEvent(e,{appId:t,navScreen:i,ref:r}){const n={type:o.ActionProductionStatEventTypes.TYPE_MINI_APPS_ACTION_ITEM,[o.ActionProductionStatEventTypes.TYPE_MINI_APPS_ACTION_ITEM]:{event_type:{event_type:e},mini_app_id:t,nav_screen:i,vk_ref:r}};this.actionStatCollector.logEvent(n,{force:!0})}constructor(){this.productStatCollector=new r.ProductionStatCollector,this.actionStatCollector=new r.ActionStatCollector(this.productStatCollector)}}},325898:(e,t,i)=>{"use strict";i.d(t,{PersonalDiscountEventStatsCollector:()=>n});var o=i(452223),r=i(314309);class n{logEvent(e){const t={type:o.ActionProductionStatEventTypes.TYPE_MINI_APPS_PERSONAL_DISCOUNT_EVENT_ITEM,[o.ActionProductionStatEventTypes.TYPE_MINI_APPS_PERSONAL_DISCOUNT_EVENT_ITEM]:e};this.actionStatCollector.logEvent(t)}constructor(){this.productStatCollector=new r.ProductionStatCollector,this.actionStatCollector=new r.ActionStatCollector(this.productStatCollector)}}},37343:(e,t,i)=>{"use strict";i.d(t,{MTTimespentStatCollector:()=>n});var o=i(452223),r=i(314309);class n{logEvent(e){const t={type:o.ActionProductionStatEventTypes.TYPE_MT_TIMESPENT_ITEM,[o.ActionProductionStatEventTypes.TYPE_MT_TIMESPENT_ITEM]:e};this.actionStatCollector.logEvent(t)}constructor(){this.productionStatCollector=new r.ProductionStatCollector,this.actionStatCollector=new r.ActionStatCollector(this.productionStatCollector)}}},150353:(e,t,i)=>{"use strict";i.d(t,{PerformanceStatsCollector:()=>n});var o=i(452223),r=i(314309);class n{logEvent(e){const t={type:o.ActionProductionStatEventTypes.TYPE_PERFORMANCE_STATS_ITEM,[o.ActionProductionStatEventTypes.TYPE_PERFORMANCE_STATS_ITEM]:e};this.actionStatCollector.logEvent(t)}constructor(){this.productionStatCollector=new r.ProductionStatCollector,this.actionStatCollector=new r.ActionStatCollector(this.productionStatCollector)}}},890879:(e,t,i)=>{"use strict";i.d(t,{SnowballsEventsActionStatsCollector:()=>n});var o=i(314309),r=i(452223);class n{logEvent(e){const t={type:r.ActionProductionStatEventTypes.TYPE_SNOWBALLS_EVENTS_ITEM,[r.ActionProductionStatEventTypes.TYPE_SNOWBALLS_EVENTS_ITEM]:e};this.actionStatCollector.logEvent(t)}constructor(){this.productionStatCollector=new o.ProductionStatCollector,this.actionStatCollector=new o.ActionStatCollector(this.productionStatCollector)}}},839128:(e,t,i)=>{"use strict";i.d(t,{SurveyMiniAppsEventStatsCollector:()=>n});var o=i(452223),r=i(314309);class n{logEvent(e,t){const i={mini_app_id:e,event:t},r={type:o.ActionProductionStatEventTypes.TYPE_SURVEY_MINI_APPS_EVENT_ITEM,[o.ActionProductionStatEventTypes.TYPE_SURVEY_MINI_APPS_EVENT_ITEM]:i};this.actionStatCollector.logEvent(r)}constructor(){this.productStatCollector=new r.ProductionStatCollector,this.actionStatCollector=new r.ActionStatCollector(this.productStatCollector)}}},851727:(e,t,i)=>{"use strict";i.d(t,{TooltipStatCollector:()=>a});var o=i(452223),r=i(314309);const n="unknown";class a{logEvent(e,t,i){const r={action:e,hint_id:t,duration:i||0},n={...this.productionStatCollector.getBaseEvent(this.getScreen(this.getModule())),type:o.ActionProductionStatEventTypes.TYPE_UI_HINT_ITEM,[o.ActionProductionStatEventTypes.TYPE_UI_HINT_ITEM]:r};this.actionStatCollector.logEvent(n,{force:!0})}getModule(){return window.cur?.module??n}getScreen(e=n){return window.cur?.screen?window.cur.screen===n?e:window.cur.screen:e}constructor(){this.productionStatCollector=new r.ProductionStatCollector,this.actionStatCollector=new r.ActionStatCollector(this.productionStatCollector)}}},495300:(e,t,i)=>{"use strict";i.d(t,{UnverifiedScreenEventCollector:()=>n});var o=i(452223),r=i(314309);class n{logEvent(e,t){const i={type:o.ActionProductionStatEventTypes.TYPE_UNVERIFIED_SCREEN_ITEM,[o.ActionProductionStatEventTypes.TYPE_UNVERIFIED_SCREEN_ITEM]:{event_type:{event_type:e},mini_app_id:t}};this.actionStatCollector.logEvent(i,{force:!0})}constructor(){this.productStatCollector=new r.ProductionStatCollector,this.actionStatCollector=new r.ActionStatCollector(this.productStatCollector)}}},561825:(e,t,i)=>{"use strict";i.d(t,{VideoAnnouncementSuggestedShowCollector:()=>n});var o=i(314309),r=i(452223);class n{logEvent(e,t){const i={type:r.ClickProductionStatEventTypes.TYPE_VIDEO_ANNOUNCEMENT_SUGGESTED_SHOW,[r.ClickProductionStatEventTypes.TYPE_VIDEO_ANNOUNCEMENT_SUGGESTED_SHOW]:{count:t,item:e}};this.actionStatCollector.logEvent(i)}constructor(){this.productStatCollector=new o.ProductionStatCollector,this.actionStatCollector=new o.ActionStatCollector(this.productStatCollector)}}},510634:(e,t,i)=>{"use strict";i.d(t,{VideoChannelCreateStatsCollector:()=>n});var o=i(452223),r=i(314309);class n{logActionEvent(e){const t={type:o.ActionProductionStatEventTypes.TYPE_VIDEO_CREATE_CHANNEL_ACTION,[o.ActionProductionStatEventTypes.TYPE_VIDEO_CREATE_CHANNEL_ACTION]:e};this.actionStatCollector.logEvent(t)}logClickEvent(e){const t={type:o.ClickProductionStatEventTypes.TYPE_VIDEO_CREATE_CHANNEL_CLICK,[o.ClickProductionStatEventTypes.TYPE_VIDEO_CREATE_CHANNEL_CLICK]:e};this.clickStatCollector.logEvent(t,{type:o.EventItemType.VIDEO})}constructor(){this.productionStatCollector=new r.ProductionStatCollector,this.clickStatCollector=new r.ClickStatCollector(this.productionStatCollector),this.actionStatCollector=new r.ActionStatCollector(this.productionStatCollector)}}},271607:(e,t,i)=>{"use strict";i.d(t,{VideoCreateClipStatsCollector:()=>n});var o=i(452223),r=i(314309);class n{logEvent(e){const t={type:o.ClickProductionStatEventTypes.TYPE_VIDEO_CREATE_CLIP,[o.ClickProductionStatEventTypes.TYPE_VIDEO_CREATE_CLIP]:e};this.clickStatCollector.logEvent(t,{type:o.EventItemType.VIDEO})}constructor(){this.productionStatCollector=new r.ProductionStatCollector,this.clickStatCollector=new r.ClickStatCollector(this.productionStatCollector)}}},48544:(e,t,i)=>{"use strict";i.d(t,{VideoDashboardStatsCollector:()=>n});var o=i(636576),r=i(468073);class n{logClickEvent({screen:e,ownerId:t}){this.log({screen:e,community_id:this.toGroupId(t),event_type:"click_to_office"})}logInnerClickEvent({screen:e,ownerId:t,chartName:i}){this.log({screen:e,chart_name:i,community_id:this.toGroupId(t),event_type:"click"})}logChartEvent(e,t){this.log({...t,event_type:e})}toGroupId(e){return e&&r.Ranges.isGroupId(e)?r.Ranges.convertOwnerIdToGroupId(e):void 0}log(e){(0,o.statlogsValueEvent)(this.eventKey,{client_time:(new Date).getTime(),user_id:window.vk.id,...e})}constructor(){this.eventKey="video_dashboard_event"}}},793023:(e,t,i)=>{"use strict";i.d(t,{VideoEditStatsCollector:()=>n});var o=i(452223),r=i(314309);class n{logEvent(e){const t={type:o.ActionProductionStatEventTypes.TYPE_VIDEO_EDIT_ITEM,[o.ActionProductionStatEventTypes.TYPE_VIDEO_EDIT_ITEM]:e};this.actionStatCollector.logEvent(t)}constructor(){this.productionStatCollector=new r.ProductionStatCollector,this.actionStatCollector=new r.ActionStatCollector(this.productionStatCollector)}}},310864:(e,t,i)=>{"use strict";i.d(t,{VideoPublishStatsCollector:()=>n});var o=i(452223),r=i(314309);class n{logEvent(e){const t={type:o.ActionProductionStatEventTypes.TYPE_VIDEO_PUBLISH_ITEM,[o.ActionProductionStatEventTypes.TYPE_VIDEO_PUBLISH_ITEM]:e};this.actionStatCollector.logEvent(t)}constructor(){this.productionStatCollector=new r.ProductionStatCollector,this.actionStatCollector=new r.ActionStatCollector(this.productionStatCollector)}}},851556:(e,t,i)=>{"use strict";i.d(t,{VideoUploadStatsCollector:()=>n});var o=i(452223),r=i(314309);class n{logEvent(e){const t={type:o.ActionProductionStatEventTypes.TYPE_VIDEO_UPLOAD_ITEM,[o.ActionProductionStatEventTypes.TYPE_VIDEO_UPLOAD_ITEM]:e};this.actionStatCollector.logEvent(t)}constructor(){this.productionStatCollector=new r.ProductionStatCollector,this.actionStatCollector=new r.ActionStatCollector(this.productionStatCollector)}}},452861:(e,t,i)=>{"use strict";i.d(t,{VideoWatchItemStatsCollector:()=>n});var o=i(452223),r=i(314309);class n{logEvent(e){const t={type:o.ActionProductionStatEventTypes.TYPE_VIDEO_WATCH_ITEM,[o.ActionProductionStatEventTypes.TYPE_VIDEO_WATCH_ITEM]:e};this.actionStatCollector.logEvent(t)}constructor(){this.productionStatCollector=new r.ProductionStatCollector,this.actionStatCollector=new r.ActionStatCollector(this.productionStatCollector)}}},338761:(e,t,i)=>{"use strict";i.d(t,{VkConnectNavigationCollector:()=>n});var o=i(452223),r=i(314309);class n{logEvent(e,t){const i=this.productionStatCollector.getBaseEvent(),r={...i,screen:"main",prev_nav_id:this.lastNavEventId,prev_event_id:i.prev_id||0,type:o.ProductionStatEventTypes.TYPE_ACTION,[o.ProductionStatEventTypes.TYPE_ACTION]:{type:o.ActionProductionStatEventTypes.TYPE_VK_CONNECT_NAVIGATION_ITEM,[o.ActionProductionStatEventTypes.TYPE_VK_CONNECT_NAVIGATION_ITEM]:e}};this.lastNavEventId=r.id,this.productionStatCollector.logEvent(r,t)}logServiceNavigationOpen(e){this.logEvent({event_type:o.IVkConnectNavigationItemEventType.SERVICE_NAVIGATION_OPEN,fields:e})}logServiceNavigationClose(e){this.logEvent({event_type:o.IVkConnectNavigationItemEventType.SERVICE_NAVIGATION_CLOSE,fields:e})}logServiceNavigationClick(e,t,i){this.logEvent({event_type:o.IVkConnectNavigationItemEventType.SERVICE_NAVIGATION_CLICK,fields:[{name:e,str_value:t,int_value:i}]})}logAccountActionsOpen(e){const t={event_type:o.IVkConnectNavigationItemEventType.POPUP_OPEN};n.addFlowTypeIfFeatureExists(t,e),this.logEvent(t)}logAccountActionsClose(e){const t={event_type:o.IVkConnectNavigationItemEventType.POPUP_CLOSE};n.addFlowTypeIfFeatureExists(t,e),this.logEvent(t)}logAccountActionsEnterLk(e="account_actions",t){const i={event_type:o.IVkConnectNavigationItemEventType.CLICK_ENTER_LK,flow_service:e};n.addFlowTypeIfFeatureExists(i,t),this.logEvent(i)}logAccountActionsVkPay(e="account_actions"){this.logEvent({event_type:o.IVkConnectNavigationItemEventType.CLICK_VK_PAY,flow_service:e})}logAccountActionsVkCombo(e="account_actions"){this.logEvent({event_type:o.IVkConnectNavigationItemEventType.CLICK_VK_COMBO,flow_service:e})}logMultiAccountShown(){this.registrationItemStat.logEvent(o.RegistrationItemEventTypes.POPUP_OPEN,o.EventScreens.MAIN,o.EventScreens.MULTI_ACC_SWITCHER,{force:!0})}logTopNavElements(e){e.includes("settings")?this.logEvent({event_type:o.IVkConnectNavigationItemEventType.CLICK_SETTINGS}):e.includes("support")?this.logEvent({event_type:o.IVkConnectNavigationItemEventType.CLICK_SUPPORT}):e.includes("theme")&&this.logEvent({event_type:o.IVkConnectNavigationItemEventType.CLICK_THEME})}logOnepassOnboardingShown(){this.registrationItemStat.logEvent(o.RegistrationItemEventTypes.SCREEN_PROCEED,o.EventScreens.NOWHERE,o.EventScreens.MEET_PASSKEY,{force:!0})}logOnepassOnboardingSkip(e){this.registrationItemStat.logEvent(o.RegistrationItemEventTypes.REFUSE_ONBOARDING_PASSKEY,e,void 0,{force:!0})}logOnepassOnboardingPlug(){this.registrationItemStat.logEvent(o.RegistrationItemEventTypes.SCREEN_PROCEED,o.EventScreens.CONNECT_PASSKEY,o.EventScreens.CONNECTED_KEYS,{force:!0})}logOnboardingChangePage(e,t){this.registrationItemStat.logEvent(o.RegistrationItemEventTypes.SCREEN_PROCEED,e,t,{force:!0})}logCancelOnExit(){this.logEvent({event_type:o.IVkConnectNavigationItemEventType.CANCEL_ON_EXIT})}logSaveLoginModalShow(){this.logEvent({event_type:o.IVkConnectNavigationItemEventType.SAVE_LOGIN_MODAL_SHOW})}logStartPhoneCUA(){this.logEvent({event_type:o.IVkConnectNavigationItemEventType.START_PHONE_CUA})}static addFlowTypeIfFeatureExists(e,t){t&&Object.assign(e,{flow_type:t})}logUnbanRecommendationModalShow(){this.logEvent({event_type:o.IVkConnectNavigationItemEventType.UNBLOCK_PROTECT_ACCOUNT_SHOW,flow_service:o.UnblockAccountField.flow_service,screen:o.UnblockAccountField.screen})}logUnbanRecommendationConnect(){this.logEvent({event_type:o.IVkConnectNavigationItemEventType.UNBLOCK_PROTECT_ACCOUNT_CONNECT,flow_service:o.UnblockAccountField.flow_service,screen:o.UnblockAccountField.screen})}logUnbanRecommendationCancellation(){this.logEvent({event_type:o.IVkConnectNavigationItemEventType.UNBLOCK_PROTECT_ACCOUNT_CANCELLATION,flow_service:o.UnblockAccountField.flow_service,screen:o.UnblockAccountField.screen})}constructor(){this.lastNavEventId=0,this.productionStatCollector=new r.ProductionStatCollector,this.actionStatCollector=new r.ActionStatCollector(this.productionStatCollector),this.registrationItemStat=new r.RegistrationItemStatCollector(this.actionStatCollector)}}},311504:(e,t,i)=>{"use strict";i.d(t,{VkidEcosystemNavigationCollector:()=>n});var o=i(452223),r=i(314309);class n{logEvent(e,t){const i=this.productionStatCollector.getBaseEvent(),r={...i,prev_nav_id:this.lastNavEventId,prev_event_id:i.prev_id||0,screen:"main",type:o.ProductionStatEventTypes.TYPE_ACTION,[o.ProductionStatEventTypes.TYPE_ACTION]:{type:o.ActionProductionStatEventTypes.TYPE_VKID_ECOSYSTEM_NAVIGATION_ITEM,[o.ActionProductionStatEventTypes.TYPE_VKID_ECOSYSTEM_NAVIGATION_ITEM]:{...e,screen:"ecosystem_navigation"}}};this.lastNavEventId=r.id,this.productionStatCollector.logEvent(r,t)}constructor(){this.lastNavEventId=0,this.productionStatCollector=new r.ProductionStatCollector}}},25537:(e,t,i)=>{"use strict";i.d(t,{ClickStatCollector:()=>r});var o=i(658007);class r{logEvent(e,t,i,r){const n={...this.productionStatCollector.getBaseEvent(),type:o.ProductionStatEventTypes.TYPE_CLICK,screen:i,[o.ProductionStatEventTypes.TYPE_CLICK]:{item:t,...e}};this.productionStatCollector.logEvent(n,r)}constructor(e){this.productionStatCollector=e}}},279127:(e,t,i)=>{"use strict";i.d(t,{ClipDescriptionStatsCollector:()=>n});var o=i(452223),r=i(314309);class n{logEvent(e){const t={type:o.ClickProductionStatEventTypes.TYPE_CLIPS_DESCRIPTION_CLICK_ITEM,[o.ClickProductionStatEventTypes.TYPE_CLIPS_DESCRIPTION_CLICK_ITEM]:e};this.clickStatCollector.logEvent(t,{type:o.EventItemType.CLIP})}constructor(){this.productStatCollector=new r.ProductionStatCollector,this.clickStatCollector=new r.ClickStatCollector(this.productStatCollector)}}},230205:(e,t,i)=>{"use strict";i.d(t,{ClipDownloadStatsCollector:()=>n});var o=i(452223),r=i(314309);class n{logEvent(e){const t={type:o.ClickProductionStatEventTypes.TYPE_CLIP_VIEWER_ITEM,[o.ClickProductionStatEventTypes.TYPE_CLIP_VIEWER_ITEM]:e};this.clickStatCollector.logEvent(t,{type:o.EventItemType.CLIP})}constructor(){this.productStatCollector=new r.ProductionStatCollector,this.clickStatCollector=new r.ClickStatCollector(this.productStatCollector)}}},232645:(e,t,i)=>{"use strict";i.d(t,{ClipSubscribeStatsCollector:()=>n});var o=i(452223),r=i(314309);class n{logEvent(e){const t={type:o.ClickProductionStatEventTypes.TYPE_CLIP_VIEWER_ITEM,[o.ClickProductionStatEventTypes.TYPE_CLIP_VIEWER_ITEM]:e};this.clickStatCollector.logEvent(t,{type:o.EventItemType.CLIP,id:e.video_id,owner_id:e.video_owner_id})}constructor(){this.productStatCollector=new r.ProductionStatCollector,this.clickStatCollector=new r.ClickStatCollector(this.productStatCollector)}}},705150:(e,t,i)=>{"use strict";i.d(t,{CommunityAppsClickEventStatsCollector:()=>n});var o=i(452223),r=i(314309);class n{logEvent({miniAppId:e,groupId:t,eventType:i,source:r,vkRef:n,options:a}){const s={event:i,group_id:t};r&&(s.source=r);const c={type:o.ClickProductionStatEventTypes.TYPE_COMMUNITY_APPS_CATALOG_ITEM,[o.ClickProductionStatEventTypes.TYPE_COMMUNITY_APPS_CATALOG_ITEM]:s},l={type:o.EventItemType.MINI_APP,id:e,vk_ref:n};a&&(l.track_code=JSON.stringify(a)),this.clickStatCollector.logEvent(c,l)}constructor(){this.productStatCollector=new r.ProductionStatCollector,this.clickStatCollector=new r.ClickStatCollector(this.productStatCollector)}}},660521:(e,t,i)=>{"use strict";i.d(t,{feedItemMenuActionCollector:()=>n});var o=i(452223),r=i(314309);const n=new class{logEvent(e,t,i){const r={...this.productionStatCollector.getBaseEvent(i),type:o.ClickProductionStatEventTypes.TYPE_FEED_ITEM_MENU_ACTION,[o.ActionProductionStatEventTypes.TYPE_FEED_ITEM_MENU_ACTION]:e};this.clickStatCollector.logEvent(r,t)}constructor(){this.productionStatCollector=new r.ProductionStatCollector,this.clickStatCollector=new r.ClickStatCollector(this.productionStatCollector)}}},12973:(e,t,i)=>{"use strict";i.d(t,{feedOpenItemCollector:()=>n});var o=i(452223),r=i(314309);const n=new class{logEvent(e,t,i){const r={...this.productionStatCollector.getBaseEvent(i),type:o.ClickProductionStatEventTypes.TYPE_FEED_OPEN_ITEM,[o.ClickProductionStatEventTypes.TYPE_FEED_OPEN_ITEM]:e};this.clickStatCollector.logEvent(r,t)}constructor(){this.productionStatCollector=new r.ProductionStatCollector,this.clickStatCollector=new r.ClickStatCollector(this.productionStatCollector)}}},38711:(e,t,i)=>{"use strict";i.d(t,{FeedPostDonutPaymentStatsCollector:()=>n});var o=i(452223),r=i(314309);class n{logEvent(e,t,i){const r={...this.productStatCollector.getBaseEvent(i),type:o.ClickProductionStatEventTypes.TYPE_FEED_POST_DONUT_PAYMENT_CLICK,[o.ClickProductionStatEventTypes.TYPE_FEED_POST_DONUT_PAYMENT_CLICK]:e};this.clickStatCollector.logEvent(r,t,i)}constructor(){this.productStatCollector=new r.ProductionStatCollector,this.clickStatCollector=new r.ClickStatCollector(this.productStatCollector)}}},315001:(e,t,i)=>{"use strict";i.d(t,{VideoKidsAgeFilterClickCollector:()=>n});var o=i(314309),r=i(452223);class n{constructor(){this.logEvent=e=>{const t={type:e.type,[e.type]:{}},i={type:e?.type,event_subtype:e?.item?.event_subtype};this._clickStatCollector.logEvent(t,i)},this.logSelectOpen=()=>{this.logEvent({type:r.EventItemType.VIDEO_KIDS_AGE_FILTER_BUTTON_TAP,item:{type:r.EventItemType.VIDEO_KIDS_AGE_FILTER_BUTTON_TAP}})},this.logSelectReset=e=>{this.logEvent({type:r.EventItemType.VIDEO_KIDS_AGE_FILTER_BUTTON_RESET,item:{type:r.EventItemType.VIDEO_KIDS_AGE_FILTER_BUTTON_RESET,event_subtype:e}})},this._productStatCollector=new o.ProductionStatCollector,this._clickStatCollector=new o.ClickStatCollector(this._productStatCollector)}}},871927:(e,t,i)=>{"use strict";i.d(t,{MiniAppSnowballModalActionStatsCollector:()=>n});var o=i(452223),r=i(314309);class n{logEvent(e){const t={type:o.ClickProductionStatEventTypes.TYPE_MINI_APP_SNOWBALL_MODAL_ACTION_ITEM,[o.ClickProductionStatEventTypes.TYPE_MINI_APP_SNOWBALL_MODAL_ACTION_ITEM]:e},i={type:o.EventItemType.PROFILE};this.clickStatCollector.logEvent(t,i)}constructor(){this.productStatCollector=new r.ProductionStatCollector,this.clickStatCollector=new r.ClickStatCollector(this.productStatCollector)}}},785004:(e,t,i)=>{"use strict";i.d(t,{notificationSettingsEventItemStatCollector:()=>n});var o=i(452223),r=i(314309);const n=new class{logEvent(e){const t={type:o.EventItemType.IM_PUSH_NOTIFICATIONS_SETTINGS},i={type:o.ClickProductionStatEventTypes.TYPE_IM_PUSH_NOTIFICATIONS_SETTINGS_CLICK,[o.ClickProductionStatEventTypes.TYPE_IM_PUSH_NOTIFICATIONS_SETTINGS_CLICK]:e};this.clickStatCollector.logEvent(i,t)}constructor(){this.productStatCollector=new r.ProductionStatCollector,this.clickStatCollector=new r.ClickStatCollector(this.productStatCollector)}}},141235:(e,t,i)=>{"use strict";i.d(t,{ProfileActionButtonCollector:()=>n});var o=i(452223),r=i(314309);class n{logEvent(e,t){const i={type:e},r={type:o.ClickProductionStatEventTypes.TYPE_PROFILE_ACTION_BUTTON_ITEM,[o.ClickProductionStatEventTypes.TYPE_PROFILE_ACTION_BUTTON_ITEM]:i};this.clickStatCollector.logEvent(r,{id:t,type:o.EventItemType.MINI_APP})}constructor(){this.productStatCollector=new r.ProductionStatCollector,this.clickStatCollector=new r.ClickStatCollector(this.productStatCollector)}}},785786:(e,t,i)=>{"use strict";i.d(t,{ProfileShowAllVideosClickStatsCollector:()=>n});var o=i(314309),r=i(452223);class n{logEvent(e){const t={type:"type_open_profile_videos",type_open_profile_videos:{event_type:r.ProfileVideoTabClickTypes.OPEN_ALL_VIDEOS}};this.clickStatCollector.logEvent(t,e,"profile")}constructor(){this.productStatCollector=new o.ProductionStatCollector,this.clickStatCollector=new o.ClickStatCollector(this.productStatCollector)}}},52379:(e,t,i)=>{"use strict";i.d(t,{ProfileUploadVideoClickStatsCollector:()=>n});var o=i(314309),r=i(452223);class n{logEvent(e){const t={type:"type_upload_profile_video",type_upload_profile_video:{event_type:r.ProfileVideoTabClickTypes.UPLOAD_PROFILE_VIDEOS,event_subtype:"main"}};this.clickStatCollector.logEvent(t,e,"profile")}constructor(){this.productStatCollector=new o.ProductionStatCollector,this.clickStatCollector=new o.ClickStatCollector(this.productStatCollector)}}},384280:(e,t,i)=>{"use strict";i.d(t,{SearchStatsCollector:()=>a});var o=i(452223),r=i(314309),n=i(231450);class a{constructor(){this.logEvent=e=>{if(!e.track_code)return;const t={type:o.ClickProductionStatEventTypes.TYPE_SEARCH_CLICK_ITEM,[o.ClickProductionStatEventTypes.TYPE_SEARCH_CLICK_ITEM]:{action:e.action}},i={type:e.type,track_code:e.track_code};this.clickStatCollector.logEvent(t,i)},this.logOutOfSerpEvent=e=>{const t=(0,n.getTrackCode)();t&&this.logEvent({...e,track_code:t})},this.productStatCollector=new r.ProductionStatCollector,this.clickStatCollector=new r.ClickStatCollector(this.productStatCollector)}}},854540:(e,t,i)=>{"use strict";i.d(t,{ShortVideoStatsCollector:()=>n});var o=i(452223),r=i(314309);class n{logEvent(e){const t={type:o.ClickProductionStatEventTypes.TYPE_SHORT_VIDEO_CLICK_ITEM,[o.ClickProductionStatEventTypes.TYPE_SHORT_VIDEO_CLICK_ITEM]:{action:e.action}},i={type:e.type,track_code:e.track_code};this.clickStatCollector.logEvent(t,i)}constructor(){this.productStatCollector=new r.ProductionStatCollector,this.clickStatCollector=new r.ClickStatCollector(this.productStatCollector)}}},86373:(e,t,i)=>{"use strict";i.d(t,{SnowballsEventsClickStatsCollector:()=>n});var o=i(452223),r=i(314309);class n{logEvent(e){const t={type:o.ClickProductionStatEventTypes.TYPE_SNOWBALL_EVENTS_ITEM,[o.ClickProductionStatEventTypes.TYPE_SNOWBALL_EVENTS_ITEM]:e},i={type:o.EventItemType.PROFILE};this.clickStatCollector.logEvent(t,i)}constructor(){this.productStatCollector=new r.ProductionStatCollector,this.clickStatCollector=new r.ClickStatCollector(this.productStatCollector)}}},699108:(e,t,i)=>{"use strict";i.d(t,{SuperappShowcaseStatsCollector:()=>n});var o=i(452223),r=i(314309);class n{logEvent(e,t){const i={type:o.EventItemType.SUPER_APP},r={type:o.EventItemType.TYPE_SUPERAPP_CLICK,[o.EventItemType.TYPE_SUPERAPP_CLICK]:e};this.clickStatCollector.logEvent(r,i,void 0,t)}constructor(){this.productStatCollector=new r.ProductionStatCollector,this.clickStatCollector=new r.ClickStatCollector(this.productStatCollector)}}},108465:(e,t,i)=>{"use strict";i.d(t,{VideoActionButtonStatsCollector:()=>n});var o=i(452223),r=i(314309);class n{logEvent(e){const t={type:o.ClickProductionStatEventTypes.TYPE_CLIP_VIEWER_ITEM,[o.ClickProductionStatEventTypes.TYPE_CLIP_VIEWER_ITEM]:e};this.clickStatCollector.logEvent(t,{type:o.EventItemType.VIDEO})}constructor(){this.productStatCollector=new r.ProductionStatCollector,this.clickStatCollector=new r.ClickStatCollector(this.productStatCollector)}}},302927:(e,t,i)=>{"use strict";i.d(t,{VideoAnnouncementClickCollector:()=>n});var o=i(314309),r=i(452223);class n{logEvent(e,t,i){const o={type:r.ClickProductionStatEventTypes.TYPE_VIDEO_ANNOUNCEMENT_CLICK,[r.ClickProductionStatEventTypes.TYPE_VIDEO_ANNOUNCEMENT_CLICK]:{event_subtype:i,destination_item:t}},n={...e,type:r.EventItemType.VIDEO};this.clickStatCollector.logEvent(o,n)}constructor(){this.productStatCollector=new o.ProductionStatCollector,this.clickStatCollector=new o.ClickStatCollector(this.productStatCollector)}}},430271:(e,t,i)=>{"use strict";i.d(t,{VideoAnnouncementSuggestedClickCollector:()=>n});var o=i(314309),r=i(452223);class n{logEvent(e,t){const i={type:r.ClickProductionStatEventTypes.TYPE_VIDEO_ANNOUNCEMENT_SUGGESTED_CLICK,[r.ClickProductionStatEventTypes.TYPE_VIDEO_ANNOUNCEMENT_SUGGESTED_CLICK]:{destination_item:t}},o={...e,type:r.EventItemType.VIDEO};this.clickStatCollector.logEvent(i,o)}constructor(){this.productStatCollector=new o.ProductionStatCollector,this.clickStatCollector=new o.ClickStatCollector(this.productStatCollector)}}},466464:(e,t,i)=>{"use strict";i.d(t,{VideoAuthorFilterClickStatsCollector:()=>n});var o=i(314309),r=i(452223);class n{logEvent(e){const t={type:r.ClickProductionStatEventTypes.TYPE_VIDEO_AUTHOR_FILTER_CLICK,[r.ClickProductionStatEventTypes.TYPE_VIDEO_AUTHOR_FILTER_CLICK]:{selected:!0}},i={type:r.EventItemType.CATALOG_ITEM,track_code:e};this.clickStatCollector.logEvent(t,i,"video_subscriptions")}constructor(){this.productStatCollector=new o.ProductionStatCollector,this.clickStatCollector=new o.ClickStatCollector(this.productStatCollector)}}},319532:(e,t,i)=>{"use strict";i.d(t,{VideoAutoplayButtonStatsCollector:()=>n});var o=i(314309),r=i(452223);class n{logEvent(e){const t={type:r.ClickProductionStatEventTypes.TYPE_VIDEO_AUTOPLAY_ITEM,[r.ClickProductionStatEventTypes.TYPE_VIDEO_AUTOPLAY_ITEM]:e},i={type:r.EventItemType.CLICK_ITEM};this.clickStatCollector.logEvent(t,i)}constructor(){this.productStatCollector=new o.ProductionStatCollector,this.clickStatCollector=new o.ClickStatCollector(this.productStatCollector)}}},634842:(e,t,i)=>{"use strict";i.d(t,{VideoClipAddClickStatsCollector:()=>n});var o=i(314309),r=i(452223);class n{logEvent(e){const t={type:r.ClickProductionStatEventTypes.TYPE_VIDEO_ADD_ITEM,[r.ClickProductionStatEventTypes.TYPE_VIDEO_ADD_ITEM]:e};this.clickStatCollector.logEvent(t,{type:r.EventItemType.VIDEO})}constructor(){this.productStatCollector=new o.ProductionStatCollector,this.clickStatCollector=new o.ClickStatCollector(this.productStatCollector)}}},338208:(e,t,i)=>{"use strict";i.d(t,{VideoCopyLinkClickCollector:()=>n});var o=i(314309),r=i(452223);class n{logEvent(e){const t=this.constructEvent(e);this.productStatCollector.logEvent(t),this.lastNavEventId=t.id}constructEvent({track_code:e,id:t,owner_id:i,vsid:o,screen:n}){const a=this.productStatCollector.getBaseEvent(),s={type:r.ClickProductionStatEventTypes.TYPE_VIDEO_CLICK_WITH_ACTIVE_PLAYER,[r.ClickProductionStatEventTypes.TYPE_VIDEO_CLICK_WITH_ACTIVE_PLAYER]:{vsid:o,event_type:"copy_link",video_id:t,video_owner_id:i,video_type:r.EventItemType.VIDEO}};return{id:a.id,prev_nav_id:this.lastNavEventId,prev_event_id:a.prev_id??0,screen:n,timestamp:a.timestamp,type:r.ProductionStatEventTypes.TYPE_CLICK,[r.ProductionStatEventTypes.TYPE_CLICK]:{item:{type:r.EventItemType.CLICK_ITEM,track_code:e},...s},url:a.url}}constructor(){this.lastNavEventId=0,this.productStatCollector=new o.ProductionStatCollector}}},68571:(e,t,i)=>{"use strict";i.d(t,{VideoSubscribesHideAuthorStatsCollector:()=>n});var o=i(452223),r=i(314309);class n{logEvent(e,t,i){const r={type:o.ClickProductionStatEventTypes.TYPE_CREATOR_VISIBLE_CLICK,[o.ClickProductionStatEventTypes.TYPE_CREATOR_VISIBLE_CLICK]:e};this.clickStatCollector.logEvent(r,{type:o.EventItemType.VIDEO,id:e.video_id,owner_id:e.video_owner_id,track_code:i},t)}constructor(){this.productStatCollector=new r.ProductionStatCollector,this.clickStatCollector=new r.ClickStatCollector(this.productStatCollector)}}},900709:(e,t,i)=>{"use strict";i.d(t,{VideoNextPrevClickCollector:()=>n});var o=i(314309),r=i(452223);class n{logEvent(e,t,i){const o={type:r.ClickProductionStatEventTypes.TYPE_VIDEO_NEXT_PREV_CLICK,[r.ClickProductionStatEventTypes.TYPE_VIDEO_NEXT_PREV_CLICK]:{event_subtype:i,destination_item:t}},n={type:r.EventItemType.VIDEO,event:e};this.clickStatCollector.logEvent(o,n)}constructor(){this.productStatCollector=new o.ProductionStatCollector,this.clickStatCollector=new o.ClickStatCollector(this.productStatCollector)}}},646550:(e,t,i)=>{"use strict";i.d(t,{VideoPlaylistClickStatsCollector:()=>n});var o=i(314309),r=i(452223);class n{logEvent(e,t){const i={type:r.ClickProductionStatEventTypes.TYPE_VIDEO_PLAYLIST_ITEM,[r.ClickProductionStatEventTypes.TYPE_VIDEO_PLAYLIST_ITEM]:e};this.clickStatCollector.logEvent(i,{type:r.EventItemType.CLICK_ITEM},t)}constructor(){this.productStatCollector=new o.ProductionStatCollector,this.clickStatCollector=new o.ClickStatCollector(this.productStatCollector)}}},336524:(e,t,i)=>{"use strict";i.d(t,{VideoRecommendOwnerCollector:()=>n});var o=i(452223),r=i(314309);class n{logEvent(e,t){const i={type:e};this.clickStatCollector.logEvent(i,{type:o.EventItemType.VIDEO,owner_id:t.ownerId,id:t.id,track_code:t.trackCode})}constructor(){this.productStatCollector=new r.ProductionStatCollector,this.clickStatCollector=new r.ClickStatCollector(this.productStatCollector)}}},696933:(e,t,i)=>{"use strict";i.d(t,{VideoShowAllStatsCollector:()=>n});var o=i(452223),r=i(314309);class n{logEvent(e){const t={type:o.ClickProductionStatEventTypes.TYPE_VIDEO_SHOW_ALL_CLICK,[o.ClickProductionStatEventTypes.TYPE_VIDEO_SHOW_ALL_CLICK]:e};this.clickStatCollector.logEvent(t,{type:o.EventItemType.VIDEO})}constructor(){this.productStatCollector=new r.ProductionStatCollector,this.clickStatCollector=new r.ClickStatCollector(this.productStatCollector)}}},138144:(e,t,i)=>{"use strict";i.d(t,{VideoSubscriptionsClickStatsCollector:()=>n});var o=i(452223),r=i(314309);class n{logEvent(e,t="",i=""){const r={type:o.EventItemType.CLICK_ITEM};t&&(r.track_code=t),this.clickStatCollector.logEvent(e,r,i)}constructor(){this.productStatCollector=new r.ProductionStatCollector,this.clickStatCollector=new r.ClickStatCollector(this.productStatCollector)}}},176849:(e,t,i)=>{"use strict";i.d(t,{VkAppsActionMenuStatsCollector:()=>n});var o=i(452223),r=i(314309);class n{logEvent(e,t,i){const r={type:i},n={type:o.ClickProductionStatEventTypes.TYPE_MINI_APP_ITEM,[o.ClickProductionStatEventTypes.TYPE_MINI_APP_ITEM]:r},a={type:t,id:e};this.clickStatCollector.logEvent(n,a)}constructor(){this.productStatCollector=new r.ProductionStatCollector,this.clickStatCollector=new r.ClickStatCollector(this.productStatCollector)}}},273510:(e,t,i)=>{"use strict";i.d(t,{VkAppsCatalogCollector:()=>r});var o=i(314309);class r{logEvent(){}constructor(){this.productStatCollector=new o.ProductionStatCollector,this.navigationStatCollector=new o.NavigationStatCollector(this.productStatCollector)}}},314309:(e,t,i)=>{"use strict";i.d(t,{ActionStatCollector:()=>de.ActionStatCollector,ClickStatCollector:()=>ue.ClickStatCollector,EventFieldValues:()=>me.EventFieldValues,EventScreens:()=>me.EventScreens,MTTimespentStatCollector:()=>he.MTTimespentStatCollector,NavigationProductionStatEventTypes:()=>me.NavigationProductionStatEventTypes,NavigationStatCollector:()=>ce.NavigationStatCollector,ProductionStatCollector:()=>le.ProductionStatCollector,RegistrationFieldItemNames:()=>me.RegistrationFieldItemNames,RegistrationFieldItemValues:()=>me.RegistrationFieldItemValues,RegistrationItemEventTypes:()=>me.RegistrationItemEventTypes,RegistrationItemFlowSource:()=>me.RegistrationItemFlowSource,RegistrationItemStatCollector:()=>pe.RegistrationItemStatCollector,ViewStatCollector:()=>_e.ViewStatCollector,bridgeEventItemStat:()=>Ee,clipDescriptionStatsCollector:()=>nt,clipSubscribeStatsCollector:()=>st,communityAppsCatalogActionEventCollector:()=>Ue,communityAppsClickEventStatsCollector:()=>Fe,easterEggsItemStat:()=>ye,feedPostDonutPaymentStatsCollector:()=>dt,gamesJsSDKEventStatsCollector:()=>Ie,getScreen:()=>ge.getScreen,marketingTransitionItemStat:()=>fe,miniAppSnowballModalActionEventController:()=>rt,miniAppsActionEventController:()=>et,miniAppsItemStats:()=>Se,notificationSettingsEventItemStatCollector:()=>ve.notificationSettingsEventItemStatCollector,personalDiscountEventItemStat:()=>Ae,profileActionButtonCollector:()=>Ce,profileShowAllVideosClickStatsCollector:()=>Qe,profileUploadVideoClickStatsCollector:()=>Xe,searchStatsCollector:()=>ke,searchViewStatCollector:()=>xe,setScreen:()=>ge.setScreen,setScreenPrev:()=>ge.setScreenPrev,shortVideoStatsCollector:()=>Pe,showcaseStatsCollector:()=>Oe,snowballsActionEventController:()=>it,snowballsClickEventController:()=>ot,unverifiedScreenEventCollector:()=>Be,videoActionButtonStatsCollector:()=>at,videoAllSubscriptionsNavCollector:()=>De,videoAuthorFilterClickCollector:()=>Le,videoAutoplayButtonStatsCollector:()=>Ze,videoChannelCreateStatsCollector:()=>ze,videoClipAddClickStatsCollector:()=>qe,videoCopyLinkClickCollector:()=>tt,videoCreateClipStatsCollector:()=>Ye,videoDashboardStatsCollector:()=>$e,videoEditStatsCollector:()=>Ge,videoKidsAgeFilterActionCollector:()=>ct,videoKidsAgeFilterClickCollector:()=>lt,videoNextPrevClickCollector:()=>Ke,videoPublishStatsCollector:()=>We,videoRecommendOwnerCollector:()=>Ne,videoShowAllCollector:()=>Re,videoSubscribesHideAuthorStatsCollector:()=>He,videoSubscriptionNavCollector:()=>Me,videoSubscriptionsClickStatsCollector:()=>Je,videoUploadStatsCollector:()=>Ve,videoWatchItemStatsCollector:()=>je,vkAppsActionMenuItemStat:()=>we,vkConnectNavigationCollector:()=>be,vkIdEcosystemNavigationCollector:()=>Te});var o=i(90348),r=i(962496),n=i(274229),a=i(176849),s=i(890355),c=i(338761),l=i(311504),d=i(8843),u=i(839128),_=i(90273),p=i(31727),m=i(141235),g=i(384280),v=i(699108),f=i(273510),y=i(609459),E=i(705150),A=i(699916),S=i(495300),b=i(325898),T=i(851556),I=i(900709),C=i(271607),k=i(319532),P=i(310864),O=i(793023),M=i(452861),L=i(646550),D=i(338208),R=i(634842),N=i(302927),x=i(430271),F=i(561825),U=i(529133),B=i(86373),V=i(871927),H=i(890879),j=i(854540),W=i(590432),G=i(466464),z=i(138144),K=i(857715),Y=i(357788),$=i(279127),q=i(230205),X=i(108465),Q=i(232645),Z=i(679497),J=i(315001),ee=i(68571),te=i(696933),ie=i(336524),oe=i(510634),re=i(48544),ne=i(38711),ae=i(52379),se=i(785786),ce=i(57075),le=i(942746),de=i(746971),ue=i(25537),_e=i(287424),pe=i(94592),he=i(37343),me=i(452223),ge=i(471180),ve=i(785004);const fe=new o.MarketingTransitionItemStatCollector,ye=new n.EasterEggsItemStatCollector,Ee=new r.BridgeEventStatsCollector,Ae=(new d.AdMiniAppsEventStatsCollector,new u.SurveyMiniAppsEventStatsCollector,new b.PersonalDiscountEventStatsCollector),we=new a.VkAppsActionMenuStatsCollector,Se=new s.MiniAppsEventStatsCollector,be=new c.VkConnectNavigationCollector,Te=new l.VkidEcosystemNavigationCollector,Ie=new _.GamesJsSDKEventStatsCollector,Ce=new m.ProfileActionButtonCollector,ke=new g.SearchStatsCollector,Pe=new j.ShortVideoStatsCollector,Oe=new v.SuperappShowcaseStatsCollector,Me=new W.VideoSubscriptionNavCollector,Le=new G.VideoAuthorFilterClickStatsCollector,De=new K.VideoAllSubscriptionsNavCollector,Re=(new Y.VideoSubscriptionsSelectCreatorsNavCollector,new te.VideoShowAllStatsCollector),Ne=new ie.VideoRecommendOwnerCollector,xe=(new f.VkAppsCatalogCollector,new y.SearchViewStatCollector),Fe=(new p.GamesFeedBlockStatsCollector,new E.CommunityAppsClickEventStatsCollector),Ue=new A.CommunityAppsCatalogActionEventCollector,Be=new S.UnverifiedScreenEventCollector,Ve=new T.VideoUploadStatsCollector,He=new ee.VideoSubscribesHideAuthorStatsCollector,je=new M.VideoWatchItemStatsCollector,We=new P.VideoPublishStatsCollector,Ge=new O.VideoEditStatsCollector,ze=new oe.VideoChannelCreateStatsCollector,Ke=new I.VideoNextPrevClickCollector,Ye=new C.VideoCreateClipStatsCollector,$e=new re.VideoDashboardStatsCollector,qe=(new L.VideoPlaylistClickStatsCollector,new R.VideoClipAddClickStatsCollector),Xe=new ae.ProfileUploadVideoClickStatsCollector,Qe=new se.ProfileShowAllVideosClickStatsCollector,Ze=new k.VideoAutoplayButtonStatsCollector,Je=new z.VideoSubscriptionsClickStatsCollector,et=new U.MiniAppsActionEventCollector,tt=new D.VideoCopyLinkClickCollector,it=new H.SnowballsEventsActionStatsCollector,ot=new B.SnowballsEventsClickStatsCollector,rt=new V.MiniAppSnowballModalActionStatsCollector,nt=new $.ClipDescriptionStatsCollector,at=(new q.ClipDownloadStatsCollector,new X.VideoActionButtonStatsCollector),st=(new N.VideoAnnouncementClickCollector,new x.VideoAnnouncementSuggestedClickCollector,new F.VideoAnnouncementSuggestedShowCollector,new Q.ClipSubscribeStatsCollector),ct=new Z.VideoKidsAgeFilterActionCollector,lt=new J.VideoKidsAgeFilterClickCollector,dt=new ne.FeedPostDonutPaymentStatsCollector},31727:(e,t,i)=>{"use strict";i.d(t,{GamesFeedBlockStatsCollector:()=>n});var o=i(452223),r=i(314309);class n{logEvent(e){const t={subtype:o.NavigationProductionStatEventTypes.GO,screen:"feed"},i={type:o.NavigationProductionStatEventTypes.TYPE_GAMES_FEED_BLOCK_NAVGO,[o.GAMES_FEED_BLOCK_ITEM]:{track_code:e}};this.navgoStatCollector.logEvent({...t,...i})}constructor(){this.productStatCollector=new r.ProductionStatCollector,this.navgoStatCollector=new r.NavigationStatCollector(this.productStatCollector)}}},857715:(e,t,i)=>{"use strict";i.d(t,{VideoAllSubscriptionsNavCollector:()=>n});var o=i(452223),r=i(314309);class n{logOpenEvent(e,t){const i={subtype:o.NavigationProductionStatEventTypes.GO,screen:"video_catalog",screen_to:t,item:{type:o.EventItemType.CATALOG_ITEM,track_code:e}};this.navStatCollector.logEvent(i)}logCloseEvent(e){const t={subtype:o.NavigationProductionStatEventTypes.BACK,screen:"video_subscriptions_all_creators",destination_item:{type:o.EventItemType.VIDEO_ALL_SUBSCRIPTIONS_BUTTON,track_code:e}};this.navStatCollector.logEvent(t)}constructor(){this.productStatCollector=new r.ProductionStatCollector,this.navStatCollector=new r.NavigationStatCollector(this.productStatCollector)}}},590432:(e,t,i)=>{"use strict";i.d(t,{VideoSubscriptionNavCollector:()=>a});var o=i(452223),r=i(540462),n=i(314309);class a{logEvent(e,t){if((0,r.partConfigEnabled)("frontend.fix_vkvideo_navigation_stats"))return;const i={subtype:t?o.NavigationProductionStatEventTypes.TAB_OPEN:o.NavigationProductionStatEventTypes.GO,screen:t?"video_subscriptions":"video_catalog",screen_to:"video_subscriptions"};t&&(i.item={type:o.EventItemType.CATALOG_ITEM,track_code:t}),e&&(i.destination_item={type:o.EventItemType.CATALOG_ITEM,track_code:e}),this.navStatCollector.logEvent(i)}constructor(){this.productStatCollector=new n.ProductionStatCollector,this.navStatCollector=new n.NavigationStatCollector(this.productStatCollector)}}},357788:(e,t,i)=>{"use strict";i.d(t,{VideoSubscriptionsSelectCreatorsNavCollector:()=>n});var o=i(452223),r=i(314309);class n{logOpenEvent(e,t="video_catalog"){const i={subtype:o.NavigationProductionStatEventTypes.GO,screen:t,screen_to:"video_subscriptions_select_creators"};e&&(i.item={type:o.EventItemType.CATALOG_ITEM,track_code:e}),this.navStatCollector.logEvent(i)}logCloseEvent(e,t="video_catalog",i=!1){const r={subtype:i?o.NavigationProductionStatEventTypes.GO:o.NavigationProductionStatEventTypes.BACK,screen:"video_subscriptions_select_creators",screen_to:t};e&&(r[i?"item":"destination_item"]={type:o.EventItemType.CATALOG_ITEM,track_code:e}),this.navStatCollector.logEvent(r)}constructor(){this.productStatCollector=new r.ProductionStatCollector,this.navStatCollector=new r.NavigationStatCollector(this.productStatCollector)}}},57075:(e,t,i)=>{"use strict";i.d(t,{NavigationStatCollector:()=>d});var o=i(558137),r=i(452223),n=i(471180),a=i(540462),s=i(553608);const c="unknown",l=()=>(0,o.makeSharedState)("navigation-stat-collector-event-config",(()=>({data:{screen:c,tab_id:(()=>{const e="NAVIGATION_TAB_ID";if(!(0,s.isStorageAvailable)("localStorage"))return Math.floor(127*Math.random());let t=(Number(s.vkLocalStorage.getItem(e))||0)+1;return t=t>=127?0:t,s.vkLocalStorage.setItem(e,t),t})()}})),{version:0})();class d{logEvent(e){const t={...this.ProductionStatCollector.getBaseEvent(),type:r.ProductionStatEventTypes.TYPE_NAVGO,[r.ProductionStatEventTypes.TYPE_NAVGO]:e};return this.ProductionStatCollector.logEvent(t),{statEvent:t}}_logEvent(e){if(!(0,a.partConfigEnabled)("navigation_timespent_analytics"))return;const{statEvent:t}=this.logEvent(e);this.updateEventData(t)}updateEventData(e){const t=e[r.ProductionStatEventTypes.TYPE_NAVGO],i=t.screen_to?t.screen:t.screen_prev;this.setEventData({...this.getEventData(),prev_navgo_id:e.id,prev_navgo_timestamp:e.timestamp,screen:this.adaptModuleScreen(t.screen_to||t.screen),screen_prev:i&&this.adaptModuleScreen(i)})}getEventData(){return l().data}setEventData(e){return l().data=e}getDestinationItem(){const e=window.cur.navgoFields?.destination_item;return delete window.cur.navgoFields,e}getEvent(e,t){const i={...this.getEventData(),subtype:e};return t&&(i.screen=t),i}sendMoveEvent(e,t,{destinationItem:i}={}){const o={...this.getEvent(t),screen_to:e,destination_item:i??this.getDestinationItem()};if(o.screen===c)return console.warn("NavigationStatCollector: previous event not found."),null;(0,n.setLeftMenuScreen)(e),(0,n.setScreen)(o.screen),this._logEvent(o)}adaptModuleScreen(e){return"public"===e?"group":e}sendShow(e){this._logEvent(this.getEvent(r.NavigationProductionStatEventTypes.SHOW,e))}sendHide(e){this._logEvent(this.getEvent(r.NavigationProductionStatEventTypes.HIDE,e))}sendTabOpen(e){this._logEvent({...this.getEvent(r.NavigationProductionStatEventTypes.TAB_OPEN),screen:this.adaptModuleScreen(e??this.getModule()),destination_item:this.getDestinationItem()})}sendTabClose(e){this._logEvent(this.getEvent(r.NavigationProductionStatEventTypes.TAB_CLOSE,e))}sendGo(e,{destinationItem:t}={}){this.sendMoveEvent(e,r.NavigationProductionStatEventTypes.GO,{destinationItem:t})}sendBack(e){this.sendMoveEvent(e,r.NavigationProductionStatEventTypes.BACK)}getModule(){return window.cur?.module??c}getScreen(e=c){return window.cur?.screen?window.cur.screen===c?e:window.cur.screen:e}constructor(e){this.ProductionStatCollector=e}}},942746:(e,t,i)=>{"use strict";i.d(t,{ProductionStatCollector:()=>c});var o=i(298077),r=i(506856),n=i(101272),a=i(157007),s=i(540462);class c{getCurrentTime(e=!0){const t=Date.now().toString(10);return e?t+"000":t}getIntId(){return Math.floor(Math.random()*c.MAX_INT32)}logEvent(e,t){this.DEBUG&&(0,r.log)(e),e.type&&e[e.type]?(((0,s.partConfigEnabled)("production_stats_logs_immediately")||a.DebugConfig.get("productionStatsLogsImmediately"))&&(t={...t,force:!0}),(0,n.saveProductionStats)(e,t),this.lastEvent=e):(0,o.logError)(new Error("ProductionStatCollector: invalid event."))}getLastEvent(){return this.lastEvent}getBaseEvent(e){return{id:this.getIntId(),prev_id:this.lastEvent?.id,timestamp:this.getCurrentTime(),url:window.location.href,screen:e}}constructor(){this.DEBUG=!1}}c.MAX_INT32=2147483647},94592:(e,t,i)=>{"use strict";i.d(t,{RegistrationItemStatCollector:()=>n});var o=i(452223),r=i(396858);class n{logFieldInteraction(e,t,i=!1){[o.RegistrationFieldItemNames.PASSWORD,o.RegistrationFieldItemNames.SMS_CODE,o.RegistrationFieldItemNames.RULES_ACCEPT].includes(e)&&(t=t?"1":"0");const r=i?"0":this.actionStatCollector.productionStatCollector.getCurrentTime(!1),n=this.fields[e];n?(n.value=t,n.end_interaction_time=r):this.fields[e]={name:e,value:t,start_interaction_time:r,end_interaction_time:r}}getFieldInteractions(){return Object.values(this.fields)}resetFieldInteractions(){for(const e of Object.getOwnPropertyNames(this.fields))delete this.fields[e]}logEvent(e,t,i,n,a,s,c,l,d){const u={event_type:e,screen:t,unauth_id:(0,r.getCookie)("remixstlid")??(0,r.getCookie)("remixstid"),sid:(0,r.getCookie)("remixnreg_sid")};[o.RegistrationItemEventTypes.SCREEN_PROCEED,o.RegistrationItemEventTypes.SCREEN_SKIP,o.RegistrationItemEventTypes.SCREEN_RETURN,o.RegistrationItemEventTypes.INCORRECT_SMS_CODE,o.RegistrationItemEventTypes.POPUP_OPEN].includes(e)&&(u.screen_to=i,u.fields=this.getFieldInteractions(),this.resetFieldInteractions()),e!==o.RegistrationItemEventTypes.SELECT_COUNTRY_DONE&&e!==o.RegistrationItemEventTypes.PROCEED_OTHER_COUNTRY_CODE||!this.fields[o.RegistrationFieldItemNames.SELECT_COUNTRY_NAME]||(u.fields=this.getFieldInteractions().filter((e=>e.name===o.RegistrationFieldItemNames.SELECT_COUNTRY_NAME)),delete this.fields[o.RegistrationFieldItemNames.SELECT_COUNTRY_NAME]),e!==o.RegistrationItemEventTypes.SWITCH_FROM_ACCOUNT&&e!==o.RegistrationItemEventTypes.SWITCH_TO_ACCOUNT||!c||(u.user_id=c),a&&(u.fields=[...u.fields||[],...a]),s&&(u.app_id=s),l&&(u.multiacc_id=l),d&&(u.flow_source=d);const _={type:o.ActionProductionStatEventTypes.TYPE_REGISTRATION_ITEM,[o.ActionProductionStatEventTypes.TYPE_REGISTRATION_ITEM]:u};this.actionStatCollector.logEvent(_,n)}constructor(e){this.actionStatCollector=e,this.fields={}}}},570545:(e,t,i)=>{"use strict";i.d(t,{ActionProductionStatEventTypes:()=>o});var o=function(e){return e.TYPE_REGISTRATION_ITEM="type_registration_item",e.TYPE_MARKETING_TRANSITION_ITEM="type_marketing_transition_item",e.TYPE_DONUT_PAYMENT_ITEM="type_donut_payment_item",e.TYPE_STUDIO_ITEM="type_studio_item",e.TYPE_CALL_ITEM="type_voip_call_item",e.TYPE_BRIDGE_EVENT_ITEM="type_bridge_event_item",e.TYPE_AD_MINI_APPS_EVENT_ITEM="type_ad_mini_apps_event_item",e.TYPE_EASTER_EGGS_ITEM="type_easter_eggs_item",e.TYPE_USER_INFO_STATS_ITEM="type_user_info_stats_item",e.TYPE_IDLE_TAB_STATS_ITEM="type_idle_tab_stats_item",e.TYPE_VK_CONNECT_NAVIGATION_ITEM="type_vk_connect_navigation_item",e.TYPE_GAMES_JS_SDK_ITEM="type_games_js_sdk_item",e.TYPE_SERVICES_MAP_ITEM="type_services_map_item",e.TYPE_SURVEY_MINI_APPS_EVENT_ITEM="type_survey_mini_apps_event_item",e.TYPE_PERFORMANCE_STATS_ITEM="type_performance_stats_item",e.TYPE_COMMUNITY_APPS_CATALOG_EVENT_ITEM="type_community_apps_catalog_transition_item",e.TYPE_MINI_APPS_ACTION_ITEM="type_mini_apps_action_item",e.TYPE_UNVERIFIED_SCREEN_ITEM="type_unverified_screen_item",e.TYPE_MINI_APPS_PERSONAL_DISCOUNT_EVENT_ITEM="type_mini_apps_personal_discount",e.TYPE_CATALOG_AUDIO_LONGTAP_ITEM="type_audio_longtap_item",e.TYPE_CATALOG_AUDIO_SNIPPET_ITEM="type_audio_snippet_item",e.TYPE_AUDIO_DISLIKES_ITEM="type_audio_dislike_item",e.TYPE_FEED_INTERACTION_ITEM="type_feed_interaction_item",e.TYPE_VIDEO_UPLOAD_ITEM="type_video_upload_item",e.TYPE_VIDEO_PUBLISH_ITEM="type_video_publish_item",e.TYPE_VIDEO_EDIT_ITEM="type_video_edit_item",e.TYPE_VIDEO_WATCH_ITEM="type_video_watch_item",e.TYPE_BROWSER_CERTIFICATE_SUPPORT_STATS_ITEM="type_browser_certificate_support_stats_item",e.TYPE_RECOM_THEMES_ITEM="type_recom_themes_item",e.TYPE_SNOWBALLS_EVENTS_ITEM="type_snowball_events_item",e.TYPE_MT_TIMESPENT_ITEM="type_mt_timespent_item",e.TYPE_VKID_ECOSYSTEM_NAVIGATION_ITEM="type_vkid_ecosystem_navigation_item",e.TYPE_FEED_OPEN_ITEM="type_feed_open_item",e.TYPE_FEED_COMMENTS_SORT_TAB_CLICK="type_feed_comments_sort_tab_click",e.TYPE_FEED_ITEM_MENU_ACTION="type_feed_item_menu_action",e.TYPE_UI_HINT_ITEM="type_ui_hint_item",e.TYPE_POSTING_TIMELINE="type_posting_timeline",e.TYPE_AUDIO_TAP_EVENT_ITEM="type_audio_tap_event_item",e.TYPE_AUDIO_TAP_PLAY_EVENT_ITEM="type_audio_tap_play_event_item",e.TYPE_MUSIC_PLAYLIST_TAP_PLAY="type_audio_redesign_playlist_tap_play_event_item",e.TYPE_VIDEO_AGE_FILTER_ACTION="type_action",e.TYPE_FEED_OPEN_COMMENTS_MODAL="type_feed_open_comments_modal",e.TYPE_MODAL_SHARING_CLICK="type_modal_sharing_click",e.TYPE_LOCAL_SEARCH_ITEM="type_local_search_item",e.TYPE_VIDEO_CREATE_CHANNEL_ACTION="type_video_create_channel_action",e}({})},830039:(e,t,i)=>{"use strict";i.d(t,{ClickProductionStatEventTypes:()=>o});var o=function(e){return e.TYPE_MARKET_CLICK="type_market_click",e.TYPE_WORKI_CLICK="type_worki_click",e.TYPE_CATALOG_BANNER_ITEM="type_catalog_banner_item",e.TYPE_MINI_APP_ITEM="type_mini_app_item",e.TYPE_MESSAGING_CONTACT_RECOMMENDATIONS_ITEM="type_messaging_contact_recommendations_item",e.TYPE_STUDIO_PERIOD_SELECT="type_studio_period_select",e.TYPE_QUESTION_ITEM="type_question_item",e.TYPE_PROFILE_ACTION_BUTTON_ITEM="type_profile_action_button_item",e.TYPE_PROFILE_ITEM="type_profile_item",e.TYPE_SEARCH_CLICK_ITEM="type_search_click_item",e.TYPE_SHORT_VIDEO_CLICK_ITEM="type_short_video_click_item",e.TYPE_CATALOG_ITEM="type_catalog_item",e.TYPE_POSTING_ITEM="type_posting_item",e.TYPE_PHOTOS_ITEM="type_photos_item",e.FOLLOWERS_MODE_ONBOARDING_CLICK="type_followers_mode_onboarding_click",e.FOLLOWERS_MODE_SWITCH_STATE="type_followers_mode_switch_state",e.TYPE_COMMUNITY_APPS_CATALOG_ITEM="type_community_apps_catalog_click_item",e.TYPE_COMMUNITY_ITEM="type_groups_event_item",e.TYPE_MINI_APPS_SESSION="type_mini_apps_session",e.TYPE_MINI_APP_SNOWBALL_MODAL_ACTION_ITEM="type_mini_app_snowball_modal_action_item",e.TYPE_MARUSIA_CONVERSATION_ITEM="type_marusia_conversation_item",e.TYPE_CATALOG_AUDIO_LONGTAP_ITEM="type_audio_longtap_item",e.TYPE_CATALOG_AUDIO_SNIPPET_ITEM="type_audio_snippet_item",e.TYPE_FEED_INTERACTION_ITEM="type_feed_interaction_item",e.TYPE_SNOWBALL_EVENTS_ITEM="type_snowball_events_item",e.TYPE_VIDEO_SHOW_ALL_CLICK="type_video_show_all_click",e.TYPE_VIDEO_PLAYLIST_ITEM="type_video_playlist_item",e.TYPE_VIDEO_NEXT_PREV_CLICK="type_next_prev_video_button_tap",e.TYPE_VIDEO_ADD_ITEM="type_video_add_item",e.TYPE_VIDEO_AUTOPLAY_ITEM="type_video_autoplay_item",e.TYPE_VIDEO_AUTHOR_FILTER_CLICK="type_video_author_filter_click",e.TYPE_FEED_OPEN_ITEM="type_feed_open_item",e.TYPE_CLIPS_DESCRIPTION_CLICK_ITEM="type_clips_description_click_item",e.TYPE_VIDEO_STOP_RECOMMENDING_CREATOR="type_video_stop_recommending_creator",e.TYPE_VIDEO_UNDO_STOP_RECOMMENDING_CREATOR="type_video_undo_stop_recommending_creator",e.TYPE_VIDEO_ANNOUNCEMENT_CLICK="type_next_video_announcement_click",e.TYPE_VIDEO_ANNOUNCEMENT_SUGGESTED_CLICK="type_next_video_announcement_suggested_click",e.TYPE_VIDEO_ANNOUNCEMENT_SUGGESTED_SHOW="type_next_video_announcement_suggested_show",e.TYPE_FEED_COMMENTS_SORT_TAB_CLICK="type_feed_comments_sort_tab_click",e.TYPE_FEED_ITEM_MENU_ACTION="type_feed_item_menu_action",e.TYPE_CLIP_VIEWER_ITEM="type_clip_viewer_item",e.TYPE_VIDEO_CREATE_CLIP="type_video_create_clip",e.TYPE_VIDEO_CLICK_WITH_ACTIVE_PLAYER="type_video_click_with_active_player",e.TYPE_VIDEO_SUBSCRIPTIONS_SELECT_CREATORS_CLICK="type_video_subscriptions_select_creators_click_item",e.TYPE_VIDEO_SELECT_CREATORS_BANNER_CLICK="type_video_select_creators_banner_click",e.TYPE_VIDEO_TRANSFER_FROM_YOUTUBE_CLICK="type_video_transfer_from_youtube_click",e.TYPE_VIDEO_CREATE_CHANNEL_CLICK="type_video_create_channel_click",e.TYPE_AUDIO_TAP_GOTO_EVENT_ITEM="type_audio_tap_goto_event_item",e.TYPE_ONBOARDING_EVENT="type_onboarding_event",e.TYPE_CREATOR_VISIBLE_CLICK="type_creator_visible_click",e.TYPE_IM_PUSH_NOTIFICATIONS_SETTINGS_CLICK="type_im_push_notifications_settings_click",e.TYPE_FEED_POST_DONUT_PAYMENT_CLICK="type_feed_post_donut_payment_click",e.TYPE_VIDEO_POSTPONED_ACTION_CLICK="type_video_postponed_action_click",e.TYPE_MUSIC_PLAYLIST_TAP_GOTO="type_audio_redesign_playlist_tap_goto_event_item",e.TYPE_FEED_OPEN_COMMENTS_MODAL="type_feed_open_comments_modal",e.TYPE_MODAL_SHARING_CLICK="type_modal_sharing_click",e}({})},564060:(e,t,i)=>{"use strict";i.d(t,{EventItemSubType:()=>o});var o=function(e){return e.SWITCH_ITEM_VARIANT_1="switch_item_variant_1",e.SWITCH_ITEM_VARIANT_2="switch_item_variant_2",e.OPEN_WIKI="open_wiki",e.AUDIO_LONGTAP_CLICK_OUTSIDE="click_outside",e.AUDIO_LONGTAP_CLICK_EXIT="click_exit",e.AUDIO_LONGTAP_AUTO_FINISH="auto_finish",e.AUDIO_LONGTAP="longtap",e.AUDIO_ADD_AFTER_LONGTAP="add_longtap",e.AUDIO_LONGTAP_HINT="hint_longtap",e.AUDIO_LONGTAP_OPEN="open_longtap",e.AUDIO_LONGTAP_GO_TO_TRACK="goto_track",e.AUDIO_LONGTAP_GO_TO_ARTIST="goto_artist",e.AUDIO_SNIPPETS_SWIPE="swipe",e.AUDIO_SNIPPETS_OVERLAY="overlay",e.AUDIO_SNIPPETS_GOTO_TRACK="goto_track",e.AUDIO_SNIPPETS_GOTO_PLAYLIST="goto_playlist",e.AUDIO_SNIPPETS_GOTO_ARTIST="goto_artist",e.AUDIO_SNIPPETS_PLAY_BTN="play_btn",e.AUDIO_SNIPPETS_SESSION_TERMINATED="session_terminated",e.AUDIO_SNIPPETS_CLOSE="close",e.AUDIO_SNIPPETS_ERROR="error",e.AUDIO_SNIPPETS_NEXT="next",e.AUDIO_SNIPPETS_PREV="prev",e.AUDIO_SNIPPETS_AUTOPLAY="autoplay",e.AUDIO_SNIPPETS_CHANGE_SOURCE="change_source",e.AUDIO_SNIPPETS_ADD_TRACK="add_track",e.AUDIO_SNIPPETS_NEXT_BTN="next_btn",e.AUDIO_SNIPPETS_PREV_BTN="prev_btn",e.AUDIO_SNIPPETS_ADD_SNIPPET="add_snippet",e.AUDIO_SNIPPETS_REMOVE_SNIPPET="remove_snippet",e.AUDIO_SNIPPETS_TAP="tap",e.AUDIO_DISLIKES_ADDED_TO_MM="added_to_mm",e.AUDIO_RADIO_ADD="add",e.AUDIO_RADIO_FIND="find",e.MUSIC_PLAYLIST_START="start",e.VIDEO_FILTER_RESET_BUTTON="button",e}({})},92860:(e,t,i)=>{"use strict";i.d(t,{EventItemType:()=>o});var o=function(e){return e.CURATOR="curator",e.ARTICLE="article",e.ADS="ads",e.GROUP="group",e.CHANNEL="channel",e.PHOTO="photo",e.POST="post",e.STORY="story",e.USER="user",e.BROWSER="browser",e.NARRATIVE="narrative",e.MINI_APP="mini_app",e.GAME="game",e.MARKET_ITEM="market_item",e.MARKET_ITEM_ALBUM="market_item_album",e.MARKET_ORDER="market_order",e.MARKETPLACE_GEO_CHANGE="marketplace_geo_change",e.CATALOG_BANNER="catalog_banner",e.GROUP_CATEGORY_ITEM="group_category_item",e.AUDIO_FULLSCREEN_BANNER="audio_fullscreen_banner",e.AUDIO_SPECIAL_PROGECT_MODAL="audio_special_project_modal",e.WORKI_SNIPPET="worki_snippet",e.MINI_APPS_CATALOG_BANNER_VIEWED="catalog_promo_banner_viewed",e.MINI_APPS_CATALOG_BANNER="catalog_promo_banner",e.CATALOG_SECTION_PROMO_BANNER_VIEWED="catalog_section_promo_banner_viewed",e.TYPE_MESSAGING_CONTACT_RECOMMENDATIONS_ITEM="type_messaging_contact_recommendations_item",e.STUDIO="studio",e.OPEN_CATALOG_ECO_MENU="open_catalog_eco_menu",e.QUESTION="question",e.PROFILE="profile",e.TYPE_SUPERAPP_CLICK="type_superapp_click",e.SUPER_APP="super_app",e.SEARCH_SUGGESTION="search_suggestion",e.LINK="link",e.CATALOG_ITEM="catalog_item",e.CLICK_ITEM="click_item",e.SEARCH_AUTHOR="search_author",e.MINI_APPS_LAUNCH_EXTENDED="launch_extended",e.MINI_APPS_MODAL_OPEN_GAMES_PWA_VIEW="games_view_open_pwa",e.MINI_APPS_MODAL_OPEN_GAMES_PWA_CLICK="games_click_open_pwa",e.MINI_APPS_MODAL_OPEN_GAMES_PWA_DECLINE="games_click_decline_open_pwa",e.MINI_APPS_MODAL_INSTALL_GAMES_PWA_VIEW="games_view_install_pwa",e.MINI_APPS_MODAL_INSTALL_GAMES_PWA_CLICK="games_click_install_pwa",e.MINI_APPS_MODAL_INSTALL_GAMES_PWA_DECLINE="games_click_decline_install_pwa",e.MINI_APPS_MODAL_SUBSCRIBE_PUSH_GAMES_PWA_SHOW="games_pwa_show_modal_subscribe_push",e.MINI_APPS_MODAL_SUBSCRIBE_PUSH_GAMES_PWA_DECLINE="games_click_decline_subscribe_push_pwa",e.FOLLOWERS_MODE_ONBOARDING_BUTTON_ENTRYPOINT_VIEW="type_followers_mode_onboarding_entrypoint_view",e.MUSIC_PLAYLIST="playlist",e.MUSIC_ALBUM="album",e.MUSIC_AUDIO="audio",e.EVENT="event",e.START="start",e.OPEN="open",e.STOP="stop",e.ADDED="added",e.HINT="hint",e.CLIP="clip",e.STICKERS="stickers",e.IM_GROUP_CHAT="group_chat",e.IM_CONTACT="contact",e.IM_BUSINESS_NOTIFY="business_notify",e.IM_GROUP_MESSAGE_REQUEST="group_message_request",e.IM_USER_MESSAGE_REQUEST="user_message_request",e.IM_CONVO_INVITE="convo_invite",e.IM_SHARED_CONVOS="shared_convos",e.IM_CREATE_CONVERSATION="create_conversation",e.IM_CONTACTS_LIST="contacts_list",e.IM_CONTACTS_IMPORT="contacts_import",e.IM_LIST_ALL="list_all",e.IM_LIST_UNREAD="list_unread",e.IM_LIST_ARCHIVE="list_archive",e.IM_LIST_BUSINESS_NOTIFY="list_business_notify",e.IM_LIST_MR="list_mr",e.IM_FAV_BOX="fav_box",e.IM_SEARCH_MESSAGES_TAB="search_messages_tab",e.IM_SEARCH_CONVOS_TAB="search_convos_tab",e.IM_NOTIFICATIONS="notifications",e.IM_FASTCHATS_LIST_ALL="fastchats_list_all",e.IM_FASTCHATS_LIST_UNREAD="fastchats_list_unread",e.IM_FASTCHATS_THUMBS="fastchats_thumbs",e.IM_TOP_MESSENGER_LIST_ALL="top_messenger_list_all",e.IM_TOP_MESSENGER_LIST_UNREAD="top_messenger_list_unread",e.IM_TOP_MESSENGER_LIST_CHATS="top_messenger_list_chats",e.IM_GLOBAL_SEARCH="global_search",e.IM_PEER_INFO_POPUP="peer_info_popup",e.IM_SAK_MODULE="sak_module",e.IM_FASTCHATS_LIST_FRIENDS_ONLINE="fastchats_list_friends_online",e.IM_LIST_FOLDER="list_folder",e.IM_CALLS="calls",e.IM_FORWARD_MESSAGES_TARGET="forward_messages_target",e.IM_PROFILE_PAGE="profile_page",e.IM_VOICE_PLAYER="voice_player",e.IM_AUDIO_PLAYER="audio_player",e.IM_PUSH_NOTIFICATIONS_SETTINGS="notifications_settings",e.ONBOARDING="onboarding",e.OPEN_GROUP="open_group",e.OPEN_PARENT_GROUP="open_parent_group",e.OPEN_USER="open_user",e.OPEN_PARENT_USER="open_parent_user",e.OPEN_STORY="open_story",e.OPEN_PHOTO="open_photo",e.OPEN_AUDIO="open_audio",e.LONGTAP_DRILLDOWN="longtap_drilldown",e.EXPAND="expand",e.CLICK_NEXT="click_next",e.CLICK_PREVIOUS="click_previous",e.CLICK_PRETTY_CARD="click_pretty_card",e.REPORT="report",e.RADIO="radio",e.SEARCH_PEOPLE_FRIENDS="search_people_friends",e.SEARCH_PEOPLE_EXCEPT_FRIENDS="search_people_except_friends",e.CLICK_ONLINE_BOOKING="click_online_booking",e.AUDIO_SNIPPETS_SNIPPET_FEED_OPEN="snippet_feed_open",e.AUDIO_SNIPPETS_SNIPPET_FEED_EXIT="snippet_feed_exit",e.AUDIO_SNIPPETS_SNIPPET_FEED_DRILLDOWN="snippet_feed_drilldown",e.AUDIO_SNIPPETS_PAUSE="pause",e.AUDIO_SNIPPETS_STOP="stop",e.AUDIO_SNIPPETS_START="start",e.AUDIO_SNIPPETS_ADDED="added",e.AUDIO_SNIPPETS_REMOVED="removed",e.AUDIO_SNIPPETS_NEXT_SNIPPET="next_snippet",e.AUDIO_SNIPPETS_PREV_SNIPPET="prev_snippet",e.AUDIO_SNIPPETS_SNIPPET_FEED_PLAYLIST_UP="snippet_feed_playlist_up",e.AUDIO_SNIPPETS_SNIPPET_FEED_PLAYLIST_DOWN="snippet_feed_playlist_down",e.AUDIO_SNIPPETS_SNIPPET_PLAYLIST_END="snippet_playlist_end",e.AUDIO_SNIPPETS_SNIPPET_FEED_END="snippet_feed_end",e.AUDIO_DISLIKES_ADD_DISLIKE="add_dislike",e.AUDIO_DISLIKES_REMOVE_DISLIKE="remove_dislike",e.MUSIC_PLAYLIST_GOTO="goto",e.MUSIC_PLAYLIST_PLAY="play",e.INT_LINK_CLICK="int_link_click",e.INT_LINK_CLICK_SNIPPET="int_link_click_snippet",e.EXT_LINK_CLICK="ext_link_click",e.EXT_LINK_CLICK_SNIPPET="ext_link_click_snippet",e.CAPTION_LINK_CLICK="caption_link_click",e.AUDIO_RADIOSTATION_FOLLOW="follow",e.AUDIO_RADIOSTATION_UNFOLLOW="unfollow",e.AUDIO_GO_TO="goto",e.VIDEO="video",e.VIDEO_PLAYLIST="video_playlist",e.VIDEO_ALL_SUBSCRIPTIONS_BUTTON="video_all_subscriptions_button",e.VIDEO_AGE_FILTER_SELECT="type_video_kids_age_filter_select",e.VIDEO_KIDS_AGE_FILTER_BUTTON_TAP="type_video_kids_age_filter_button_tap",e.VIDEO_KIDS_AGE_FILTER_BUTTON_RESET="type_video_kids_age_filter_button_reset",e.TYPE_ONBOARDING_EVENT="type_onboarding_event",e}({})},564938:(e,t,i)=>{"use strict";i.d(t,{EventScreens:()=>o});var o=function(e){return e.NOWHERE="nowhere",e.OTHER="other",e.START="start",e.START_BOX="start_box",e.START_PROCEED_AS="start_proceed_as",e.REGISTRATION_DOWNLOAD_APP="registration_download_app",e.REGISTRATION_COUNTRY="registration_country",e.REGISTRATION_PHONE="registration_phone",e.REGISTRATION_PHONE_VERIFY="registration_phone_verify",e.REGISTRATION_PASSWORD="registration_password",e.REGISTRATION_EDUCATION="registration_education",e.REGISTRATION_EMAIL="registration_email",e.REGISTRATION_PHOTO="registration_photo",e.REGISTRATION_RECOM_THEMES="registration_recom_themes",e.REGISTRATION_EMAIL_EXPLANATION="registration_email_explanation",e.REGISTRATION_NAME="registration_name",e.REGISTRATION_INVITE_CONFIRM="registration_invite_confirm",e.REGISTRATION_LIST_FRIENDS_FACEBOOK="registration_list_friends_facebook",e.PHONE_2FA_VERIFY="phone_2fa_verify",e.OAUTH_FB="oauth_fb",e.FACEBOOK_REGISTRATION_FAILED="facebook_registration_failed",e.MAIN="main",e.MULTI_ACC_SWITCHER="multi_acc_switcher",e.ONBOARDING_MULTIACCOUNT="onboarding_multiaccount",e.CAPTCHA="captcha",e.MEET_PASSKEY="meet_passkey",e.CONNECT_PASSKEY="connect_passkey",e.CONNECTED_KEYS="connected_keys",e.ECOSYSTEM_NAVIGATION="ecosystem_navigation",e.AUTH_MOBILE_QR_CODE="auth_mobile_qr_code",e.QR_CODE_ASK_CONFIRM="qr_code_ask_confirm",e}({})},658007:(e,t,i)=>{"use strict";i.d(t,{ProductionStatEventTypes:()=>o});var o=function(e){return e.TYPE_NAVGO="type_navgo",e.TYPE_ACTION="type_action",e.TYPE_CLICK="type_click",e.TYPE_VIEW="type_view",e}({})},452223:(e,t,i)=>{"use strict";i.d(t,{AUDIO_NAVIGATION_SCREEN_PREV:()=>o.AUDIO_NAVIGATION_SCREEN_PREV,ActionProductionStatEventTypes:()=>r.ActionProductionStatEventTypes,AlertInAppType:()=>o.AlertInAppType,AppSessionActionEventTypes:()=>v.AppSessionActionEventTypes,ClickProductionStatEventTypes:()=>c.ClickProductionStatEventTypes,ClipDescriptionEventTypes:()=>o.ClipDescriptionEventTypes,ClipDescriptionLinkTypes:()=>o.ClipDescriptionLinkTypes,ClipSubscribeEventTypes:()=>o.ClipSubscribeEventTypes,ClipSubscribeLinkTypes:()=>o.ClipSubscribeLinkTypes,CommunityAppsAddClickSourceTypes:()=>o.CommunityAppsAddClickSourceTypes,CommunityAppsCatalogClickItemTypes:()=>o.CommunityAppsCatalogClickItemTypes,CommuntyAppsCatalogActionEventTypes:()=>d.CommuntyAppsCatalogActionEventTypes,CommuntyAppsCatalogActionSourceTypes:()=>d.CommuntyAppsCatalogActionSourceTypes,DownloadedGamesItemType:()=>o.DownloadedGamesItemType,ETooltipEventTypes:()=>A.ETooltipEventTypes,EventClipSubscribeItemSubType:()=>o.EventClipSubscribeItemSubType,EventFieldValues:()=>o.EventFieldValues,EventItemSubType:()=>a.EventItemSubType,EventItemType:()=>n.EventItemType,EventScreens:()=>l.EventScreens,FeedInteractionItemType:()=>o.FeedInteractionItemType,FeedPostDonutPaymentEventSubtypeTypes:()=>o.FeedPostDonutPaymentEventSubtypeTypes,GAMES_FEED_BLOCK_ITEM:()=>o.GAMES_FEED_BLOCK_ITEM,GamesJsSDKEventNames:()=>_.GamesJsSDKEventNames,IEasterEggsItemEventType:()=>u.IEasterEggsItemEventType,IMiniAppsEventTypesStatEvent:()=>o.IMiniAppsEventTypesStatEvent,IVkConnectNavigationItemEventType:()=>o.IVkConnectNavigationItemEventType,LongtapEventCategory:()=>p.LongtapEventCategory,MarketEventTypes:()=>o.MarketEventTypes,MarketingTransitionItemCampaignType:()=>m.MarketingTransitionItemCampaignType,MarketingTransitionItemEventType:()=>m.MarketingTransitionItemEventType,MarketingTransitionItemSourceType:()=>m.MarketingTransitionItemSourceType,MiniAppsUserActionItemType:()=>o.MiniAppsUserActionItemType,MusicPlaylistEventCategory:()=>E.MusicPlaylistEventCategory,MyGamesCloudItemType:()=>o.MyGamesCloudItemType,NavigationProductionStatEventTypes:()=>o.NavigationProductionStatEventTypes,PersonalDiscountEventType:()=>g.PersonalDiscountEventType,ProductionStatEventTypes:()=>s.ProductionStatEventTypes,ProfileActionButtonEventType:()=>o.ProfileActionButtonEventType,ProfileVideoTabClickTypes:()=>o.ProfileVideoTabClickTypes,RADIO_STATION_EVENT_ITEM:()=>f.RADIO_STATION_EVENT_ITEM,RegistrationFieldItemNames:()=>y.RegistrationFieldItemNames,RegistrationFieldItemValues:()=>o.RegistrationFieldItemValues,RegistrationItemEventTypes:()=>y.RegistrationItemEventTypes,RegistrationItemFlowSource:()=>o.RegistrationItemFlowSource,SearchClickActionMap:()=>o.SearchClickActionMap,SuperappShowcaseEventName:()=>o.SuperappShowcaseEventName,UnblockAccountField:()=>o.UnblockAccountField,UnverifiedScreenActionEventTypes:()=>S.UnverifiedScreenActionEventTypes,UserInfoStatsFeature:()=>b.UserInfoStatsFeature,UserInfoStatsOrientation:()=>b.UserInfoStatsOrientation,UserInfoStatsPreferensContrast:()=>b.UserInfoStatsPreferensContrast,UserInfoStatsPrefersColorScheme:()=>b.UserInfoStatsPrefersColorScheme,VideoActionButtonEventTypes:()=>o.VideoActionButtonEventTypes,VideoAutoplayButtonEventSubtypes:()=>o.VideoAutoplayButtonEventSubtypes,VideoAutoplayButtonEventTypes:()=>o.VideoAutoplayButtonEventTypes,VideoClipAddClickSubType:()=>o.VideoClipAddClickSubType,VideoClipAddClickTypes:()=>o.VideoClipAddClickTypes,VideoCreateChannelActionEventTypes:()=>T.VideoCreateChannelActionEventTypes,VideoCreateChannelClickEventTypes:()=>o.VideoCreateChannelClickEventTypes,VideoCreateClipActionEventTypes:()=>o.VideoCreateClipActionEventTypes,VideoEditActionEventSubTypes:()=>C.VideoEditActionEventSubTypes,VideoEditActionEventTypes:()=>C.VideoEditActionEventTypes,VideoEditActionObjectTypes:()=>C.VideoEditActionObjectTypes,VideoPublishActionEventSubtype:()=>I.VideoPublishActionEventSubtype,VideoPublishActionEventTypes:()=>I.VideoPublishActionEventTypes,VideoSubscribesHideAuthorEventTypes:()=>o.VideoSubscribesHideAuthorEventTypes,VideoSubscriptionsClickEventTypes:()=>o.VideoSubscriptionsClickEventTypes,VideoUploadActionEventTypes:()=>k.VideoUploadActionEventTypes,ViewProductionStatEventTypes:()=>o.ViewProductionStatEventTypes,VkAppActionMenuActionType:()=>o.VkAppActionMenuActionType,VkidEcosystemNavigationItem:()=>o.VkidEcosystemNavigationItem,VkidEcosystemNavigationItemEventType:()=>o.VkidEcosystemNavigationItemEventType,VkidEcosystemNavigationItemPlace:()=>o.VkidEcosystemNavigationItemPlace});var o=i(556938),r=i(570545),n=i(92860),a=i(564060),s=i(658007),c=i(830039),l=i(564938),d=(i(527972),i(218454)),u=i(950900),_=i(355446),p=i(387135),m=i(151275),g=i(781530),v=i(138723),f=(i(509955),i(1763)),y=i(815979),E=i(605725),A=(i(822035),i(713819)),S=i(170922),b=i(785813),T=i(611052),I=i(388346),C=i(9395),k=i(901552);i(671398)},527972:(e,t,i)=>{"use strict"},218454:(e,t,i)=>{"use strict";i.d(t,{CommuntyAppsCatalogActionEventTypes:()=>o,CommuntyAppsCatalogActionSourceTypes:()=>r});var o=function(e){return e.OPEN_COMMUNITY_APPS_CATALOG="open_community_apps_catalog",e.EXPAND_COMMUNITY_APPS_TAB="expand_community_apps_tab",e.COMMUNITY_APPS_ALL="community_apps_all",e.COMMUNITY_APPS_BUSINESS="community_apps_business",e.COMMUNITY_APPS_EVENT="community_apps_event",e.COMMUNITY_APPS_ENTERTAINMENT="community_apps_entertainment",e.OPEN_COMMUNITY_APPS_TAB="open_community_apps_tab",e}({}),r=function(e){return e.COMMUNITY_APPS_SETTINGS_LIST="community_apps_settings_list",e.MINI_APPS_CATALOG_COMMUNITY_APPS_SECTION="mini_apps_catalog_community_apps_section",e}({})},671398:(e,t,i)=>{"use strict";i.d(t,{DonutActionEventType:()=>o});var o=function(e){return e.PAYMENT_FORM="payment_form",e.PAYMENT_FORM_CLICK_OFFER="payment_form_click_offer",e.PAYMENT_FORM_CLICK_PAY="payment_form_click_pay",e.PAYMENT_FORM_CLICK_CLOSE="payment_form_click_close",e}({})},950900:(e,t,i)=>{"use strict";i.d(t,{IEasterEggsItemEventType:()=>o});var o=function(e){return e.EGG_SHOW="egg_show",e.POPUP_SHOW="popup_show",e.POPUP_ACTION="popup_action",e}({})},355446:(e,t,i)=>{"use strict";i.d(t,{GamesJsSDKEventNames:()=>o});var o=function(e){return e.INIT="games_js_sdk_init",e}({})},387135:(e,t,i)=>{"use strict";i.d(t,{LongtapEventCategory:()=>o});var o=function(e){return e.play="play",e.view="view",e.action="action",e.nav="nav",e}({})},151275:(e,t,i)=>{"use strict";i.d(t,{MarketingTransitionItemCampaignType:()=>o,MarketingTransitionItemEventType:()=>r,MarketingTransitionItemSourceType:()=>n});var o=function(e){return e.UNAUTH_BOTTOM_BANNER="unauth_bottom_banner",e.UNAUTH_ACTION_BOX="unauth_action_box",e}({}),r=function(e){return e.OPEN="open",e.CLOSE="close",e.CLICK_SIGN_UP="click_sign_up",e.CLICK_SIGN_IN="click_sign_in",e.CLICK_OPEN_IN_APP="click_open_in_app",e}({}),n=function(e){return e.LIKE="like",e.SHARE="share",e.MORE="more",e.FAVE="fave",e.COMMENT="comment",e}({})},781530:(e,t,i)=>{"use strict";i.d(t,{PersonalDiscountEventType:()=>o});var o=function(e){return e.OPEN_SNACK_BAR_PROMO="open_snack_bar_promo",e.VIEW_PROMO_MODAL="view_promo_modal",e.HIDE_PROMO_MODAL="hide_promo_modal",e.OPEN_TAB_MODAL_PURCHASE="open_tab_modal_purchase",e.OPEN_TAB_APP_SETTINGS_PURCHASE="open_app_settings_purchase",e.OPEN_TAB_MENU_PURCHASE="open_tab_menu_purchase",e.OPEN_TAB_PROFILE_PURCHASE="open_tab_profile_purchase",e.SHOW_TOOLTIP_PROMO="show_tooltip_promo",e.SHOW_INSTRUCTION_PROMO="show_instruction_promo",e}({})},138723:(e,t,i)=>{"use strict";i.d(t,{AppSessionActionEventTypes:()=>o});var o=function(e){return e.START="session_start",e.SESSION_END="session",e.SESSION_PART="session_part",e}({})},509955:(e,t,i)=>{"use strict"},1763:(e,t,i)=>{"use strict";i.d(t,{RADIO_STATION_EVENT_ITEM:()=>o});const o="type_radio_station_item"},815979:(e,t,i)=>{"use strict";i.d(t,{RegistrationFieldItemNames:()=>r,RegistrationItemEventTypes:()=>o});var o=function(e){return e.SCREEN_PROCEED="screen_proceed",e.SCREEN_SKIP="screen_skip",e.SCREEN_RETURN="screen_return",e.COMMON_SERVER_ERROR="common_server_error",e.RESEND_SMS_CODE="resend_sms_code",e.RESEND_SMS_CODE_FAILED="resend_sms_code_failed",e.INCORRECT_SMS_CODE="incorrect_sms_code",e.INCORRECT_PASSWORD="incorrect_password",e.INCORRECT_NAME="incorrect_name",e.INCORRECT_CAPTCHA="incorrect_captcha",e.INCORRECT_PHONE_NUMBER="incorrect_phone_number",e.INCORRECT_BDAY="incorrect_bday",e.INCORRECT_SEX="incorrect_sex",e.INCORRECT_EMAIL="incorrect_email",e.EXISTING_EMAIL="existing_email",e.INCORRECT_EDUCATION="incorrect_education",e.SUCCESS_2FA="success_2fa",e.LOGIN_TAP="login_tap",e.PASSWORD_TAP="passw_tap",e.START_REG_TAP="start_reg_tap",e.FIRST_COUNTRY="first_country",e.FIRST_EDUCATION="first_education",e.FIRST_EMAIL="first_email",e.FIRST_FRIEND_ASK="first_friend_ask",e.SELECT_COUNTRY="select_country",e.SELECT_COUNTRY_DONE="select_country_done",e.INPUT_NUMBER_INTERACTION="input_number_interaction",e.INPUT_CODE_INTERACTION="input_code_interaction",e.PROCEED_OTHER_COUNTRY_CODE="proceed_other_country_code",e.INPUT_PHONE="input_phone",e.INPUT_EMAIL="input_email",e.AUTH_SAVED_START="auth_saved_start",e.ADD_ACCOUNT_TO_SAVED_START="add_account_to_saved_start",e.DROP_ACCOUNT_FROM_SAVED="drop_account_from_saved",e.POPUP_OPEN="popup_open",e.MULTIACC_ADD_ANOTHER_ACCOUNT_TAP="multiacc_add_another_account_tap",e.MULTIACC_DROP_ACCOUNT_TAP="multiacc_drop_account_tap",e.MULTIACC_DROP_ACCOUNT="multiacc_drop_account",e.CONTINUE_TAP="continue_tap",e.SWITCH_ACCOUNT_TAP="switch_account_tap",e.SWITCH_FROM_ACCOUNT="switch_from_account",e.SWITCH_TO_ACCOUNT="switch_to_account",e.REFUSE_ONBOARDING_PASSKEY="refuse_onboarding_passkey",e.CREATE_BUSINESS_START="create_business_start",e.AUTH_QR_CODE_START="auth_qr_code_start",e.QR_CODE_SHOW="qr_code_show",e.MORE_INFO_TAP="more_info_tap",e.QR_CODE_EXPIRED="qr_code_expired",e.QR_CODE_REFRESH_TAP="qr_code_refresh_tap",e.QR_CODE_SCANNED="qr_code_scanned",e}({}),r=function(e){return e.ACCOUNTS_COUNT="accounts_cnt",e.PHONE_COUNTRY="phone_country",e.PHONE_NUMBER="phone_number",e.COUNTRY="country",e.CITY="city",e.EMAIL="email",e.UNIVERSITY="university",e.FACULTY="faculty",e.SCHOOL="school",e.CHAIR="chair",e.YEAR_FROM="year_from",e.YEAR_TO="year_to",e.CLASS="class",e.EDU_FORM="edu_form",e.EDU_STATUS="edu_status",e.GRADUATION="graduation",e.SPECIALIZATION="specialization",e.RULES_ACCEPT="rules_accept",e.SMS_CODE="sms_code",e.FIRST_NAME="first_name",e.LAST_NAME="last_name",e.SEX="sex",e.BDAY="bday",e.PASSWORD="password",e.FACEBOOK_REGISTRATION="facebook_registration",e.FRIEND_ASK="friend_ask",e.VERIFICATION_TYPE="verification_type",e.SELECT_COUNTRY_NAME="select_country_name",e.SAVED_SOURCE="saved_source",e.AVAILABLE_AUTH_WITH_QR="available_auth_with_qr",e.NAME_MULTIACC_ADD_ACCOUNT_TYPE="multiacc_add_account_type",e.TO_SWITCHER_FROM="to_switcher_from",e.SAVED_AUTHORIZATION_ON="save_authorization_on",e.ONBOARDING_TYPE="onboarding_type",e.DEEPLINK="deeplink",e.QR_CODE_ID="qr_code_id",e}({})},605725:(e,t,i)=>{"use strict";i.d(t,{MusicPlaylistEventCategory:()=>o});var o=function(e){return e.Tap="tap",e}({})},822035:(e,t,i)=>{"use strict"},713819:(e,t,i)=>{"use strict";i.d(t,{ETooltipEventTypes:()=>o});var o=function(e){return e.TOOLTIP_SHOW="tooltip_show",e.TOOLTIP_COULD_BE_SHOWN="tooltip_could_be_shown",e.TOOLTIP_HIDE_BY_INTERFACE_INTERACTION="tooltip_hide_by_interface_interaction",e.TOOLTIP_HIDE_BY_CROSS="tooltip_hide_by_cross",e.TOOLTIP_HIDE_BY_CLICK="tooltip_hide_by_click",e}({})},170922:(e,t,i)=>{"use strict";i.d(t,{UnverifiedScreenActionEventTypes:()=>o});var o=function(e){return e.UNVERIFIED_SCREEN="unverified_screen",e.UNVERIFIED_SCREEN_LAUNCH="unverified_screen_launch",e.UNVERIFIED_SCREEN_QUIT="unverified_screen_quit",e}({})},785813:(e,t,i)=>{"use strict";i.d(t,{UserInfoStatsFeature:()=>o,UserInfoStatsOrientation:()=>a,UserInfoStatsPreferensContrast:()=>r,UserInfoStatsPrefersColorScheme:()=>n});var o=function(e){return e[e.NOT_SUPPORTED=0]="NOT_SUPPORTED",e[e.NONE=1]="NONE",e[e.ACTIVE=2]="ACTIVE",e}({}),r=function(e){return e[e.NOT_SUPPORTED=0]="NOT_SUPPORTED",e[e.NONE=1]="NONE",e[e.MORE=2]="MORE",e[e.LESS=3]="LESS",e[e.CUSTOM=4]="CUSTOM",e}({}),n=function(e){return e[e.NOT_SUPPORTED=0]="NOT_SUPPORTED",e[e.DARK=1]="DARK",e[e.LIGHT=2]="LIGHT",e}({}),a=function(e){return e[e.NOT_SUPPORTED=0]="NOT_SUPPORTED",e[e.PORTRAIT=1]="PORTRAIT",e[e.LANDSCAPE=2]="LANDSCAPE",e}({})},611052:(e,t,i)=>{"use strict";i.d(t,{VideoCreateChannelActionEventTypes:()=>o});var o=function(e){return e.EVENT_TYPE_CREATE_NEW_CHANNEL="create_new_channel",e.EVENT_TYPE_ERROR_CREATE_CHANNEL="error_create_channel",e}({})},9395:(e,t,i)=>{"use strict";i.d(t,{VideoEditActionEventSubTypes:()=>r,VideoEditActionEventTypes:()=>o,VideoEditActionObjectTypes:()=>n});var o=function(e){return e.EVENT_TYPE_EDIT_VIDEO="edit_video",e.EVENT_TYPE_CHANGE_NAME="change_name",e.EVENT_TYPE_CHANGE_DESCRIPTION="change_description",e.EVENT_TYPE_ADD_PLAYLIST="add_playlist",e.EVENT_TYPE_CHANGE_COVER="change_cover",e.EVENT_TYPE_CHANGING_PRIVACY="changing_privacy",e.EVENT_TYPE_CHANGING_COMMENT_PRIVACY="changing_comment_privacy",e.EVENT_TYPE_SAVE_AS_POSTPONE="save_as_postponed",e}({}),r=function(e){return e.PLAYLISTS="playlists",e.MY_VIDEOS="my_videos",e.VIDEO_VIEW="video_view",e.MODAL_VIEW="modal_view",e.OFFICE="office",e.CHANNEL="channel",e}({}),n=function(e){return e.VIDEO="video",e.DRAFT="draft",e.POSTPONED="postponed",e}({})},388346:(e,t,i)=>{"use strict";i.d(t,{VideoPublishActionEventSubtype:()=>o,VideoPublishActionEventTypes:()=>r});var o=function(e){return e.UPLOAD="upload",e.NEXT="next",e.BACK="back",e.TAB="tab",e.NEW_VIDEO="new_video",e.EDIT_VIDEO="edit_video",e.URL="url",e.DELETE_FRAGMENT="delete_fragment",e.EDIT_FRAGMENT="edit_fragment",e.SELECT_FRAGMENT="select_fragment",e.CANCEL_ACTION="cancel_action",e.REPEAT_ACTION="repeat_action",e.CANCEL_EDIT="cancel_edit",e}({}),r=function(e){return e.EVENT_TYPE_UPLOAD_NEW_VIDEO="upload_new_video",e.EVENT_TYPE_EDIT_VIDEO="edit_video",e.EVENT_TYPE_OPEN_VIDEO_EDITOR="open_video_editor",e.EVENT_TYPE_CUT_VIDEO="cut_video",e.EVENT_TYPE_SAVE_EDITED_VIDEO="save_edited_video",e.EVENT_TYPE_SAVE_EDITED_VIDEO_AS_NEW="save_edited_video_as_new",e.EVENT_TYPE_GO_TO_INFORMATION="go_to_information",e.EVENT_TYPE_GO_TO_ADDITIONAL="go_to_additional",e.EVENT_TYPE_GO_TO_PUBLICATION="go_to_publication",e}({})},901552:(e,t,i)=>{"use strict";i.d(t,{VideoUploadActionEventTypes:()=>o});var o=function(e){return e.DECODE_VIDEO_METAINFO="decode_video_metainfo",e}({})},556938:(e,t,i)=>{"use strict";i.d(t,{AUDIO_NAVIGATION_SCREEN_PREV:()=>s,AlertInAppType:()=>S,ClipDescriptionEventTypes:()=>U,ClipDescriptionLinkTypes:()=>V,ClipSubscribeEventTypes:()=>W,ClipSubscribeLinkTypes:()=>j,CommunityAppsAddClickSourceTypes:()=>f,CommunityAppsCatalogClickItemTypes:()=>v,DownloadedGamesItemType:()=>A,EventClipSubscribeItemSubType:()=>H,EventFieldValues:()=>r,FeedInteractionItemType:()=>D,FeedPostDonutPaymentEventSubtypeTypes:()=>K,GAMES_FEED_BLOCK_ITEM:()=>a,IMiniAppsEventTypesStatEvent:()=>p,IVkConnectNavigationItemEventType:()=>T,MarketEventTypes:()=>_,MiniAppsUserActionItemType:()=>b,MyGamesCloudItemType:()=>E,NavigationProductionStatEventTypes:()=>n,ProfileActionButtonEventType:()=>O,ProfileVideoTabClickTypes:()=>d,RegistrationFieldItemValues:()=>g,RegistrationItemFlowSource:()=>m,SearchClickActionMap:()=>L,SuperappShowcaseEventName:()=>M,UnblockAccountField:()=>I,VideoActionButtonEventTypes:()=>G,VideoAutoplayButtonEventSubtypes:()=>F,VideoAutoplayButtonEventTypes:()=>x,VideoClipAddClickSubType:()=>l,VideoClipAddClickTypes:()=>c,VideoCreateChannelClickEventTypes:()=>R,VideoCreateClipActionEventTypes:()=>N,VideoSubscribesHideAuthorEventTypes:()=>B,VideoSubscriptionsClickEventTypes:()=>z,ViewProductionStatEventTypes:()=>u,VkAppActionMenuActionType:()=>y,VkidEcosystemNavigationItem:()=>k,VkidEcosystemNavigationItemEventType:()=>C,VkidEcosystemNavigationItemPlace:()=>P});var o=i(815979),r=function(e){return e.REGISTERED_VIA_FB="1",e}({}),n=function(e){return e.GO="go",e.BACK="back",e.TAB_OPEN="tab_open",e.TAB_CLOSE="tab_close",e.HIDE="hide",e.SHOW="show",e}({});!function(e){e.TYPE_DONUT_DESCRIPTION_NAV_ITEM="type_donut_description_nav_item",e.TYPE_MARKET_NAVGO="type_market_navgo",e.TYPE_YOULA_SNIPPET_NAVGO="type_youla_snippet_navgo",e.TYPE_STUDIO_NAVGO="type_studio_navgo",e.TYPE_SERVICES_MAP_NAVGO="type_services_map_navgo",e.TYPE_MARUSIA_NAVGO="type_marusia_navgo",e.TYPE_MINI_APP_CATALOG_ITEM="type_mini_app_catalog_item",e.TYPE_GAMES_FEED_BLOCK_NAVGO="type_games_feed_block_navgo",e.TYPE_AUDIO_DOMAIN_EVENT_ITEM="type_audio_domain_event_item"}(n);const a="type_games_feed_block_item",s="AUDIO_NAVIGATION_SCREEN_PREV";var c=function(e){return e.TRY_UPLOAD_CLIP="try_upload_clip",e.TRY_UPLOAD_VIDEO="try_upload_video",e.CHOOSE_CLIP_FILE="choose_clip_file",e.CHOOSE_VIDEO_FILE="choose_video_file",e}({}),l=function(e){return e.FROM_MAIN="from_main",e.FROM_VIDEO="from_video",e.FROM_ALL_COMMUNITIES="from_all_communities",e.FROM_COMMUNITY="from_community",e.FROM_COMMUNITY_VK="from_community_vk",e.FROM_PROFILE_VK="from_profile_vk",e.FROM_ADD_VIDEO="from_add_video",e.FROM_UPLOAD_VIDEO="from_upload_video",e.FROM_PLAYLIST="from_playlist",e.FROM_ALL_PLAYLIST_IN="from_all_playlists_in",e.FROM_ALL_PLAYLIST_ADD="from_all_playlists_add",e}({}),d=function(e){return e.OPEN_ALL_VIDEOS="open_all_videos",e.UPLOAD_PROFILE_VIDEOS="upload_profile_video",e}({}),u=function(e){return e.TYPE_CATALOG_BANNER_ITEM="type_catalog_banner_item",e.TYPE_MARKET_VIEW="type_market_view",e.TYPE_MINI_APPS_VIEW_ITEM="type_mini_app_view_item",e.TYPE_CATALOG_SPECIAL_PROJECT_ITEM="type_catalog_special_project_item",e.TYPE_MARUSIA_CONVERSATION_ITEM="type_marusia_conversation_item",e.TYPE_CATALOG_AUDIO_LONGTAP_ITEM="type_audio_longtap_item",e.TYPE_FEED_ITEM="type_feed_item",e.TYPE_ONBOARDING_EVENT="type_onboarding_event",e}({}),_=function(e){return e.TYPE_MARKET_ORDERS_ITEM="type_market_orders_item",e.TYPE_MARKET_CARTS_ITEM="type_market_carts_item",e.TYPE_MARKET_GOODS_ITEM="type_market_item",e.TYPE_MARKET_MARKETPLACE_ITEM="type_market_marketplace_item",e.TYPE_MARKET_ADD_ITEM_TO_BOOKMARKS="type_market_add_item_to_bookmarks",e}({}),p=function(e){return e.CATALOG_PROMO_BANNER_VIEWED="catalog_promo_banner_viewed",e.CATALOG_CAROUSEL_BANNER_VIEWED="catalog_carousel_banner_viewed",e.CATALOG_SECTION_PROMO_BANNER_VIEWED="catalog_section_promo_banner_viewed",e}({}),m=function(e){return e.MOBILE_QR_AUTH="mobile_qr_auth",e}({}),g=function(e){return e.SAVED_SOURCE_CAROUSEL="carousel",e.LONG="long",e.ONBOARDING="onboarding",e.ADD_ACCOUNT_CREATE_MULTIACC="add_account_create_multiacc",e}({}),v=function(e){return e.COMMUNITY_APPS_LIST_CLICK_ADD="community_apps_list_click_add",e.APPS_SETTINGS_LIST_CLICK_ADD="apps_settings_list_click_add",e.OPEN_INSTALLED_APP_POPUP="open_installed_app_popup",e.OPEN_INSTALLED_APP_SETTINGS="open_installed_app_settings",e.OPEN_INSTALLED_APP_FIRST_SETTINGS="open_installed_app_first_settings",e.CLICK_ADD_APP="CLICK_ADD_APP",e.SAVE_APP_SETTING_CHANGES="SAVE_APP_SETTING_CHANGES",e.INSTALL_APP_WIDGET="INSTALL_APP_WIDGET",e}({}),f=function(e){return e.COMMUNITY_APPS_SETTINGS_LIST="community_apps_settings_list",e.COMMUNITY_APPS_SETTINGS_CARD="community_apps_settings_card ",e.COMMUNITY_APPS_CATALOG_LIST="community_apps_catalog_list",e.COMMUNITY_APPS_CATALOG_CARD="community_apps_catalog_card",e.MINI_APPS_CATALOG_COMMUNITY_APPS_SECTION="mini_apps_catalog_community_apps_section",e}({}),y=function(e){return e.ACTION_MENU_SHARE="action_menu_share",e.ACTION_MENU_ADD_TO_FAVOURITES="action_menu_add_to_favourites",e.ACTION_MENU_REMOVE_FROM_FAVOURITES="action_menu_remove_from_favourites",e.ACTION_MENU_ENABLE_NOTIFICATIONS="action_menu_enable_notifications",e.ACTION_MENU_DISABLE_NOTIFICATIONS="action_menu_disable_notifications",e.ACTION_MENU_ALL_APPS="action_menu_all_apps",e.ACTION_MENU_ALL_GAMES="action_menu_all_games",e.ACTION_MENU_COPY="action_menu_copy",e.ACTION_MENU_DELETE="action_menu_delete",e.ACTION_MENU_RECOMMEND="action_menu_recommend",e.ACTION_MENU_UNRECOMMEND="action_menu_unrecommend",e.ACTION_MENU_ENABLE_BADGES="action_menu_enable_badges",e.ACTION_MENU_DISABLE_BADGES="action_menu_disable_badges",e.ACTION_MENU_ADD_TO_BOOKMARKS="action_menu_add_to_bookmarks",e.ACTION_MENU_REMOVE_FROM_BOOKMARKS="action_menu_remove_from_bookmarks",e}({}),E=function(e){return e.CLICK_GAME_CARD="cloud_games_game_click",e.CLICK_DOWNLOAD_GAME="cloud_games_client_download",e.OPEN_SECTION="cloud_games_section_open",e}({}),A=function(e){return e.SECTION_OPEN="downloaded_games_section_open",e.SECTION_LOADED="downloaded_games_section_loaded",e.SECTION_ERROR="downloaded_games_section_error",e.DOWNLOAD_GAME="downloaded_games_download",e.LAUNCH_GAME="downloaded_games_launch",e.SHOW_GAME="downloaded_games_show_game",e.NEED_MORE="downloaded_games_need_more",e}({}),S=function(e){return e.SHOW="notifications_request_sent",e.CLOSE="notifications_request_close",e.SWIPE="notifications_request_swipe",e.TIMEOUT_CLOSE="notifications_request_timeout",e.SETTING_OPEN="notifications_request_settings_open",e}({}),b=function(e){return e.RECOMMENDATION_MODAL_RECOMMEND="recommendation_modal_recommend",e.RECOMMENDATION_MODAL_CANCEL="recommendation_modal_cancel",e}({}),T=function(e){return e.CLICK_ENTER_LK="click_enter_lk",e.CLICK_VK_PAY="click_vk_pay",e.CLICK_VK_COMBO="click_vk_combo",e.POPUP_OPEN="popup_open",e.POPUP_CLOSE="popup_close",e.SERVICE_NAVIGATION_CLICK="service_navigation_click",e.SERVICE_NAVIGATION_OPEN="service_navigation_open",e.SERVICE_NAVIGATION_CLOSE="service_navigation_close",e.CANCEL_ON_EXIT="cancel_on_exit",e.SAVE_LOGIN_MODAL_SHOW="save_login_modal_show",e.START_PHONE_CUA="start_phone_cua",e.CLICK_SETTINGS="click_settings",e.CLICK_THEME="click_theme",e.CLICK_SUPPORT="click_support",e.UNBLOCK_PROTECT_ACCOUNT_SHOW="unblock_protect_account_show",e.UNBLOCK_PROTECT_ACCOUNT_CONNECT="unblock_protect_account_connect",e.UNBLOCK_PROTECT_ACCOUNT_CANCELLATION="unblock_protect_account_cancellation",e}({}),I=function(e){return e.flow_service="unblock_protect_account_modal",e.screen="unblock_protect_account",e}({}),C=function(e){return e.OPEN="open",e.CLOSE="close",e.TAP="tap",e.LOGOUT="logout",e[e.ADD_ANOTHER_ACCOUNT_TAP=o.RegistrationItemEventTypes.MULTIACC_ADD_ANOTHER_ACCOUNT_TAP]="ADD_ANOTHER_ACCOUNT_TAP",e[e.SWITCH_ACCOUNT_TAP=o.RegistrationItemEventTypes.SWITCH_ACCOUNT_TAP]="SWITCH_ACCOUNT_TAP",e[e.DROP_ACCOUNT_TAP=o.RegistrationItemEventTypes.MULTIACC_DROP_ACCOUNT_TAP]="DROP_ACCOUNT_TAP",e.SECURITY_RECCOMENDATION_SHOW="security_recommendation_show",e.ERROR_API="error_api",e.ERROR_SWITCHER="error_switcher",e.THEME_CHANGED="theme_changed",e.HIDE="hide",e}({}),k=function(e){return e.EMAIL="email",e.CLOUD="cloud",e.AVATAR="avatar",e.VKID_LK="vkid_lk",e.SUBSCRIPTIONS="subscriptions",e.BALANCE="balance",e.QR_SIGN_IN="qr_sign_in",e.SETTINGS="settings",e.THEME="theme",e.HELP="help",e.SWITCHER="switcher",e.LOGOUT="logout",e.AD_BANNER="ad_banner",e.ACTUAL_PHONE_BANNER="actual_phone_banner",e.ACTUAL_PHONE_REVEAL="actual_phone_reveal",e.ACTUAL_PHONE_ACCEPT="actual_phone_accept",e.ACTUAL_PHONE_CANCEL="actual_phone_cancel",e}({}),P=function(e){return e.ECOSYSTEM="ecosystem",e.VK="vk",e.MULTIACCOUNT="multiaccount",e}({}),O=function(e){return e.LAUNCH_THIRD_PARTY_APP="launch_third_party_app",e}({}),M=function(e){return e.OPTIONS_OPEN="options_open",e.OPTIONS_TAP="options_tap",e.PROFILE_OPEN="profile_open",e.SEARCH_OPEN="search_open",e.MAIN_MENU_TAP="main_menu_tap",e.DOCK_TAP="dock_block_tap",e.MORE_TAP="more_tap",e.SHOW_ALL="show_all",e.OPEN_TAB="open_tab",e.LEAVE_TAB="leave_tab",e.WIDGET_TAP="widget_tap",e.MINI_WIDGET_TAP="mini_widget_tap",e.ONBOARDING_CLOSE="onboarding_panel_close",e}({}),L=function(e){return e.START="start",e.PLAY="play",e.PAUSE="pause",e.WRITE_MSG="write_msg",e.WRITE_MSG_OUT="write_msg_out",e.ADD_FRIENDS="add_friends",e.OPEN_APP="open_app",e.TAP="tap",e.REMOVE_FRIEND="remove_friend",e.REMOVE_FRIEND_OUT="remove_friend_out",e.ADD_FRIEND="add_friend",e.ADD_FRIEND_OUT="add_friend_out",e.JOIN_GROUP="join_group",e.JOIN_GROUP_OUT="join_group_out",e.LEAVE_GROUP="leave_group",e.LEAVE_GROUP_OUT="leave_group_out",e.SEND_MESSAGE="send_message",e.SEND_MESSAGE_OUT="send_message_out",e.FAVE="fave",e.FAVE_OUT="fave_out",e.UNFAVE="unfave",e.UNFAVE_OUT="unfave_out",e.MONEY="money",e.MONEY_OUT="money_out",e.CALL="call",e.CALL_OUT="call_out",e.SEND_GIFT="send_gift",e.SEND_GIFT_OUT="send_gift_out",e.SHOW_STORIES="show_stories",e.SHOW_STORIES_OUT="show_stories_out",e.SUBSCRIBE="subscribe",e.SUBSCRIBE_OUT="subscribe_out",e.UNSUBSCRIBE="unsubscribe",e.UNSUBSCRIBE_OUT="unsubscribe_out",e.PLAY_ALL="play_all",e.PLAY_ALL_OUT="play_all_out",e.OPEN_OWNER="open_owner",e.OPEN_OWNER_OUT="open_owner_out",e.COPY_LINK="copy_link",e.COPY_LINK_OUT="copy_link_out",e.SHARE="share",e.SHARE_OUT="share_out",e.LIKE="like",e.LIKE_OUT="like_out",e.UNLIKE="unlike",e.UNLIKE_OUT="unlike_out",e.DOWNLOAD="download",e.DOWNLOAD_OUT="download_out",e.ADD_TO_ME="add_to_me",e.ADD_TO_ME_OUT="add_to_me_out",e.REMOVE_FROM_ME="remove_from_me",e.REMOVE_FROM_ME_OUT="remove_from_me_out",e.REMOVE_RECENT="remove_recent",e.OPEN_FILTERS="open_filters",e.OPEN_FILTER="open_filter",e.NOTIFY="notify",e.UNNOTIFY="unnotify",e.NOTIFY_OUT="notify_out",e.UNNOTIFY_OUT="unnotify_out",e.DISLIKE="dislike",e.REMOVE_DISLIKE="remove_dislike",e.DISLIKE_OUT="dislike_out",e.MAKE_DUET_OUT="make_duet_out",e.MAKE_CLIP_OUT="make_clip_out",e.TAP_SHOW_ALL="tap_show_all",e.NOTIFY_ABOUT_POST_OUT="notify_about_post_out",e.UNNOTIFY_ABOUT_POST_OUT="unnotify_about_post_out",e.UNNOTIFY_ABOUT_LIVE_OUT="unnotify_about_live_out",e.NOTIFY_ABOUT_LIVE_OUT="notify_about_live_out",e.ASK_QUESTION_OUT="ask_question_out",e.VIEW_WISH_LIST_OUT="view_wish_list_out",e.ADD_TO_CLOSE_FRIENDS_OUT="add_to_close_friends_out",e.REMOVE_FROM_CLOSE_FRIENDS_OUT="remove_from_close_friends_out",e.COMPLAIN_OUT="complain_out",e.ADD_TO_BLACK_LIST_OUT="add_to_black_list_out",e.REMOVE_FROM_BLACK_LIST_OUT="remove_from_black_list_out",e.OPEN_FRIENDS_LIST="open_friends_list",e.OPEN_FRIENDS_LIST_OUT="open_friends_list_out",e.POST_ON_WALL_OUT="post_on_wall_out",e.POST_PHOTO_ON_WALL_OUT="post_photo_on_wall_out",e.OPEN_FRIEND_POSSIBLE_OUT="open_friend_possible_out",e.ADD_FRIEND_POSSIBLE_OUT="add_friend_possible_out",e.HIDE_FRIENDS_POSSIBLE_OUT="hide_friends_possible_out",e.OPEN_MARKET="open_market",e.ADD_TO_CART="add_to_cart",e.OPEN_CART="open_cart",e.ADD_TO_CART_OUT="add_to_cart_out",e.ADD_ONE_MORE_OUT="add_one_more_out",e.OPEN_CART_OUT="open_cart_out",e.OPEN_MARKET_OUT="open_market_out",e.OPEN_LINK_OUT="open_link_out",e.BUY_OUT="buy_out",e.OPEN_ATTACHED_MUSIC_OUT="open_attached_music_out",e.OPEN_COMMENTS_OUT="open_comments_out",e.OPEN_HASHTAG_OUT="open_hashtag_out",e.OPEN_THEMATIC_OUT="open_thematic_out",e.SHOW_SAME="show_same",e.LISTEN_NEXT="listen_next",e.SHOW_SNIPPET="show_snippet",e.OPEN_ALBUM="open_album",e.ADD_TO_PLAYLIST="add_to_playlist",e.GO_TO_TAB="go_to_tab",e.OPEN_LINK="open_link",e.OPEN_FAVE_OUT="open_fave_out",e.MIX_ALL_OUT="mix_all_out",e.LISTEN_NEXT_OUT="listen_next_out",e.EXTEND_EPISODES="extend_episodes",e.OPEN_EPISODES="open_episodes",e.CLOSE_FILTER="close_filter",e.SELECT_CATALOG_TAB="select_catalog_tab",e.RESET_FILTERS="reset_filters",e}({}),D=function(e){return e.WALL_ITEM="wall_item",e.POST_MODAL="post_modal",e.ONLINE_BOOKING_CLICK="online_booking_click",e.HEADER_NAME="header_name",e.HEADER_PHOTO="header_photo",e}({}),R=function(e){return e.EVENT_TYPE_CLICK_CREATE_CHANNEL="click_create_channel",e.EVENT_TYPE_ADD_COVER="add_cover",e.EVENT_TYPE_FIND_COVER="find_cover",e.EVENT_TYPE_ADD_FIRST_CHANNEL="add_first_channel",e.EVENT_TYPE_CREATE_FIRST_CHANNEL="create_first_channel",e}({}),N=function(e){return e.EVENT_TYPE_CREATE_CLIP="create_clip",e.EVENT_TYPE_CREATE_CLIP_CUT="create_clip_cut",e.EVENT_TYPE_CREATE_CLIP_CUT_CROP="create_clip_cut_crop",e.EVENT_TYPE_CREATE_CLIP_CANCEL="create_clip_cancel",e.EVENT_TYPE_CREATE_CLIP_CANCEL_YES="create_clip_cancel_yes",e.EVENT_TYPE_CREATE_CLIP_CANCEL_NO="create_clip_cancel_no",e}({}),x=function(e){return e.AUTOPLAY_TURN_ON="autoplay_turn_on",e.AUTOPLAY_TURN_OFF="autoplay_turn_off",e}({}),F=function(e){return e.PLAYLIST_BLOCK="playlist_block",e.PLAYER_CONTROLS="player_controls",e}({}),U=function(e){return e.CLICK_TO_EXPAND_DESCRIPTION="click_to_expand_description",e.CLICK_TO_DESCRIPTION="click_to_description",e}({}),B=function(e){return e.HIDE_CREATOR_FROM_SUBSCRIPTIONS="hide_creator_from_subscriptions",e.UNDO_HIDE_CREATOR_FROM_SUBSCRIPTIONS="undo_hide_creator_from_subscriptions",e}({}),V=function(e){return e.HASHTAG="hashtag",e.MENTION="mention",e.LINK="link",e}({}),H=function(e){return e.SUBSCRIBE="subscribe",e.UNSUBSCRIBE="unsubscribe",e}({}),j=function(e){return e.VIEWER="viewer",e.AUTHOR_GRID="author_grid",e.VIEWER_AUTHORS_BLOCK="viewer_authors_block",e.GRID_AUTHORS_BLOCK="grid_authors_block",e.FEED="feed",e.CLIPS_SEARCH="clips_search",e}({}),W=function(e){return e.CLICK_TO_SUBSCRIPTION_BUTTON="click_to_subscription_button",e}({}),G=function(e){return e.CLICK_TO_ACTION_BUTTON="click_to_action_button",e}({}),z=function(e){return e.EVENT_TYPE_CLICK_TO_SELECT_CREATORS="click_to_select_creators",e.EVENT_TYPE_MOVE_YOUTUBE_SUBS_START="move_youtube_subs_start",e.EVENT_TYPE_MOVE_YOUTUBE_SUBS_SUBSCRIPTIONS_START="move_youtube_subs_subscriptions_start",e.EVENT_TYPE_CLICK_TO_SELECT_CREATORS_CONFIRM="click_to_select_creators_confirm",e}({}),K=function(e){return e.LIKES_ACTIVITY="likes_activity",e.FOOTER="footer",e}({})},471180:(e,t,i)=>{"use strict";i.d(t,{getCurrentScreen:()=>d,getScreen:()=>_,getScreenPrev:()=>m,setCurrentScreen:()=>l,setLeftMenuScreen:()=>c,setScreen:()=>u,setScreenPrev:()=>p});var o=i(553608);const r="STATS_NAVIGATION_SCREEN_CURRENT",n="STATS_NAVIGATION_SCREEN",a="STATS_NAVIGATION_SCREEN_PREV",s="STATS_NAVIGATION_SCREEN_LEFT_MENU",c=e=>o.vkSessionStorage.setItem(s,e),l=e=>o.vkSessionStorage.setItem(r,e),d=()=>o.vkSessionStorage.getItem(r),u=e=>o.vkSessionStorage.setItem(n,e),_=()=>o.vkSessionStorage.getItem(n),p=e=>o.vkSessionStorage.setItem(a,e),m=()=>o.vkSessionStorage.getItem(a)},287424:(e,t,i)=>{"use strict";i.d(t,{ViewStatCollector:()=>r});var o=i(452223);class r{logEvent(e,t,i){const r={...this.productionStatCollector.getBaseEvent(i),type:o.ProductionStatEventTypes.TYPE_VIEW,[o.ProductionStatEventTypes.TYPE_VIEW]:{item:t,...e}};this.productionStatCollector.logEvent(r)}constructor(e){this.productionStatCollector=e}}},890355:(e,t,i)=>{"use strict";i.d(t,{MiniAppsEventStatsCollector:()=>n});var o=i(452223),r=i(314309);class n{logEvent(e,t,i="",r=""){const n={...e,...t},a={type:o.ViewProductionStatEventTypes.TYPE_MINI_APPS_VIEW_ITEM,[o.ViewProductionStatEventTypes.TYPE_MINI_APPS_VIEW_ITEM]:n,start_view:i,end_view:r};this.viewStatCollector.logEvent(a,e)}logLaunchExtendedEvent(e,t){const i={};i[o.EventItemType.MINI_APPS_LAUNCH_EXTENDED]={webview_url:t,mini_app_id:e},this.logEvent({type:o.EventItemType.MINI_APPS_LAUNCH_EXTENDED},i)}constructor(){this.productStatCollector=new r.ProductionStatCollector,this.viewStatCollector=new r.ViewStatCollector(this.productStatCollector)}}},609459:(e,t,i)=>{"use strict";i.d(t,{SearchViewStatCollector:()=>r});var o=i(314309);class r{constructor(){this.logEvent=e=>{this.viewStatCollector.logEvent({},e)},this.productStatCollector=new o.ProductionStatCollector,this.viewStatCollector=new o.ViewStatCollector(this.productStatCollector)}}},854950:(e,t,i)=>{"use strict";i.d(t,{getImageMinWidth:()=>o});const o=e=>Math.ceil(e*Math.max(window.devicePixelRatio,1))},131393:(e,t,i)=>{"use strict";i.d(t,{banUser:()=>u,deleteFromAuthor:()=>c,deleteQuestion:()=>a,getQuestion:()=>r,getQuestions:()=>n,getUsers:()=>d,reportQuestion:()=>p,restoreAuthorQuestions:()=>l,restoreQuestion:()=>s,unbanUser:()=>_});var o=i(957994);function r(e){return(0,o.api)("questions.getById",{owner_id:window.vk.id,question_id:e,extended:1,fields:"photo_50,photo_100,first_name_gen,last_name_gen,domain"})}function n(e="",t=15){return(0,o.api)("questions.get",{owner_id:window.vk.id,start_from:e,limit:t,extended:1,fields:"photo_50,photo_100,first_name_gen,last_name_gen,domain"})}function a(e){return(0,o.api)("questions.delete",{owner_id:window.vk.id,question_id:e})}function s(e){return(0,o.api)("questions.restore",{owner_id:window.vk.id,question_id:e})}function c(e){return(0,o.api)("questions.deleteFromAuthor",{owner_id:window.vk.id,question_id:e})}function l(e){return(0,o.api)("questions.restoreFromAuthor",{owner_id:window.vk.id,question_id:e})}function d(e){return(0,o.api)("users.get",{user_ids:e.join(","),fields:"photo_50,photo_100,can_ask_anonymous,can_ask_question,first_name_nom,first_name_dat,first_name_gen,last_name_gen,sex"})}function u(e){return(0,o.api)("questions.authorBan",{owner_id:window.vk.id,question_id:e})}function _(e){return(0,o.api)("questions.authorUnBan",{owner_id:window.vk.id,question_id:e})}function p(e){return(0,o.api)("reports.add",{type:"profile_story_question",owner_id:window.vk.id,item_id:e})}},419222:(e,t,i)=>{"use strict";i.d(t,{QuestionsBoxRef:()=>o});var o=function(e){return e.SNIPPET="snippet",e.URL="url",e.STORY="story",e}({})},224194:(e,t,i)=>{"use strict";i.d(t,{isPopUpStickersEnabled:()=>a,isPopUpStickersEnabledInVkCom:()=>n});var o=i(105330),r=i(41719);const n=()=>(0,r.isSupportedByBrowser)(),a=()=>!!(0,r.isSupportedByBrowser)()&&((0,o.isMvk)()?(0,r.isSupportedByBrowser)():n())},601686:(e,t,i)=>{"use strict";function o(e){return(e?.split("_")??[]).map(Number)}function r(e,t="windows-1251"){return new TextDecoder(t).decode(function(e){const t=atob(e);return Uint8Array.from(t,(e=>e.codePointAt(0)||0))}(e))}i.d(t,{decodeBase64:()=>r,splitStoryRawId:()=>o})},807978:(e,t,i)=>{"use strict";i.d(t,{DAY:()=>s,HOUR:()=>a,SECOND:()=>r,getShortPrintableTimeSpan:()=>u});var o=i(866467);const r=1e3,n=60*r,a=60*n,s=24*a,c=7*s,l=30*s,d=12*l;function u(e){return e>=d?(0,o.langNumeric)(Math.floor(e/d),(0,o.getLang)("global_short_years_fixed")):e>=l?(0,o.langNumeric)(Math.floor(e/l),(0,o.getLang)("global_short_months")):e>=c?(0,o.langNumeric)(Math.floor(e/c),(0,o.getLang)("global_short_weeks")):e>=s?(0,o.langNumeric)(Math.floor(e/s),(0,o.getLang)("global_short_days")):e>=a?(0,o.langNumeric)(Math.floor(e/a),(0,o.getLang)("global_short_hours")):e>=n?(0,o.langNumeric)(Math.floor(e/n),(0,o.getLang)("global_short_minutes")):e>=r?(0,o.langNumeric)(Math.floor(e/r),(0,o.getLang)("global_short_seconds")):""}},153659:(e,t,i)=>{"use strict";i.d(t,{TooltipsStat:()=>n});var o=i(452223);const r=new(i(851727).TooltipStatCollector);class n{handleShow(){this.showTime=new Date,this.skipShow?r.logEvent(o.ETooltipEventTypes.TOOLTIP_COULD_BE_SHOWN,this.tooltipId,0):r.logEvent(o.ETooltipEventTypes.TOOLTIP_SHOW,this.tooltipId,0)}handleHide(e=o.ETooltipEventTypes.TOOLTIP_HIDE_BY_INTERFACE_INTERACTION){let t=0;this.showTime&&(t=(new Date).getTime()-this.showTime.getTime()),r.logEvent(e,this.tooltipId,t)}static registryShow(e,t=!1){n.tootips[e]=new n(e,t),n.tootips[e].handleShow()}static registryHide(e,t=o.ETooltipEventTypes.TOOLTIP_HIDE_BY_INTERFACE_INTERACTION){(n.tootips[e]||new n(e,!1)).handleHide(t)}constructor(e,t){this.tooltipId=e,this.skipShow=t}}n.tootips={}},558e3:(e,t,i)=>{"use strict";i.d(t,{UnauthorizedSourceType:()=>o});const o={COMMON:"common",PHOTO:"photo",VIDEO:"video",AUDIO:"audio",COMMENTS:"comments",MESSAGE:"message",ADD_TO_FRIENDS:"add_to_friends",UPLOAD_VIDEO:"upload_video",SUBSCRIBE_VIDEO_AUTHOR:"subscribe_video_author",SUBSCRIBE_VIDEO_PLAYLIST:"subscribe_video_playlist",ADD_PRODUCT_TO_BOOKMARKS:"add_product_to_bookmarks",ADD_PRODUCT_TO_WISHLIST:"add_product_to_wishlist"}},616398:(e,t,i)=>{"use strict";i.d(t,{calculateTimeOffsets:()=>n,getBaseTimeZoneOffset:()=>r});var o=i(396858);function r(){return 10800}function n(){const e=window.vk.ts;if(e&&!window.browser.opera_mobile){const i=new Date;let r=Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds())/1e3-e;r-=10800,r/=60,r=Number(r.toFixed(0)),r*=60,r<-55800?r+=86400:r>37800&&(r-=86400);let n=0,a=Math.abs(r);[-12,-11,-10,-9.5,-9,-8,-7,-6,-5,-4.5,-4,-3.5,-3,-2,-1,0,1,2,3,3.5,4,4.5,5,5.5,5.75,6,6.5,7,8,8.75,9,9.5,10,10.5,11,12,12.75,13,14].forEach((e=>{const t=Math.round(3600*(e-3)),i=Math.abs(r-t);i<a&&(a=i,n=t)}));const s=(0,o.getCookie)("remixdt");return void 0!==s&&(!0===(t=s)?1:parseInt(t)||0)===n||(0,o.setCookie)("remixdt",n,365),n}var t;return 0}},222062:(e,t,i)=>{"use strict";i.d(t,{checkOwnerIsNFT:()=>o});const o=e=>{if(e){if("is_nft"in e)return Boolean(e.is_nft);if("is_nft_photo"in e)return Boolean(e.is_nft_photo)}return!1}},339328:(e,t,i)=>{"use strict";i.d(t,{createSentryLogger:()=>a,isApiNetworkError:()=>n});var o=i(626287),r=i(298077);function n(e){return!(!e||"object"!=typeof e)&&e.type===o.APIErrorType.NETWORK_ERROR}const a=({debugPrefix:e="[Sentry Logger]",isConsoleEnabled:t=!1,environment:i,catchNetworkError:o})=>{function a(t,i){return`${e} `+(i?`${i}: ${t}`:t)}return function(s){const{error:c,additionalText:l,extra:d,environment:u}=s,_=u||i;if(t&&console.error(e,{error:c,additionalText:l||"Some error happened",extra:d,environment:_}),o&&n(c)&&o(s))return;const p=d?{environment:u,breadcrumb:{data:{extra:d}}}:{environment:_};if(c instanceof Error){const e=new Error(a(c.message,l));return e.name=c.name,e.stack=c.stack,void(0,r.logError)(e,p)}if("string"!=typeof c)return c instanceof Object?(p.breadcrumb?.data?p.breadcrumb.data.object=c:p.breadcrumb={...p.breadcrumb,data:{object:c}},void(0,r.logError)(new Error(a("Error as object",l)),p)):void(c||!l?(0,r.logError)(new Error(a("Unknown error")),p):(0,r.logError)(new Error(a(l)),p));(0,r.logError)(new Error(a(c,l)),p)}}},641495:(e,t,i)=>{"use strict";i.d(t,{getOwnerName:()=>o});const o=(e,t=!0,i)=>{let o="";return e&&("name"in e?o=e.name||"":!t&&"first_name"in e?o=i?e[`first_name_${i}`]||"":e.first_name||"":("first_name"in e||"last_name"in e)&&(o=i?`${e[`first_name_${i}`]} ${e[`last_name_${i}`]}`:`${e.first_name} ${e.last_name}`)),o}},172479:(e,t,i)=>{"use strict";i.d(t,{getOwnerUrl:()=>o});const o=(e,t="/",i="")=>e?"domain"in e&&"id"in e?`/artist/${e.domain||e.id||""}${i}`:"screen_name"in e&&e.screen_name?`${t}${e.screen_name}${i}`:"first_name"in e?`${t}id${e.id}${i}`:`${t}club${e.id}${i}`:""},539375:(e,t,i)=>{"use strict";i.d(t,{getScreenNameFromUrl:()=>o});const o=e=>{const t=e.match(/\/@([^/]+)/);return t?.[1]??null}},897675:(e,t,i)=>{"use strict";i.d(t,{getVideoPath:()=>r});var o=i(540462);const r=e=>{const t=(0,o.isToggleEnabled)("video_web_spa_live_page")||(0,o.partConfigEnabled)("frontend.video_web_spa_live_page_unreg"),i=e.live_status&&["postlive","finished"].includes(e.live_status);return t&&e.vk_live_channel_name&&!i?"live":"short_video"===e.type?"clip":"video"}},841315:(e,t,i)=>{"use strict";i.d(t,{getVideoCopyLink:()=>d,getVideoEmbedCode:()=>u,getVideoUrl:()=>l});var o=i(538522),r=i(105330),n=i(826981),a=i(540462),s=i(671112),c=i(897675);const l=(e,t)=>{const{owner_id:i,id:l}=e,d=(0,a.partConfigEnabled)("video_short_redirect_to_player")&&"short_video"===e.type&&t?.screenName,u=!(0,r.isMvk)()||(0,a.partConfigEnabled)("frontend.video_mvk_videopage_with_playlist")||(0,a.isToggleEnabled)("video_mvk_playlist_videos")?e.linked_to_playlist_marks?.at(0):void 0,_=Boolean((0,a.partConfigEnabled)("frontend.prioritize_linked_to_playlist_marks_over_direct_url")&&u);if(!(0,a.partConfigEnabled)("frontend.fix_playlist_link_spa_catalog")&&"direct_url"in e&&!_&&!d)return e.direct_url??"";if((0,a.partConfigEnabled)("frontend.fix_playlist_link_spa_catalog")&&"direct_url"in e&&void 0!==e.direct_url&&!_&&!d)return e.direct_url??"";if(void 0===i)return(0,s.getVideoPrefix)("slash");if(void 0===l)return`${(0,s.getVideoPrefix)("doubleSlash")}@id${i}`;const p=(0,o.joinRawId)({ownerId:i,itemId:l}),m=(0,c.getVideoPath)(e),g=t?.isAbsolute?"":"/";if(d)return`${g}@${t.screenName}/${m}${p}`;const v=new URLSearchParams,f="linked";let y=t?.playlistId;if(!y&&u&&(v.set(f,"1"),y=u?.playlist_id),t?.isLinkedPlaylist&&y&&(0,s.isLinkedPlaylist)(y)&&v.set(f,"1"),"viewed_duration"in e&&e.viewed_duration&&v.set("t",(0,n.toString)(e.viewed_duration)),(0,a.partConfigEnabled)("remove_list_link_suffix")&&e.access_key&&v.set("list",e.access_key),y&&"short_video"!==e.type){const e=v.toString();return`${g}playlist/${y}/${m}${p}${e?`?${e}`:""}`}!(0,a.partConfigEnabled)("remove_list_link_suffix")&&e.access_key&&v.set("list",e.access_key),y&&v.set("pl",y);const E=v.toString();return`${g}${m}${p}${E?`?${E}`:""}`},d=(e,t,i,o,s)=>{const c=new URL(l(e),"https://"+(s??(0,r.getHostName)()));return t&&c.searchParams.set("t",(0,n.toString)(t)),(0,a.partConfigEnabled)("remove_list_link_suffix")?e.access_key?.startsWith("ln-")||c.searchParams.delete("list"):e.access_key?.startsWith("ln-")?c.searchParams.set("list",e.access_key):c.searchParams.delete("list"),i&&(0,a.partConfigEnabled)("video_player_ref_domain_embed")&&c.searchParams.set("ref_domain",o||window.cur?.mvOpts?.ref_domain||""),c.toString()},u=(e,t)=>{const i={src:`https://${(0,r.getHostName)()}/video_ext.php?oid=${e.owner_id}&id=${e.id}&hash=${t}`,width:640..toString(10),height:360..toString(10),frameborder:"0",allowfullscreen:"1",style:"background-color: #000",allow:["autoplay","encrypted-media","fullscreen","picture-in-picture"].join("; ")};return`<iframe ${Object.entries(i).map((([e,t])=>`${e}="${t}"`)).join(" ")}></iframe>`}},964025:(e,t,i)=>{"use strict";function o(e){return Object.keys(e).some((e=>e.startsWith("_react")||e.startsWith("__react")))}i.d(t,{isReactHTMLElement:()=>o})},120517:(e,t,i)=>{"use strict";i.d(t,{onDomReady:()=>o,onDomReadyPromise:()=>r});const o=e=>{"loading"!==window.document.readyState?e():window.document.addEventListener("DOMContentLoaded",(()=>e()),{once:!0})},r=new Promise((e=>{o(e)}))},945270:(e,t,i)=>{"use strict";i.d(t,{emailLinksReplacerReact:()=>n,replaceEmailLinks:()=>r});var o=i(470403);function r(e,t){return e.replace(o.EMAIL,t||function(e){return`<a href="mailto:${e}">${e}</a>`})}function n(e){return(t,i)=>e({key:t,url:i})}},148636:(e,t,i)=>{"use strict";i.d(t,{linksReplacer:()=>m,linksReplacerReact:()=>p,replaceHyperLinks:()=>u});var o=i(898848),r=i(105330),n=i(828758),a=i(175819),s=i(34231);function c(e){if(!e[0]||!e[6])return e;const t=e[0].length-1,i=e[6].length-1;return"."===e[0][t]&&"."===e[6][i]&&(e[0]=e[0].slice(0,t),e[6]=e[6].slice(0,i)),e}function l(e){return{full:e[0],protocol:e[1]||"http://",url:e[2],domain:e[4],query:e[6]||""}}function d(e){return e.replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function u(e,t){const i=new RegExp(n.RE_URL_PATTERN,"ig"),o=a.TOP_DOMAINS.reduce(((e,t)=>Math.max(e,t.length)),0);let r,s=0,d=e;for(;null!==(r=i.exec(e));){r=c(r);const i=r[0].length,n=r.index+i,u=e[r.index-1],_=e[n-1];if("@"===e[n]&&(!r[0]||r[0]&&!r[0].toLowerCase().includes("http")))continue;const p=void 0!==u&&/([\w\$А-Яа-яёЁєЄҐґЇїІіЈј—\-\_@;.])/i.test(u),m=void 0!==_&&/([:;$])/i.test(_);if(!p&&!m){const e=l(r),c=e.domain.toLowerCase();if(c.length<=o&&a.TOP_DOMAINS.includes(c)){const o=t(e);d=d.slice(0,r.index+s)+o+d.slice(n+s),s+=o.length-i}}}return d}function _(e,t){try{e=decodeURIComponent(e)}catch(e){}return e.length>t&&(e=e.substr(0,t-2)+".."),e=d(e).replace(/\n/g," ")}function p(e){return(t,i,n=55)=>{const{url:c,protocol:l,query:u,full:p}=i,m=_(p,n),g=(0,o.replaceEntities)(c+u);if(a.OUR_DOMAINS.test(c)){const i=d(l+c+u),o=p.match(a.VK_DOMAIN);return e({key:t,href:i,mentionId:o?o[1]:"",text:m})}{const i=window.nav?.strLoc?.startsWith("video"),n=((0,r.isPWA)()||i?`https://${(0,r.getHostName)()}`:"")+(0,s.wrapAwaySafe)(l+g,!0),a=(0,o.clean)(l+c+u);return e({key:t,href:n,goAwayUrl:a,text:m})}}}function m(e,t=55){let{full:i}=e;const{url:n,protocol:s,query:c}=e;i=_(i,t);const l=(0,o.replaceEntities)(n+c);if(a.OUR_DOMAINS.test(n)){let e="";const t=i.match(a.VK_DOMAIN);if(t){const i=t[1];e=(0,r.isMvk)()?"":` mention_id="${i}" onclick="return mentionClick(this, event)" onmouseover="mentionOver(this)"`}return`<a href="${d(s+n+c)}" target="_blank" rel="noopener"${e}>${i}</a>`}const u=window.nav?.strLoc?.startsWith("video"),p=`${(0,r.isPWA)()||u?`https://${(0,r.getHostName)()}/`:"/"}away.php?utf=1&to=${encodeURIComponent(s+l)}`,m=(0,o.clean)((s+n+c).replace(/'/g,"\\'"));return`<a href="${p}" target="_blank" rel="noopener" ${(0,r.isMvk)()?"":`onclick="return goAway('${m}', {}, event);"`}>${i}</a>`}},839348:(e,t,i)=>{"use strict";i.d(t,{mentionReplaceReact:()=>c,replaceMentions:()=>s});var o=i(846145),r=i(898848),n=i(105330),a=i(856289);function s(e,t,i=!1){return e.replace(o.MENTION,t||function(e,t,o,s,c){const l=(0,a.isVideoStandalone)()?null:"mentionOver(this)",d=(0,a.isVideoStandalone)()?`@${t}`:t,u=(0,n.isMvk)()||i?"":` mention_id="${(0,r.clean)(t+o)}" onclick="return mentionClick(this, event)" onmouseover="${l}"`;return`<a href="/${d+o}"${i?' target="_blank"':""} class="mem_link" mention="${(0,r.clean)(s||"")}"${u}>${c}</a>`})}function c(e){return(t,i,o,r,n,s)=>{const c=(0,a.isVideoStandalone)()?`@${o}`:o;return e({key:t,mentionId:o+r,mention:n,href:`/${c}${r}`,text:s})}}},231450:(e,t,i)=>{"use strict";i.d(t,{TRACK_CODE_TYPES:()=>r,VIDEO_TRACK_CODE:()=>o,getFromType:()=>a,getTrackCode:()=>n,setTrackCode:()=>s});const o="video_track_code",r=["search_track_code",o,"track_code","trackcode"],n=e=>{const t=e=>history.state?.[e]||new URLSearchParams(window.location.search).get(e);return e?t(e):r.map(t).find(Boolean)},a=e=>(history.state?.from||new URLSearchParams(window.location.search).get("from"))===e,s=(e,t)=>{t&&history.replaceState({...history.state,[e]:t},"")}},638112:(e,t,i)=>{"use strict";i.d(t,{onVKVideoLogout:()=>r});var o=i(105330);const r=async(e,t,i,r,n={})=>{try{if(!(0,o.isMvk)())return void window.ajax.post(i,{act:"get_hashes",app_id:t,...n},{onDone:({logout_hash:e})=>{if(!e)throw new Error("[VK AUTH]: get_hashes failed");c(e)},onFail:()=>{throw new Error("[VK AUTH]: get_hashes failed")}});const a=window.ajax.post(i,{act:"get_hashes",app_id:t,...n}),s=await a.promise;if(!s?.json?.logout_hash)throw new Error("[VK AUTH]: get_hashes failed");async function c(t){if(!(0,o.isMvk)())return void window.ajax.post(i,{act:"delete_session",hash:t,...n},{onDone:({success:t})=>{if(!t)throw new Error("[VK AUTH]: delete_session failed");r(e)},onFail:()=>{throw new Error("[VK AUTH]: delete_session failed")}});const a=window.ajax.post(i,{act:"delete_session",hash:t,...n}),s=await a.promise;if(!s?.json?.success)throw new Error("[VK AUTH]: delete_session failed");r(e)}c(s?.json.logout_hash)}catch(l){throw new Error("[VK AUTH]: logout failed")}}},745005:(e,t,i)=>{"use strict";i.d(t,{MenuHelpHintTextTooltip:()=>a});var o=i(474848),r=i(296540),n=i(578392);const a=e=>{const[t,i]=(0,r.useState)(!1);return(0,r.useLayoutEffect)((()=>{const e=setTimeout((()=>i(!0)));return()=>{clearTimeout(e)}}),[]),(0,o.jsx)(n.TextTooltip,{shown:t,...e})}},926326:(e,t,i)=>{"use strict";i.d(t,{MenuHelpHintTooltip:()=>s});var o=i(474848),r=i(296540),n=i(888896),a=i(984745);const s=e=>{const{helpHint:t,onClose:i,...s}=e,[c,l]=(0,r.useState)(!1),d=(0,r.useCallback)((()=>{(0,a.ensureAccountHelpHintsService)().hideHelpHint({hintId:t.id,isOptimistic:!0}),i?.()}),[i]);return(0,r.useLayoutEffect)((()=>{const e=setTimeout((()=>l(!0)));return()=>{clearTimeout(e)}}),[]),(0,o.jsx)(n.OnboardingTooltip,{shown:c,header:t.title,text:t.description,onClose:d,...s})}},664634:(e,t,i)=>{"use strict";i.d(t,{MenuHelpHintTextTooltip:()=>r.MenuHelpHintTextTooltip,MenuHelpHintTooltip:()=>o.MenuHelpHintTooltip});var o=i(926326),r=i(745005)},666384:(e,t,i)=>{"use strict";i.d(t,{ASPECT_RATIO:()=>L,BASE_LOCATION:()=>d,BASE_PATHNAME:()=>l,CHANNEL_COVER_CROP_MIN_HEIGHT:()=>V,CHANNEL_COVER_CROP_MIN_WIDTH:()=>B,IS_ALL_QUERY_IN_URL_BY_SEARCH:()=>R,IS_CLUB_IN_URL_BY_SEARCH:()=>D,IS_SECTION_RECORDED_CALLS:()=>N,MAX_FILE_SIZE:()=>j,MAX_SIDE_LENGTH:()=>H,MY_VIDEO_ALBUM_ID:()=>o,PLAYLIST_POPOVER_VERTICAL_OFFSET:()=>p,PLAYLIST_POPOVER_WIDTH:()=>_,SECTION_MY_BOOKMARKS:()=>n,SECTION_MY_CLIPS:()=>s,SECTION_MY_LIKED:()=>a,SEO_SEARCH_PAGE_REGEX:()=>U,SNACKBAR_TIMEOUT:()=>c,UPLOADED_ALBUM_ID:()=>r,VIDEO_AUTHOR_DASHBOARD_VK_PATHNAME:()=>f,VIDEO_AUTHOR_STANDALONE_DASHBOARD_PATH:()=>y,VIDEO_CLIP_IDENTITY_RAW_ID_REGEXP:()=>T,VIDEO_CLIP_IDENTITY_RAW_PROFILE_ID_REGEXP:()=>F,VIDEO_CLIP_PATH:()=>C,VIDEO_CLIP_STANDALONE_IDENTITY_RAW_ID_REGEXP:()=>I,VIDEO_CLIP_STANDALONE_IDENTITY_RAW_PROFILE_ID_REGEXP:()=>x,VIDEO_CLIP_STANDALONE_PATH:()=>k,VIDEO_CLIP_STANDALONE_PATH_REGEXP:()=>P,VIDEO_COMMUNITY_COMMENTS_PATH:()=>v,VIDEO_EDITOR_IN_DASHBOARD_PAGE_RAW_ID_REGEXP:()=>b,VIDEO_EDITOR_PAGE_RAW_ID_REGEXP:()=>S,VIDEO_IDENTITY_RAW_ID_REGEXP:()=>A,VIDEO_ITEM_EPISODE_MVK_THUMB_WIDTH:()=>M,VIDEO_MIN_DURATION_IN_SECONDS_FOR_VIDEO_TO_CLIP:()=>O,VIDEO_PAGE_BASE_PATH_REGEXP:()=>m,VIDEO_PAGE_STARTS_WITH_PATH_REGEXP:()=>E,VIDEO_PAGE_WITH_PLAYLIST_BASE_PATH_REGEXP:()=>g,VIDEO_UPLOAD_VK_PAGE_BASE_PATH:()=>u});const o=-2,r=-1,n="my_bookmarks",a="my_liked",s="clips",c=4e3,l="video",d="/video",u="/video/upload",_=252,p=16,m=/^\/video(-?\d+_\d+)/,g=/^\/playlist\/(-?\d+_-?\d+)\/video(-?\d+_\d+)/,v="comments",f="/video/dashboard",y="dashboard",E=/^\/?video(-?\d+_\d+)/,A=/video(-?\d+_\d+)/,S=/video(-?\d+_\d+)\/editor/,b=/dashboard\/editor(-?\d+_\d+)/,T=/video\/clip(-?\d+_\d+)/,I=/clip(-?\d+_\d+)/,C="video/clip",k="clip",P=/clip(-?\d+_\d+)/,O=180,M=136,L=16/9,D="@club",R="all?q=",N="section=records",x=/^@\w+\/clip(-?\d+_\d+)/,F=/video^\/@\w+\/clip(-?\d+_\d+)/,U=/\/tag\/([\w.-]{2,25})\/([\w.-]{2,50})/,B=756,V=126,H=7e3,j=5e7},519727:(e,t,i)=>{"use strict";i.d(t,{formatLiveStartTime:()=>r});var o=i(866467);const r=e=>{const t=new Date;if(!e||e<t)return(0,o.getLang)("global_video_soon");const i=(e,t)=>e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate(),r=(0,o.getLang)("video_live_start_tomorrow_badge","raw"),n=(0,o.getLang)("months_sm_of","raw"),a=i(e,t),s=i(e,new Date(t.getFullYear(),t.getMonth(),t.getDate()+1)),c=e.getFullYear()!==t.getFullYear();return a||s?(0,o.langDate)(e,r,0,n):c?(0,o.langDate)(e,"{day} {month} {year}, {hour}:{minute}",0,n):(0,o.langDate)(e,r,0,n)}},506596:(e,t,i)=>{"use strict";i.d(t,{getAdditionalInfo:()=>c});var o=i(351118),r=i(856289),n=i(584683),a=i(866467),s=i(807978);const c=e=>{const{partner_text:t,date:i,type:c,genres:l,views:d=1}=e;if(t)return(0,o.decodeHTMLEntities)(t);const u=e=>(0,o.decodeHTMLEntities)((0,n.getFormattedViews)(e));return i?"music_video"===c&&l?.length?`${(0,r.getFormattedUpdatedTime)(i,!0)} · ${l[0].name}`:i>Date.now()/s.SECOND?(0,a.getLang)("video_postponed_publication"):(0,r.isLiveVideo)(e)?u(d):`${u(d)} · ${(0,o.decodeHTMLEntities)((0,r.getFormattedUpdatedTime)(i,!0))}`:u(d)}},98354:(e,t,i)=>{"use strict";i.d(t,{getEpisodeThumb:()=>o});const o=(e,t,i,o)=>{let r;r=e.isUV?Math.floor(i*t/e.frequency):Math.min(e.countTotal,Math.max(0,Math.floor(e.countTotal*t-.5)));const n=Math.floor(r/e.countPerImage),a=Math.floor(r%e.countPerImage/e.countPerRow),s=r%e.countPerRow;let c=Math.floor(e.countPerImage/e.countPerRow);Boolean(e.isUV)||n!==Math.floor(e.countTotal/e.countPerImage)||(c=Math.floor(e.countTotal%e.countPerImage/e.countPerRow),e.countTotal%e.countPerImage%e.countPerRow>0&&c++);let l=e.countPerRow;!Boolean(e.isUV)&&n===Math.floor(e.countTotal/e.countPerImage)&&e.countTotal%e.countPerImage>0&&(l=Math.min(e.countPerRow,e.countTotal%e.countPerImage));let d=e.frameWidth,u=e.frameHeight;o&&(d>o?(u=u/d*o,d=o):u>o&&(d=d/u*o,u=o));const _=d*l,p=u*c,m=-s*d,g=-a*u;return{imgSrc:e.links[n],imgWidth:_,imgHeight:p,imgOffsetX:m,imgOffsetY:g,frameWidth:d,frameHeight:u}}},817339:(e,t,i)=>{"use strict";i.d(t,{getFormattedPostponePublishDateTime:()=>c,getFormattedUpdatedTime:()=>a,getFormattedUpdatedTimeWithPrefix:()=>s});var o=i(898848),r=i(866467);const n=(e,[t,i],n)=>{return n?(0,r.langNumeric)((0,o.intval)(e),i):(a=(0,o.intval)(e),s=t,c=i,(0,o.isArray)(s)&&a<s.length?s[a]:(0,r.langNumeric)(a,c));var a,s,c},a=(e,t)=>{const i=Date.now()/1e3-e;if(i<5)return((e,t)=>t?(0,r.langNumeric)((0,o.intval)(e),(0,r.getLang)("video_added_less_than_a_minute_ago")):(0,r.getLang)("video_added_now","raw")[0])(i,t);if(i<60)return((e,t)=>t?(0,r.langNumeric)((0,o.intval)(e),(0,r.getLang)("video_added_less_than_a_minute_ago","raw")):(0,r.getLang)("video_added_less_than_a_minute_ago"))(i,t);if(i<3600){const e=[(0,r.getLang)("video_word_mins_ago","raw"),(0,r.getLang)("video_mins_ago","raw")];return n(i/60,e,t)}if(i<86400){const e=[(0,r.getLang)("video_word_hours_ago","raw"),(0,r.getLang)("video_hours_ago","raw")];return n(i/3600,e,t)}if(i<2592e3){const e=[(0,r.getLang)("video_word_days_ago","raw"),(0,r.getLang)("video_days_ago","raw")];return n(i/86400,e,t)}if(i<31536e3){const e=[(0,r.getLang)("video_word_months_ago","raw"),(0,r.getLang)("video_months_ago","raw")];return n(i/2592e3,e,t)}const a=[(0,r.getLang)("video_word_years_ago","raw"),(0,r.getLang)("video_years_ago","raw")];return n(i/31363200,a,t)},s=e=>(0,r.langStr)((0,r.getLang)("video_album_updated_time"),"updated_time_ago",a(e,!0)),c=e=>{const t=1e3*e,i=new Date,o=new Date(t);return(0,r.langDate)(t,i.getFullYear()===o.getFullYear()?(0,r.getLang)("video_postponed_publication_date","raw"):(0,r.getLang)("video_postponed_publication_full_date","raw"),0,(0,r.getLang)("months_sm_of"))}},584683:(e,t,i)=>{"use strict";i.d(t,{getFormattedViews:()=>n});var o=i(866467),r=i(856289);function n(e){return e>999?(0,r.getFormattedBigViewsToShortCase)(e):(0,o.getLang)("video_N_views_list",e||1,!0)}},3847:(e,t,i)=>{"use strict";i.d(t,{formatSeasonCountLabel:()=>n});var o=i(866467),r=i(540462);const n=e=>(0,r.partConfigEnabled)("frontend.add_playlist_card_seasons_count")&&e?(0,o.langNumeric)(e,(0,o.getLang)("video_playlist_card_seasons_count_text","raw")):null},17966:(e,t,i)=>{"use strict";i.d(t,{getVideoPrefix:()=>r});var o=i(800361);const r=e=>{switch(e){case"at":return(0,o.isVideoStandalone)()?"@":"video/@";case"slash":return(0,o.isVideoStandalone)()?"/":"/video";case"doubleSlash":return(0,o.isVideoStandalone)()?"/":"/video/";case"backSlash":return(0,o.isVideoStandalone)()?"":"video/";case"prevSlash":return(0,o.isVideoStandalone)()?"":"/video";case"withoutSlash":return(0,o.isVideoStandalone)()?"":"video";case"author":return(0,o.isVideoStandalone)()?"/@":"/video/@";default:return""}}},839962:(e,t,i)=>{"use strict";i.d(t,{useOwner:()=>o.useOwner,useVideoInPlaylist:()=>r.useVideoInPlaylist});var o=i(796050),r=i(231867)},796050:(e,t,i)=>{"use strict";i.d(t,{useOwner:()=>n});var o=i(335797),r=i(468073);const n=(e,t,i)=>{const n=(0,o.useEntitiesStore)(t.$entitiesGroups,r.Ranges.convertOwnerIdToGroupId(e.owner_id)),a=(0,o.useEntitiesStore)(i.$entitiesUsers,e.owner_id);return r.Ranges.isGroupId(e.owner_id)&&n?n:r.Ranges.isUserId(e.owner_id)&&a?a:void 0}},231867:(e,t,i)=>{"use strict";i.d(t,{useVideoInPlaylist:()=>r});var o=i(293721);const r=(e,t,i)=>(0,o.useStoreMap)(e,(e=>!(!e||!e[t])&&Boolean(e[t][i])))},856289:(e,t,i)=>{"use strict";i.d(t,{ASPECT_RATIO:()=>r.ASPECT_RATIO,BASE_LOCATION:()=>r.BASE_LOCATION,BOOKMARKS_URL:()=>I.BOOKMARKS_URL,CHANNEL_COVER_CROP_MIN_HEIGHT:()=>r.CHANNEL_COVER_CROP_MIN_HEIGHT,CHANNEL_COVER_CROP_MIN_WIDTH:()=>r.CHANNEL_COVER_CROP_MIN_WIDTH,MAX_FILE_SIZE:()=>r.MAX_FILE_SIZE,MAX_SIDE_LENGTH:()=>r.MAX_SIDE_LENGTH,MY_VIDEO_ALBUM_ID:()=>r.MY_VIDEO_ALBUM_ID,MenuHelpHintTextTooltip:()=>o.MenuHelpHintTextTooltip,MenuHelpHintTooltip:()=>o.MenuHelpHintTooltip,PLAYLIST_POPOVER_VERTICAL_OFFSET:()=>r.PLAYLIST_POPOVER_VERTICAL_OFFSET,PLAYLIST_POPOVER_WIDTH:()=>r.PLAYLIST_POPOVER_WIDTH,SECTION_MY_BOOKMARKS:()=>r.SECTION_MY_BOOKMARKS,SECTION_MY_CLIPS:()=>r.SECTION_MY_CLIPS,SECTION_MY_LIKED:()=>r.SECTION_MY_LIKED,SEO_SEARCH_PAGE_REGEX:()=>r.SEO_SEARCH_PAGE_REGEX,SNACKBAR_TIMEOUT:()=>r.SNACKBAR_TIMEOUT,UPLOADED_ALBUM_ID:()=>r.UPLOADED_ALBUM_ID,VIDEO_AUTHOR_STANDALONE_DASHBOARD_PATH:()=>r.VIDEO_AUTHOR_STANDALONE_DASHBOARD_PATH,VIDEO_CLIP_IDENTITY_RAW_ID_REGEXP:()=>r.VIDEO_CLIP_IDENTITY_RAW_ID_REGEXP,VIDEO_CLIP_IDENTITY_RAW_PROFILE_ID_REGEXP:()=>r.VIDEO_CLIP_IDENTITY_RAW_PROFILE_ID_REGEXP,VIDEO_CLIP_PATH:()=>r.VIDEO_CLIP_PATH,VIDEO_CLIP_STANDALONE_IDENTITY_RAW_ID_REGEXP:()=>r.VIDEO_CLIP_STANDALONE_IDENTITY_RAW_ID_REGEXP,VIDEO_CLIP_STANDALONE_IDENTITY_RAW_PROFILE_ID_REGEXP:()=>r.VIDEO_CLIP_STANDALONE_IDENTITY_RAW_PROFILE_ID_REGEXP,VIDEO_CLIP_STANDALONE_PATH:()=>r.VIDEO_CLIP_STANDALONE_PATH,VIDEO_COMMUNITY_COMMENTS_PATH:()=>r.VIDEO_COMMUNITY_COMMENTS_PATH,VIDEO_EDITOR_PAGE_RAW_ID_REGEXP:()=>r.VIDEO_EDITOR_PAGE_RAW_ID_REGEXP,VIDEO_MIN_DURATION_IN_SECONDS_FOR_VIDEO_TO_CLIP:()=>r.VIDEO_MIN_DURATION_IN_SECONDS_FOR_VIDEO_TO_CLIP,VIDEO_UPLOAD_VK_PAGE_BASE_PATH:()=>r.VIDEO_UPLOAD_VK_PAGE_BASE_PATH,canAddVideoToCommunityPlaylist:()=>I.canAddVideoToCommunityPlaylist,canCreateClipFromVideo:()=>I.canCreateClipFromVideo,createVideoBindingsService:()=>b.createVideoBindingsService,formatNavigatePath:()=>E.formatNavigatePath,formatTextWithLinks:()=>I.formatTextWithLinks,get:()=>A.get,getAdditionalInfo:()=>n.getAdditionalInfo,getFormattedBigLikesToShortCase:()=>C.getFormattedBigLikesToShortCase,getFormattedBigSubscribersToShortCase:()=>C.getFormattedBigSubscribersToShortCase,getFormattedBigViewsToShortCase:()=>C.getFormattedBigViewsToShortCase,getFormattedFullVideoViews:()=>C.getFormattedFullVideoViews,getFormattedPostponePublishDateTime:()=>a.getFormattedPostponePublishDateTime,getFormattedUpdatedTime:()=>a.getFormattedUpdatedTime,getFormattedUpdatedTimeWithPrefix:()=>a.getFormattedUpdatedTimeWithPrefix,getFormattedVideoCount:()=>C.getFormattedVideoCount,getFormattedVideoDate:()=>C.getFormattedVideoDate,getFormattedViews:()=>s.getFormattedViews,getMyVideosPage:()=>I.getMyVideosPage,getOwnerIdAndVideoIdFromVideoEditorPageUrl:()=>I.getOwnerIdAndVideoIdFromVideoEditorPageUrl,getOwnerVideosPageBasePath:()=>I.getOwnerVideosPageBasePath,getOwnerVideosPageURL:()=>I.getOwnerVideosPageURL,getPlaylistURL:()=>I.getPlaylistURL,getThumbFromUrl:()=>I.getThumbFromUrl,getThumbSrc:()=>I.getThumbSrc,getThumbSrcFromImages:()=>I.getThumbSrcFromImages,getVideoEditorPage:()=>I.getVideoEditorPage,getVideoPrefix:()=>I.getVideoPrefix,isFakeVideoStandalone:()=>l.isFakeVideoStandalone,isLiveVideo:()=>I.isLiveVideo,isNewUploadingFlowEnabled:()=>k.isNewUploadingFlowEnabled,isPrivacyLocked:()=>y.isPrivacyLocked,isStandaloneOrVideoPage:()=>u.isStandaloneOrVideoPage,isSubdomain:()=>_.isSubdomain,isVideoEditorPage:()=>I.isVideoEditorPage,isVideoPageOpen:()=>u.isVideoPageOpen,isVideoStandalone:()=>d.isVideoStandalone,isVideoStandaloneOrSection:()=>p.isVideoStandaloneOrSection,mapArtistToVideoCardOwner:()=>m.mapArtistToVideoCardOwner,mapArtistToVideoCardOwnerBase:()=>m.mapArtistToVideoCardOwnerBase,mapPlaylistToPlaylistCardItem:()=>g.mapPlaylistToPlaylistCardItem,mapRestrictions:()=>y.mapRestrictions,mapThumbsDataEpisodes:()=>y.mapThumbsDataEpisodes,mapUserOrGroupToPlaylistCardOwner:()=>v.mapUserOrGroupToPlaylistCardOwner,mapUserOrGroupToVideoCardOwner:()=>f.mapUserOrGroupToVideoCardOwner,mapVideoToSimpleVideoCardItem:()=>y.mapVideoToSimpleVideoCardItem,mapVideoToVideoCardItem:()=>y.mapVideoToVideoCardItem,navigateToVideo:()=>E.navigateToVideo,parseDuration:()=>I.parseDuration,shouldOpenVideoModal:()=>S.shouldOpenVideoModal,trackOneStatError:()=>T.trackOneStatError,useOwner:()=>c.useOwner,useVideoInPlaylist:()=>c.useVideoInPlaylist});var o=i(664634),r=i(666384),n=i(506596),a=i(817339),s=i(584683),c=i(839962),l=i(902642),d=i(800361),u=i(11387),_=i(14219),p=i(536669),m=i(483673),g=i(707447),v=i(741444),f=i(361877),y=i(857551),E=i(681352),A=i(191977),S=i(323158),b=i(497206),T=i(859738),I=i(671112),C=i(891297),k=i(810427)},902642:(e,t,i)=>{"use strict";i.d(t,{isFakeVideoStandalone:()=>a});var o=i(105330),r=i(11387),n=i(666384);const a=(e=!1)=>{if((0,o.isVkVideo)())return!0;if((0,r.isVideoPageOpen)())return!0;const t=window.location.pathname;return!e&&t.startsWith(n.VIDEO_AUTHOR_DASHBOARD_VK_PATHNAME)}},810427:(e,t,i)=>{"use strict";i.d(t,{isNewUploadingFlowEnabled:()=>r});var o=i(540462);const r=()=>!!(0,o.partConfigEnabled)("video_video_new_uploading_flow_rollout")||((0,o.isToggleEnabled)("video_new_uploading_flow_custm")?2===(0,o.getToggleAbGroupId)("video_new_uploading_flow_custm"):(0,o.isToggleEnabled)("video_new_uploading_flow"))},922939:(e,t,i)=>{"use strict";i.d(t,{isPrivacyLocked:()=>o});const o=e=>!!e&&Boolean((e=>e.category&&!["all","any"].includes(e.category))(e)||e.excluded_category?.length||e.lists?.allowed?.length||e.lists?.excluded?.length||e.owners?.allowed?.length||e.owners?.excluded?.length)},11387:(e,t,i)=>{"use strict";i.d(t,{isStandaloneOrVideoPage:()=>a,isVideoPageOpen:()=>n});var o=i(666384),r=i(800361);const n=()=>{const e=window.location.pathname,t=o.VIDEO_PAGE_BASE_PATH_REGEXP.test(e),i=o.VIDEO_PAGE_WITH_PLAYLIST_BASE_PATH_REGEXP.test(e),r=o.VIDEO_EDITOR_PAGE_RAW_ID_REGEXP.test(e);return(t||i)&&!r},a=()=>(0,r.isVideoStandalone)()||n()},14219:(e,t,i)=>{"use strict";i.d(t,{isSubdomain:()=>r});var o=i(105330);const r=(e=window.location.hostname)=>window.location.host.search("cs7777")>=0||window.location.host.search("tau")>=0?e.split(".").length>=((0,o.isMvk)()?7:6):e.split(".").length>=((0,o.isMvk)()?4:3)},557454:(e,t,i)=>{"use strict";i.d(t,{isUpcomingLiveVideo:()=>o});const o=({liveStatus:e,type:t})=>"live"===t&&"upcoming"===e},693208:(e,t,i)=>{"use strict";i.d(t,{isVideoDashboard:()=>a,matchVkvideoDashboardPath:()=>n});var o=i(105330),r=i(666384);const n=e=>e.startsWith(`/${r.VIDEO_AUTHOR_STANDALONE_DASHBOARD_PATH}`),a=()=>(0,o.isVkVideo)()&&n(window.location.pathname)},971517:(e,t,i)=>{"use strict";i.d(t,{isVideoExternal:()=>o});const o=e=>Boolean(e&&e.player&&(e.files?.external||"YouTube"===e.platform))},800361:(e,t,i)=>{"use strict";i.d(t,{isVideoStandalone:()=>o.isVkVideo});var o=i(105330)},536669:(e,t,i)=>{"use strict";i.d(t,{isVideoSection:()=>n,isVideoStandaloneOrSection:()=>a});var o=i(800361),r=i(666384);const n=()=>window.nav.strLoc.startsWith(r.BASE_PATHNAME),a=()=>(0,o.isVideoStandalone)()||n()},483673:(e,t,i)=>{"use strict";i.d(t,{mapArtistToVideoCardOwner:()=>l,mapArtistToVideoCardOwnerBase:()=>c,mapVideoToFeaturedArtists:()=>d});var o=i(641495),r=i(172479),n=i(351118);const a=[50,100,200],s=({photo:e})=>e?a.reduce(((t,i)=>(t[`photo_${i}`]=(0,n.getPhotoSize)(e,i)?.url,t)),{}):{},c=e=>({name:(0,o.getOwnerName)(e),href:(0,r.getOwnerUrl)(e)}),l=(e,t=!1)=>{if("music_video"!==e.type||!e.main_artists?.length)return null;const[i]=e.main_artists;return!t&&i.video_owner_id?null:{name:(0,o.getOwnerName)(i),href:(0,r.getOwnerUrl)(i),...s(i)}},d=e=>e?.featured_artists?e.featured_artists.map(c):void 0},707447:(e,t,i)=>{"use strict";i.d(t,{mapPlaylistToPlaylistCardItem:()=>s});var o=i(671112),r=i(922939),n=i(817339),a=i(3847);const s=e=>({id:e.id,href:(0,o.getPlaylistURL)(e.owner_id,e.id),title:e.title,count:e.count,thumbSrc:(0,o.getThumbSrc)(e),isPrivacyLocked:(0,r.isPrivacyLocked)(e.privacy),isThumbBlurred:Boolean(e.image_blur),additionalInfo:(0,n.getFormattedUpdatedTimeWithPrefix)(e.updated_time),playlistInfo:(0,a.formatSeasonCountLabel)(e.series_object?.seasons?.length)})},741444:(e,t,i)=>{"use strict";i.d(t,{mapUserOrGroupToPlaylistCardOwner:()=>a});var o=i(33305),r=i(641495),n=i(172479);const a=(e,t)=>({name:(0,r.getOwnerName)(e),href:(0,n.getOwnerUrl)(e,t),is_nft:(0,o.isOwnerUser)(e)?e.is_nft:e.is_nft_photo,verified:Boolean(e.verified),has_unseen_stories:e.has_unseen_stories,photo_50:e.photo_50,photo_100:e.photo_100,photo_200:e.photo_200})},361877:(e,t,i)=>{"use strict";i.d(t,{mapUserOrGroupToVideoCardOwner:()=>a});var o=i(222062),r=i(641495),n=i(172479);const a=(e,t)=>e?{...e,name:(0,r.getOwnerName)(e),href:(0,n.getOwnerUrl)(e,t),verified:1===e.verified,is_nft:(0,o.checkOwnerIsNFT)(e)}:{name:"",href:""}},857551:(e,t,i)=>{"use strict";i.d(t,{isPrivacyLocked:()=>y,mapRestrictions:()=>A,mapThumbsDataEpisodes:()=>I,mapVideoToSimpleVideoCardItem:()=>P,mapVideoToVideoCardItem:()=>k});var o=i(351118),r=i(866467),n=i(807978),a=i(841315),s=i(519727),c=i(879412),l=i(557454),d=i(483673),u=i(671112),_=i(506596),p=i(584683),m=i(817339),g=i(98354),v=i(540462),f=i(666384);const y=e=>!!e&&((e=>"members"===e.category?"to_subscribers":"by_link"===e.category?"by_link":Boolean(e.category&&!["all","any"].includes(e.category)))(e)||Boolean(e.excluded_category?.length||e.lists?.allowed?.length||e.lists?.excluded?.length||e.owners?.allowed?.length||e.owners?.excluded?.length)),E=e=>{if(!e)return;return{delete_outline:"delete",hide_outline:"hide",recent_outline:"recent",info_outline:"info",lock_outline:"lock",donate_outline:"donate",users_outline:"users",picture_outline:"picture",live_clock_badge_outline:"liveClockBadge",do_not_disturb_outline:"doNotDisturb",users3_outline:"users3",cancel_circle_outline:"cancelCircle",block_outline:"block",report_outline:"report"}[e]},A=e=>{const t=e&&(e=>e&&(e.icon_name?.length||e.mute_info_link?.length)?1===e.blur?"blurred":e.mute_info_link&&e.mute_info_link.length>0?"muted":"hidden":null)(e);if(!t)return null;const i=e&&e.can_play&&("subscribe"===e.button?.action||"donat"===e.button?.action);return{title:e.title,action:e.button?.action,buttonTitle:"donat"===e.button?.action||i?void 0:e.button?.title,mode:t,iconType:E(e.icon_name)}},S=e=>{const t=e.title||"",i=e.subtitle||"";return"music_video"===e.type?`${t} ${i}`:t},b=e=>{const t=(0,l.isUpcomingLiveVideo)({type:e.type,liveStatus:e.live_status})&&((0,v.partConfigEnabled)("frontend.video_live_start_time_badge_vk")||(0,c.isSubscribeButtonToggleEnabled)({platform:"vk",userEnv:{isToggleEnabled:v.isToggleEnabled,partConfigEnabled:v.partConfigEnabled},video:e})),i=t?e?.live_start_time:e.published_at;if(t){const e=i?new Date(i*n.SECOND):void 0;return(0,s.formatLiveStartTime)(e)}if(!i)return;const o=i*n.SECOND;return Date.now()>o?void 0:(0,r.langDate)(o,(0,r.getLang)("global_short_date_time","raw"),0,(0,r.getLang)("months_sm_of","raw"))};function T(e){const t={isUpcoming:(0,l.isUpcomingLiveVideo)({type:e.type,liveStatus:e.live_status}),isInteractive:Boolean(e.interactive_info),badgeText:e.platform};return t.isUpcoming?(0,v.partConfigEnabled)("frontend.video_live_start_time_badge_vk")||(0,c.isSubscribeButtonToggleEnabled)({platform:"vk",userEnv:{isToggleEnabled:v.isToggleEnabled,partConfigEnabled:v.partConfigEnabled},video:e})?t.badgeText=void 0:t.badgeText=(0,r.getLang)("global_video_soon"):t.isInteractive&&(t.badgeText=(0,r.getLang)("video_interactive_label")),t}function I(e){const t=e?.timeline_thumbs;if(t)return{frameWidth:t.frame_width??0,frameHeight:t.frame_height??0,countPerRow:t.count_per_row??0,countPerImage:t.count_per_image??0,countTotal:t.count_total??0,isUV:!!t.is_uv,frequency:t.frequency??0,links:t.links??[]}}function C(e){if(!e.episodes?.length)return;const t=I(e);if(!t)return;const i=e.duration??0;return e.episodes.map((({time:e=0,text:o=""})=>({time:e,text:o,thumbData:{...(0,g.getEpisodeThumb)(t,e/i,i,f.VIDEO_ITEM_EPISODE_MVK_THUMB_WIDTH),frameWidth:t.frameWidth,frameHeight:t.frameHeight}})))}const k=e=>{const{isUpcoming:t,isInteractive:i,badgeText:o}=T(e);return{additionalInfo:(0,_.getAdditionalInfo)(e),description:e.description,duration:e.duration,href:e.content_restricted?void 0:(0,a.getVideoUrl)(e),isLive:(0,u.isLiveVideo)(e),isPrivacyLocked:y(e.privacy_view),isProcessing:Boolean(e.processing),ownersRelationText:e.featured_artists?(0,r.getLang)("video_feature_relation_text"):void 0,badgeText:o,publishDate:b(e),restriction:A(e.restriction),secondaryOwners:(0,d.mapVideoToFeaturedArtists)(e),thumbSrc:(0,u.getThumbSrc)(e),title:S(e),trailerSrc:e.trailer?.mp4_360,isUpcoming:t,viewedDuration:e.viewed_duration,isInteractive:i,episodes:C(e),badgeMarks:e.snippet_marks,contentType:((0,v.partConfigEnabled)("frontend.audio_video_note_icon")||(0,v.isToggleEnabled)("video_card_music_icon")||(0,v.isToggleEnabled)("video_card_music_icon_unreg"))&&Boolean(e.uma_track_id)?"music-video":void 0}},P=(e,t)=>{const{isUpcoming:i,isInteractive:r,badgeText:n}=T(e);return{title:S(e),isPrivacyLocked:y(e.privacy_view),isLive:(0,u.isLiveVideo)(e),duration:e.duration,viewedDuration:e.viewed_duration,badgeText:n,isUpcoming:i,isInteractive:r,thumbSrc:(0,u.getThumbSrc)(e),restriction:A(e.restriction),href:(0,a.getVideoUrl)(e),views:void 0!==e.views?(0,p.getFormattedViews)(e.views):void 0,date:t||void 0===e.date?void 0:(0,o.decodeHTMLEntities)((0,m.getFormattedUpdatedTime)(e.date,!0)),contentType:((0,v.partConfigEnabled)("frontend.audio_video_note_icon")||(0,v.isToggleEnabled)("video_card_music_icon")||(0,v.isToggleEnabled)("video_card_music_icon_unreg"))&&Boolean(e.uma_track_id)?"music-video":void 0}}},681352:(e,t,i)=>{"use strict";i.d(t,{formatNavigatePath:()=>o,navigateToVideo:()=>r});const o=e=>e.startsWith("/")?e.substring(1):e,r=(e,{updateLocation:t}={})=>{const i=new URL(e,window.location.origin);if(window.location.hostname!==i.hostname)return void(window.location.href=i.href);const r=i.pathname+i.search;t?window.nav.setLoc(o(r)):window.nav.go(r)}},191977:(e,t,i)=>{"use strict";i.d(t,{get:()=>c});var o=i(957994),r=i(805658),n=i(553608);const a="videoplayer_auth_token",s=async({refresh:e=!1,prefetch:t=!1}={})=>{const i=t?r.apiWithPrefetch:o.api,{token:s}=await i("video.getStatsToken",{env:"production",force_refresh:e?1:0});var c;return c=s,n.bestAvailableStorage.setItem(a,c),s},c=async(e={})=>e.refresh?await s(e):n.bestAvailableStorage.getItem(a)??await s(e)},940540:(e,t,i)=>{"use strict";i.d(t,{createVideoBindingsService:()=>n});var o=i(32489),r=i(679005);const n=e=>{const t=e.createEvent(),i=e.createEvent(),n=e.createEvent(),a=e.createStore({});return(0,o.sample)({clock:t,source:a,fn:(e,{album_ids:t,video_id:i})=>(0,r.produce)(e,(e=>{t.forEach((t=>{e[i]||(e[i]={}),e[i][t]=!0}))})),target:a}),(0,o.sample)({clock:i,source:a,fn:(e,{album_id:t,video_id:i})=>{const o=!e[i]||!e[i][t];return(0,r.produce)(e,(e=>{e[i]||(e[i]={}),e[i][t]=o}))},target:a}),(0,o.sample)({clock:n,fn:()=>({}),target:a}),{$entitiesVideoBinding:a,addBindingsEvent:t,toggleBindingEvent:i,resetBindingsEvent:n}}},497206:(e,t,i)=>{"use strict";i.d(t,{createVideoBindingsService:()=>o.createVideoBindingsService});var o=i(940540)},323158:(e,t,i)=>{"use strict";i.d(t,{shouldOpenVideoModal:()=>s});var o=i(540462),r=i(539375),n=i(536669),a=i(800361);const s=(e,t)=>{const{type:i,live_status:s}=e,c="music_video"===i,l="short_video"===i,d="live"===i&&s&&["started","waiting"].includes(s),u="live"===i&&"upcoming"===s&&(0,o.partConfigEnabled)("frontend.video_upcoming_live_open_modal"),_=(0,o.isToggleEnabled)("video_spa_video_page")||(0,o.partConfigEnabled)("video_web_spa_video_page_rollout"),p=(0,o.partConfigEnabled)("video_short_redirect_to_player"),m=p?(0,r.getScreenNameFromUrl)(window.location.pathname):null,g=(0,a.isVideoStandalone)()&&p&&l&&m,v=Boolean(t?.checkVideoSection)?(0,n.isVideoSection)():!(0,n.isVideoSection)(),f=!Boolean(t?.checkMusicPlacement)||!(0,a.isVideoStandalone)(),y=!Boolean(t?.checkShortLink)||!g;return!((0,a.isVideoStandalone)()||!v)||(!(!c||!f)||(!(!d&&!u||_)||!(!l||!y)))}},859738:(e,t,i)=>{"use strict";i.d(t,{trackOneStatError:()=>n});var o=i(540462),r=i(636576);const n=(0,o.partConfigEnabled)("frontend.video_player_track_onestat_errors")?()=>{}:e=>{const t=e instanceof Error?e.name:String(e);(0,r.statlogsValueEvent)("video_player_insignificant_network_error","onestat",t)}},671112:(e,t,i)=>{"use strict";i.d(t,{BOOKMARKS_URL:()=>O,canAddVideoToCommunityPlaylist:()=>N,canCreateClipFromVideo:()=>j,formatTextWithLinks:()=>R,getArtistPhotos:()=>M,getMyVideosPage:()=>P,getOwnerIdAndVideoIdFromVideoEditorPageUrl:()=>k,getOwnerVideosPageBasePath:()=>S,getOwnerVideosPageURL:()=>H,getPlaylistCreateURL:()=>T,getPlaylistURL:()=>b,getThumbFromUrl:()=>B,getThumbSrc:()=>F,getThumbSrcFromImages:()=>x,getVideoEditorPage:()=>C,getVideoPrefix:()=>y.getVideoPrefix,isLinkedPlaylist:()=>W,isLiveVideo:()=>L,isVideoEditorPage:()=>I,parseDuration:()=>V});var o=i(595059),r=i(351118),n=i(22421),a=i(873900),s=i(768035),c=i(33305),l=i(898848),d=i(148636),u=i(839348),_=i(945270),p=i(971517),m=i(854950),g=i(666384),v=i(188546),f=i(540462),y=i(17966),E=i(810427);const A=(0,f.partConfigEnabled)("video_dashboard_spa_rollout")||(0,f.isToggleEnabled)("video_dashboard_spa_ab"),S=(e=!1)=>e?`${(0,y.getVideoPrefix)("withoutSlash")}@`:`${(0,y.getVideoPrefix)("doubleSlash")}@`,b=(e,t)=>{const i=(0,a.getIdentityRawId)({ownerId:e||0,id:t||0});return`${(0,y.getVideoPrefix)("prevSlash")}/playlist/${i}`},T=()=>`${(0,y.getVideoPrefix)("backSlash")}playlist/create`,I=(e="")=>!!g.VIDEO_EDITOR_PAGE_RAW_ID_REGEXP.test(e)||!!(0,E.isNewUploadingFlowEnabled)()&&(A?"editor"===window.nav.objLoc?.section:g.VIDEO_EDITOR_IN_DASHBOARD_PAGE_RAW_ID_REGEXP.test(e)),C=({backUrl:e,id:t,ownerId:i})=>{const o=e?`?backUrl=/${e}`:"";return(0,E.isNewUploadingFlowEnabled)()&&A?(0,n.makeUrl)(`/dashboard/@club${Math.abs(i)}`,{section:"editor",ownerId:i,videoId:t,...e?{backUrl:e}:null}):(0,E.isNewUploadingFlowEnabled)()&&document.location.pathname.startsWith("/dashboard")?(0,n.makeUrl)(`/dashboard/editor${(0,a.getIdentityRawId)({ownerId:i,id:t})}`,e?{backUrl:e}:{}):`/video${(0,a.getIdentityRawId)({ownerId:i,id:t})}/editor${o}`},k=()=>{const e=window.nav.objLoc[0].startsWith("dashboard");if(A&&e&&"editor"===window.nav.objLoc?.section)return{videoId:parseInt(window.nav.objLoc?.videoId),ownerId:parseInt(window.nav.objLoc?.ownerId)};const t=(0,E.isNewUploadingFlowEnabled)()&&e?g.VIDEO_EDITOR_IN_DASHBOARD_PAGE_RAW_ID_REGEXP:g.VIDEO_EDITOR_PAGE_RAW_ID_REGEXP,i=window.nav.objLoc[0].match(t)?.[1];if(i){const{id:e,ownerId:t}=(0,s.parseRawId)(i);return{videoId:e,ownerId:t}}},P=()=>window.vk.id&&window.cur?.my_added_videos_path?.slice(1,-6)||(0,y.getVideoPrefix)("backSlash"),O=`${(0,y.getVideoPrefix)("doubleSlash")}bookmarks`,M=e=>{const t=[50,100,200],i={};return e.photo?e.photo.reduce(((e,i)=>(t.includes(i.width)&&(e[`photo_${i.width}`]=i.url),e)),i):i},L=({live_status:e})=>Boolean(e&&!["postlive","finished"].includes(e)),D=(e,t,i,o,r)=>r,R=(e,t=!1)=>{let i=(0,l.clean)(e);return i=(0,d.replaceHyperLinks)(i,d.linksReplacer),i=(0,u.replaceMentions)(i,t?D:void 0),i=(0,_.replaceEmailLinks)(i),i},N=e=>"short_video"!==e.type&&(!e.restriction||((0,p.isVideoExternal)(e)?1===e.restriction.can_play:1===e.restriction.can_preview)),x=(e,t=240)=>{if(!e.length)return;if((0,f.isToggleEnabled)("video_disable_common_covers")||(0,f.partConfigEnabled)("disable_common_covers_of_videos")||(0,f.partConfigEnabled)("disable_common_covers_of_videos_on_web")||(0,f.partConfigEnabled)("disable_common_covers_of_videos_rollout")){const i=(0,v.findBaseImage)(e);if(i){const e=(0,m.getImageMinWidth)(t);return(0,v.getBaseImageUrl)(i.url,e)}}const i=(0,r.getPhotoSize)(e,(0,m.getImageMinWidth)(t));if(i?.url)return i.url;const o=e.filter((e=>!e.with_padding));return(o.length?o:e)[0].url},F=e=>{const t=e instanceof o.Video?e.data:e;return x(t.image||[])},U={s:{width:130,height:96},m:{width:160,height:120},l:{width:320,height:240},x:{width:800,height:450}},B=e=>{if(!e)return null;try{const t=new URL(e),i=new URLSearchParams(t.search),o=i.get("size");if(!o)return(e=>{if(!e.includes("video/thumbs"))return null;const t=e.match(/[_\/]([a-z])\.\w+$/)?.[1];if(!t||!U[t])return null;const{width:i,height:o}=U[t];return{url:e,width:i,height:o,with_padding:1}})(e)??(e=>({url:e,...U.m,with_padding:1}))(e);const r=o.split("x");if(2!==r.length)return null;const n=i.get("keep_aspect_ratio"),a=parseInt(r[0]),s=parseInt(r[1]);return{url:e,width:a,height:s,with_padding:"1"===n?1:void 0}}catch(e){return null}},V=e=>{let t=0;if(!e||"string"!=typeof e)return t;const i=e.split(":").map(Number);if(i.some(isNaN))return t;for(let e=0;e<i.length;e++){const o=60**(i.length-1-e);t+=i[e]*o}return t},H=(e,t=!1)=>{const i=S(t);if(!e)return i;if((0,c.isOwnerGroup)(e))return`${i}${e.screen_name}`;return`${i}${e.screen_name||e.domain||`id${e.id}`}`},j=(e,t)=>{const{duration:i,type:o,platform:r,restriction:n}=e,a=void 0===t?!!r:t;return(!(0,f.partConfigEnabled)("frontend.prevent_clip_creation_when_video_is_processing")||!n)&&(i&&i>=g.VIDEO_MIN_DURATION_IN_SECONDS_FOR_VIDEO_TO_CLIP&&!a&&o&&!["live","interactive","short_video"].includes(o))},W=e=>{try{const{id:t}=(0,s.parseRawId)(e);if(-1001===t)return!1}catch(e){return!1}const t=new URLSearchParams(window.location.search);return Boolean(t.get("linked"))}},891297:(e,t,i)=>{"use strict";i.d(t,{getFormattedBigLikesToShortCase:()=>u,getFormattedBigSubscribersToShortCase:()=>d,getFormattedBigViewsToShortCase:()=>l,getFormattedFullVideoViews:()=>p,getFormattedVideoCount:()=>m,getFormattedVideoDate:()=>_});var o=i(866467),r=i(898848),n=i(807978);const a=({count:e,localeOptions:t})=>{const{getMinNumbersLocale:i,getThousandLocale:o,getMillionLocale:n}=t,a=window.langConfig?.locale||"ru";if(e<1e3)return i?i(e):e.toString();let s=1e3,c=o();e>999999&&(s=1e6,c=n());const[l="",d=""]=(e/s).toString().split("."),u=e>=1e5&&e<1e6||0===d.length?0:(0,r.intval)(d.substring(0,1)),_=(0,r.intval)(u)>0?`${l}.${u}`:l;return`${Number(_).toLocaleString(a)}${c}`},s={getMinNumbersLocale:e=>(0,o.getLang)("video_N_views_list",e),getThousandLocale:()=>(0,o.getLang)("video_N_views_thousand"),getMillionLocale:()=>(0,o.getLang)("video_N_views_million")},c={getMinNumbersLocale:e=>(0,o.getLang)("video_N_group_members_count",e),getThousandLocale:()=>(0,o.getLang)("video_N_subscribers_thousand"),getMillionLocale:()=>(0,o.getLang)("video_N_subscribers_million")},l=e=>a({count:e,localeOptions:s}),d=e=>a({count:e,localeOptions:c}),u=e=>a({count:e,localeOptions:{getThousandLocale:()=>(0,o.getLang)("video_N_thousand"),getMillionLocale:()=>(0,o.getLang)("video_N_million")}}),_=e=>(0,o.langDate)(e*n.SECOND,(0,o.getLang)("global_date","raw").slice(0,2),0,(0,o.getLang)("months_of","raw")),p=e=>`${e.toLocaleString("ru-RU")} ${(0,o.getLang)("video_showcase_N_viewers",e).split(" ")[1]}`,m=e=>(0,o.getLang)("video_video_videos_counter",e,!0)},590151:(e,t,i)=>{"use strict";i.d(t,{logSavedUsersAuthStart:()=>s,logSavedUsersDropAccount:()=>c,logSwitcherAccounts:()=>l});var o=i(314309);const r=new o.ProductionStatCollector,n=new o.ActionStatCollector(r),a=new o.RegistrationItemStatCollector(n);function s(e){a.logEvent(o.RegistrationItemEventTypes.AUTH_SAVED_START,o.EventScreens.START_PROCEED_AS,void 0,{force:!0},[{name:o.RegistrationFieldItemNames.SAVED_SOURCE,value:o.RegistrationFieldItemValues.SAVED_SOURCE_CAROUSEL,start_interaction_time:"",end_interaction_time:""}],e)}function c(e){a.logEvent(o.RegistrationItemEventTypes.DROP_ACCOUNT_FROM_SAVED,o.EventScreens.START_PROCEED_AS,void 0,{force:!0},[{name:o.RegistrationFieldItemNames.SAVED_SOURCE,value:o.RegistrationFieldItemValues.SAVED_SOURCE_CAROUSEL,start_interaction_time:"",end_interaction_time:""}],e)}function l(){a.logEvent(o.RegistrationItemEventTypes.POPUP_OPEN,o.EventScreens.MAIN,o.EventScreens.MULTI_ACC_SWITCHER,{force:!0})}},416362:(e,t,i)=>{"use strict";function o(e,t,i=null){e&&!window.vk?.isBanned&&window.stManager.add([window.jsc("web/article_layer.js"),"article.css"]).then((()=>{window.ArticleLayer.prepare(e,i,t)}))}i.d(t,{articlePrepare:()=>o})},358916:(e,t,i)=>{"use strict";i.d(t,{AudioPageProxy:()=>u});var o=i(434518),r=i(763812),n=i(584053),a=i(558137),s=i(523149),c=(0,r._)("_emitter"),l=(0,r._)("_globalStorage"),d=(0,r._)("_audioPage");class u{get emitter(){return(0,o._)(this,c)[c]}get events(){return(0,o._)(this,c)[c].listenable}get isInitialized(){return Boolean((0,o._)(this,d)[d])}get data(){return(0,o._)(this,d)[d]?._data||null}get readyAudio(){return(0,o._)(this,d)[d]?._readyAudio??null}get currentPlaylist(){return(0,o._)(this,d)[d]?.getPageCurrentPlaylist()}get currentSection(){return(0,o._)(this,d)[d]?._currentSection??null}get audioStartReadyAudio(){return(0,o._)(this,l)[l]?.audioStartReadyAudio??!1}set audioStartReadyAudio(e){(0,o._)(this,l)[l]={audioStartReadyAudio:e}}get ownerId(){return(0,o._)(this,d)[d]?.getOwnerId()??null}get canAddToGroup(){return Boolean((0,o._)(this,d)[d]?.canAddToGroup())}get canEditGroup(){return Boolean((0,o._)(this,d)[d]?.canEditGroup())}get contentBlock(){return(0,o._)(this,d)[d]?._els?.contentBlock??null}destroyReadyAudio(){(0,o._)(this,d)[d]?._destroyReadyAudio()}initAudioRowsAutoList(e){(0,o._)(this,d)[d]?._initAudioRowsAutoList(e)}reloadGeneralSectionData(e){(0,o._)(this,d)[d]?.reloadGeneralSectionData(e)}onUserAction(e,t){(0,o._)(this,d)[d]?.onUserAction(e,t)}constructor(){Object.defineProperty(this,l,{get:_,set:p}),Object.defineProperty(this,d,{get:m,set:void 0}),Object.defineProperty(this,c,{writable:!0,value:void 0}),(0,o._)(this,c)[c]=new n.Emitter}}function _(){return window.cur??null}function p(e){(0,s.default)(window.cur)&&i._dG("cur",{...window.cur,...e})}function m(){return(0,o._)(this,l)[l]?.audioPage??null}u.ensure=(0,a.makeSharedState)("AudioPageProxy",(()=>new u),{version:5})},149510:(e,t,i)=>{"use strict";i.d(t,{AudioRecomsOnboardingShowRequestedEventReason:()=>o});var o=function(e){return e.VibeRecommendationsPlaylistPlayButton="VIBE_RECOMMENDATIONS_PLAYLIST_PLAY_BUTTON",e.RecommendationsPlaylistOpenButton="RECOMMENDATIONS_PLAYLIST_OPEN_BUTTON",e.RecommendationsPlaylistPlayButton="RECOMMENDATIONS_PLAYLIST_PLAY_BUTTON",e.SnippetsBannerOpenSnippetsPageLink="SNIPPETS_BANNER_SNIPPETS_PAGE_LINK",e.Navigation="NAVIGATION",e.AudioPageInit="AUDIO_PAGE_INIT",e.Unknown="UNKNOWN",e}({})},275810:(e,t,i)=>{"use strict";i.d(t,{AudioPageEventType:()=>o});var o=function(e){return e.Updated="updated",e.RadioStationFollowed="radioStationFollowed",e.PodcastAddedToFavorites="podcastAddedToFavorites",e.AudioLinkCopied="audioLinkCopied",e.AudioRecomsOnboardingShowRequested="audioRecomsOboardingShowRequested",e}({})},459899:(e,t,i)=>{"use strict";i.d(t,{AudioPageEventType:()=>r.AudioPageEventType,AudioPageProxy:()=>o.AudioPageProxy,AudioRecomsOnboardingShowRequestedEventReason:()=>n.AudioRecomsOnboardingShowRequestedEventReason});var o=i(358916),r=i(275810),n=i(149510)},68369:(e,t,i)=>{"use strict";i.d(t,{ensureMusicService:()=>a,getMusicService:()=>n});var o=i(319756);let r=null;function n(){return r}async function a(){if(r)return r;const e=(0,o.ensureDIRootWebContainer)(),{MusicService:t}=await Promise.all([i.e(16729),i.e(89128),i.e(82666),i.e("langs/web/audioPageDomain")]).then(i.bind(i,86442));return e.resolve(t)}},997784:(e,t,i)=>{"use strict";i.d(t,{FetchService:()=>c});var o=i(346675),r=i(319756),n=i(761520),a=i(540462),s=i(139612);class c{async getIdsBySource(e,t={}){const i=(0,a.partConfigEnabled)("frontend.audio_recom_playlists_starts_with_last_played_audio_web"),{audioListId:o,audioListSource:r,ref:c}=t,l={audioIds:[],lastPlayedAudioRawId:null};try{if(i&&"playlist"===r&&o){const{audios:e=[],last_listened_audio_id:t=null}=await this.audioApi.getIdsBySource({entity_id:o,source:r,ref:c});return l.audioIds=e.map((e=>({audio_raw_id:e.audio_id,access_key:(0,s.mapAPIRawIdToAudioIdentity)(e.audio_id)?.accessKey??"",track_code:e.track_code}))),t&&(l.lastPlayedAudioRawId=t),l}const t=await n.ajax.promisifiedPost("al_audio.php?act=get_audio_ids_by_source",{...e}),a=t?.[0];Array.isArray(a)&&(l.audioIds=a)}finally{return l}}constructor(){this.audioApi=(0,r.ensureDIRootWebContainer)().resolve(o.AudioApi),this.reloadAudios=e=>new Promise(((t,i)=>{n.ajax.post("al_audio.php?act=reload_audios",{audio_ids:e},{onDone:e=>{t(e)},onFail:e=>(i(e),!1)})})),this.followRadiostation=(e,t)=>new Promise(((i,o)=>{n.ajax.post("al_audio.php?act=follow_radiostation",{id:e,hash:t},{onDone:e=>{i(e)},onFail:e=>(o(e),!0)})})),this.unfollowRadiostation=(e,t)=>new Promise(((i,o)=>{n.ajax.post("al_audio.php?act=unfollow_radiostation",{id:e,hash:t},{onDone:e=>{i(e)},onFail:e=>(o(e),!0)})}))}}},322100:(e,t,i)=>{"use strict";i.d(t,{ensureGroupsMusicService:()=>o.ensureGroupsMusicService,ensureMyAudioDislikesService:()=>o.ensureMyAudioDislikesService});var o=i(83113)},882118:(e,t,i)=>{"use strict";i.d(t,{createGroupServiceAdapter:()=>d});var o=i(746573),r=i(182464),n=i(468073),a=i(587029),s=i(319756),c=i(395654),l=i(37051);function d(e){const t=(0,o.getEffectorServiceDomain)(e),i=(0,s.ensureDIRootWebContainer)().resolve(a.MusicService).groupMusicServices,{$identitiesMap:d}=(0,r.createIdentitiesMaps)({domain:t}),u=t.createEffect((async({trackedIdentity:e,groupId:t})=>{const o=(0,c.toMusicAudioIdentity)(e),r=n.Ranges.convertOwnerIdToGroupId(t);await i.get(r).add(o,{trackCode:e.trackCode});const a=i.get(r).getTarget(o);if(!a)throw new Error("Failed to add audio to group");return(0,l.toAudioIdentity)(a)})),_=t.createEffect((async({trackedIdentity:e,groupId:t})=>{const o=(0,c.toMusicAudioIdentity)(e),r=n.Ranges.convertOwnerIdToGroupId(t);await i.get(r).restore(o,{});const a=i.get(r).getTarget(o);if(!a)throw new Error("Failed to restore audio to group");return(0,l.toAudioIdentity)(a)}));return{addFx:u,deleteFx:t.createEffect((async({identity:e,groupId:t})=>{const o=n.Ranges.convertOwnerIdToGroupId(t);await i.get(o).delete((0,c.toMusicAudioIdentity)(e))})),restoreFx:_,$identitiesMap:d}}},871479:(e,t,i)=>{"use strict";i.d(t,{ensureGroupsMusicService:()=>a});var o=i(558137),r=i(32489),n=i(882118);const a=(0,o.makeSharedState)("global/audio/groupsMusic/adapter",(()=>(0,n.createGroupServiceAdapter)({domain:(0,r.createDomain)("global/audio/groupsMusic/adapter"),name:"global/audio/groupsMusic/adapter"})),{version:1})},589322:(e,t,i)=>{"use strict";i.d(t,{createMyAudioDislikesServiceAdapter:()=>l});var o=i(587029),r=i(746573),n=i(586049),a=i(873900),s=i(319756),c=i(395654);function l(e){const t=(0,r.getEffectorServiceDomain)(e),i=(0,s.ensureDIRootWebContainer)().resolve(o.MusicService).dislikes,{$fullIdsMap:l,fullIdsMapApi:d}=(0,n.createFullIdsMap)(t),u=t.createEffect((async({identity:e})=>{await i.activate((0,c.toMusicAudioIdentity)(e),{})})),_=t.createEffect((async({identity:e})=>{await i.deactivate((0,c.toMusicAudioIdentity)(e),{})}));return i.events.on("activated",(({identity:e})=>{d.add((0,a.getIdentityRawId)(e))})),i.events.on("deactivated",(({identity:e})=>{d.remove((0,a.getIdentityRawId)(e))})),i.events.on("forceCached",(({identity:e,state:t})=>{t?d.add((0,a.getIdentityRawId)(e)):d.remove((0,a.getIdentityRawId)(e))})),{addFx:u,removeFx:_,$identitiesMap:l}}},802640:(e,t,i)=>{"use strict";i.d(t,{ensureMyAudioDislikesService:()=>a});var o=i(558137),r=i(32489),n=i(589322);const a=(0,o.makeSharedState)("global/audio/myDislikes/adapter",(()=>(0,n.createMyAudioDislikesServiceAdapter)({domain:(0,r.createDomain)("global/audio/myDislikes/adapter"),name:"global/audio/myDislikes/adapter"})),{version:1})},391570:(e,t,i)=>{"use strict";i.d(t,{createMyMusicServiceAdapter:()=>m});var o=i(746573),r=i(182464),n=i(46201),a=i(786979),s=i(587029),c=i(861807),l=i(873900),d=i(32489),u=i(319756),_=i(395654),p=i(37051);function m(e){const t=(0,o.getEffectorServiceDomain)(e),i=(0,u.ensureDIRootWebContainer)().resolve(s.MusicService).myMusic,{$identitiesMap:c,addedIdentitiesMapApi:m,removedIdentitiesMapApi:f,addToStore:y,removeFromStore:E}=(0,r.createIdentitiesMaps)({domain:t}),A=t.createStore({}),S=(0,d.createApi)(A,{add:(e,t)=>(0,n.addPairToMap)(e,{key:t.audioFullId,value:t.value}),remove:(e,t)=>(0,a.removePairFromMap)(e,t)}),b=t.createEffect((async({trackedIdentity:e,reason:t})=>{const o=(0,_.toMusicAudioIdentity)(e);await i.add(o,{trackCode:e.trackCode,reason:g(t)??void 0});const r=i.getTarget(o);if(!r)throw new Error("Failed to add audio to my music");return(0,p.toAudioIdentity)(r)})),T=t.createEffect((async({identity:e})=>{await i.delete((0,_.toMusicAudioIdentity)(e))})),I=t.createEffect((async({identity:e,reason:t})=>{await i.restore((0,_.toMusicAudioIdentity)(e),{reason:v(t)??void 0})}));return i.events.on("added",(({source:e})=>{const t=i.getTarget(e)??e;m.add({fullId:(0,l.getIdentityRawId)((0,p.toAudioIdentity)(e)),identity:(0,p.toAudioIdentity)(t)}),S.add({audioFullId:(0,l.getIdentityRawId)((0,p.toAudioIdentity)(t)),value:(0,p.toAudioIdentity)(e)})})),i.events.on("deleted",(({source:e})=>{const t=i.getTarget(e)??e;f.add((0,l.getIdentityRawId)((0,p.toAudioIdentity)(t)))})),i.events.on("restored",(({source:e})=>{const t=i.getTarget(e)??e;f.remove((0,l.getIdentityRawId)((0,p.toAudioIdentity)(t))),m.add({fullId:(0,l.getIdentityRawId)((0,p.toAudioIdentity)(e)),identity:(0,p.toAudioIdentity)(e)})})),i.events.on("forceCached",(({source:e,target:t,state:i})=>{i?(m.add({fullId:(0,l.getIdentityRawId)((0,p.toAudioIdentity)(e)),identity:(0,p.toAudioIdentity)(t)}),f.remove((0,l.getIdentityRawId)((0,p.toAudioIdentity)(t)))):f.add((0,l.getIdentityRawId)((0,p.toAudioIdentity)(t))),S.add({audioFullId:(0,l.getIdentityRawId)((0,p.toAudioIdentity)(t)),value:(0,p.toAudioIdentity)(e)})})),{addFx:b,deleteFx:T,restoreFx:I,addToStore:y,removeFromStore:E,$identitiesMap:c,$sourcesMap:A,isOwned:e=>i.isOwned(e)}}function g(e){return"MusicSnippet"===e?c.MusicAudioOwningServiceAddReason.MusicSnippet:null}function v(e){return"MusicSnippet"===e?c.MusicAudioOwningServiceRestoreReason.MusicSnippet:null}},876409:(e,t,i)=>{"use strict";i.d(t,{ensureMyMusicService:()=>a});var o=i(558137),r=i(32489),n=i(391570);const a=(0,o.makeSharedState)("global/audio/myMusic/adapter",(()=>(0,n.createMyMusicServiceAdapter)({domain:(0,r.createDomain)("global/audio/myMusic/adapter"),name:"global/audio/myMusic/adapter"})),{version:1})},83113:(e,t,i)=>{"use strict";i.d(t,{ensureGroupsMusicService:()=>r.ensureGroupsMusicService,ensureMyAudioDislikesService:()=>o.ensureMyAudioDislikesService});var o=i(802640),r=(i(876409),i(871479))},37051:(e,t,i)=>{"use strict";function o(e){return{id:e.id,ownerId:e.ownerId,accessKey:e.accessKey}}i.d(t,{toAudioIdentity:()=>o})},395654:(e,t,i)=>{"use strict";i.d(t,{toMusicAudioIdentity:()=>r});var o=i(70148);function r(e){return new o.OwnedIdentity({id:e.id,ownerId:e.ownerId,accessKey:e.accessKey})}},56885:(e,t,i)=>{"use strict";i.d(t,{hideCatalogBlock:()=>a});var o=i(983567),r=i(392358),n=i(761520);function a(e,t){n.ajax.post("/al_audio.php?act=hide_catalog_block",{block_id:e});const i=t.closest(".CatalogBlock__content");i&&(0,o.getAudioPlayer)().notify(r.events.PLACEHOLDER_REMOVE,i.dataset.id)}},963111:(e,t,i)=>{"use strict";i.d(t,{showAudioLongtapModal:()=>_});var o=i(474848),r=i(296540),n=i(613104),a=i(28928),s=i(725669),c=i(260152),l=i(351118);const d=(0,s.asyncComponent)((()=>Promise.all([i.e(91498),i.e(89631),i.e(762),i.e(89887),i.e(2628),i.e(81407),i.e(99682),i.e(1715),i.e("langs/web/AudioLongtapModal")]).then(i.bind(i,473371))),(({AudioLongtapModal:e})=>e)),u=e=>{const{onClose:t}=e;return(0,r.useEffect)((()=>{const e=e=>"Escape"===e?.key&&t();window.addEventListener("keydown",e,!0);const i=document.querySelector("html"),o=i?.style?.overflow;return i&&(i.style.overflow="hidden"),()=>{i&&(i.style.overflow=o??""),window.removeEventListener("keydown",e,!0)}}),[]),(0,o.jsx)(n.PopoutWrapper,{onClick:t,children:(0,o.jsx)(r.Suspense,{fallback:(0,o.jsx)(a.ScreenSpinner,{state:"cancelable",onClick:t}),children:(0,o.jsx)(d,{...e,refreshCoordinates:l.noop})})})},_=(e,t)=>{const i=(0,c.createReactInitiator)(u);i.render({audioAccessRawId:e,trackCode:t,onClose:()=>{i.unmount()},width:380})}},423979:(e,t,i)=>{"use strict";i.d(t,{SpecialProjectModal:()=>m});var o=i(474848),r=i(296540),n=i(694244),a=i(220208),s=i(63614),c=i(506782),l=i(308950),d=i(454154),u=i(514871),_=i(444024);const p="SpecialProjectModal__subheader",m=({title:e,text:t,button:i,style:m,image:g,backgroundImage:v,sendCloseReason:f,onClose:y})=>{const E=e=>{"A"===e.target.tagName&&f("link")};return(0,r.useEffect)((()=>{const[e]=document.getElementsByClassName(p);return e.addEventListener("click",E),()=>{e.removeEventListener("click",E)}}),[]),(0,o.jsxs)(n.ModalBox,{children:[(0,o.jsx)(a.ModalDismissButton,{onClick:y}),(0,o.jsx)(u.SpecialProjectHeader,{backgroundImage:v,image:g,style:m}),(0,o.jsxs)(s.ModalBody,{insetLevel:1,children:[(0,o.jsx)(c.ModalTextLayout,{subheader:(0,o.jsx)("span",{className:p,children:(0,_.parseReactWikiLinks)(t)}),subheaderMode:"primary",children:e}),(0,o.jsx)(l.ButtonLayout,{children:(0,o.jsx)(d.Button,{onClick:()=>{f("button"),i.action?.url&&window.nav.go(i.action.url)},size:"l",mode:"primary",children:i.title},"special-project-submit-button")})]})]})}},492065:(e,t,i)=>{"use strict";i.d(t,{showWebSpecialProjectModal:()=>a});var o=i(474848),r=i(211413),n=i(423979);const a=(e,t)=>{(0,r.showMessageBoxModal)((i=>(0,o.jsx)(n.SpecialProjectModal,{...i,...e,sendCloseReason:t})),{width:420,onDestroy:()=>{t("close")}})}},493229:(e,t,i)=>{"use strict";i.d(t,{AUDIO_STORAGE_KEYS_ENUM:()=>o});const o={AUDIO_PREVIEW_TOOLTIP_SHOW_DATE_TIME:"audio_preview_tooltip_show_date_time"}},513467:(e,t,i)=>{"use strict";i.d(t,{createAudioDislikesInMyMusicWebService:()=>b});var o=i(746573),r=i(586049),n=i(478455),a=i(584053),s=i(32489),c=i(278758),l=i(803111),d=i(270935),u=i(392358),_=i(679688),p=i(297420),m=i(630082),g=i(367181),v=i(518051),f=i(169818),y=i(322100),E=i(319756),A=i(587029),S=i(873900);function b(e){const t=(0,E.ensureDIRootWebContainer)().resolve(A.MusicService).dislikes,i=(0,o.getEffectorServiceDomain)(e),v=new a.Emitter,f=(0,l.ensureAudioPlayerService)(),b=(0,y.ensureMyAudioDislikesService)(),C=(0,d.ensureMyAudioMusicWebService)(),k=(0,s.createEvent)(),{$fullIdsMap:P,fullIdsMapApi:O}=(0,r.createFullIdsMap)(i),{$fullIdsMap:M,fullIdsMapApi:L}=(0,r.createFullIdsMap)(i),{$fullIdsMap:D,fullIdsMapApi:R}=(0,r.createFullIdsMap)(i),N=(0,s.restore)(k,null),x=(0,s.attach)({source:N,async effect(e){if(!e)throw new Error("Audio not exists");const t=(0,n.getAudioFullId)(e);b.removeFx({identity:e}),R.remove(t),f.updateAudioDislikeStatusFx({audioFullId:t,hasDislike:!1}),f.notifyFx({eventType:u.AudioPlayerEventType.AUDIO_RESTORE_BY_DISLIKE_ACTION,params:[t]}),v.emit(g.AudioDislikesInMyMusicWebServiceEventType.LastDislikedAudioInMyMusicRestored,{audio:e})}}),F=(0,s.attach)({source:(0,s.combine)({dislikesIdentitiesMap:b.$identitiesMap,myMusicIdentitiesMap:C.$identitiesMap,dislikeActionInitializedIdentitiesMap:P,myMusicActionInitializedIdentitiesMap:C.$initializedIdentitiesMap,isFinitePlaylist:(0,p.not)((0,m.equals)(f.$currentPlaylist.map((e=>Boolean(e?.isLive()||e?.isLoadable()))),!0)),playerCurrentAudio:f.$currentAudio,playerProgress:f.$progress}),async effect({dislikeActionInitializedIdentitiesMap:e,myMusicActionInitializedIdentitiesMap:t,dislikesIdentitiesMap:i,myMusicIdentitiesMap:o,isFinitePlaylist:r,playerCurrentAudio:a,playerProgress:s},{audio:c,audioEl:l=null,skipDeletionAudioFromMyMusic:p,needReloadTrackCode:m}){if(!c)throw new Error("Audio not exists");const y=(0,n.getAudioFullId)(c),E=a&&y===(0,n.getAudioFullId)(a)?s:0,A=Boolean(e[y]);if((0,_.hasDislike)({audio:c,dislikesIdentitiesMap:i,isDislikeActionInitialized:A}))throw new Error("Audio already disliked");const S=await T({playerService:f,audio:c,audioEl:l});try{let e=c;if(m){const t=await I(c,l);t&&(e={...c,trackCode:t})}await b.addFx({identity:c});if(!p&&(0,d.isMy)({identity:c,myMusicIdentitiesMap:o,isMyMusicActionInitialized:Boolean(t[y]),userId:window.vk.id}))try{k(c),v.emit(g.AudioDislikesInMyMusicWebServiceEventType.AudioDislikedInMyMusic,{audio:e,playlistIdentity:S,playerProgress:E}),R.add(y),f.updateAudioDislikeStatusFx({audioFullId:y,hasDislike:!0}),f.notifyFx({eventType:u.AudioPlayerEventType.AUDIO_DELETE_BY_DISLIKE_ACTION,params:[y]})}catch(e){throw new Error("Failed to delete audio from MyMusic",{cause:e})}else v.emit(g.AudioDislikesInMyMusicWebServiceEventType.AudioDisliked,{audio:e,playlistIdentity:S,playerProgress:E});const i=f.getPlaylistQueue();if(r&&i&&i?.indexOfAudio?.(c)===i?.length-1)return;f.getCurrentAudio()?.id===c.id&&f.playNextFx()}catch(e){throw new Error("Failed to add dislike to audio",{cause:e})}}}),U=(0,s.attach)({source:(0,s.combine)({dislikesIdentitiesMap:b.$identitiesMap,initializedIdentitiesMap:P,lastDislikedAudioInMyMusic:N,isCancelDeletionLastDislikedAudioInMyMusicFxPending:x.pending,dislikedAudiosInMyMusicMap:D,playerCurrentAudio:f.$currentAudio,playerProgress:f.$progress}),async effect({initializedIdentitiesMap:e,dislikesIdentitiesMap:t,lastDislikedAudioInMyMusic:i,isCancelDeletionLastDislikedAudioInMyMusicFxPending:o,dislikedAudiosInMyMusicMap:r,playerCurrentAudio:a,playerProgress:s},{audio:c,audioEl:l=null,needReloadTrackCode:d}){if(!c)throw new Error("Audio not exists");const p=(0,n.getAudioFullId)(c),m=Boolean(e[p]);if(!(0,_.hasDislike)({audio:c,dislikesIdentitiesMap:t,isDislikeActionInitialized:m}))throw new Error("Audio not disliked");const y=await T({playerService:f,audio:c,audioEl:l}),E=Boolean(i)&&i?.id===c.id;let A=c;if(d){const e=await I(c,l);e&&(A={...c,trackCode:e})}try{!m||!(p in r)||o&&E?await b.removeFx({identity:c}):(E&&(v.emit(g.AudioDislikesInMyMusicWebServiceEventType.LastDislikedAudioInMyMusicRestoreRequestedByCancelDislikeButton,{audio:c}),k(null)),b.removeFx({identity:c}),R.remove(p),f.notifyFx({eventType:u.AudioPlayerEventType.AUDIO_RESTORE_BY_DISLIKE_ACTION,params:[p]})),v.emit(g.AudioDislikesInMyMusicWebServiceEventType.AudioDislikeRemoved,{audio:A,playlistIdentity:y,playerProgress:a&&p===(0,n.getAudioFullId)(a)?s:0}),f.updateAudioDislikeStatusFx({audioFullId:p,hasDislike:!1})}catch(e){throw new Error("Failed to remove dislike from audio",{cause:e})}}}),B=(0,s.attach)({source:(0,s.combine)({dislikesIdentitiesMap:b.$identitiesMap,dislikeActionInitializedIdentitiesMap:P,playerCurrentAudio:f.$currentAudio,playerProgress:f.$progress}),async effect({dislikesIdentitiesMap:e,dislikeActionInitializedIdentitiesMap:t,playerCurrentAudio:i,playerProgress:o},{audio:r,audioEl:a,needReloadTrackCode:s,...c}){if(!r)throw new Error("Audio not exists");const l=await T({playerService:f,audio:r,audioEl:a}),d=(0,n.getAudioFullId)(r);let u=document.querySelector(`._audio_row_${d}`);u=u==a?null:u;const p=(0,_.hasDislike)({audio:r,dislikesIdentitiesMap:e,isDislikeActionInitialized:d in t});let m=r;if(s){const e=await I(r,a);e&&(m={...r,trackCode:e})}if(p){if(C.restoreFx&&C.isOwned&&C?.isOwned(r))try{C.restoreFx({identity:r}),a&&(a.classList.remove("audio_row__deleted"),window.AudioUtils.onRowOver(a,!1,!0)),u&&(u.classList.remove("audio_row__deleted"),window.AudioUtils.onRowOver(u,!1,!0))}catch(e){throw a&&(a.classList.add("audio_row__deleted"),window.AudioUtils.onRowOver(a,!1,!0)),u&&(u.classList.add("audio_row__deleted"),window.AudioUtils.onRowOver(a,!1,!0)),new Error('Failed to delete audio from "My Music"',{cause:e})}else C.addFx({audio:m,needReloadTrackCode:!1,...c});f.updateAudioDislikeStatusFx({audioFullId:d,hasDislike:!1}),v.emit(g.AudioDislikesInMyMusicWebServiceEventType.AudioDislikeRemovedByAddToMyMusicButton,{audio:m,playlistIdentity:l,playerProgress:i&&d===(0,n.getAudioFullId)(i)?o:0})}else await C.addFx({audio:m,audioEl:a,...c})}});return(0,s.sample)({clock:[F.done,U.done],filter:({params:{audio:e}})=>Boolean(e),fn:({params:{audio:e}})=>(0,n.getAudioFullId)(e),target:O.add}),(0,s.sample)({clock:[F,U],filter:({audio:e})=>Boolean(e),fn:({audio:e})=>(0,n.getAudioFullId)(e),target:L.add}),(0,s.sample)({clock:[F.finally,U.finally],filter:({params:{audio:e}})=>Boolean(e),fn:({params:{audio:e}})=>(0,n.getAudioFullId)(e),target:L.remove}),(0,c.reset)({clock:x.done,target:N}),t.events.on("activated",(({identity:e})=>{O.add((0,S.getIdentityRawId)(e))})),t.events.on("deactivated",(({identity:e})=>{O.add((0,S.getIdentityRawId)(e))})),t.events.on("forceCached",(({identity:e})=>{O.add((0,S.getIdentityRawId)(e))})),{$dislikesIdentitiesMap:b.$identitiesMap,$dislikesInitializedIdentitiesMap:P,$dislikesLoadingIdentitiesMap:M,addDislikeFx:F,removeDislikeFx:U,$myMusicIdentitiesMap:C.$identitiesMap,$myMusicInitializedIdentitiesMap:C.$initializedIdentitiesMap,$myMusicLoadingIdentitiesMap:C.$loadingIdentitiesMap,addToMyMusicFx:B,deleteFromMyMusicFx:C.deleteFx,cancelDeletionLastDislikedAudioInMyMusicFx:x,events:v.listenable}}async function T({playerService:e,audio:t,audioEl:i}){const o=e.getCurrentAudio();if(o&&(0,n.getAudioFullId)(o)===(0,n.getAudioFullId)(t)){const t=await e.getCurrentPlaylistFx();if(t){const e=t?.getPlaylistId(),i=t?.getOwnerId?.();if(e&&i)return{id:+e,ownerId:+i}}}if(i){let e=(0,v.getContextPlaylist)(i);if(e?.playlist){const t=e.playlist?.getPlaylistId(),i=e.playlist?.getOwnerId?.();if(t&&i)return{id:+t,ownerId:+i}}}return null}async function I(e,t){const i=(0,v.getContextPlaylist)(t);if(!i)return null;return await(0,f.getAudioTrackCodeFromPlaylist)(i?.playlist,e)??null}},367181:(e,t,i)=>{"use strict";i.d(t,{AudioDislikesInMyMusicWebServiceEventType:()=>o});var o=function(e){return e.AudioDisliked="audioDisliked",e.AudioDislikedInMyMusic="audioDislikedInMyMusic",e.LastDislikedAudioInMyMusicRestored="lastDislikedAudioInMyMusicRestored",e.LastDislikedAudioInMyMusicRestoreRequestedByCancelDislikeButton="lastDislikedAudioInMyMusicRestoreRequestedByCancelDislikeButton",e.AudioDislikeRemoved="audioDislikeRemoved",e.AudioDislikeRemovedByAddToMyMusicButton="audioDislikeRemovedByAddToMyMusicButton",e}({})},761178:(e,t,i)=>{"use strict";i.d(t,{ensureAudioDislikesInMyMusicWebService:()=>s,hasDislike:()=>a.hasDislike});var o=i(558137),r=i(32489),n=i(513467),a=i(679688);i(367181);const s=(0,o.makeSharedState)("global/web/audio/dislikesInMyMusic",(()=>(0,n.createAudioDislikesInMyMusicWebService)({domain:(0,r.createDomain)("global/web/audio/dislikesInMyMusic"),name:"global/web/audio/dislikesInMyMusic"})),{version:3})},550929:(e,t,i)=>{"use strict";i.d(t,{hasDislike:()=>n});var o=i(478455),r=i(482310);function n({audio:e,dislikesIdentitiesMap:t,isDislikeActionInitialized:i}){return!!e&&(!!t[(0,o.getAudioFullId)(e)]||!i&&((0,r.getAudioExtra)(e)?.dislike??!1))}},679688:(e,t,i)=>{"use strict";i.d(t,{hasDislike:()=>o.hasDislike});var o=i(550929)},358926:(e,t,i)=>{"use strict";i.d(t,{AudioLongtapStatCollectorEffector:()=>s});var o=i(452223),r=i(314309);const n=e=>{if(!e.audio)return{event_category:e.eventCategory};const{trackCode:t,id:i,ownerId:o,albumId:r}=e.audio;return{track_code:t,audio_id:i,audio_owner_id:o,playlist_id:r,playlist_owner_id:void 0,audio_id_new:e.audioAddedId||void 0,timeline_position:e.timelinePosition,playback_duration:e.playbackDuration,volume:Math.round(100*e.volume),audio_length:e.snippetLength,event_category:e.eventCategory}};let a=null;class s{static ensure(){return a||(a=new s,a)}start(e){const t=n({...e,eventCategory:o.LongtapEventCategory.play});this.actionStatCollector.logEvent({type:o.ActionProductionStatEventTypes.TYPE_CATALOG_AUDIO_LONGTAP_ITEM,[o.ActionProductionStatEventTypes.TYPE_CATALOG_AUDIO_LONGTAP_ITEM]:{event_type:o.EventItemType.START,event_subtype:o.EventItemSubType.AUDIO_LONGTAP,...t}})}openModal(e){this.audio=e.audio;const t=n(e);this.sendView(o.EventItemType.OPEN,o.EventItemSubType.AUDIO_LONGTAP_OPEN,o.LongtapEventCategory.view,t)}addTrack(e){const t=n({...e,eventCategory:o.LongtapEventCategory.action});this.actionStatCollector.logEvent({type:o.ActionProductionStatEventTypes.TYPE_CATALOG_AUDIO_LONGTAP_ITEM,[o.ActionProductionStatEventTypes.TYPE_CATALOG_AUDIO_LONGTAP_ITEM]:{event_type:o.EventItemType.ADDED,event_subtype:o.EventItemSubType.AUDIO_ADD_AFTER_LONGTAP,...t}})}tipHasShown(){this.sendView(o.EventItemType.HINT,o.EventItemSubType.AUDIO_LONGTAP_HINT,o.LongtapEventCategory.view)}closeBy(e,t){if(!this.audio)return;const i=n({...t,audio:this.audio,eventCategory:o.LongtapEventCategory.play});this.actionStatCollector.logEvent({type:o.ActionProductionStatEventTypes.TYPE_CATALOG_AUDIO_LONGTAP_ITEM,[o.ActionProductionStatEventTypes.TYPE_CATALOG_AUDIO_LONGTAP_ITEM]:{event_type:o.EventItemType.STOP,event_subtype:e,...i}}),this.audio=null}goToTrack(e){this.audio=e.audio;const t=n(e);this.sendView(o.EventItemType.LONGTAP_DRILLDOWN,o.EventItemSubType.AUDIO_LONGTAP_GO_TO_TRACK,o.LongtapEventCategory.nav,t)}goToArtist(e){this.audio=e.audio;const t=n(e);this.sendView(o.EventItemType.LONGTAP_DRILLDOWN,o.EventItemSubType.AUDIO_LONGTAP_GO_TO_ARTIST,o.LongtapEventCategory.nav,t)}sendView(e,t,i,r){const n={type:o.ViewProductionStatEventTypes.TYPE_CATALOG_AUDIO_LONGTAP_ITEM,[o.ViewProductionStatEventTypes.TYPE_CATALOG_AUDIO_LONGTAP_ITEM]:{...r,event_type:e,event_subtype:t,event_category:i}},a={type:e,track_code:r?.track_code};this.viewCollector.logEvent(n,a)}constructor(){this.audio=null,this.productCollector=new r.ProductionStatCollector,this.viewCollector=new r.ViewStatCollector(this.productCollector),this.actionStatCollector=new r.ActionStatCollector(this.productCollector)}}},927848:(e,t,i)=>{"use strict";i.d(t,{AudioLongtapTooltip:()=>A});var o=i(434518),r=i(763812),n=i(250598),a=i(553608),s=i(493229),c=i(358926),l=i(984745),d=i(632731),u=i(558137),_=i(459899);var p=(0,r._)("_audioPage"),m=(0,r._)("_hint"),g=(0,r._)("_tooltip"),v=(0,r._)("_isOpen"),f=(0,r._)("_disabled"),y=(0,r._)("_isUserAuthorized"),E=(0,r._)("_getTooltip");class A{getHints(){(0,o._)(this,y)[y]&&(0,o._)(this,p)[p].isInitialized&&(0,l.ensureAccountHelpHintsService)().getHelpHintsFx()}getHint(){const e=(0,l.ensureAccountHelpHintsService)().$helpHints.getState()[d.AvailableHelpHints.ACCOUNT_HINT_AUDIO_LONG_TAP_PREVIEW_WEB];return(0,o._)(this,m)[m]=e||null,(0,o._)(this,m)[m]}canShow(){if((0,o._)(this,f)[f])return!1;let e=!1;if(this.getHint()){const t=a.vkLocalStorage.getItem(s.AUDIO_STORAGE_KEYS_ENUM.AUDIO_PREVIEW_TOOLTIP_SHOW_DATE_TIME),i=t?JSON.parse(t):null,o=i?i.firstShow:null;if(o){const t=new Date(+o).getTime(),r=(new Date).getTime(),n=Math.abs(r-t),c=Math.ceil(n/864e5);if(c<=3&&i?.disabledDay!==c){e=!0;const t={firstShow:o,disabledDay:c};a.vkLocalStorage.setItem(s.AUDIO_STORAGE_KEYS_ENUM.AUDIO_PREVIEW_TOOLTIP_SHOW_DATE_TIME,JSON.stringify(t))}i?.disabledDay===c&&(e=!1)}else{e=!0;const t={firstShow:(new Date).getTime(),disabledDay:1};a.vkLocalStorage.setItem(s.AUDIO_STORAGE_KEYS_ENUM.AUDIO_PREVIEW_TOOLTIP_SHOW_DATE_TIME,JSON.stringify(t))}}return e}async show(e){e&&((0,o._)(this,g)[g]=(0,o._)(this,E)[E](e),(0,o._)(this,g)[g]&&((0,o._)(this,g)[g].show(),(0,o._)(this,v)[v]=!0,c.AudioLongtapStatCollectorEffector.ensure().tipHasShown()))}disable(){this.getHint()&&(0,l.ensureAccountHelpHintsService)().hideHelpHint({hintId:d.AvailableHelpHints.ACCOUNT_HINT_AUDIO_LONG_TAP_PREVIEW_WEB}),(0,o._)(this,f)[f]=!0}get isOpen(){return(0,o._)(this,v)[v]}constructor({audioPage:e}){Object.defineProperty(this,y,{get:S,set:void 0}),Object.defineProperty(this,E,{value:b}),Object.defineProperty(this,p,{writable:!0,value:void 0}),Object.defineProperty(this,m,{writable:!0,value:void 0}),Object.defineProperty(this,g,{writable:!0,value:void 0}),Object.defineProperty(this,v,{writable:!0,value:void 0}),Object.defineProperty(this,f,{writable:!0,value:void 0}),(0,o._)(this,v)[v]=!1,(0,o._)(this,f)[f]=!1,(0,o._)(this,p)[p]=e}}function S(){return Boolean(window?.vk?.id)}function b(e){const t={autoShow:!1,cls:"feature_intro_tt feature_intro_blue_tt feature_info_tooltip audio_snippet_tooltip",content:(0,o._)(this,m)[m]?.title,align:"right",centerShift:8,appendTo:document.body,autoAdjustToViewport:!0,noAutoHideOnWindowClick:!0,autoHide:!0,onHide:()=>{(0,o._)(this,v)[v]=!1,(0,o._)(this,g)[g]?.destroy()},width:286},i=new n.ElementTooltip(e,t);return window.cur?.destroy?.push((()=>{i?.destroy()})),i}A.ensure=(0,u.makeSharedState)("AudioLongtapTooltip",(()=>new A({audioPage:_.AudioPageProxy.ensure()})),{version:1})},41921:(e,t,i)=>{"use strict";i.d(t,{ensureAudioPageMusicService:()=>a});var o=i(587029),r=i(319756);let n=null;function a(){if(!n){const e=(0,r.ensureDIRootWebContainer)();n=e.resolve(o.MusicService)}return n}},43769:(e,t,i)=>{"use strict";i.d(t,{createAudioPlayerService:()=>_});var o=i(32489),r=i(983567),n=i(392358),a=i(596901),s=i(423015),c=i(746573),l=i(264874),d=i(749438),u=i(351118);function _(e){const t=(0,c.getEffectorServiceDomain)(e),i=t.createEvent(),_=()=>{const e=(0,r.getAudioPlayer)();if(!e)throw new Error("Audio player does not initialize");return e.getPlaylistQueue()??null},p=t.createEvent(),m=t.createEvent(),g=t.createEvent(),v=t.createEvent(),f=t.createEvent(),y=t.createEvent(),E=t.createEvent(),A=t.createEvent(),S=t.createEvent(),b=t.createEvent(),T=t.createEvent(),I=t.createEvent(),C=t.createEvent(),k=t.createEvent(),P=t.createEvent(),O=t.createEvent(),M=t.createEvent(),L=t.createEvent(),D=t.createEvent(),R=t.createEvent(),N=(0,o.restore)(p,null),x=t.createStore(null,{updateFilter:(e,t)=>!(0,u.isEqual)(e,t)}),F=x.map((e=>e&&(0,s.audioTupleToAudioObject)(e)||null)),U=(0,o.restore)(m,!1),B=(0,o.restore)(b,!1),V=(0,o.restore)(T,null),H=(0,o.restore)(g,null),j=(0,o.restore)(f,0),W=(0,o.restore)(y,0),G=(0,o.restore)(E,0),z=(0,o.restore)(A,0),K=(0,o.restore)(S,1),Y=(0,o.restore)(I,!1),$=(0,o.restore)(C,!1),q=(0,o.restore)(k,!1),X=(0,o.restore)(P,!1),Q=(0,o.restore)(O,!1),Z=(0,o.restore)(M,!1),J=t.createEffect((()=>{const e=(0,r.getAudioPlayer)();if(!e)throw new Error("Audio player does not initialize");m(e.isPlaying()),b(e.ads.isActive||!1),T(e.ads.getCurrentAd()||null),g(e.getCurrentPlaylist()||null),v(e.getCurrentAudio()||null),f(e.getCurrentProgress()??0),y(0),E(e.getCurrentBuffered()??0),A(e.getVolume()||0),S(a.AudioPlayer.podcastGetPlaybackRate()||1),I(Boolean(a.AudioPlayer.getDurationType())),C(Boolean(_()?.shuffled)),k(Boolean(e.isRepeatCurrentAudio())),P(Boolean(e.isRepeatAll())),O(e.isStateInitialized),e.subscribe(n.AudioPlayerEventType.PLAYER_IS_PLAYING_CHANGED,(e=>{m(e)})),e.subscribe(n.AudioPlayerEventType.PLAYLIST_CHANGED,(()=>{g(e.getCurrentPlaylist()||null)})),e.on(this,n.AudioPlayerEventType.PLAYLIST_CLEAR_REQUESTED,(()=>{D()})),e.on(this,n.AudioPlayerEventType.PLAYLIST_CLEARED,(()=>{g(e.getCurrentPlaylist()||null),I(Boolean(a.AudioPlayer.getDurationType())),S(a.AudioPlayer.podcastGetPlaybackRate()||1),k(Boolean(e.isRepeatCurrentAudio())),P(Boolean(e.isRepeatAll()))})),e.subscribe(n.AudioPlayerEventType.PLAYBACK_QUEUE_SHUFFLED_UPDATED,(e=>{C(e)})),e.subscribe(this,n.AudioPlayerEventType.PLAYER_IS_AD_CHANGED,(t=>{b(t||!1),T(e.ads.getCurrentAd()||null)})),e.on(this,[n.AudioPlayerEventType.AD_STARTED,n.AudioPlayerEventType.AD_READY,n.AudioPlayerEventType.AD_DEINITED,n.AudioPlayerEventType.AD_COMPLETED],(()=>{b(e.ads.isActive||!1),T(e.ads.getCurrentAd()||null)})),e.on(this,[n.AudioPlayerEventType.PLAY,n.AudioPlayerEventType.PLAY_REQUESTED],(()=>{L()})),e.on(this,[n.AudioPlayerEventType.PLAY,n.AudioPlayerEventType.PLAY_REQUESTED,n.AudioPlayerEventType.CURRENT_RADIOSTATION_FOLLOW_STATUS_UPDATE,n.AudioPlayerEventType.CURRENT_AUDIO_DISLIKE_STATUS_UPDATE,n.AudioPlayerEventType.PLAYLIST_CLEARED,n.AudioPlayerEventType.CURRENT_CHANGED,n.AudioPlayerEventType.UPDATE],(e=>{v(e||null)})),e.subscribe(n.AudioPlayerEventType.CURRENT_RADIOSTATION_FOLLOW_STATUS_UPDATE,(e=>{R(e)})),e.subscribe(n.AudioPlayerEventType.CURRENT_CHANGED,(()=>{f(0)})),e.subscribe(n.AudioPlayerEventType.PROGRESS,((t,i)=>{M(!1),f(e.ads?.isActive?e.ads.getCurrentProgress():t),y(i)})),e.subscribe(n.AudioPlayerEventType.BUFFERED,(t=>{E(e.ads?.isActive?0:t)})),e.subscribe(n.AudioPlayerEventType.VOLUME,(e=>{A(e)})),e.on(this,n.AudioPlayerEventType.UPDATE,(()=>{I(Boolean(a.AudioPlayer.getDurationType()))})),e.on(this,n.AudioPlayerEventType.START_LOADING,(()=>{M(!0)})),e.on(this,n.AudioPlayerEventType.CAN_PLAY,(()=>{M(!1)})),e.on(this,n.AudioPlayerEventType.ENDED,(()=>{M(!1)})),e.on(this,n.AudioPlayerEventType.FAILED,(()=>{M(!1)})),e.subscribe(n.AudioPlayerEventType.STATE_INITIALIZED,(()=>{O(e.isStateInitialized)})),p(e)})),ee=(0,d.attachPlayer)(N,(async(e,t)=>{if(!t)return void e.playAudioItem();const{audio:i,playlist:o,context:r,byPlayerButton:n=!1}=t;e[n?"playByButton":"playAudioItem"].bind(e)({audio:i,playlist:o,context:r})})),te=(0,d.attachPlayer)(N,((e,t)=>{if(!t)return void e.pauseByButton();const{byChangeChannel:i=!1}=t;e[i?"pauseByChangeChannel":"pauseByButton"].bind(e)()})),ie=(0,d.attachPlayer)(N,(e=>{e.resume()})),oe=(0,d.attachPlayer)(N,(e=>{e.playNext()})),re=(0,d.attachPlayer)(N,(e=>{e.playPrev()})),ne=(0,d.attachPlayer)(N,(e=>{e.playNextByButton()})),ae=(0,d.attachPlayer)(N,(e=>{e.playPrevByButton()})),se=(0,d.attachPlayer)(N,((e,{audioEl:t,audio:i})=>{e.setNext(t,i)})),ce=(0,d.attachPlayer)(N,((e,t)=>{e.seek(t)})),le=(0,d.attachPlayer)(N,((e,t)=>{e.seekBySlider(t)})),de=(0,d.attachPlayer)(N,((e,t)=>{e.setVolume(t)})),ue=(0,d.attachPlayer)(N,(e=>{e.toggleDurationType()})),_e=(0,d.attachPlayer)(N,(e=>{e.toggleRepeatCurrentAudio(),k(Boolean(e.isRepeatCurrentAudio())),P(Boolean(e.isRepeatAll()))})),pe=(0,d.attachPlayer)(N,(e=>{e.toggleRepeatAll(),k(Boolean(e.isRepeatCurrentAudio())),P(Boolean(e.isRepeatAll()))})),he=(0,o.attach)({source:(0,o.combine)({ap:N,prevSpeed:K}),effect({ap:e,prevSpeed:t},i){if(!e)throw new Error("Audio player does not initialize");t!==i&&(e.podcastChangePlaybackRate(1!==i&&i<t),S(a.AudioPlayer.podcastGetPlaybackRate()??1))}}),me=(0,d.attachPlayer)(N,(e=>e.getCurrentPlaylist()??null)),ge=(0,d.attachPlayer)(N,((e,{audio:t,actionType:i,ref:o="",refEl:r=null})=>{e.podcastSetActionRef(t,i,o,r)})),ve=(0,d.attachPlayer)(N,((e,{audioFullId:t,hasDislike:i})=>{e.updateAudioDislikeStatus(t,i)})),fe=(0,d.attachPlayer)(N,(e=>{e.toggleShuffle()})),ye=(0,d.attachPlayer)(N,((e,t)=>e?.emitter?.emit(t.eventName,t.data))),Ee=(0,d.attachPlayer)(N,((e,{eventType:t,params:i})=>e.notify(t,...i)));return(0,o.sample)({clock:(0,l.once)(i),target:J}),(0,o.sample)({clock:v,target:x}),{$isPlaying:U,$isAd:B,$currentAd:V,$currentPlaylist:H,$currentAudio:F,$currentAudioTuple:x,$progress:j,$duration:W,$loadingProgress:G,$volume:z,$negativeDurationTypeEnabled:Y,$isShuffled:$,$isRepeatCurrentAudio:q,$isRepeatAll:X,$playbackSpeed:K,$isStateInitialized:Q,$isPending:Z,playFx:ee,pauseFx:te,resumeFx:ie,playNextFx:oe,playPrevFx:re,playNextByButtonFx:ne,playPrevByButtonFx:ae,setNextFx:se,seekFx:ce,seekBySliderFx:le,updateVolumeFx:de,toggleNegativeDurationTypeFx:ue,toggleRepeatCurrentAudioFx:_e,toggleRepeatAllFx:pe,updatePlaybackSpeedFx:he,getCurrentPlaylistFx:me,podcastSetActionRefFx:ge,updateAudioDislikeStatusFx:ve,toggleShuffleFx:fe,emitFx:ye,notifyFx:Ee,notifyAudioStartedPlaying:L,notifyPlaylistClearRequested:D,notifyCurrentRadioStationFollowStatusUpdate:R,init:i,getCurrentAudio:()=>{const e=(0,r.getAudioPlayer)();if(!e)throw new Error("Audio player does not initialize");const t=e.getCurrentAudio();return t?(0,s.audioTupleToAudioObject)(t):null},getPlaylistQueue:_,getPlaylist:({type:e,ownerId:t,albumId:i,accessHash:o,blockId:n})=>{const a=(0,r.getAudioPlayer)();if(!a)throw new Error("Audio player does not initialize");return a.getPlaylist(e,t,i,o,n)||null}}}},803111:(e,t,i)=>{"use strict";i.d(t,{AudioPlayerPodcastActionType:()=>a.AudioPlayerPodcastActionType,ensureAudioPlayerService:()=>s});var o=i(558137),r=i(32489),n=i(43769),a=i(807346);const s=(0,o.makeSharedState)("global/web/audio/player",(()=>(0,n.createAudioPlayerService)({domain:(0,r.createDomain)("global/web/audio/player"),name:"audio/web/audio/player"})),{version:3})},749438:(e,t,i)=>{"use strict";i.d(t,{attachPlayer:()=>r});var o=i(32489);function r(e,t){return(0,o.attach)({source:e,effect(e,i){if(!e)throw new Error("Audio player does not initialize");return t(e,i)}})}},807346:(e,t,i)=>{"use strict";i.d(t,{AudioPlayerPodcastActionType:()=>r});var o=i(390578),r=function(e){return e[e.Play=o.ACTION_PLAY]="Play",e[e.Pause=o.ACTION_PAUSE]="Pause",e[e.Seek=o.ACTION_SEEK]="Seek",e[e.TimeMaker=o.ACTION_TIME_MARKER]="TimeMaker",e[e.Heartbeat=o.ACTION_HEARTBEAT]="Heartbeat",e}({})},829071:(e,t,i)=>{"use strict";i.d(t,{createAudioPodcastsFaveAdapter:()=>a});var o=i(968789),r=i(746573),n=i(586049);function a(e,t){const i=(0,r.getEffectorServiceDomain)(e),a=i.createEffect((async e=>{await t.activate(d(e.identity))})),s=i.createEffect((async e=>{await t.deactivate(d(e.identity))})),{fullIdsMapApi:c,$fullIdsMap:l}=(0,n.createFullIdsMap)(i);function d(e){return new o.PodcastAudioIdentity(e)}return t.events.on("activated",(({identity:e})=>{const{fullId:t}=d(e);c.add(t)})),t.events.on("deactivate",(({identity:e})=>{const{fullId:t}=d(e);c.remove(t)})),{$identitiesMap:l,deleteFx:s,addFx:a}}},767072:(e,t,i)=>{"use strict";i.d(t,{ensureAudioPodcastsFavoritesService:()=>c});var o=i(32489),r=i(558137),n=i(704456),a=i(319756),s=i(829071);const c=(0,r.makeSharedState)("global/audio/podcasts/favoritesService",(()=>(0,s.createAudioPodcastsFaveAdapter)({domain:(0,o.createDomain)("global/audio/podcasts/favoritesService"),name:"global/audio/podcasts/favoritesService"},(0,a.ensureDIRootWebContainer)().resolve(n.PodcastAudioFavoritesService))),{version:1})},706226:(e,t,i)=>{"use strict";i.d(t,{ensureAudioPodcastsFavoritesService:()=>o.ensureAudioPodcastsFavoritesService});var o=i(767072)},943503:(e,t,i)=>{"use strict";i.d(t,{createGroupsMusicWebService:()=>m});var o=i(746573),r=i(586049),n=i(478455),a=i(97295),s=i(32489),c=i(641633),l=i(71696),d=i(803111),u=i(392358),_=i(138586),p=i(322100);function m(e){const t=(0,o.getEffectorServiceDomain)(e),i=(0,p.ensureGroupsMusicService)(),m=(0,d.ensureAudioPlayerService)(),{$fullIdsMap:g,fullIdsMapApi:v}=(0,r.createFullIdsMap)(t),f=(0,s.attach)({source:(0,s.combine)({groupsMusicIdentitiesMap:i.$identitiesMap}),async effect({groupsMusicIdentitiesMap:e},{audio:t,groupId:o,audioEl:r=null}){if(!t)throw new Error("Audio not exists");if((0,c.isAddedToGroup)({identity:t,groupsMusicIdentitiesMap:e,groupId:o}))throw new Error(`Audio already in group with id ${o}`);const a=(0,n.getAudioFullId)(t);let s=document.querySelector(`._audio_row_${a}`);s=s==r?null:s;try{o!==t.ownerId&&r&&r.classList.add("audio_row__added"),o!==t.ownerId&&s&&s.classList.add("audio_row__added"),m.notifyFx({eventType:u.AudioPlayerEventType.ADDED,params:[a]}),o===t.ownerId&&i.restoreFx?await i.restoreFx({groupId:o,trackedIdentity:t}):await i.addFx({groupId:o,trackedIdentity:t}),r&&(r.classList.remove("audio_row__deleted"),window.AudioUtils.onRowOver(r,!1,!0)),s&&(s.classList.remove("audio_row__deleted"),window.AudioUtils.onRowOver(s,!1,!0)),m.notifyFx({eventType:u.AudioPlayerEventType.MUSIC_AUDIOS_ADD,params:[t,Boolean(r)&&{audioElement:r}]})}catch(e){throw o!==t.ownerId&&r&&r.classList.remove("audio_row__added"),o!==t.ownerId&&s&&s.classList.remove("audio_row__added"),new Error(`Failed to add audio to group with id ${o}`,{cause:e})}}}),y=(0,s.attach)({source:(0,s.combine)({groupsMusicIdentitiesMap:i.$identitiesMap}),async effect({groupsMusicIdentitiesMap:e},{audio:t,groupId:o,audioEl:r=null,needShowDeletedAudioRowState:s}){if(!t)throw new Error("Audio not exists");const c=(0,a.getGroupAudioFullId)(t,o),d=(0,l.isGroupAudio)({identity:t,groupsMusicIdentitiesMap:e,groupId:o}),p=e[c];if(!d&&!p)throw new Error(`Audio not found in group with id ${o}`);const g=(0,n.getAudioFullId)(t),v=(0,n.getAudioFullId)(p??t);let f=document.querySelector(`._audio_row_${g}`);f=f==r?null:f;try{r&&!s&&r.classList.remove("audio_row__added"),f&&!s&&f.classList.remove("audio_row__added"),m.notifyFx({eventType:u.AudioPlayerEventType.REMOVED,params:[g,v]}),await i.deleteFx({groupId:o,identity:p||t}),r&&s&&(r.classList.add("audio_row__deleted"),window.AudioUtils.onRowOver(r,!1,!0),r.classList.remove("audio_row__added")),f&&s&&(f.classList.add("audio_row__deleted"),window.AudioUtils.onRowOver(f,!1,!0),f.classList.remove("audio_row__added"));const e=m.getPlaylist({type:_.AudioPlaylist.TYPE_PLAYLIST,ownerId:o,albumId:_.AudioPlaylist.DEFAULT_PLAYLIST_ID});e&&e.removeAudio(v),m.notifyFx({eventType:u.AudioPlayerEventType.MUSIC_AUDIOS_DELETE,params:[t,Boolean(r)&&{audioElement:r}]})}catch(e){throw r&&r.classList.add("audio_row__added"),r&&s&&(r.classList.add("audio_row__deleted"),window.AudioUtils.onRowOver(r,!1,!0)),f&&f.classList.add("audio_row__added"),f&&s&&(f.classList.add("audio_row__deleted"),window.AudioUtils.onRowOver(f,!1,!0)),new Error(`Failed to delete audio from group with id ${o}`,{cause:e})}}});return(0,s.sample)({clock:[f,y],filter:({audio:e})=>Boolean(e),fn:({audio:e,groupId:t})=>(0,a.getGroupAudioFullId)(e,t),target:v.add}),(0,s.sample)({clock:[f.finally,y.finally],filter:({params:{audio:e}})=>Boolean(e),fn:({params:{audio:e,groupId:t}})=>(0,a.getGroupAudioFullId)(e,t),target:v.remove}),{$loadingIdentitiesMap:g,$identitiesMap:i.$identitiesMap,addFx:f,deleteFx:y}}},815733:(e,t,i)=>{"use strict";i.d(t,{ensureGroupsAudioMusicWebService:()=>s,isAddedToGroup:()=>a.isAddedToGroup});var o=i(558137),r=i(32489),n=i(943503),a=i(641633);const s=(0,o.makeSharedState)("global/web/audio/groupsMusic",(()=>(0,n.createGroupsMusicWebService)({domain:(0,r.createDomain)("global/web/audio/groupsMusic"),name:"global/web/audio/groupsMusic"})),{version:3})},641633:(e,t,i)=>{"use strict";i.d(t,{isAddedToGroup:()=>n});var o=i(35215),r=i(97295);function n({identity:e,groupsMusicIdentitiesMap:t,groupId:i}){if(!e||!(0,o.isNumber)(i))return!1;return(0,r.getGroupAudioFullId)(e,i)in t}},71696:(e,t,i)=>{"use strict";i.d(t,{isGroupAudio:()=>a});var o=i(35215),r=i(205337),n=i(641633);function a({identity:e,groupsMusicIdentitiesMap:t,groupId:i}){return!(!e||!(0,o.isNumber)(i))&&(e.ownerId===(0,r.convertToGroupMusicId)(i)||(0,n.isAddedToGroup)({identity:e,groupsMusicIdentitiesMap:t,groupId:i}))}},8036:(e,t,i)=>{"use strict";i.d(t,{createMusicAudioDislikesService:()=>a});var o=i(478455),r=i(32489),n=i(761178);function a({domain:e,$audio:t,$audioEl:i}){const a=(0,n.ensureAudioDislikesInMyMusicWebService)(),c=i??e.createStore(null),l=(0,r.combine)(t,a.$dislikesInitializedIdentitiesMap,((e,t)=>{const i=s(e);return!!i&&Boolean(t[(0,o.getAudioFullId)(i)])}));return{$isAudioDisliked:(0,r.combine)(t,a.$dislikesIdentitiesMap,l,((e,t,i)=>(0,n.hasDislike)({audio:e,dislikesIdentitiesMap:t,isDislikeActionInitialized:i}))),$isDislikeActionLoading:(0,r.combine)(t,a.$dislikesLoadingIdentitiesMap,((e,t)=>{const i=s(e);return!!i&&Boolean(t[(0,o.getAudioFullId)(i)])})),addFx:(0,r.attach)({source:(0,r.combine)({audio:t,audioEl:c}),async effect({audio:e,audioEl:t},i){await a.addDislikeFx({audio:e,audioEl:t,skipDeletionAudioFromMyMusic:i?.skipDeletionAudioFromMyMusic,needReloadTrackCode:i?.needReloadTrackCode})}}),removeFx:(0,r.attach)({source:(0,r.combine)({audio:t,audioEl:c}),async effect({audio:e,audioEl:t},i){await a.removeDislikeFx({audio:e,audioEl:t,needReloadTrackCode:i?.needReloadTrackCode})}})}}function s(e){if(!e||!e.id||!e.ownerId)return null;return{id:e.id,ownerId:e.ownerId}}},995022:(e,t,i)=>{"use strict";i.d(t,{createMusicAudioMyDislikesService:()=>a});var o=i(478455),r=i(32489),n=i(761178);function a({domain:e,$audio:t,$audioEl:i}){const a=(0,n.ensureAudioDislikesInMyMusicWebService)(),s=i??e.createStore(null),c=e.createStore(null),l=e.createStore(!1),d=e.createStore(!1),u=e.createStore(!1),_=(0,r.attach)({source:(0,r.combine)({audio:t,audioEl:s}),async effect({audio:e,audioEl:t},i){await a.addDislikeFx({audio:e,audioEl:t,skipDeletionAudioFromMyMusic:i?.skipDeletionAudioFromMyMusic,needReloadTrackCode:i?.needReloadTrackCode})}}),p=(0,r.attach)({source:(0,r.combine)({audio:t,audioEl:s}),async effect({audio:e,audioEl:t},i){await a.removeDislikeFx({audio:e,audioEl:t,needReloadTrackCode:i?.needReloadTrackCode})}});return(0,r.sample)({source:t,fn:e=>e&&e.id&&e.ownerId?{id:e.id,ownerId:e.ownerId,trackCode:e.trackCode}:null,target:c}),(0,r.sample)({source:{identity:c,fullIdsMap:a.$dislikesInitializedIdentitiesMap},fn:({identity:e,fullIdsMap:t})=>Boolean(e&&t[(0,o.getAudioFullId)(e)]),target:l}),(0,r.sample)({source:{audio:t,myAudioDislikesIdentitiesMap:a.$dislikesIdentitiesMap,isDislikeActionInitialized:l},fn:({audio:e,myAudioDislikesIdentitiesMap:t,isDislikeActionInitialized:i})=>(0,n.hasDislike)({audio:e,dislikesIdentitiesMap:t,isDislikeActionInitialized:i}),target:d}),(0,r.sample)({source:{identity:c,fullIdsMap:a.$dislikesLoadingIdentitiesMap},fn:({identity:e,fullIdsMap:t})=>Boolean(e&&t[(0,o.getAudioFullId)(e)]),target:u}),{$isAudioDisliked:d,$isDislikeActionLoading:u,addFx:_,removeFx:p}}},674522:(e,t,i)=>{"use strict";i.d(t,{createMusicAudioMyDislikesService:()=>o.createMusicAudioMyDislikesService});var o=i(995022)},477227:(e,t,i)=>{"use strict";i.d(t,{createMyMusicWebService:()=>f});var o=i(746573),r=i(586049),n=i(478455),a=i(32489),s=i(803111),c=i(392358),l=i(678531),d=i(138586),u=i(752740),_=i(972623),p=i(169818),m=i(518051),g=i(876409),v=i(395654);function f(e){const t=(0,o.getEffectorServiceDomain)(e),i=(0,g.ensureMyMusicService)(),p=(0,s.ensureAudioPlayerService)(),{$fullIdsMap:m,fullIdsMapApi:f}=(0,r.createFullIdsMap)(t),{$fullIdsMap:E,fullIdsMapApi:A}=(0,r.createFullIdsMap)(t),S=(0,a.attach)({source:(0,a.combine)({myMusicIdentitiesMap:i.$identitiesMap,initializedIdentitiesMap:m}),async effect({myMusicIdentitiesMap:e,initializedIdentitiesMap:t},{audio:o,audioEl:r=null,forceAddToStoreParams:a,needReloadTrackCode:s,audioRef:d}){if(!o)throw new Error("Audio not exist");const u=Boolean(t[(0,n.getAudioFullId)(o)]);if((0,l.isMy)({identity:o,myMusicIdentitiesMap:e,isMyMusicActionInitialized:u,userId:window.vk.id}))throw new Error('Audio already in "My Music"');const _=(0,n.getAudioFullId)(o);try{p.notifyFx({eventType:c.AudioPlayerEventType.ADDED,params:[_]});let e=o.trackCode;const t=o.context;if(s){const t=await y(o,r,d);t&&(e=t)}const n=async()=>{a?i.addToStore(a):await i.addFx({userId:window.vk.id,trackedIdentity:{...o,ref:t,trackCode:e}})};i.isOwned?i.isOwned((0,v.toMusicAudioIdentity)(o))&&i.restoreFx?await i.restoreFx({identity:o}):await n():a?i.addToStore(a):await n(),p.notifyFx({eventType:c.AudioPlayerEventType.MUSIC_AUDIOS_ADD,params:[o,Boolean(r)&&{audioElement:r}]})}catch(e){throw new Error('Failed to add audio to "My Music"',{cause:e})}}}),b=(0,a.attach)({source:(0,a.combine)({myMusicIdentitiesMap:i.$identitiesMap,initializedIdentitiesMap:m}),async effect({myMusicIdentitiesMap:e,initializedIdentitiesMap:t},{audio:o,audioEl:r=null,forceRemoveFromStoreParams:a,audioRef:s,needReloadTrackCode:m}){if(!o)throw new Error("Audio not exist");const g=(0,n.getAudioFullId)(o),v=Boolean(t[g]),f=(0,l.isMy)({identity:o,myMusicIdentitiesMap:e,isMyMusicActionInitialized:v,userId:window.vk.id}),E=e[g];if(!f&&!E)throw new Error('Audio not found in "My Music"');const A=(0,n.getAudioFullId)(E??o);try{p.notifyFx({eventType:c.AudioPlayerEventType.REMOVED,params:[g,A]}),a?i.removeFromStore(a):await i.deleteFx({identity:E??o}),m?y(o,r,s).then((e=>{(0,u.onAdditionalEvent)(r,o,{type:_.TYPE_REMOVED,trackCode:e||o.trackCode})})):(0,u.onAdditionalEvent)(r,o,{type:_.TYPE_REMOVED,trackCode:o.trackCode});const e=p.getPlaylist({type:d.AudioPlaylist.TYPE_PLAYLIST,ownerId:window.vk.id,albumId:d.AudioPlaylist.DEFAULT_PLAYLIST_ID});e&&e.removeAudio(A),p.notifyFx({eventType:c.AudioPlayerEventType.MUSIC_AUDIOS_DELETE,params:[o,Boolean(r)&&{audioElement:r}]})}catch(e){throw new Error('Failed to delete audio from "My Music"',{cause:e})}}});return(0,a.sample)({clock:[S.done,b.done],filter:({params:{audio:e}})=>Boolean(e),fn:({params:{audio:e}})=>(0,n.getAudioFullId)(e),target:f.add}),(0,a.sample)({clock:[S,b],filter:({audio:e})=>Boolean(e),fn:({audio:e})=>(0,n.getAudioFullId)(e),target:A.add}),(0,a.sample)({clock:[S.finally,b.finally],filter:({params:{audio:e}})=>Boolean(e),fn:({params:{audio:e}})=>(0,n.getAudioFullId)(e),target:A.remove}),{$initializedIdentitiesMap:m,$loadingIdentitiesMap:E,$identitiesMap:i.$identitiesMap,addFx:S,deleteFx:b,restoreFx:i.restoreFx,isOwned:i.isOwned}}async function y(e,t,i){const o=(0,m.getContextPlaylist)(t)??{context:i,playlist:null};return await(0,p.getAudioTrackCodeFromPlaylist)(o?.playlist,e)??null}},270935:(e,t,i)=>{"use strict";i.d(t,{ensureMyAudioMusicWebService:()=>s,isMy:()=>a.isMy});var o=i(558137),r=i(32489),n=i(477227),a=i(678531);const s=(0,o.makeSharedState)("global/web/audio/myMusic",(()=>(0,n.createMyMusicWebService)({domain:(0,r.createDomain)("global/web/audio/myMusic"),name:"global/web/audio/myMusic"})),{version:3})},678531:(e,t,i)=>{"use strict";i.d(t,{isMy:()=>r});var o=i(478455);function r({identity:e,myMusicIdentitiesMap:t,isMyMusicActionInitialized:i,userId:r}){if(!e)return!1;return(0,o.getAudioFullId)(e)in t||!i&&e.ownerId===r}},41523:(e,t,i)=>{"use strict";i.d(t,{RadiostationStatCollector:()=>s});var o=i(558137),r=i(452223),n=i(314309),a=i(847154);class s{constructor(){this.logAddAudioToMyMusic=e=>{this.actionCollector.logEvent({type:r.ActionProductionStatEventTypes.TYPE_AUDIO_TAP_EVENT_ITEM,[r.ActionProductionStatEventTypes.TYPE_AUDIO_TAP_EVENT_ITEM]:{tap_event:{action:r.EventItemType.AUDIO_RADIOSTATION_FOLLOW,from_player:!1},event:{nav_info:{track_code:e?.navInfo},source_info:{track_code:e?.sourceInfo},...c(e)}}})},this.logDeleteAudioFromMyMusic=e=>{this.actionCollector.logEvent({type:r.ActionProductionStatEventTypes.TYPE_AUDIO_TAP_EVENT_ITEM,[r.ActionProductionStatEventTypes.TYPE_AUDIO_TAP_EVENT_ITEM]:{tap_event:{action:r.EventItemType.AUDIO_RADIOSTATION_UNFOLLOW,from_player:!1},event:{nav_info:{track_code:e?.navInfo},source_info:{track_code:e?.sourceInfo},...c(e)}}})},this.logAddAudioToMyMusicInFullList=e=>{this.actionCollector.logEvent({type:r.ActionProductionStatEventTypes.TYPE_AUDIO_TAP_EVENT_ITEM,[r.ActionProductionStatEventTypes.TYPE_AUDIO_TAP_EVENT_ITEM]:{tap_event:{action:r.EventItemType.AUDIO_RADIOSTATION_FOLLOW,from_player:!1},event:{nav_info:{track_code:e?.sourceInfo},...c(e)}}})},this.logDeleteAudioFromMyMusicInFullList=e=>{this.actionCollector.logEvent({type:r.ActionProductionStatEventTypes.TYPE_AUDIO_TAP_EVENT_ITEM,[r.ActionProductionStatEventTypes.TYPE_AUDIO_TAP_EVENT_ITEM]:{tap_event:{action:r.EventItemType.AUDIO_RADIOSTATION_UNFOLLOW,from_player:!1},event:{nav_info:{track_code:e?.sourceInfo},...c(e)}}})},this.logAddAudioToMyMusicInFollowed=e=>{this.actionCollector.logEvent({type:r.ActionProductionStatEventTypes.TYPE_AUDIO_TAP_EVENT_ITEM,[r.ActionProductionStatEventTypes.TYPE_AUDIO_TAP_EVENT_ITEM]:{tap_event:{action:r.EventItemType.AUDIO_RADIOSTATION_FOLLOW,from_player:!1},event:{nav_info:{track_code:e?.sourceInfo},source_info:{track_code:e?.sourceInfo},...c(e)}}})},this.logDeleteAudioFromMyMusicInFollowed=e=>{this.actionCollector.logEvent({type:r.ActionProductionStatEventTypes.TYPE_AUDIO_TAP_EVENT_ITEM,[r.ActionProductionStatEventTypes.TYPE_AUDIO_TAP_EVENT_ITEM]:{tap_event:{action:r.EventItemType.AUDIO_RADIOSTATION_UNFOLLOW,from_player:!1},event:{nav_info:{track_code:e?.sourceInfo},source_info:{track_code:e?.sourceInfo},...c(e)}}})},this.logClickGoto=e=>{const t={type:r.ClickProductionStatEventTypes.TYPE_AUDIO_TAP_GOTO_EVENT_ITEM,[r.ClickProductionStatEventTypes.TYPE_AUDIO_TAP_GOTO_EVENT_ITEM]:{...l(e)}};this.clickCollector.logEvent(t,{type:r.EventItemType.MUSIC_AUDIO})},this.logClickGotoRadioTab=e=>{const t={type:r.ClickProductionStatEventTypes.TYPE_AUDIO_TAP_GOTO_EVENT_ITEM,[r.ClickProductionStatEventTypes.TYPE_AUDIO_TAP_GOTO_EVENT_ITEM]:{...d(e)}};this.clickCollector.logEvent(t,{type:r.EventItemType.MUSIC_AUDIO})},this.logNavigationEventsRadiostations=e=>{const t={screen:"audio_catalog",screen_to:"audio_catalog",subtype:r.NavigationProductionStatEventTypes.GO,item:{type:r.EventItemType.CATALOG_ITEM,track_code:e.item},destination_item:{type:r.EventItemType.CATALOG_ITEM,track_code:e.destinationItem},type:r.NavigationProductionStatEventTypes.TYPE_AUDIO_DOMAIN_EVENT_ITEM,[r.NavigationProductionStatEventTypes.TYPE_AUDIO_DOMAIN_EVENT_ITEM]:{client_server_time:(0,a.getClientServerTime)((0,a.getClientTime)())}};this.navigationCollector.logEvent(t)},this.logPlay=e=>{this.actionCollector.logEvent({type:r.ActionProductionStatEventTypes.TYPE_AUDIO_TAP_PLAY_EVENT_ITEM,[r.ActionProductionStatEventTypes.TYPE_AUDIO_TAP_PLAY_EVENT_ITEM]:{type:r.EventItemType.START,event:{nav_info:{track_code:e?.navInfo},source_info:{track_code:e?.sourceInfo},...c(e)}}})},this.logPlayFromList=e=>{this.actionCollector.logEvent({type:r.ActionProductionStatEventTypes.TYPE_AUDIO_TAP_PLAY_EVENT_ITEM,[r.ActionProductionStatEventTypes.TYPE_AUDIO_TAP_PLAY_EVENT_ITEM]:{type:r.EventItemType.START,event:{nav_info:{track_code:e?.sourceInfo},...c(e)}}})},this.productCollector=new n.ProductionStatCollector,this.actionCollector=new n.ActionStatCollector(this.productCollector),this.clickCollector=new n.ClickStatCollector(this.productCollector),this.navigationCollector=new n.NavigationStatCollector(this.productCollector)}}function c(e){return{client_server_time:(0,a.getClientServerTime)((0,a.getClientTime)()),entities:[{type:"radio",id:e.radioStationId}],pos_ids:[e.radioPositionIndex]}}function l(e){return{event:{client_server_time:(0,a.getClientServerTime)((0,a.getClientTime)()),nav_info:{track_code:e?.navInfo},source_info:{track_code:e?.sourceInfo}},target_nav_info:{url:e?.targetInfo}}}function d(e){return{event:{client_server_time:(0,a.getClientServerTime)((0,a.getClientTime)()),nav_info:{track_code:e?.navInfo}},target_nav_info:{track_code:e?.targetInfo}}}s.ensure=(0,o.makeSharedState)("RadioStatCollector",(()=>new s),{version:1})},555870:(e,t,i)=>{"use strict";i.d(t,{MusicPlaylistLayerListener:()=>T});var o=i(434518),r=i(763812),n=i(70148),a=i(391751),s=i(384810),c=i(983567),l=i(280494),d=i(519290),u=(0,r._)("_emitter"),_=(0,r._)("_player"),p=(0,r._)("_playlistIdentity"),m=(0,r._)("_trackTuples"),g=(0,r._)("_trackRows"),v=(0,r._)("_playButton"),f=(0,r._)("_isCurrentPlayerPlaylist"),y=(0,r._)("_getCurrentPlayerTrackIdentity"),E=(0,r._)("_queryPlayButton"),A=(0,r._)("_connectEvents"),S=(0,r._)("_handlePlayButtonClick"),b=(0,r._)("_handleTrackRowClick");class T{get events(){return(0,o._)(this,u)[u].listenable}constructor({emitterFactory:e,playlistIdentity:t,trackTuples:i,trackRows:r,container:a,playButtonClassName:T}){Object.defineProperty(this,f,{get:I,set:void 0}),Object.defineProperty(this,y,{value:C}),Object.defineProperty(this,E,{value:k}),Object.defineProperty(this,A,{value:P}),Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,_,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),Object.defineProperty(this,m,{writable:!0,value:void 0}),Object.defineProperty(this,g,{writable:!0,value:void 0}),Object.defineProperty(this,v,{writable:!0,value:void 0}),Object.defineProperty(this,S,{writable:!0,value:void 0}),Object.defineProperty(this,b,{writable:!0,value:void 0}),(0,o._)(this,S)[S]=()=>{if(!(0,o._)(this,_)[_].isPaused())try{let e;const t=(0,o._)(this,y)[y]();if(t)e=t;else{const t=(0,o._)(this,m)[m].at(0);t&&(e=n.OwnedIdentity.fromRawId((0,d.getAudioFullId)(t)))}if(!e)return;(0,o._)(this,u)[u].emit("play",{playlistIdentity:(0,o._)(this,p)[p],trackIdentity:e})}catch(e){console.error(e)}},(0,o._)(this,b)[b]=(e,t)=>{if(!(0,o._)(this,_)[_].isPaused())try{const i=(0,s.getAudioFromEl)(e,!1);if(!i)return;const r=(0,l.mapAudioTupleToMusicAudioIdentity)(i);(0,o._)(this,u)[u].emit("playTrack",{playlistIdentity:(0,o._)(this,p)[p],trackIdentity:r,trackPosition:t})}catch(e){console.error(e)}},(0,o._)(this,p)[p]=t,(0,o._)(this,m)[m]=i,(0,o._)(this,g)[g]=r,(0,o._)(this,v)[v]=(0,o._)(this,E)[E](a,T),(0,o._)(this,_)[_]=(0,c.getAudioPlayer)(),(0,o._)(this,u)[u]=e.create(),(0,o._)(this,A)[A]()}}function I(){const e=(0,o._)(this,_)[_].getCurrentPlaylist();if(e)try{const t=(0,l.mapPlaylistToMusicPlaylistIdentity)(e);(0,a.compareIdentities)((0,o._)(this,p)[p],t)}catch{return!1}}function C(){if(!(0,o._)(this,f)[f])return null;try{const e=(0,o._)(this,_)[_].getCurrentAudio();return e?(0,l.mapAudioTupleToMusicAudioIdentity)(e):null}catch(e){return console.error(e),null}}function k(e,t){return e.querySelector(`.${t}`)}function P(){(0,o._)(this,v)[v]&&(0,o._)(this,v)[v].addEventListener("click",(0,o._)(this,S)[S]),(0,o._)(this,g)[g].forEach(((e,t)=>{const i=t+1;e.addEventListener("click",(()=>{(0,o._)(this,b)[b](e,i)}))}))}},984578:(e,t,i)=>{"use strict";i.d(t,{MusicPlaylistLayerListener:()=>o.MusicPlaylistLayerListener});var o=i(555870)},233696:(e,t,i)=>{"use strict";i.d(t,{MusicPlaylistStatsCollector:()=>E});var o=i(434518),r=i(763812),n=i(331635),a=i(132028),s=i(460884),c=i(550490),l=i(452223),d=i(726483),u=i(298005),_=i(251234),p=i(559289),m=i(314309),g=(0,r._)("_actionCollector"),v=(0,r._)("_clickCollector"),f=(0,r._)("_logCommonPlay"),y=(0,r._)("_getSource");class E{logOpen({playlistIdentity:e}){const t={event:(0,d.collectOpenData)({playlistIdentity:e,source:(0,o._)(this,y)[y](e),navScreenProvider:this.navScreenProvider}),target_nav_info:[]},i={type:l.ClickProductionStatEventTypes.TYPE_MUSIC_PLAYLIST_TAP_GOTO,[l.ClickProductionStatEventTypes.TYPE_MUSIC_PLAYLIST_TAP_GOTO]:t};(0,o._)(this,v)[v].logEvent(i,{type:l.EventItemType.MUSIC_PLAYLIST_GOTO})}logPlay({playlistIdentity:e,trackIdentity:t}){const i=(0,u.collectPlayData)({playlistIdentity:e,source:(0,o._)(this,y)[y](e),navScreenProvider:this.navScreenProvider,trackIdentity:t});(0,o._)(this,f)[f](i)}logPlayTrack({playlistIdentity:e,trackIdentity:t,trackPosition:i}){const r=(0,_.collectPlayTrackData)({playlistIdentity:e,trackIdentity:t,trackPosition:i,source:(0,o._)(this,y)[y](e),navScreenProvider:this.navScreenProvider});(0,o._)(this,f)[f](r)}constructor(e,t){Object.defineProperty(this,f,{value:A}),Object.defineProperty(this,y,{value:S}),Object.defineProperty(this,g,{writable:!0,value:void 0}),Object.defineProperty(this,v,{writable:!0,value:void 0}),this.cookie=e,this.navScreenProvider=t;const i=new m.ProductionStatCollector;(0,o._)(this,g)[g]=new m.ActionStatCollector(i),(0,o._)(this,v)[v]=new m.ClickStatCollector(i)}}function A(e){const t={event:e,type:l.EventItemSubType.MUSIC_PLAYLIST_START,target_nav_info:[]},i={type:l.ActionProductionStatEventTypes.TYPE_MUSIC_PLAYLIST_TAP_PLAY,[l.ActionProductionStatEventTypes.TYPE_MUSIC_PLAYLIST_TAP_PLAY]:t};(0,o._)(this,g)[g].logEvent(i)}function S({accessRawId:e}){return(0,p.getOwnedAudioListSource)(e,{cookie:this.cookie})}E=(0,n.__decorate)([a.scope.container(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===c.Cookie?Object:c.Cookie,void 0===s.AudioNavScreenProvider?Object:s.AudioNavScreenProvider])],E)},735754:(e,t,i)=>{"use strict";i.d(t,{collectCommonData:()=>r});var o=i(847154);function r({navScreenProvider:e,playlistIdentity:t,source:i}){return{client_server_time:(0,o.getClientServerTime)(),source_info:{track_code:i?.ref||void 0},nav_info:{track_code:e.catalogSectionId??void 0},entities:n(t)}}function n(e){return[{type:"playlist",id:e.accessRawId}]}},726483:(e,t,i)=>{"use strict";i.d(t,{collectOpenData:()=>n});var o=i(351118),r=i(735754);function n(e){return{...(0,r.collectCommonData)(e),pos_ids:function(e){const t=e?.index;return(0,o.isNumber)(t)?[t+1]:void 0}(e.source)}}},298005:(e,t,i)=>{"use strict";i.d(t,{collectPlayData:()=>r});var o=i(735754);function r(e){const t=(0,o.collectCommonData)(e);return{...t,entities:[...t.entities??[],(i=e.trackIdentity,{type:"audio",id:i.accessRawId})]};var i}},251234:(e,t,i)=>{"use strict";i.d(t,{collectPlayTrackData:()=>r});var o=i(298005);function r(e){return{...(0,o.collectPlayData)(e),pos_ids:[e.trackPosition]}}},348191:(e,t,i)=>{"use strict";i.d(t,{MusicPlaylistStatsCollector:()=>o.MusicPlaylistStatsCollector});var o=i(233696)},197689:(e,t,i)=>{"use strict";i.d(t,{AudioRowMoreTooltipApplication:()=>a});var o=i(474848),r=i(865708),n=i(530928);function a({target:e,portalRoot:t,onShownChange:i}){return(0,o.jsx)(r.AppRootProvider,{children:(0,o.jsx)(n.AudioRowMoreTooltipContainer,{onShownChange:i,target:e,portalRoot:t})})}},377360:(e,t,i)=>{"use strict";i.d(t,{AudioRowMoreTooltipController:()=>m});var o=i(434518),r=i(763812),n=i(142278),a=i(197689),s=i(584053),c=i(558137),l=i(270559),d=(0,r._)("_initiator"),u=(0,r._)("_emitter"),_=(0,r._)("_target"),p=(0,r._)("_handleShownChange");class m{get isMounted(){return this.checkIsMounted()}get events(){return(0,o._)(this,u)[u].listenable}mount(e,t){this.checkIsMounted(e)||((0,o._)(this,_)[_]=e),this.isShown=!0,(0,o._)(this,d)[d].render({target:e,portalRoot:t,onShownChange:(0,o._)(this,p)[p]})}unmount(){this.checkIsMounted()&&(0,o._)(this,d)[d].unmount(),(0,o._)(this,_)[_]=null,this.isShown=!1,(0,o._)(this,u)[u].emit(l.AudioRowMoreTooltipControllerEventType.Closed)}checkIsMounted(e){return(!e||e===(0,o._)(this,_)[_])&&(0,o._)(this,d)[d].isMounted()}constructor(){Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,_,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),this.isShown=!1,(0,o._)(this,d)[d]=(0,n.createReactInitiator)(a.AudioRowMoreTooltipApplication),(0,o._)(this,u)[u]=new s.Emitter,(0,o._)(this,_)[_]=null,(0,o._)(this,p)[p]=e=>{this.isShown=e,e||(this.unmount(),(0,o._)(this,u)[u].emit(l.AudioRowMoreTooltipControllerEventType.Closed))}}}m.ensure=(0,c.makeSharedState)("audio/audioPage/audioRow/moreTooltip/controller",(()=>new m),{version:2})},189942:(e,t,i)=>{"use strict";i.d(t,{AudioRowMoreTooltipController:()=>o.AudioRowMoreTooltipController,AudioRowMoreTooltipControllerEventType:()=>r.AudioRowMoreTooltipControllerEventType});var o=i(377360),r=i(270559)},270559:(e,t,i)=>{"use strict";i.d(t,{AudioRowMoreTooltipControllerEventType:()=>o});var o=function(e){return e.Closed="closed",e}({})},269229:(e,t,i)=>{"use strict";i.d(t,{AudioRowMoreTooltipContainer:()=>P});var o=i(474848),r=i(507852),n=i(723723),a=i(161134),s=i(308951),c=i(726519),l=i(421654),d=i(848659),u=i(664179),_=i(933052),p=i(871186),m=i(875717),g=i(298096),v=i(240557),f=i(293721),y=i(235447),E=i(296540),A=i(866467),S=i(836141),b=i(545549),T=i(35215),I=i(90345);const C=(0,y.ensureAudioRowMoreTooltipService)(),{dislikesService:k}=C;function P({target:e,portalRoot:t=null,onShownChange:i}){const y=(0,f.useUnit)(C.setIsShowTooltip),P=(0,f.useUnit)(C.$audio),O=(0,f.useUnit)(C.$isAudioClaimed),M=(0,f.useUnit)(C.$isEpisode),L=(0,f.useUnit)(C.$isAlbum),D=(0,f.useUnit)(C.$isCurrentAlbumSnippet),R=(0,f.useUnit)(C.$isAudioHasSnippet),N=(0,f.useUnit)(C.$audioPlaylists),x=(0,f.useUnit)(C.$isShowAllPlaylists),F=(0,f.useUnit)(C.$isAudioPlaylistsFetching),U=(0,f.useUnit)(C.$loadingAddToPlaylistFullIdsMap),B=(0,f.useUnit)(C.$addedPlaylistsFullIdsMap),V=(0,f.useUnit)(C.$initializedPlaylistsFullIdsMap),H=(0,f.useUnit)(C.$currentGroupId),j=(0,f.useUnit)(k.$isAudioDisliked),W=(0,f.useUnit)(k.$isDislikeActionLoading),G=R,z=!O&&!M,K=!O&&!M,Y=!O&&L&&!D,$=!O&&!M,q=(0,f.useUnit)(C.copyAudioLinkFx),X=(0,f.useUnit)(C.shareAudioFx),Q=(0,f.useUnit)(C.openEpisodeFx),Z=(0,f.useUnit)(C.openAlbumFx),J=(0,f.useUnit)(C.setNextInPlayerQueueFx),ee=(0,f.useUnit)(k.addFx),te=(0,f.useUnit)(k.removeFx),ie=(0,f.useUnit)(C.addAudioToNewPlaylistFx),oe=(0,f.useUnit)(C.toggleAddAudioToPlaylistFx),re=(0,f.useUnit)(C.showAllPlaylistsFx),ne=(0,E.useMemo)((()=>j?"audio-show-more-tooltip-remove-dislike-button":"audio-show-more-tooltip-add-dislike-button"),[j]);return(0,E.useEffect)((()=>(y(!0),()=>{y(!1)})),[]),(0,o.jsx)(r.DropdownActionSheet,{usePortal:t??!1,width:235,trigger:"hover",restoreFocus:!1,placement:"auto-end",content:(0,o.jsxs)(o.Fragment,{children:[G&&(0,o.jsx)(r.DropdownActionSheet.Item,{before:(0,o.jsx)(s.Icon20ListPlayOutline,{className:(0,n.getColorClass)("color_icon_secondary")}),onClick:()=>((0,I.logSearchAudioClick)(I.SearchClickActionMap.LISTEN_NEXT,P?.trackCode),J()),"data-testid":"audio-row-more-tooltip-set-next-audio",children:(0,A.getLang)("audio_set_next_audio")}),z&&(0,o.jsx)(r.DropdownActionSheet.Item,{before:(0,o.jsx)(c.Icon20CopyOutline,{className:(0,n.getColorClass)("color_icon_secondary")}),onClick:()=>((0,I.logSearchAudioClick)(I.SearchClickActionMap.COPY_LINK,P?.trackCode),q()),"data-testid":"audio-row-more-tooltip-copy-audio-link",keepOpen:!0,children:(0,A.getLang)("audio_copy_audio_link")}),M&&(0,o.jsx)(r.DropdownActionSheet.Item,{before:(0,o.jsx)(l.Icon20PodcastOutline,{className:(0,n.getColorClass)("color_icon_secondary")}),onClick:Q,"data-testid":"audio-row-more-tooltip-podcast-open-episode",children:(0,A.getLang)("audio_podcast_open_episode")}),!O&&(0,o.jsx)(r.DropdownActionSheet.Item,{before:(0,o.jsx)(d.Icon20ShareOutline,{className:(0,n.getColorClass)("color_icon_secondary")}),onClick:()=>((0,I.logSearchAudioClick)(I.SearchClickActionMap.SHARE,P?.trackCode),X()),"data-testid":"audio-row-more-tooltip-share-audio",children:(0,A.getLang)("audio_share_audio")}),K&&(0,o.jsx)(r.DropdownActionSheet.Item,{before:j?(0,o.jsx)(u.Icon20ThumbsDown,{className:(0,n.getColorClass)("color_icon_secondary")}):(0,o.jsx)(_.Icon20ThumbsDownOutline,{className:(0,n.getColorClass)("color_icon_secondary")}),keepOpen:j,onClick:()=>{if(j)return(0,I.logSearchAudioClick)(I.SearchClickActionMap.REMOVE_DISLIKE,P?.trackCode),void te({needReloadTrackCode:!0});(0,I.logSearchAudioClick)(I.SearchClickActionMap.DISLIKE,P?.trackCode),ee({skipDeletionAudioFromMyMusic:(0,T.isNumber)(H),needReloadTrackCode:!0})},disabled:W,"data-testid":ne,children:(0,A.getLang)("audio_action_dislike")}),Y&&(0,o.jsx)(r.DropdownActionSheet.Item,{before:(0,o.jsx)(p.Icon20VinylOutline,{className:(0,n.getColorClass)("color_icon_secondary")}),onClick:()=>((0,I.logSearchAudioClick)(I.SearchClickActionMap.OPEN_ALBUM,P?.trackCode),Z()),"data-testid":"audio-row-more-tooltip-open-album",children:(0,A.getLang)("audio_open_album")}),$&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.DropdownActionSheet.Separator,{}),(0,o.jsx)(a.DropdownActionSubSheet,{before:(0,o.jsx)(m.Icon20ListPlusOutline,{className:(0,n.getColorClass)("color_icon_secondary")}),disabled:F,shown:!0,sheet:(0,o.jsx)(o.Fragment,{children:F?(0,o.jsx)(a.DropdownActionSubSheet.Item,{loading:!0,disabled:!0,keepOpen:!0,children:(0,A.getLang)("audio_action_sub_sheet_additional_loading")}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.DropdownActionSubSheet.Item,{before:(0,o.jsx)(g.Icon24Add,{className:(0,n.getColorClass)("color_icon_secondary")}),onClick:()=>((0,I.logSearchAudioClick)(I.SearchClickActionMap.ADD_TO_PLAYLIST,P?.trackCode),ie()),"data-testid":"audio-row-more-tooltip-add-to-new-playlist",children:(0,A.getLang)("audio_add_to_new_pl")}),N?.map(((e,t)=>{if(!P||!e)return null;const i=(0,S.getAudioPlaylistId)(P.id,e.id),r=i in V?i in B:e.hasTargetAudio;return(0,o.jsx)(E.Fragment,{children:(0,o.jsx)(a.DropdownActionSubSheet.Item,{keepOpen:!0,loading:!!P&&i in U,before:r?(0,o.jsx)(v.Icon20Check,{className:(0,n.getColorClass)("color_icon_secondary")}):null,onClick:()=>((0,I.logSearchAudioClick)(I.SearchClickActionMap.ADD_TO_PLAYLIST,P?.trackCode),oe(e)),"data-testid":"audio-row-more-tooltip-add-to-playlist",children:e.title??""})},null===e.id?t:e.id)})),x&&(0,o.jsx)(a.DropdownActionSubSheet.Item,{onClick:re,"data-testid":"audio-row-more-tooltip-show-all-playlists",children:(0,A.getLang)("audio_row_show_all_playlists")})]})}),children:(0,A.getLang)("audio_add_to_playlist")})]})]}),shown:!0,onShownChange:i,children:(0,o.jsx)(b.ForwardElementRef,{element:e})})}},541840:(e,t,i)=>{"use strict";i.d(t,{AudioRowMoreTooltipContainer:()=>o.AudioRowMoreTooltipContainer});var o=i(269229)},530928:(e,t,i)=>{"use strict";i.d(t,{AudioRowMoreTooltipContainer:()=>o.AudioRowMoreTooltipContainer});var o=i(541840)},357319:(e,t,i)=>{"use strict";i.d(t,{AudioRowMoreTooltipController:()=>o.AudioRowMoreTooltipController,AudioRowMoreTooltipControllerEventType:()=>o.AudioRowMoreTooltipControllerEventType,ensureAudioRowMoreTooltipService:()=>r.ensureAudioRowMoreTooltipService});var o=i(189942),r=i(235447)},2884:(e,t,i)=>{"use strict";i.d(t,{createAudioPlaylistsDataService:()=>b});var o=i(761520),r=i(459899),n=i(351118),a=i(32489),s=i(468073),c=i(921832),l=i(30899),d=i(478455),u=i(586049),_=i(163374),p=i(625523),m=i(602337),g=i(330856),v=i(752740),f=i(972623),y=i(270959),E=i(30052),A=i(836141),S=i(278758);function b({domain:e,$audio:t,$audioTuple:i,$audioEl:m,$isShowTooltip:b}){const C=r.AudioPageProxy.ensure(),k=(0,l.ensureMyAudioPlaylistsService)(),P=e.createEvent(),O=t.map((e=>e&&e.id&&e.ownerId?(0,d.getAudioFullId)({id:e.id,ownerId:e.ownerId}):null)),{$audioPlaylistsDataMap:M,audioPlaylistsDataMapApi:L}=(0,c.createAudioPlaylistsDataMap)(e),{$fullIdsMap:D,fullIdsMapApi:R}=(0,u.createFullIdsMap)(e),{$fullIdsMap:N,fullIdsMapApi:x}=(0,u.createFullIdsMap)(e),{$fullIdsMap:F,fullIdsMapApi:U}=(0,u.createFullIdsMap)(e),{$fullIdsMap:B,fullIdsMapApi:V}=(0,u.createFullIdsMap)(e),H=(0,a.combine)({audioFullId:O,audioPlaylistsDataMap:M}).map((({audioFullId:e,audioPlaylistsDataMap:t})=>Boolean(e)&&(0,n.isString)(e)?t[e]??null:null)),{$audioPlaylists:j,$isShowAllPlaylists:W,$newPlaylistHash:G}=(0,p.reshape)({source:H,shape:{$audioPlaylists:e=>e?.playlists||[],$isShowAllPlaylists:e=>e?.isShowAllPlaylists||!1,$newPlaylistHash:e=>e?.newPlaylistHash||null}}),z=(0,a.combine)({audioFullId:O,loadingFetchingFullIdsMap:D}).map((({audioFullId:e,loadingFetchingFullIdsMap:t})=>!!e&&Boolean(t[e]))),K=e.createEffect((async e=>{if(!e)throw new Error("Audio not exists");const t=I(C);try{const i=await o.ajax.promisifiedPost("al_audio.php",{act:"playlists_by_audio",owner_id:t,audio_owner_id:e.ownerId,audio_id:e.id});if(!i)throw new Error("Unknown error when fetching playlists by audio");const[r,n,a]=i;return{playlists:(r||[]).map(T),isShowAllPlaylists:n||!1,newPlaylistHash:a||null}}catch(e){throw new Error("Error when fetching playlists by audio",{cause:e})}})),Y=(0,a.attach)({source:t,effect:async e=>K(e)}),$=(0,a.attach)({source:(0,a.combine)({audioTuple:i,newPlaylistHash:G}),effect({audioTuple:e,newPlaylistHash:t}){if(!e)throw new Error("Audio not exists");if(!t)throw new Error("Playlist hash not exists");const i=I(C);(0,g.editPlaylist)(i,!1,"edit",{addAudio:e,newPlaylistHash:t,onSavePlaylistDone(){P()}})}}),q=(0,a.attach)({source:(0,a.combine)({audioEl:m,addedPlaylistsFullIdsMap:F,initializedPlaylistsFullIdsMap:B,addedAudiosMap:k.$addedAudiosMap}),async effect({audioEl:e,addedPlaylistsFullIdsMap:t,initializedPlaylistsFullIdsMap:i,addedAudiosMap:o},{audio:r,playlist:n}){if(!r||!e)throw new Error("Audio not exists");const a=(0,A.getAudioPlaylistId)(r.id,n.id),c=a in i?a in t:n.hasTargetAudio,l=s.Ranges.isGroupId(n.ownerId)?n.ownerId:window.vk.id;if(k.setUserId(l),c){const e=o[(0,_.getPlaylistAudioFullId)({playlist:{id:n.id,ownerId:n.ownerId},originalAudio:r})]??{id:r.id,ownerId:l};await k.deleteAudioFx({originalAudioIdentity:r,audioIdentity:e,playlistId:n.id})}else await k.addAudioFx({audioIdentity:r,playlistId:n.id});(0,v.onAdditionalEvent)(e,r,{type:c?f.TYPE_REMOVED:f.TYPE_ADDED,subtype:f.SUBTYPE_PLAYLIST})}}),X=(0,a.attach)({source:t,async effect(e,t){await q({audio:e,playlist:t})}}),Q=(0,a.attach)({source:j,async effect(e,t){if(e&&t){for(const i of e){const e=(0,A.getAudioPlaylistId)(t.id,i.id);x.remove(e),U.remove(e),V.remove(e)}L.remove((0,d.getAudioFullId)(t))}}}),Z=(0,a.attach)({source:t,effect(e){if(!e)throw new Error("Audio not exists");const t=I(C);(0,y.showBox)("al_audio.php?act=more_playlists_add",{owner_id:t,audio_owner_id:e.ownerId,audio_id:e.id},{params:{bodyStyle:"padding: 0px",width:560},onDone(){Q(e)}})}});return(0,a.sample)({source:H,clock:(0,a.combine)({audio:t,isShowTooltip:b}),filter:(e,{isShowTooltip:t,audio:i})=>t&&!e&&Boolean(i)&&s.Ranges.isUserId(window.vk.id),target:Y}),(0,a.sample)({source:O,clock:Y.doneData,filter:e=>Boolean(e),fn:(e,t)=>({audioFullId:e,playlistsData:t}),target:L.add}),(0,a.sample)({clock:K,filter:e=>Boolean(e),fn:e=>(0,d.getAudioFullId)({id:e.id,ownerId:e.ownerId}),target:R.add}),(0,a.sample)({clock:K.finally,filter:({params:e})=>Boolean(e),fn:({params:e})=>{const t=e;return(0,d.getAudioFullId)({id:t.id,ownerId:t.ownerId})},target:R.remove}),(0,a.sample)({clock:q,filter:({audio:e,playlist:t})=>Boolean(e)&&Boolean(t),fn:({audio:e,playlist:t})=>(0,A.getAudioPlaylistId)(e.id,t.id),target:x.add}),(0,a.sample)({clock:q.finally,filter:({params:{audio:e,playlist:t}})=>Boolean(e)&&Boolean(t),fn:({params:e})=>{const{audio:t,playlist:i}=e;return(0,A.getAudioPlaylistId)(t.id,i.id)},target:x.remove}),(0,a.sample)({source:(0,a.combine)({addedPlaylistsFullIdsMap:F,initializedPlaylistsFullIdsMap:B}),clock:q.done,filter:(e,{params:{audio:t,playlist:i}})=>Boolean(t)&&Boolean(i),fn:({addedPlaylistsFullIdsMap:e,initializedPlaylistsFullIdsMap:t},{params:i})=>{const{audio:o,playlist:r}=i,n=(0,A.getAudioPlaylistId)(o.id,r.id);return{added:n in t?n in e:r.hasTargetAudio,audioPlaylistId:n}},target:[V.add.prepend((({audioPlaylistId:e})=>e)),(0,E.condition)({if:({added:e})=>e,then:U.remove.prepend((({audioPlaylistId:e})=>e)),else:U.add.prepend((({audioPlaylistId:e})=>e))})]}),(0,S.reset)({clock:P,target:[M,D,N,B,F]}),{$audioPlaylists:j,$isShowAllPlaylists:W,$isAudioPlaylistsFetching:z,$loadingAddToPlaylistFullIdsMap:N,$addedPlaylistsFullIdsMap:F,$initializedPlaylistsFullIdsMap:B,addAudioToNewPlaylistFx:$,toggleAddAudioToPlaylistFx:X,showAllPlaylistsFx:Z}}function T(e){return{ownerId:+e[m.AudioPlaylistTupleKeys.OwnerId],id:+e[m.AudioPlaylistTupleKeys.Id],title:e[m.AudioPlaylistTupleKeys.Title]||null,hasTargetAudio:e[m.AudioPlaylistTupleKeys.HasTargetAudio]||!1,actionHash:e[m.AudioPlaylistTupleKeys.ActionHash]||null}}function I(e){let t;return t=(0,n.isNumber)(e.ownerId)&&e.ownerId<0&&e.canEditGroup?e.ownerId:window.vk.id,t}},836141:(e,t,i)=>{"use strict";function o(e,t){return`${e}_${t}`}i.d(t,{getAudioPlaylistId:()=>o})},775784:(e,t,i)=>{"use strict";i.d(t,{createAudioPlaylistsDataService:()=>o.createAudioPlaylistsDataService});var o=i(2884)},921832:(e,t,i)=>{"use strict";i.d(t,{createAudioPlaylistsDataMap:()=>a});var o=i(32489),r=i(46201),n=i(786979);function a(e){const t=e.createStore({});return{$audioPlaylistsDataMap:t,audioPlaylistsDataMapApi:(0,o.createApi)(t,{add:(e,{audioFullId:t,playlistsData:i})=>(0,r.addPairToMap)(e,{key:t,value:i}),remove:(e,t)=>(0,n.removePairFromMap)(e,t)})}}},602337:(e,t,i)=>{"use strict";i.d(t,{AudioPlaylistTupleKeys:()=>o});var o=function(e){return e[e.OwnerId=0]="OwnerId",e[e.Id=1]="Id",e[e.Title=2]="Title",e[e.HasTargetAudio=3]="HasTargetAudio",e[e.ActionHash=4]="ActionHash",e}({})},832486:(e,t,i)=>{"use strict";i.d(t,{createAudioRowMoreTooltipService:()=>S});var o=i(746573),r=i(35215),n=i(584053),a=i(32489),s=i(810780),c=i(251458),l=i(518051),d=i(490634),u=i(487967),_=i(372372),p=i(282614),m=i(449543),g=i(599621),v=i(459899),f=i(674522),y=i(775784),E=i(803111),A=i(991590);function S(e){const t=(0,o.getEffectorServiceDomain)(e),i=v.AudioPageProxy.ensure(),S=(0,E.ensureAudioPlayerService)(),T=new n.Emitter,I=(0,a.createEvent)(),C=t.createEvent(),k=t.createEvent(),P=(0,a.restore)(C,!1),O=t.createStore(null),M=t.createStore(null),L=t.createStore(null),D=t.createStore(null),R=t.createStore(null),N=(0,a.restore)(k,null),{$audioPlaylists:x,$isShowAllPlaylists:F,$isAudioPlaylistsFetching:U,$loadingAddToPlaylistFullIdsMap:B,$addedPlaylistsFullIdsMap:V,$initializedPlaylistsFullIdsMap:H,addAudioToNewPlaylistFx:j,toggleAddAudioToPlaylistFx:W,showAllPlaylistsFx:G}=(0,y.createAudioPlaylistsDataService)({domain:t,$audio:M,$audioEl:O,$audioTuple:L,$isShowTooltip:P}),z=M.map((e=>!!e&&Boolean(e?.isClaimed))),K=M.map((e=>!!e&&Boolean((0,c.isPodcast)(e)))),Y=M.map((e=>!!e&&Boolean(e?.album))),$=M.map((e=>!!e&&Boolean(e?.isCurrentAlbumSnippet))),q=(0,a.combine)({audioEl:O,audio:M}).map((({audioEl:e,audio:t})=>{if(!e||!t)return!1;const i=(0,l.getContextPlaylist)(e,!0),[o,r]=(0,d.contextSplit)(i);if(!o||"my_audios_block"===r)return Boolean(t?.isInSnippet);switch(o){case"search_results":case"catalog":case"album_page":case"my":case"module":case"user_list":case"group_list":case"edit_playlist":return!0}return Boolean(t?.isInSnippet)})),X=(0,f.createMusicAudioMyDislikesService)({domain:t,$audio:M,$audioEl:O}),Q=(0,a.attach)({source:(0,a.combine)({audio:M,audioLinkPathname:D,audioAccessKey:R}),async effect({audio:e,audioLinkPathname:t,audioAccessKey:i}){if(!e)throw new Error("Audio not exist");t?await(0,_.copyAudioLink)(t):await(0,u.copyAudioLinkByIdentity)(e,i??""),window.vk.id&&T.emit(A.AudioRowMoreTooltipServiceEventType.AudioLinkCopied,e)}}),Z=(0,a.attach)({source:(0,a.combine)({audioEl:O,currentAudio:M}),effect:({audioEl:e,currentAudio:t})=>{const o=t||i.readyAudio;if(!e||!o)throw new Error("Audio not exist");o&&(0,p.shareAudio)(e??!1,o)}}),J=(0,a.attach)({source:(0,a.combine)({audioEl:O,currentAudio:M}),effect:({audioEl:e,currentAudio:t})=>{const o=t||i.readyAudio;if(!e||!o)throw new Error("Audio not exist");o&&(0,m.openEpisode)(e??!1,o)}}),ee=(0,a.attach)({source:(0,a.combine)({audioEl:O,currentAudio:M}),effect:({audioEl:e,currentAudio:t})=>{const o=t||i.readyAudio;if(!e||!o)throw new Error("Audio not exist");o&&(0,g.showAudioAlbum)(e??!1,o)}}),te=(0,a.attach)({source:(0,a.combine)({audioEl:O,audio:M}),effect:({audioEl:e,audio:t})=>{if(!e||!t)throw new Error("Audio not exist");t&&S.setNextFx({audioEl:e,audio:t})}}),ie=(0,a.attach)({source:M,async effect(e){if(!e)throw new Error("Audio not exists");const t=i.ownerId&&(0,r.isNumber)(i.ownerId)&&i.ownerId<0&&i.canAddToGroup&&i.ownerId!==e.ownerId;k(t?-i.ownerId:null)}});return(0,s.spread)({source:I.map(b),targets:{audioEl:O,audioTuple:L,audio:M,audioLinkPathname:D,audioAccessKey:R}}),i.events.on(v.AudioPageEventType.Updated,(()=>{ie()})),{init:I,$audio:M,$audioEl:O,$isAudioClaimed:z,$isEpisode:K,$isAlbum:Y,$isCurrentAlbumSnippet:$,$isAudioHasSnippet:q,$audioPlaylists:x,$isShowAllPlaylists:F,$isAudioPlaylistsFetching:U,$loadingAddToPlaylistFullIdsMap:B,$addedPlaylistsFullIdsMap:V,$initializedPlaylistsFullIdsMap:H,$currentGroupId:N,setIsShowTooltip:C,copyAudioLinkFx:Q,shareAudioFx:Z,openEpisodeFx:J,openAlbumFx:ee,setNextInPlayerQueueFx:te,addAudioToNewPlaylistFx:j,toggleAddAudioToPlaylistFx:W,showAllPlaylistsFx:G,dislikesService:X,events:T.listenable}}function b(e){return{audioEl:e.audioEl??null,audio:e.audio??null,audioTuple:e.audioTuple,audioLinkPathname:e?.audioLinkPathname||e.audio?.trackPageId||null,audioAccessKey:e?.audioAccessKey||null}}},991590:(e,t,i)=>{"use strict";i.d(t,{AudioRowMoreTooltipServiceEventType:()=>o});var o=function(e){return e.AudioLinkCopied="audioLinkCopied",e}({})},235447:(e,t,i)=>{"use strict";i.d(t,{ensureAudioRowMoreTooltipService:()=>a});var o=i(558137),r=i(32489),n=i(832486);const a=(0,o.makeSharedState)("audio/audioPage/audioRow/moreTooltip",(()=>(0,n.createAudioRowMoreTooltipService)({domain:(0,r.createDomain)("audio/audioPage/audioRow/moreTooltip"),name:"audio/audioPage/audioRow/moreTooltip"})),{version:3})},545549:(e,t,i)=>{"use strict";i.d(t,{ForwardElementRef:()=>o});const o=(0,i(296540).forwardRef)((function({element:e,getRootRef:t},i){return t&&r(t,e),r(i,e),null}));function r(e,t){e&&("function"==typeof e?e(t):e.current=t)}},863024:(e,t,i)=>{"use strict";i.d(t,{SaveUserForQuickLoginBox:()=>m});var o=i(474848),r=i(296540),n=i(866467),a=i(314309),s=i(211413),c=i(694244),l=i(782174),d=i(63614),u=i(303800),_=i(908242),p=i(454154);const m=({logoutUrl:e,onLogout:t,onClose:i})=>{const[m,g]=(0,r.useState)(!0),v=()=>{a.vkConnectNavigationCollector.logCancelOnExit(),i()};return(0,r.useEffect)((()=>{a.vkConnectNavigationCollector.logSaveLoginModalShow()}),[]),(0,o.jsxs)(c.ModalBox,{children:[(0,o.jsx)(l.ModalHeader,{onClose:v,closeAriaLabel:(0,n.getLang)("global_close"),children:(0,n.getLang)("vkconnect_logout_save_user_dialog_title")}),(0,o.jsx)(d.ModalBody,{insetLevel:1,children:(0,o.jsx)(u.Div,{children:(0,o.jsx)(s.SettingsCellSwitch,{description:(0,n.getLang)("vkconnect_logout_save_user_dialog_description_text"),checked:m,onChange:e=>g(e.target.checked),children:(0,n.getLang)("vkconnect_logout_save_user_dialog_description_title")})})}),(0,o.jsx)(_.ModalFooter,{actions:[(0,o.jsx)(p.Button,{"data-testid":"cancel_button",size:"s",mode:"secondary",onClick:v,children:(0,n.getLang)("global_cancel")},"close"),(0,o.jsx)(p.Button,{"data-testid":"save_button",size:"s",mode:"primary",onClick:()=>{let i="&save_user=0";m&&(i="&save_user=1"),t(`${e}${i}`)},children:(0,n.getLang)("global_head_logout")},"logout")]})]})}},996473:(e,t,i)=>{"use strict";i.d(t,{logout:()=>_,logoutForVKVideoStandalone:()=>g,logoutWithDialog:()=>m});var o=i(474848),r=i(957994),n=i(863024),a=i(211413),s=i(638112),c=i(586138),l=i(18992),d=i(319756),u=i(540462);const _=(e,t)=>{(0,u.partConfigEnabled)("clear_data_cache")&&(0,d.ensureDIRootWebContainer)().resolve(l.DataCache).clearDB(),(0,r.removeLoginCache)(e,t)},p=e=>{_(),window.location.href=e},m=(e,t=p)=>{(0,r.login)("check_user_saved").then((i=>{const{feature_enabled:r,is_user_saved:s}=i;r&&!s?(0,a.showMessageBoxModal)((i=>(0,o.jsx)(n.SaveUserForQuickLoginBox,{...i,logoutUrl:e,onLogout:t})),{width:420}):t(e)})).catch((()=>{t(e)}))},g=()=>{m("/",(()=>{(0,s.onVKVideoLogout)("/",c.VK_WEB_VKVIDEO_APP_ID,"al_video.php",p)}))}},556351:(e,t,i)=>{"use strict";i.d(t,{writeLogout:()=>s});var o=i(636576),r=i(146175),n=i(64323),a=i(239895);const s=(e="unknown",t="",i="")=>{if(!t)return;let s=0;try{const e=(0,r.imDbGet)(window.vk.id);Object.entries(e).forEach((function(e){const t=e[0],i=e[1];t.startsWith("draft_")&&(i.txt||i.attaches&&i.attaches.length)&&s++}))}catch(e){}i&&((0,n.logSwitcherDropAccount)(i),localStorage.setItem(a.NOTIFY_SWITCH_KEY,"0")),(0,n.prepareLogSwitchAccountEvent)(),(0,o.statlogsValueEvent)("logout_stat",e,t,s)}},15614:(e,t,i)=>{"use strict";i.d(t,{UI_GALLERY_CLASSNAME:()=>o,UI_GALLERY_CONTENT_CLASSNAME:()=>n,UI_GALLERY_INNER_CLASSNAME:()=>r});const o="ui_gallery",r="ui_gallery__inner",n="ui_gallery__inner_cont"},541839:(e,t,i)=>{"use strict";i.d(t,{TOOLTIP_CLASSES_DEFAULT:()=>n,helpHintTooltip:()=>a});var o=i(761520),r=i(250598);const n="feature_intro_tt feature_intro_blue_tt feature_info_tooltip",a=(e,t,i={})=>{let a;const s={...{autoShow:!1,cls:n,content:t.content,withCloseButton:!0,noAutoHideOnWindowClick:!0,onHide:()=>{a?.destroy()},width:230},...i,onDestroy:()=>{var e;"isServerSideHideDisabled"in(e=t)&&e.isServerSideHideDisabled||o.ajax.post("al_index.php",{act:"help_hints_hide",hash:t.helpHintHash,hint_id:t.helpHintId}),t.onHideRequestSent?.(),i.onDestroy&&i.onDestroy()}};return"helpHintId"in t&&(s.helpHintId=t.helpHintId,s.skipShow=Boolean(t.skipShow)),a=new r.ElementTooltip(e,s),window.cur?.destroy?.push((()=>{a?.destroy()})),{tooltip:a}}},973365:(e,t,i)=>{"use strict";i.d(t,{DIRootWebProvider:()=>v,ensureDIRootWebContainer:()=>g});var o=i(474848),r=i(132028),n=i(407869),a=i(341263),s=i(847629),c=i(327570),l=i(376562),d=i(425194),u=i(207011),_=i(685007),p=i(611780),m=i(682323);function g(){return(0,n.ensureDIRootContainer)({SnackbarImpl:l.SnackbarImpl,VideoDownloadImpl:d.VideoDownloadImpl,PushNotifierImpl:u.PushNotifierImpl,PhotoViewerImpl:_.PhotoViewerImpl,GlobalAudioPlayerProviderImpl:c.WebGlobalAudioPlayerProvider,AudioPlatformConfigImpl:a.WebAudioPlatformConfig,ModelEventsHandlersImpl:p.ModelEventsHandlersImpl,MiniAppLaunchServiceImpl:s.WebMiniAppLaunchService,NotifierImpl:m.NotifierImpl})}function v({children:e}){return(0,o.jsx)(r.DIProvider,{instance:g(),children:e})}},611780:(e,t,i)=>{"use strict";i.d(t,{ModelEventsHandlersImpl:()=>a});var o=i(331635),r=i(132028),n=i(551178);class a{onStartInit({isPage:e}){e&&this.performanceStatsCore.send(n.PerformanceStatsCoreEventType.APP_INIT_STARTED)}onFinishInit({isPage:e}){e&&this.performanceStatsCore.send(n.PerformanceStatsCoreEventType.APP_INIT_DONE)}constructor(e){this.performanceStatsCore=e}}a=(0,o.__decorate)([r.scope.transient(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===n.PerformanceStatsCore?Object:n.PerformanceStatsCore])],a)},682323:(e,t,i)=>{"use strict";i.d(t,{NotifierImpl:()=>n});var o=i(331635),r=i(132028);class n{get tabIsMaster(){return window.Notifier?.tabIsMaster()??!1}}n=(0,o.__decorate)([r.scope.global()],n)},685007:(e,t,i)=>{"use strict";i.d(t,{PhotoViewerImpl:()=>n});var o=i(331635),r=i(132028);class n{async open(){console.log("Обозреватель фото не имплементирован")}}n=(0,o.__decorate)([r.scope.global()],n)},207011:(e,t,i)=>{"use strict";i.d(t,{PushNotifierImpl:()=>n});var o=i(331635),r=i(132028);class n{async canBeEnabled(){return!!window.pushNotifier&&await window.pushNotifier.canBeEnabled()}getPermission(){return Notification.permission}requestPermission(){return window.pushNotifier?.requestPermission()}removeMessageNotification(e,t){window.pushNotifier?.removeMessageNotification(e,t)}getPermissionStatus(){if("navigator"in window&&window.navigator.permissions)return window.navigator.permissions.query({name:"notifications"})}}n=(0,o.__decorate)([r.scope.global()],n)},376562:(e,t,i)=>{"use strict";i.d(t,{SnackbarImpl:()=>c});var o=i(331635),r=i(474848),n=i(132028),a=i(432465),s=i(344356);class c{show({text:e,duration:t,type:i,subtitle:o,action:n,bottomAction:c,before:l,interpolate:d,onClose:u}){const _={text:d?(0,r.jsx)(s.Interpolate,{children:e}):e};if(t&&(_.timeout=t),i&&(_.type=i),o&&(_.subtitle=d?(0,r.jsx)(s.Interpolate,{children:o}):o),n){const{onClick:e,...t}=n;_.action=t,e&&(_.action.onClick=(t,i)=>{e(t,i)})}if(c){const{onClick:e,...t}=c;_.action=t,e&&(_.action.onClick=(t,i)=>{e(t,i)})}l&&(_.before={avatar:l.avatar?{url:l.avatar}:void 0,content:l.content}),u&&(_.onClose=u),(0,a.showSnackbar)(_)}hide(e){(0,a.hideSnackbar)(e)}}c=(0,o.__decorate)([n.scope.global()],c)},425194:(e,t,i)=>{"use strict";i.d(t,{VideoDownloadImpl:()=>n});var o=i(331635),r=i(132028);class n{save({href:e,title:t}){if(!e)return;const i=document.createElement("a");i.href=e,i.download=`${t}.mp4`,document.body.appendChild(i),i.click(),document.body.removeChild(i)}}n=(0,o.__decorate)([r.scope.global()],n)},327570:(e,t,i)=>{"use strict";i.d(t,{WebGlobalAudioPlayerProvider:()=>a});var o=i(331635),r=i(132028),n=i(103466);class a extends n.GlobalAudioPlayerProvider{async lazyCreateImpl(){const{WebGlobalAudioPlayerImpl:e}=await Promise.all([i.e(91498),i.e(762),i.e(79210),i.e(89887),i.e(36943),i.e(98897),i.e(70715),i.e(28365),i.e(98271),i.e("langs/web/audio_web_globalPlayerImpl")]).then(i.bind(i,452309));return r.rootContainer.resolve(e)}}a=(0,o.__decorate)([r.scope.global()],a)},319756:(e,t,i)=>{"use strict";i.r(t),i.d(t,{DIRootWebProvider:()=>o.DIRootWebProvider,ensureDIRootWebContainer:()=>o.ensureDIRootWebContainer});var o=i(973365)},965494:(e,t,i)=>{"use strict";i.d(t,{EcoPlateAnalytics:()=>c,EcoPlateAnalyticsContext:()=>l});var o=i(452223),r=i(314309),n=i(19589),a=i(296540),s=i(1109);class c{updateThemeField(){this.theme=n.colorScheme.getMode()===n.ColorSchemeMode.Auto?"system":n.colorScheme.getMode()}init(e,t,i,o,r=!1,a=!1){this.securityStatus=e===s.AccountSecurityLevelEnumNames.HAVE_ISSUES?"critical_vulnerabilities":e===s.AccountSecurityLevelEnumNames.HAVE_RECOMMENDATIONS?"protection_recommendations":"securely_protected",this.nftAvatar=t,this.isVerified=i,this.multiaccId=o,this.hasBanner=r,this.hasPhoneActualizationBanner=a,this.unsubscribeThemeListener=n.colorScheme.subscribe((()=>{this.updateThemeField()}))}getCommonFields(){const e=[{names:o.VkidEcosystemNavigationItem.AVATAR,values:o.VkidEcosystemNavigationItemPlace.ECOSYSTEM},{names:o.VkidEcosystemNavigationItem.VKID_LK,values:o.VkidEcosystemNavigationItemPlace.ECOSYSTEM},{names:o.VkidEcosystemNavigationItem.BALANCE,values:o.VkidEcosystemNavigationItemPlace.VK},{names:o.VkidEcosystemNavigationItem.QR_SIGN_IN,values:o.VkidEcosystemNavigationItemPlace.VK},{names:o.VkidEcosystemNavigationItem.SETTINGS,values:o.VkidEcosystemNavigationItemPlace.VK},{names:o.VkidEcosystemNavigationItem.THEME,values:o.VkidEcosystemNavigationItemPlace.VK},{names:o.VkidEcosystemNavigationItem.HELP,values:o.VkidEcosystemNavigationItemPlace.VK},{names:o.VkidEcosystemNavigationItem.LOGOUT,values:o.VkidEcosystemNavigationItemPlace.VK},{names:o.VkidEcosystemNavigationItem.SWITCHER,values:o.VkidEcosystemNavigationItemPlace.MULTIACCOUNT}];return this.hasBanner&&e.push({names:o.VkidEcosystemNavigationItem.AD_BANNER,values:o.VkidEcosystemNavigationItemPlace.VK}),this.hasPhoneActualizationBanner&&e.push({names:o.VkidEcosystemNavigationItem.ACTUAL_PHONE_BANNER,values:o.VkidEcosystemNavigationItemPlace.VK}),{multiacc_id:this.multiaccId,metadata:JSON.stringify({security_status:this.securityStatus,theme:this.theme,nft_avatar:this.nftAvatar,is_verified:this.isVerified}),options:e}}logTopNavItemClick(e){e!==o.VkidEcosystemNavigationItemEventType.LOGOUT?r.vkIdEcosystemNavigationCollector.logEvent({event:o.VkidEcosystemNavigationItemEventType.TAP,item:e,...this.getCommonFields()}):r.vkIdEcosystemNavigationCollector.logEvent({event:o.VkidEcosystemNavigationItemEventType.LOGOUT,...this.getCommonFields()},{force:!0})}logThemeChange(){r.vkIdEcosystemNavigationCollector.logEvent({event:o.VkidEcosystemNavigationItemEventType.THEME_CHANGED,item:o.VkidEcosystemNavigationItem.THEME,...this.getCommonFields()})}logTopNavToggle(e){r.vkIdEcosystemNavigationCollector.logEvent({event:e?o.VkidEcosystemNavigationItemEventType.OPEN:o.VkidEcosystemNavigationItemEventType.CLOSE,...this.getCommonFields()})}logApiError(){r.vkIdEcosystemNavigationCollector.logEvent({event:o.VkidEcosystemNavigationItemEventType.ERROR_API,...this.getCommonFields()})}logSwitcherError(){r.vkIdEcosystemNavigationCollector.logEvent({event:o.VkidEcosystemNavigationItemEventType.ERROR_SWITCHER,...this.getCommonFields()})}logMultiaccAddAnotherTap(){r.vkIdEcosystemNavigationCollector.logEvent({event:o.VkidEcosystemNavigationItemEventType.ADD_ANOTHER_ACCOUNT_TAP,...this.getCommonFields()})}logMultaccSwitchAccountTap(){r.vkIdEcosystemNavigationCollector.logEvent({event:o.VkidEcosystemNavigationItemEventType.SWITCH_ACCOUNT_TAP,...this.getCommonFields()})}logMultaccDropAccountTap(){r.vkIdEcosystemNavigationCollector.logEvent({event:o.VkidEcosystemNavigationItemEventType.DROP_ACCOUNT_TAP,...this.getCommonFields()})}logSecurityRecommShow(){r.vkIdEcosystemNavigationCollector.logEvent({event:o.VkidEcosystemNavigationItemEventType.SECURITY_RECCOMENDATION_SHOW,...this.getCommonFields()})}logBannerDismiss(){r.vkIdEcosystemNavigationCollector.logEvent({event:o.VkidEcosystemNavigationItemEventType.HIDE,item:o.VkidEcosystemNavigationItem.AD_BANNER,...this.getCommonFields()})}logActualPhoneBannerAccept(){r.vkIdEcosystemNavigationCollector.logEvent({event:o.VkidEcosystemNavigationItemEventType.TAP,item:o.VkidEcosystemNavigationItem.ACTUAL_PHONE_ACCEPT,...this.getCommonFields()})}logActualPhoneBannerCancel(){r.vkIdEcosystemNavigationCollector.logEvent({event:o.VkidEcosystemNavigationItemEventType.TAP,item:o.VkidEcosystemNavigationItem.ACTUAL_PHONE_CANCEL,...this.getCommonFields()})}logActualPhoneBannerReveal(){r.vkIdEcosystemNavigationCollector.logEvent({event:o.VkidEcosystemNavigationItemEventType.TAP,item:o.VkidEcosystemNavigationItem.ACTUAL_PHONE_REVEAL,...this.getCommonFields()})}unsubscribe(){this.unsubscribeThemeListener()}constructor(){this.securityStatus=null,this.nftAvatar=null,this.isVerified=null,this.unsubscribeThemeListener=()=>{},this.multiaccId="",this.hasBanner=null,this.hasPhoneActualizationBanner=null,this.updateThemeField()}}const l=(0,a.createContext)(void 0)},64323:(e,t,i)=>{"use strict";i.d(t,{logSwitchAccountEvent:()=>m,logSwitchAccountTapEvent:()=>_,logSwitcherAddAnotherTapEvent:()=>d,logSwitcherDropAccount:()=>u,logTopNavElements:()=>g,prepareLogSwitchAccountEvent:()=>p});var o=i(314309),r=i(338761);const n=new o.ProductionStatCollector,a=new o.ActionStatCollector(n),s=new o.RegistrationItemStatCollector(a),c=new r.VkConnectNavigationCollector;function l(e,t){const i=[],r=a.productionStatCollector.getCurrentTime(!1);return i.push({name:o.RegistrationFieldItemNames.TO_SWITCHER_FROM,value:e,start_interaction_time:r,end_interaction_time:r}),0===t&&i.push({name:o.RegistrationFieldItemNames.NAME_MULTIACC_ADD_ACCOUNT_TYPE,value:o.RegistrationFieldItemValues.ADD_ACCOUNT_CREATE_MULTIACC,start_interaction_time:r,end_interaction_time:r}),i}function d(e,t,i){s.logEvent(o.RegistrationItemEventTypes.MULTIACC_ADD_ANOTHER_ACCOUNT_TAP,o.EventScreens.MULTI_ACC_SWITCHER,o.EventScreens.NOWHERE,{force:!0},l(t,i),void 0,void 0,e)}function u(e,t="profile"){e&&(s.logEvent(o.RegistrationItemEventTypes.MULTIACC_DROP_ACCOUNT_TAP,o.EventScreens.MULTI_ACC_SWITCHER,o.EventScreens.NOWHERE,{force:!0},l(t),void 0,void 0,e),s.logEvent(o.RegistrationItemEventTypes.MULTIACC_DROP_ACCOUNT,o.EventScreens.MULTI_ACC_SWITCHER,o.EventScreens.NOWHERE,{force:!0},l(t),void 0,void 0,e))}function _(e,t){e&&s.logEvent(o.RegistrationItemEventTypes.SWITCH_ACCOUNT_TAP,o.EventScreens.MULTI_ACC_SWITCHER,o.EventScreens.NOWHERE,{force:!0},l(t),void 0,void 0,e)}function p(){window.vk.id&&sessionStorage.setItem("LOG_ACC_SWITCH",String(window.vk.id))}function m(e,t,i,r){e&&t&&i&&(s.logEvent(o.RegistrationItemEventTypes.SWITCH_FROM_ACCOUNT,o.EventScreens.MULTI_ACC_SWITCHER,o.EventScreens.NOWHERE,{force:!0},l(r),void 0,t,e),s.logEvent(o.RegistrationItemEventTypes.SWITCH_TO_ACCOUNT,o.EventScreens.MULTI_ACC_SWITCHER,o.EventScreens.NOWHERE,{force:!0},l(r),void 0,i,e))}function g(e){c.logTopNavElements(e)}},239895:(e,t,i)=>{"use strict";i.d(t,{APP_NAME:()=>o,LAST_ACC_ID_KEY:()=>a,LOG_ACC_SWITCH_KEY:()=>n,NOTIFY_SWITCH_KEY:()=>r});const o="EcosystemMultiAccountsEntry",r="multiacc_should_show_notifier",n="multacc_should_send_analytics",a="multiacc_last_id"},596706:(e,t,i)=>{"use strict";i.d(t,{init:()=>l,registerEvbusCommonEvents:()=>c});var o=i(338329),r=i(258230),n=i(246429),a=i(984745),s=i(298077);const c=()=>{(0,r.tqi)().setHandler("Common/nav_go",(e=>{e.payload.event?.target&&window.nav.go(e.payload.event.target,e.payload.event,JSON.parse(e.payload.dataAttrs?.options||"{}"))}),!1),(0,r.tqi)().setHandler("Common/cur_box_hide",(()=>{(0,n.curBox)()?.hide()}),!1),(0,r.tqi)().setHandler("Common/show_menu_settings",(async e=>{const t=e.payload.dataAttrs?.type?Number(e.payload.dataAttrs.type):void 0,{loadMenuSettingsBox:o}=await Promise.all([i.e(45700),i.e("langs/web/loadMenuSettingsBox")]).then(i.bind(i,862566));o(t)}),!1),(0,r.tqs)().setHandler("HelpHints/init",(({payload:{target:e}})=>{e?.remove(),(0,a.ensureAccountHelpHintsService)().initialize({viewerId:window.vk?.id,logErrorFn:s.logError})}),!0)},l=()=>{(0,o.init)()}},170001:(e,t,i)=>{"use strict";i.d(t,{FEED_OFFLINE_MODE_FIELD:()=>o,PageCacheState:()=>r});const o="feed_offline_mode_state";var r=function(e){return e.Active="active",e.Inactive="inactive",e[e.Unset="%%pageCacheState%%"]="Unset",e}({})},892369:(e,t,i)=>{"use strict";i.d(t,{handleSWResponse:()=>s,handleSWTimingsMessage:()=>a});var o=i(596181),r=i(558137);const n=(0,r.makeSharedState)("feed_with_offline_mode_sw_timings_data",(()=>({})),{version:1}),a=e=>{n().timings=e},s=()=>{const e=Date.now(),{timings:t}=n();if(!t?.lastTimestamp)return;const{lastTimestamp:i,...r}=t;(e=>{const{gettingFromCache:t,fetching:i,gettingFromCacheOnError:r,puttingIntoCache:n,postingFeedStateMessage:a,responding:s}=e;new o.DevNullStatCollector(new o.CustomStatCollector).logEvent({key:"feed_with_offline_mode_sw_content_timings",value:t,value2:i,value3:r,value4:n,value5:a,value6:s})})({...r,responding:e-i})}},954961:(e,t,i)=>{"use strict";i.d(t,{isPageCacheStateActive:()=>r,setPageCacheState:()=>n});var o=i(170001);const r=()=>window.vk.pageCacheState===o.PageCacheState.Active,n=e=>{window.vk.pageCacheState=e}},153663:(e,t,i)=>{"use strict";i.d(t,{getBaseDataFromPost:()=>s,getNearestPost:()=>n,getQuery:()=>p,getSection:()=>_,getTrackCodeFromPost:()=>a,isFeedInitiated:()=>u,resolveRef:()=>c,resolveRefFromCur:()=>l,setFeedInitiated:()=>d});var o=i(15874),r=i(130097);const n=e=>e?.closest(o.WEB_WALL_POST_WITH_TRACK_CODE_SELECTOR)??null,a=e=>{const t=n(e),i=t?.getAttribute("data-post-track-code");return i??null},s=e=>{const t=n(e);if(!t)return null;const i=t?.getAttribute("data-post-track-code"),o=t?.getAttribute("data-post-id");return{trackCode:i??null,postId:o??null}},c=(e,t,i)=>"feed"==e?"search"==t?"feed_search":"news"==t?i?"feed_news_"+i:"feed_news":"recommended"==t?i?"feed_recommended_"+i:"feed_recommended":"friends"==t?i?"feed_friends_"+i:"feed_friends":"groups"==t?i?"feed_groups_"+i:"feed_groups":"videos"==t?i?"feed_videos_"+i:"feed_videos":"photos"==t?i?"feed_photos_"+i:"feed_photos":"podcasts"==t?i?"feed_podcasts_"+i:"feed_podcasts":"list"==t?i?"feed_list_"+i:"feed_list":"comments"==t?i?"feed_comments_"+i:"feed_comments":"feed_other":e,l=()=>c(window.cur.module,window.cur.section,window.cur.subsection);function d(){window.cur.isFeedInitiated=!0,(0,r.dispatchFeedInitiatedEvent)()}function u(){return Boolean(window.cur.isFeedInitiated)}function _(){return window.cur.section?window.cur.section:void 0}function p(){return window.cur.q||""}},130097:(e,t,i)=>{"use strict";i.d(t,{FeedCustomEventName:()=>r,dispatchFeedInitiatedEvent:()=>a,dispatchQueryChangedEvent:()=>c,dispatchSectionChangedEvent:()=>s});var o=i(540462),r=function(e){return e.FEED_INITIATED="feed_initiated",e.SECTION_CHANGED="section_changed",e.QUERY_CHANGED="query_changed",e}({});function n(){return(0,o.partConfigEnabled)("stories_web_dispatch_events_from_microtasks")?queueMicrotask:setTimeout}function a(){n()((()=>{window.dispatchEvent(new CustomEvent("feed_initiated"))}))}function s(e){n()((()=>{window.dispatchEvent(new CustomEvent("section_changed",{detail:e}))}))}function c(e){n()((()=>{window.dispatchEvent(new CustomEvent("query_changed",{detail:e}))}))}},466881:(e,t,i)=>{"use strict";i.d(t,{BoxLayer:()=>s});var o=i(474848),r=i(296540),n=i(28928),a=i(834398);const s=()=>{const e=(0,r.useRef)(null),t=(0,r.useRef)(null),s=(0,r.useRef)(null),c=(0,r.useRef)(null),l=(0,r.useRef)(null),d=(0,r.useRef)(null),u=(0,r.useRef)(null);return(0,r.useLayoutEffect)((()=>{i._dG("layerBG",t.current),i._dG("layerWrap",s.current),i._dG("layer",e.current),i._dG("boxLayerBG",d.current),i._dG("boxLayerWrap",u.current),i._dG("boxLayer",c.current),i._dG("boxLoader",l.current),u.current.addEventListener("click",window.boxQueue.handleBackdropClick,!0),i._dG("layers",(0,a.initLayers)(window.layerBG,window.layerWrap,window.boxLayerBG,window.boxLayerWrap))}),[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{ref:t,id:"layer_bg",className:"fixed"}),(0,o.jsx)("div",{ref:s,id:"layer_wrap",className:"scroll_fix_wrap fixed layer_wrap",children:(0,o.jsx)("div",{ref:e,id:"layer"})}),(0,o.jsx)("div",{ref:d,id:"box_layer_bg",className:"fixed"}),(0,o.jsx)("div",{ref:u,id:"box_layer_wrap",className:"scroll_fix_wrap fixed",children:(0,o.jsx)("div",{ref:c,id:"box_layer",children:(0,o.jsx)("div",{ref:l,id:"box_loader",children:(0,o.jsx)(n.ScreenSpinner.Container,{mode:"overlay",children:(0,o.jsx)(n.ScreenSpinner.Loader,{})})})})})]})}},196593:(e,t,i)=>{"use strict";i.d(t,{Layers:()=>c});var o=i(474848),r=i(440961),n=i(466881),a=i(826099),s=i(703983);const c=()=>(0,r.createPortal)((0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.SystemMessage,{}),(0,o.jsx)(n.BoxLayer,{}),(0,o.jsx)(a.LeftScrollUp,{})]}),document.body)},826099:(e,t,i)=>{"use strict";i.d(t,{LeftScrollUp:()=>n});var o=i(474848),r=i(296540);const n=()=>{const e=(0,r.useRef)(null),t=(0,r.useRef)(null);return(0,r.useLayoutEffect)((()=>{i._dG("_stlLeft",e.current),i._dG("_stlSide",t.current),i._dG("_stlShown",0),i._dG("_stlWas",0),i._dG("_stlWasSet",0),i._dG("_stlBack",0),i._dG("_regBar",0),i._dG("__afterFocus",!1)}),[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{ref:e,id:"stl_left"}),(0,o.jsx)("div",{ref:t,id:"stl_side"})]})}},703983:(e,t,i)=>{"use strict";i.d(t,{SystemMessage:()=>r});var o=i(474848);const r=()=>(0,o.jsx)("div",{id:"system_msg",className:"fixed"})},769771:(e,t,i)=>{"use strict";i.d(t,{mountLayers:()=>c});var o=i(474848),r=i(558137),n=i(196593),a=i(53266);const s=(0,r.makeSharedState)("global_layers",(()=>(0,a.createBasicReactInitiator)(null,{destroyAfterNavigation:!1})),{version:1}),c=()=>{if(!document.body){const e=new MutationObserver((()=>{document.body&&(c(),e.disconnect())}));return void e.observe(document.documentElement,{childList:!0})}const e=s();e.isMounted()||e.render((0,o.jsx)(n.Layers,{}),{force:!0})}},878163:(e,t,i)=>{"use strict";i.d(t,{boxQueue:()=>n});var o=i(972332),r=i(802991);const n={skip:void 0,_boxes:[],curBox:0,_emitter:new(i(584053).Emitter),get events(){return n._emitter.listenable},getAll(){const e=[];return n._boxes.forEach((t=>{const i=window._message_boxes[t];i&&e.push(i)})),e},hideAll:function(e,t){if(e)for(;n.count();)n.hideLast();else{if(n.count()){const e=n._boxes.pop();(0,r.assertNotNull)(e);const i=window._message_boxes[e];i&&(i._in_queue=!1,i._hide(!1,!1,t))}for(;n.count();){const e=n._boxes.pop();(0,r.assertNotNull)(e);window._message_boxes[e]._in_queue=!1}}},hideAllNoCheck(){for(;n.count();)n.hideLast(!1)},hideLast:function(e,t){if(n.count()){const i=window._message_boxes[n._boxes[n.count()-1]],o=t&&t.target&&t.target instanceof Element&&t.target.tagName&&"input"!==t.target.tagName.toLowerCase()&&window.cur.__mdEvent&&t.target!==window.cur.__mdEvent.target;if(!0===e&&(i.changed||i.preventHideLastWithCheck||n.skip||o))return void(n.skip=!1);i.hide()}if(t&&"click"===t.type)return(0,o.cancelEvent)(t)},hideLastCheck:function(e){return n.hideLast(!0,e)},isBackdropClick:function(e){return!(e.target instanceof Element&&e.target.closest(".box_layout"))},handleBackdropClick:function(e){n.isBackdropClick(e)&&n.hideLastCheck(e)},hideBGClick:function(e){e&&e.target instanceof Element&&e.target.id.startsWith("box_layer")&&n.hideLast()},count:function(){return n._boxes.length},_show:function(e){const t=window._message_boxes[e];if(!t||t._in_queue)return;n.count()?window._message_boxes[n._boxes[n.count()-1]]._hide(!0,!0):window.tooltips&&window.tooltips.hideAll(),t._in_queue=!0;let i=!!n.count();i&&(i=n._boxes.every((e=>!!window._message_boxes[e]&&!window._message_boxes[e].forceHide))),n.curBox=e,t._show(!0,i),n._boxes.push(e),n._emitter.emit("show",{box:t})},_hide:function(e){const t=window._message_boxes[e];if(t&&t._in_queue&&n._boxes[n.count()-1]===e&&t.isVisible()&&(t._in_queue=!1,n._boxes.pop(),t._hide(!!n.count()),n._emitter.emit("hide",{box:t}),n.count())){const e=n._boxes[n.count()-1];n.curBox=e,window._message_boxes[e]._show(!0,!0,!0)}}}},502500:(e,t,i)=>{"use strict";i.d(t,{staticManagerModuleName:()=>o});const o="static_manager"},677508:(e,t,i)=>{"use strict";i.d(t,{curReady:()=>d,isCurReady:()=>s,onCurReady:()=>c});var o=i(540462),r=i(636576),n=i(298077);const a=(0,i(558137).makeSharedState)("cur-loading-state",(()=>({isReady:!1,onReadyCallbacks:[]})),{version:1}),s=()=>a().isReady,c=e=>{a().onReadyCallbacks.push(e),a().isReady&&e()};class l extends Error{constructor(e,t){super(`The cur.module values differ. In bootstrap value - "${e}", after cur ready - "${t}"`),this.curModuleBootstrap=e,this.curModuleOnReady=t,this.name="CurModuleDiffError"}}const d=()=>{a().isReady=!0;for(let e of a().onReadyCallbacks)e();if((0,o.partConfigEnabled)("log_web_cur_module_desync")){const e=window[Symbol.for("curModuleBootstrap")]||"undefined",t=window.cur?.module||"undefined";e!==t&&((0,r.statlogsValueEvent)("web_cur_module_desync",1,"cur_module",e,t,window.location.toString()),(0,n.logError)(new l(e,t)))}}},618123:(e,t,i)=>{"use strict";function o(){return window.vk.loginDomain}i.d(t,{getLoginDomain:()=>o})},346368:(e,t,i)=>{"use strict";i.d(t,{resolveLayerScreenName:()=>l});var o=i(464527),r=i(60512),n=i(608814),a=i(540462),s=i(816980);const c=["vk_app","community_application","internal_vkui"],l=async e=>{if(!(0,s.isSpaLaunch)())return null;const{ensureDIRootWebContainer:t}=await Promise.resolve().then(i.bind(i,319756)),l=t().resolve(o.ScreenNameResolver),d=await l.ensureMatch({screenTypes:c,screenName:e});if(!d)return null;const{entityId:u,screenType:_}=d;return u&&c.includes(_)?(0,r.matchLayer)({layerName:"w",layerPath:`app${d.entityId}`,layersConfig:n.webLayersConfig,partConfigEnabled:a.partConfigEnabled,isToggleEnabled:a.isToggleEnabled}):void 0}},270959:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{MessageBox:()=>MessageBox,showBox:()=>showBox,showCaptchaBox:()=>showCaptchaBox,showFastBox:()=>showFastBox,showReCaptchaBox:()=>showReCaptchaBox,showTabbedBox:()=>showTabbedBox});var _ui__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(683234),_debug_tools__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(237625),_dom_events__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(972332),_ui_util__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(560377),_dom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(754866),_utils_common__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(478752),_lang__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(102088),_shared_lib_convert__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(969686),_box_utils__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(246429),_accessibility__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(576854),_icons_desktop__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(680208),_icons_desktop__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(963251),_icons_desktop__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(53495),_web_ui_FlatButton__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(952661),_shared_lib_dom__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(581197),_vkontakte_vkjs__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(351118),_shared_lib_js_logger__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(298077),_shared_asserts_assertNotNull__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(802991),_shared_accessibility_accessibility__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(570366),_shared_lib_ee__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(825127);const FULLSCREEN_BOX_CLASSNAME="box_layer_fullscreen",MessageBox=function(_options){this instanceof MessageBox||(0,_shared_lib_js_logger__WEBPACK_IMPORTED_MODULE_14__.logError)(new Error('Missed "new" before "MessageBox"'));const defaults={title:!1,titleControls:"",containerClass:"",width:450,height:"auto",bodyStyle:{},grey:!1,white:!1,selfDestruct:!0,progress:!1,hideOnBGClick:!1,hideButtons:!1,onShow:!1,onBeforeHide:!1,onHide:!1,onClose:!1,onClean:!1,onDestroy:!1,preventHideLastWithCheck:!1,refreshCoordsOnTimeout:!1};let options=(0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.extend)(defaults,_options);const guid=window._message_box_guid++;let visible=!1;const btns={ok:[],cancel:[]};let boxTitleBck,retBox,progressId=options.progress||"";progressId||(progressId="box_progress"+guid);const controlsStyle=options.hideButtons?' style="display: none"':"",boxContainer=(0,_dom__WEBPACK_IMPORTED_MODULE_4__.ce)("div",{className:(0,_vkontakte_vkjs__WEBPACK_IMPORTED_MODULE_12__.classNames)("popup_box_container",options.containerClass,!1===options.needShadow&&"popup_box_container--no-shadow"),innerHTML:`\n<div class="box_layout" data-testid="box_layout">\n  <div class="box_title_wrap">\n    <div class="box_x_button" aria-label="${(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("global_close")}" tabindex="0" role="button" data-testid="box_x_button">${(0,_icons_desktop__WEBPACK_IMPORTED_MODULE_15__.getIcon20Cancel)().icon}</div>\n    <div class="box_title_controls"></div>\n    <div role="heading" aria-level="2" data-testid="box_title_text" class="box_title"></div>\n  </div>\n\n  <div class="box_body"></div>\n  ${options.noControls?"":`\n  <div class="box_controls_wrap" ${controlsStyle}>\n    <div class="box_controls">\n      <div class="box_controls_buttons fl_r"></div>\n\n      <div class="progress" id="${progressId}"></div>\n\n      <div class="box_controls_text">${options.textControls||""}</div>\n    </div>\n  <div>`}\n</div>`}),boxTitleWrap=boxContainer.querySelector(".box_title_wrap");(0,_shared_asserts_assertNotNull__WEBPACK_IMPORTED_MODULE_16__.assertNotNull)(boxTitleWrap);const boxCloseButton=boxTitleWrap.querySelector(".box_x_button");(0,_shared_asserts_assertNotNull__WEBPACK_IMPORTED_MODULE_16__.assertNotNull)(boxCloseButton);const boxTitle=boxTitleWrap.querySelector(".box_title");(0,_shared_asserts_assertNotNull__WEBPACK_IMPORTED_MODULE_16__.assertNotNull)(boxTitle);const boxTitleControls=boxTitleWrap.querySelector(".box_title_controls");function onClose(){(0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.isFunction)(options.onClose)&&options.onClose()}(0,_shared_asserts_assertNotNull__WEBPACK_IMPORTED_MODULE_16__.assertNotNull)(boxTitleControls),options.noCloseButton&&(0,_dom__WEBPACK_IMPORTED_MODULE_4__.hide)(boxCloseButton);const boxLayoutNode=boxContainer.querySelector(".box_layout");(0,_shared_asserts_assertNotNull__WEBPACK_IMPORTED_MODULE_16__.assertNotNull)(boxLayoutNode);const boxBody=boxContainer.querySelector(".box_body");(0,_shared_asserts_assertNotNull__WEBPACK_IMPORTED_MODULE_16__.assertNotNull)(boxBody);const boxControlsWrap=boxContainer.querySelector(".box_controls_wrap");let boxButtons=null,boxProgress=null,boxControlsText=null;boxControlsWrap&&(boxButtons=boxControlsWrap.querySelector(".box_controls_buttons"),boxProgress=boxControlsWrap.querySelector(".progress"),boxControlsText=boxControlsWrap.querySelector(".box_controls_text")),options.fullscreen&&window.boxLayer.classList.add(FULLSCREEN_BOX_CLASSNAME),options.isReactModal||(boxContainer.setAttribute("role","dialog"),boxContainer.setAttribute("aria-modal","true"),options["aria-label"]&&boxContainer.setAttribute("aria-label",options["aria-label"])),boxContainer.setAttribute("tabindex","-1"),window.boxLayer.appendChild(boxContainer),options.bodyStyle&&applyBodyStyle(options.bodyStyle),refreshBox(),(0,_box_utils__WEBPACK_IMPORTED_MODULE_8__.boxRefreshCoords)(boxContainer);const emitter=new _shared_lib_ee__WEBPACK_IMPORTED_MODULE_13__.default;function applyBodyStyle(e){if((0,_shared_asserts_assertNotNull__WEBPACK_IMPORTED_MODULE_16__.assertNotNull)(boxBody),"string"==typeof e){const t=e.split(";");for(let e=0,i=t.length;e<i;e++){const i=t[e].split(":");i.length>1&&i[0].length&&(boxBody.style[(0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.trim)(i[0])]=(0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.trim)(i[1]),boxBody.style.setProperty&&boxBody.style.setProperty((0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.trim)(i[0]),(0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.trim)(i[1]),""))}}else(0,_vkontakte_vkjs__WEBPACK_IMPORTED_MODULE_12__.isObject)(e)&&Object.assign(boxBody.style,e)}function setInitialFocus(){const e=boxCloseButton?[boxCloseButton]:[];(0,_shared_accessibility_accessibility__WEBPACK_IMPORTED_MODULE_17__.setFocusIsNeed)(boxContainer,e),boxContainer&&!boxContainer.contains(document.activeElement)&&boxContainer.focus()}function refreshBox(){(0,_shared_asserts_assertNotNull__WEBPACK_IMPORTED_MODULE_16__.assertNotNull)(boxTitle),(0,_shared_asserts_assertNotNull__WEBPACK_IMPORTED_MODULE_16__.assertNotNull)(boxTitleWrap),(0,_shared_asserts_assertNotNull__WEBPACK_IMPORTED_MODULE_16__.assertNotNull)(boxTitleControls),boxTitleBck||((0,_shared_asserts_assertNotNull__WEBPACK_IMPORTED_MODULE_16__.assertNotNull)(boxBody),options.title?(boxTitle.innerHTML=options.title,boxBody.classList.remove("box_no_title"),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.show)(boxTitleWrap)):(boxBody.classList.add("box_no_title"),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.hide)(boxTitleWrap))),options.titleTransparent&&(boxTitleWrap.classList.add("box_title_wrap--transparent"),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.show)(boxTitleWrap)),options.titleControls&&(boxTitleControls.innerHTML=options.titleControls),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.toggleClass)(boxBody,"box_no_buttons",options.hideButtons),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.toggleClass)(boxTitleWrap,"box_grey",options.grey),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.toggleClass)(boxTitleWrap,"box_white",options.white),boxContainer.classList.toggle("popup_box_container--no-shadow",!1===options.needShadow),boxContainer.style.width="string"==typeof options.width?options.width:options.width+"px",boxContainer.style.height="string"==typeof options.height?options.height:options.height+"px"}function addButtonInternal(e,t,i,o,r){let n,a;"no"===i||"gray"===i||"neutral"===i?(n="neutral"===i?_web_ui_FlatButton__WEBPACK_IMPORTED_MODULE_10__.FlatButtonAppearance.SECONDARY:_web_ui_FlatButton__WEBPACK_IMPORTED_MODULE_10__.FlatButtonAppearance.TERTIARY,a="cancel"):(n=_web_ui_FlatButton__WEBPACK_IMPORTED_MODULE_10__.FlatButtonAppearance.PRIMARY,a="ok");const s=_web_ui_FlatButton__WEBPACK_IMPORTED_MODULE_10__.FlatButton.render({appearance:n,size:_web_ui_FlatButton__WEBPACK_IMPORTED_MODULE_10__.FlatButtonSize.M,children:e,restAttrs:{id:o||"",...r||{}}});return s.addEventListener("click",(e=>{emitter.emit(a,retBox),t.apply(null,[s,e])})),boxButtons&&boxButtons.prepend(s),btns[a].push(s),s}function setControlsText(e){boxControlsText&&(boxControlsText.innerHTML=e)}function removeButtons(){(0,_shared_asserts_assertNotNull__WEBPACK_IMPORTED_MODULE_16__.assertNotNull)(boxButtons),(0,_shared_lib_dom__WEBPACK_IMPORTED_MODULE_11__.emptyNode)(boxButtons),btns.ok.length=btns.cancel.length=0}const destroyMe=()=>{(0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.isFunction)(options.onClean)&&options.onClean(),(0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.isFunction)(options.onDestroy)&&options.onDestroy(),options.noControls||removeButtons(),options.fullscreen&&window.boxLayer.classList.remove(FULLSCREEN_BOX_CLASSNAME),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.cleanElems)(boxContainer,boxCloseButton,boxTitleWrap,options.noControls?void 0:boxControlsWrap),window.boxLayer.removeChild(boxContainer),delete window._message_boxes[guid]},hideMe=(e,t,i)=>{visible&&(visible=!1,options.hideOnBGClick&&(0,_dom_events__WEBPACK_IMPORTED_MODULE_2__.removeEvent)(document,"click",window.boxQueue.hideBGClick),(0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.isFunction)(options.onBeforeHide)&&options.onBeforeHide(),window._message_boxes[guid].shOther||e||window.layers.boxhide(),!t&&options.selfDestruct?destroyMe():(0,_dom__WEBPACK_IMPORTED_MODULE_4__.hide)(boxContainer),(0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.isFunction)(options.onHide)&&options.onHide(i),retBox.emit("afterHide",retBox))},hideMeInternal=({showingOther:e,tempHiding:t,noLoc:i})=>{hideMe(e,t,i)};function showMe(e,t,i){visible||!window._message_boxes[guid]||window._message_boxes[guid].forceHide||(visible=!0,options.hideOnBGClick&&(0,_dom_events__WEBPACK_IMPORTED_MODULE_2__.addEvent)(document,"click",window.boxQueue.hideBGClick),t||window.layers.boxshow(),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.show)(boxContainer),(0,_box_utils__WEBPACK_IMPORTED_MODULE_8__.boxRefreshCoords)(boxContainer),options.onShow&&options.onShow(i))}return(0,_dom_events__WEBPACK_IMPORTED_MODULE_2__.addEvent)(boxCloseButton,"click",(()=>{onClose(),window.boxQueue.hideLast()})),(0,_dom_events__WEBPACK_IMPORTED_MODULE_2__.addEvent)(boxCloseButton,"keydown",(e=>{"Enter"===e.key&&(onClose(),window.boxQueue.hideAll())})),retBox=window._message_boxes[guid]={guid,_show:showMe,_hide:hideMe,boxLayoutNode,bodyNode:boxBody,controlsTextNode:boxControlsText,titleWrap:boxTitleWrap,btns,show:function(){return window.boxQueue._show(guid),setInitialFocus(),this},progress:boxProgress||void 0,showCloseProgress:()=>boxTitleWrap.classList.add("box_loading"),hideCloseProgress:()=>boxTitleWrap.classList.remove("box_loading"),showProgress:function(){(0,_dom__WEBPACK_IMPORTED_MODULE_4__.hide)(boxControlsText),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.show)(boxProgress)},hideProgress:function(){(0,_dom__WEBPACK_IMPORTED_MODULE_4__.hide)(boxProgress),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.show)(boxControlsText)},hide:function(e){return!((0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.isFunction)(options.onHideAttempt)&&!options.onHideAttempt(e))&&(window.boxQueue._hide(guid),!0)},_hideForce:function(){window.boxQueue._hide(guid)},_hideInternal:hideMeInternal,isVisible:function(){return visible},bodyHeight:function(){return(0,_dom__WEBPACK_IMPORTED_MODULE_4__.getStyle)(boxBody,"height")},content:function(e){return(0,_shared_asserts_assertNotNull__WEBPACK_IMPORTED_MODULE_16__.assertNotNull)(boxBody),options.onClean&&options.onClean(),"string"==typeof e?boxBody.innerHTML=e:e instanceof HTMLElement&&(boxBody.innerHTML="",boxBody.appendChild(e)),options.refreshCoordsOnTimeout?setTimeout((()=>{(0,_box_utils__WEBPACK_IMPORTED_MODULE_8__.boxRefreshCoords)(boxContainer)})):(0,_box_utils__WEBPACK_IMPORTED_MODULE_8__.boxRefreshCoords)(boxContainer),refreshBox(),(0,_accessibility__WEBPACK_IMPORTED_MODULE_9__.updateAriaElements)(),setInitialFocus(),this},emit:function(e,t){emitter.emit(e,t)},addButton:function(e,t,i,o,r,n){const a=addButtonInternal(e,t||this.hide,i,r,n);return o?a:this},setButtons:function(e,t,i,o){return removeButtons(),e?(this.addButton(e,t),i&&this.addButton(i,o,"no"),this):this.addButton((0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("box_close"))},setControlsText,removeButtons:function(){return removeButtons(),this},setBackTitle:function(e){boxTitle&&(e?(boxTitle.innerHTML='<div class="back"><span class="back__icon">'+(0,_icons_desktop__WEBPACK_IMPORTED_MODULE_18__.getIcon24BrowserBack)().icon+"</span>"+(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("global_box_title_back")+"</div>",boxTitleBck=options.title,options.title=boxTitle.innerHTML,setTimeout((function(){const t=boxTitle.querySelector(".back");t&&(t.onclick=e)}),100)):boxTitleBck&&(boxTitle.innerHTML=options.title=boxTitleBck,boxTitleBck=void 0))},destroy:destroyMe,getOptions:function(){return options},on:function(e,t){emitter.on(e,t)},once:function(e,t){emitter.once(e,t)},updateBoxCoords(){(0,_box_utils__WEBPACK_IMPORTED_MODULE_8__.boxRefreshCoords)(boxContainer)},setOptions:function(e){return options.hideOnBGClick&&(0,_dom_events__WEBPACK_IMPORTED_MODULE_2__.removeEvent)(document,"click",window.boxQueue.hideBGClick),options=(0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.extend)(options,e),options.bodyStyle&&applyBodyStyle(options.bodyStyle),options.hideOnBGClick&&(0,_dom_events__WEBPACK_IMPORTED_MODULE_2__.addEvent)(document,"click",window.boxQueue.hideBGClick),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.toggle)(boxControlsWrap,!options.hideButtons),refreshBox(),options.noRefreshCoords||(0,_box_utils__WEBPACK_IMPORTED_MODULE_8__.boxRefreshCoords)(boxContainer),this},evalBox:function(js,url,params){const scr="((function() { return function() { var box = this; "+(js||"")+";}; })())";if(window.__debugMode){const fn=eval(scr);fn.apply(this,[url,params])}else try{const fn=eval(scr);fn.apply(this,[url,params])}catch(e){(0,_ui_util__WEBPACK_IMPORTED_MODULE_3__.topError)(e,{dt:15,type:7,url,query:params?(0,_shared_lib_convert__WEBPACK_IMPORTED_MODULE_7__.toQueryString)(params):void 0,js}),(0,_debug_tools__WEBPACK_IMPORTED_MODULE_1__.logEvalError)(e,scr)}},preventHideLastWithCheck:options.preventHideLastWithCheck,needHideLastCheck:options.needHideLastCheck,execInline:function(e){window.vk.inline[e](this),delete window.vk.inline[e]}},retBox};function showBox(e,t,i={},o){if((0,_dom_events__WEBPACK_IMPORTED_MODULE_2__.checkEvent)(o))return!1;const r=i.params||{};i.containerClass&&(r.containerClass=i.containerClass);let n=Date.now().toString(36);t&&(t.boxhash=n);const a=new MessageBox(r);a.boxhash=n;const s={onDone:function(o,s,c,l){if(i.preOnDone&&i.onDone&&i.onDone(a),t&&(0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.isFunction)(t.onMessageSend)&&window.WriteBox&&window.WriteBox.once("message_sended",t.onMessageSend),a.isVisible())if(window.__debugMode)d();else try{d()}catch(i){(0,_ui_util__WEBPACK_IMPORTED_MODULE_3__.topError)(i,{dt:15,type:103,url:e,query:(0,_shared_lib_convert__WEBPACK_IMPORTED_MODULE_7__.toQueryString)(t),answer:Array.prototype.slice.call(arguments).join("<!>")}),a.isVisible()&&a.hide()}else i.onDone&&i.onDone(a,l);function d(){(0,_dom__WEBPACK_IMPORTED_MODULE_4__.show)(window.boxLayerBG),document.body.classList.add("layers_shown"),a.setOptions({title:o,hideButtons:r.hideButtons||!1,noCloseButton:r.noCloseButton||!1,titleTransparent:r.titleTransparent||!1,bodyStyle:r.bodyStyle}),i.showProgress?a.show():(0,_dom__WEBPACK_IMPORTED_MODULE_4__.show)(a.bodyNode),a.content(s),i.noEval?a.execInline(n):a.evalBox(c,e,t),i.onDone&&i.onDone(a,l)}},onFail:function(e){return a.failed=!0,setTimeout(a.hide,0),!!(0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.isFunction)(i.onFail)&&i.onFail(e)},cache:i.cache,stat:i.stat,fromBox:!0,showProgress:()=>{},hideProgress:()=>{}};return i.prgEl&&(i.showProgress=()=>(0,_ui_util__WEBPACK_IMPORTED_MODULE_3__.showGlobalPrg)(i.prgEl,{cls:i.prgClass,w:i.prgW,h:i.prgH,hide:!0}),i.hideProgress=()=>(0,_dom__WEBPACK_IMPORTED_MODULE_4__.hide)("global_prg")),i.showProgress?(0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.extend)(s,{showProgress:i.showProgress,hideProgress:i.hideProgress}):(a.setOptions({hideButtons:!0}).show(),(0,_box_utils__WEBPACK_IMPORTED_MODULE_8__.getBoxQueue)().count()<2&&((0,_dom__WEBPACK_IMPORTED_MODULE_4__.hide)(window.boxLayerBG),document.body.classList.remove("layers_shown")),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.hide)(a.bodyNode),s.showProgress=()=>{(0,_dom__WEBPACK_IMPORTED_MODULE_4__.show)(window.boxLoader),(0,_box_utils__WEBPACK_IMPORTED_MODULE_8__.boxRefreshCoords)(window.boxLoader)},s.hideProgress=()=>{(0,_dom__WEBPACK_IMPORTED_MODULE_4__.hide)(window.boxLoader)}),a.removeButtons().addButton((0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("global_close")),window.ajax.post(e,t,s),a}function showTabbedBox(e,t,i,o){return(i=i||{}).stat=i.stat||[],i.stat.push(window.jsc("web/box.js"),"boxes.css"),showBox(e,t,i,o)}function showFastBox(e,t,i,o,r,n){return new MessageBox("string"==typeof e?{title:e}:e).content(t).setButtons(i,o,r,n).show()}function getCaptchaImageSrc({sid:e,difficulty:t,v:i,withRefresh:o=!1}){return`/captcha.php?sid=${e}${t}${i?`&v=${i}`:""}${o?"&refresh=1":""}&resized=1&width=400`}function showCaptchaBox(e,t,i,o,r){const n=!!i,a=(0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.intval)(t)?"":"&s=1",s=5e3,c=o.imgSrc||getCaptchaImageSrc({sid:e,difficulty:a});let l;if(n)l=i;else{const e=`\n<div class="captcha resized refresh">\n  <div class="captcha__image-wrapper"><img src="${c}"/></div>\n  ${r?`<button id="captcha-refresh-button" class="captcha__refresh" type="button">\n      <i class="captcha__refresh-icon">${(0,_icons_desktop__WEBPACK_IMPORTED_MODULE_19__.getIcon24Refresh)().icon}</i>\n      <span>${(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("vkconnect_refresh_captcha")}</span>\n    </button>`:""}\n  <div>\n    <input type="text" class="big_text" maxlength="7" placeholder="${(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("global_captcha_input_here")}" />\n    <div class="progress" /></div>\n  </div>\n</div>`+(o.addText||"");l=showFastBox({title:(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("captcha_enter_code"),width:305,onHide:o.onHide,onDestroy:o.onDestroy},e,(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("captcha_send"),(function(){l.submit&&l.submit()}),(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("captcha_cancel"),(function(){const e=l.bodyNode.querySelector("input"),t=l.bodyNode.querySelector("img");(0,_dom_events__WEBPACK_IMPORTED_MODULE_2__.removeEvent)(e),(0,_dom_events__WEBPACK_IMPORTED_MODULE_2__.removeEvent)(t),l.hide()}))}const d=function(t){if(!l)return;const i=l.bodyNode.querySelector("input");if(!i||t&&"boolean"!=typeof t&&void 0!==t.keyCode&&10!==t.keyCode&&13!==t.keyCode)return;if(!(0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.trim)(i.value)&&!0!==t)return void(0,_dom__WEBPACK_IMPORTED_MODULE_4__.elfocus)(i);const r=l.bodyNode.querySelector("img");(0,_dom_events__WEBPACK_IMPORTED_MODULE_2__.removeEvent)(i),(0,_dom_events__WEBPACK_IMPORTED_MODULE_2__.removeEvent)(r),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.show)(l.bodyNode.querySelector(".progress")),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.hide)(i),o.onSubmit(e,i.value)};l.submit=()=>d(!0),l.changed=!0;const u=l.bodyNode.querySelector("input"),_=l.bodyNode.querySelector("img"),p=l.bodyNode.querySelector("#captcha-refresh-button"),m=p?.querySelector("span");if(n&&(u&&(u.value=""),_&&(_.src=getCaptchaImageSrc({sid:e,difficulty:a})),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.hide)(l.bodyNode.querySelector(".progress"))),(0,_dom__WEBPACK_IMPORTED_MODULE_4__.show)(u),(0,_dom_events__WEBPACK_IMPORTED_MODULE_2__.addEvent)(u,"keypress",d),p&&m){let t=5;(0,_dom_events__WEBPACK_IMPORTED_MODULE_2__.addEvent)(p,"click",(function(){_&&(_.src=getCaptchaImageSrc({sid:e,difficulty:a,v:(0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.irand)(1e6,2e6),withRefresh:!0})),p.disabled=!0,m.textContent=(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("vkconnect_refresh_captcha_via").replace("{time}",String(t)),t-=1;const i=setInterval((()=>{m.textContent=(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("vkconnect_refresh_captcha_via").replace("{time}",String(t)),t-=1}),1e3);setTimeout((()=>{clearInterval(i),t=5,p.disabled=!1,m.textContent=(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("vkconnect_refresh_captcha")}),s)}))}else(0,_dom_events__WEBPACK_IMPORTED_MODULE_2__.addEvent)(_,"click",(function(){this.src=getCaptchaImageSrc({sid:e,difficulty:a,v:(0,_utils_common__WEBPACK_IMPORTED_MODULE_5__.irand)(1e6,2e6)})}));return(0,_dom__WEBPACK_IMPORTED_MODULE_4__.elfocus)(u),l}function showReCaptchaBox(e,t,i,o){__webpack_require__._dG("recaptchaResponse",(function(e){o.onSubmit(e)}));const r=!!i,n=!!window.grecaptcha;if(!r){n||(__webpack_require__._dG("recaptchaCallback",(function(){const t=(0,_box_utils__WEBPACK_IMPORTED_MODULE_8__.curBox)();if(!t)return;const i=t.bodyNode.querySelector(".recaptcha");i&&((0,_dom__WEBPACK_IMPORTED_MODULE_4__.val)(i,""),window.grecaptcha.render(i,{sitekey:e,callback:window.recaptchaResponse}))})),document.head.appendChild((0,_dom__WEBPACK_IMPORTED_MODULE_4__.ce)("script",{type:"text/javascript",src:"https://www.google.com/recaptcha/api.js?onload=recaptchaCallback&render=explicit&hl="+t})));const r='<div class="recaptcha"></div>'+(o.addText||""),a=(i=showFastBox({title:(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("global_recaptcha_title"),width:354,onHide:o.onHide,onDestroy:o.onDestroy},r,(0,_lang__WEBPACK_IMPORTED_MODULE_6__.getLang)("captcha_cancel"))).bodyNode.querySelector(".recaptcha");a&&(a.id="recaptcha"+(i.guid?i.guid:"0")),(0,_ui__WEBPACK_IMPORTED_MODULE_0__.showProgress)(a)}return r&&n?window.grecaptcha.reset():n&&window.recaptchaCallback(),i.changed=!0,i}},871873:(e,t,i)=>{"use strict";i.d(t,{moduleReady:()=>a,onModuleReady:()=>n});var o=i(558137);const r=e=>(0,o.makeSharedState)(`${e}-ready-state`,(()=>({isReady:!1,onReadyCallbacks:[]})),{version:1})(),n=(e,t)=>{r(e).isReady?t():r(e).onReadyCallbacks.push(t)},a=e=>{r(e).isReady=!0;for(const t of r(e).onReadyCallbacks)t();r(e).onReadyCallbacks=[]}},432465:(e,t,i)=>{"use strict";i.d(t,{hideSnackbar:()=>E,showSnackbar:()=>y});var o=i(474848),r=i(296540),n=i(205338),a=i(440961),s=i(248812),c=i(627872),l=i(799306),d=i(38050),u=i(480888),_=i(127760),p=i(246429),m=i(802991);const g={top:"notifier_snackbar_align_top",center:"notifier_snackbar_align_center",bottom:"notifier_snackbar_align_bottom"},v={ok:(0,s.getIcon24CheckCircleOutline)().icon,warning:(0,c.getIcon24WarningTriangleOutline)().icon,error:(0,l.getIcon24ErrorCircleOutline)().icon,clock:(0,d.getIcon24ClockOutline)().icon,ok28:(0,u.getIcon28CheckCircleOutline)().icon,loudspeaker28:(0,_.getIcon28LoudspeakerSlashOutline)().icon},f={ok:"notifier_snackbar_type_ok",warning:"notifier_snackbar_type_warning",error:"notifier_snackbar_type_error",ok28:"notifier_snackbar_type_ok",loudspeaker28:"notifier_snackbar_type_loudspeaker",clock:"notifier_snackbar_type_clock"};async function y({id:e,type:t,text:i,subtitle:r,action:n,before:a,after:s,link:c,timeout:l,align:d,onClick:u,onClose:_}){let y;await Promise.resolve();const E={id:e,link:S(c),timeout:l,onClick:u?()=>((0,m.assertNotNull)(y),u(y)):void 0,onHide:_},T={author_link:S(a?.avatar?.link),add_photo:S(s?.url),tooltipHandler:e=>{e.classList.add("notifier_snackbar"),t&&v[t]?(e.classList.add("notifier_snackbar_with_custom_before"),e.classList.add(f[t])):a?.avatar?.url||a?.avatar?.content?a.avatar.fill&&e.classList.add("notifier_snackbar_with_filled_avatar"):!a?.avatar?.content&&a?.content&&e.classList.add("notifier_snackbar_with_custom_before"),(s?.rounded??1)&&e.classList.add("notifier_snackbar_with_rounded_after");const i=d?g[d]:void 0;if(i&&e.classList.add(i),n?.onClick){const t=e.querySelector(".notifier_snackbar_action");t?.addEventListener("click",(e=>{(0,m.assertNotNull)(y),n.onClick?.(e,y)}))}}};t&&v[t]?T.avatar_custom_content=v[t]:a&&(a.avatar?.url?T.author_photo=S(a.avatar.url):a.avatar?.content?T.avatar_custom_content=A(a.avatar.content):a.content&&(T.avatar_custom_content=A(a.content)),a.icon?.type?T.icon_type=a.icon.type:a.icon?.url&&(T.icon_custom={image_url:b(a.icon.url)}));const I=A((0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"notifier_snackbar_text",children:i}),!!r&&(0,o.jsx)("div",{className:"notifier_snackbar_subtitle",children:r}),n&&(0,o.jsx)("div",{children:(0,o.jsx)("a",{className:"notifier_snackbar_action",href:n.href,children:n.label})})]}));return y=await(0,p.showDoneBoxAsync)(I,E,T),y}function E(e){window.Notifier?.hideEvent(e)}function A(e){const t=document.createElement("div"),i=(0,n.createRoot)(t);return(0,a.flushSync)((()=>{i.render((0,r.createElement)(r.Fragment,null,e))})),t.innerHTML}function S(e){return e&&b(e)}function b(e){return encodeURI(e).replace(/'/g,"%27")}},687903:(e,t,i)=>{"use strict";i.d(t,{default:()=>c,unpackStore:()=>l});var o=i(740342),r=i(469004),n=i(478752),a=i(755119);function s(e,t){if(!t)return r.ls.get(e);r.ls.set(e,t)}function c(e={},t={}){const i=(0,o.debounce)(s,300);let c=(0,n.extend)({},e),l=[],d=[];return t.store&&(c=r.ls.get(t.key)||c),{get:()=>c,set(e){return e(c).then((e=>(c=e,t.store&&i(t.key,e),this.emit(),this))).catch(a.dummyCatch)},setState(e){return this.set((t=>(t=(0,n.extend)(t,e),this.emit(),Promise.resolve(t))))},stash(){l.push(c),c=(0,n.extend)({},e),this.emit()},reset(){c=(0,n.extend)({},e),this.emit()},unmount(){c={},e=!1,d=[]},pop(){l.length>0&&(c=l.pop(),this.emit())},emit(){d.length>0&&d.forEach((e=>e(this)))},subscribe(e){d.includes(e)||d.push(e)},unsubscribe(e){d=d.filter((t=>t!==e))},mutate(e){e(c),t.store&&i(t.key,c),this.emit()}}}function l(e){return function(e){return!!e.get}(e)?e.get():e}},773096:(e,t,i)=>{"use strict";i.d(t,{MARKET_EVENT_COUNTER_SECTION_ID:()=>r,updateMarketMenuEventCounter:()=>n});var o=i(933983);const r="page_menu_group_market";function n(e,t){const i=document.querySelector(e);i&&o.PageActionCell.setCounter(i,t)}},755119:(e,t,i)=>{"use strict";function o(e=!1){console.trace(),e||window.alert("Вы поймали баг исчезнувшего lastMsg. Пожалуйста откройте консоль (Cmd + Option + I), остановите выполнение JS на странице (F8+cmd+\\) и свяжитесь с командой сообщений на вебе.")}function r(e){return console.error(e),Promise.reject(e)}i.d(t,{dummyCatch:()=>r,showDebugAlert:()=>o})},902403:(e,t,i)=>{"use strict";i.d(t,{getErrorText:()=>n,logImError:()=>r});var o=i(298077);function r(e,t=""){console.error(e);const i=e=>{(0,o.logError)(e,{environment:"im"})};if(e instanceof Error){const o=new Error(n(e,t));return o.name=e.name,o.stack=e.stack,i(o)}return i(new Error(n(e,t)))}function n(e,t=""){if(e instanceof Error)return t?`${t}: ${e.message}`:e.message;if("string"==typeof e||"number"==typeof e)return t?`${t}: ${e}`:`${e}`;if(e&&"api_error"===e.type){const i=JSON.stringify(e.error);return t?`${t}: ${i}`:i}if(e instanceof Object){let i="";try{i=JSON.stringify(e)}catch(e){i=`Error data ${e}`}return t?`${t}: ${i}`:i}return t}},495239:(e,t,i)=>{"use strict";i.d(t,{addPhotoUnblurred:()=>a,isPhotoUnblurred:()=>r});var o=i(825127);function r(e){const{unblurredPhotos:t}=window.cur;return!!t&&t.photoIds.has(e)}function n(){let e=window.cur.unblurredPhotos;return e||(e={events:new o.default,photoIds:new Set},window.cur.unblurredPhotos=e),e}function a(e){const t=n();t.photoIds.add(e),t.events.emit("addPhotoUnblurred",e)}},646367:(e,t,i)=>{"use strict";i.r(t),i.d(t,{showAskQuestionBox:()=>d,showMyQuestionsBox:()=>l});var o=i(754866),r=i(246429),n=i(131393),a=i(680960),s=i(148230),c=i(508611);function l(e){if(window.cur.viewAsBox)return void window.cur.viewAsBox();e?.ref&&(0,c.logQuestionsOpeningEvent)(window.vk.id,e.ref,s.QuestionAnalyticBoxName.myQuestions);const t=document.querySelector("#box_layer_wrap"),i=document.querySelector("#box_loader");(0,o.show)(t),(0,o.show)(i),(0,r.refreshBoxLoaderCoords)(),Promise.all([(0,n.getQuestions)(),window.stManager.add([window.jsc("web/my_questions.js")]),new Promise(((e,t)=>{window.ajax.post("al_questions.php",{act:"load_ask_my_questions_box_lang_keys"},{onDone:()=>{e()},onFail:()=>(t(),!0)})}))]).then((([r])=>{window.boxQueue.count()||(0,o.hide)(t),(0,o.hide)(i),window.MyQuestionsBox.init(r.count,r.items,r.profiles,r.next_from,{onClose:e?.onClose,fromElement:e?.fromElement})})).catch((e=>{(0,o.hide)(t),(0,o.hide)(i),(0,a.logQuestionError)({error:e,additionalText:"An error occurred while loading data for my_questions.js"})}))}function d(e,t){if(e===window.vk.id)return void l({ref:t?.ref,fromElement:t?.fromElement});if(window.cur.viewAsBox)return void window.cur.viewAsBox();if(!e)return void(0,a.logQuestionError)({error:"Empty toUserId has been passed to showAskQuestionBox"});t?.ref&&(0,c.logQuestionsOpeningEvent)(e,t.ref,s.QuestionAnalyticBoxName.askQuestion);const i=document.querySelector("#box_layer_wrap"),d=document.querySelector("#box_loader");(0,o.show)(i),(0,o.show)(d),(0,r.refreshBoxLoaderCoords)(),Promise.all([(0,n.getUsers)([e]),window.stManager.add([window.jsc("web/ask_question.js")]),new Promise(((e,t)=>{window.ajax.post("al_questions.php",{act:"load_ask_question_box_lang_keys"},{onDone:()=>{e()},onFail:()=>(t(),!0)})}))]).then((([e])=>{(0,o.hide)(i),(0,o.hide)(d);const r=e[0];r&&window.AskQuestionBox.init(r,t?.fromElement)})).catch((e=>{(0,o.hide)(i),(0,o.hide)(d),(0,a.logQuestionError)({error:e,additionalText:"An error occurred while loading data for ask_question.js"})}))}},90345:(e,t,i)=>{"use strict";i.d(t,{EventItemType:()=>r.EventItemType,SearchClickActionMap:()=>r.SearchClickActionMap,getTrackCodeFromElement:()=>a,logEvent:()=>s,logSearchAudioClick:()=>l,logSearchClipClick:()=>c,logSearchPlaylistClickOut:()=>d});var o=i(314309),r=i(452223),n=i(843570);const a=(e,t)=>e?t&&e.dataset?.[t]?e.dataset?.[t]||"":e.dataset?.trackCode?e.dataset?.trackCode||"":a(e.parentElement,t):"",s=e=>{e.track_code&&o.searchStatsCollector.logEvent(e)},c=e=>{/^search$|^clips\/search$|^search\/clips$|^search\/video$/g.test(window?.mvcur?.mvPrevLoc?.[0]??"")&&window?.mvcur?.mvShown&&o.searchStatsCollector.logEvent({action:e,type:r.EventItemType.CLIP,track_code:(0,n.getVideoTrackCode)()})},l=(e,t="")=>{s({action:e,track_code:t,type:r.EventItemType.MUSIC_AUDIO})},d=e=>{o.searchStatsCollector.logOutOfSerpEvent({type:r.EventItemType.MUSIC_PLAYLIST,action:e})}},843570:(e,t,i)=>{"use strict";i.d(t,{getVideoTrackCode:()=>n,pickTrackCodeFromURL:()=>r});var o=i(231450);const r=()=>{setTimeout((()=>o.TRACK_CODE_TYPES.some((e=>(e=>{const t=window.nav.objLoc[e];if(!t)return!1;const i={...window.nav.objLoc};return delete i[e],window.nav.setLoc(i,{replace:!0}),history.replaceState({...history.state,[e]:t},""),!0})(e)))))},n=()=>window?.Videoview?.getMvData()?.track_code??window.mvcur?.options?.addParams?.track_code??""},187403:(e,t,i)=>{"use strict";i.d(t,{initColorSchemeDropdowns:()=>a});var o=i(19589),r=i(64323),n=i(428374);function a(){document.querySelectorAll(".SettingsColorSchemeDropdown").forEach((e=>{!function(e){if(e.dataset.inited)return;e.dataset.inited="1";let t=e.dataset.value,i=JSON.parse(e.dataset.items||"[]");o.ColorScheme.isSchemesAutoSwitchingSupported()||(t===o.ColorSchemeMode.Auto&&(t=o.ColorSchemeMode.Light),i=i.filter((([e])=>e!==o.ColorSchemeMode.Auto)));const a=new n.InlineDropdown(e,{selected:t,items:i,onSelect(t){o.colorScheme.setMode(t),(0,r.logTopNavElements)("theme");const i=e.dataset.hash;window.ajax.post("al_settings.php?act=a_save_color_scheme_mode",{mode:t,hash:i})}}),s=o.colorScheme.subscribe((()=>{e&&a?a.val(o.colorScheme.getMode(),!0):s()}))}(e)}))}},707491:(e,t,i)=>{"use strict";i.d(t,{getLeftMenuHeight:()=>l,getLegacyLeftMenuItemEl:()=>c,prefixId:()=>n,prepareHref:()=>s,turnOffTooltip:()=>d,unPrefixId:()=>a});var o=i(540462),r=i(384483);function n(e){return`l_${e}`}function a(e){return e.replace(/^l_/,"")}function s(e){return e.startsWith("/")?e:`/${e}`}function c(e){if((0,o.partConfigEnabled)("spa_layout_web"))return null;const t=(0,r.getReactRootElId)("LeftMenuRoot"),i=document.querySelector(`#${n(e)}`);return i?.closest(`#${t}`)?null:i}function l(){return document.querySelector(".side_bar_nav_wrap")?.getBoundingClientRect()?.height||0}function d(e,t){return new Promise(((i,o)=>{window.ajax.post("al_index.php",{act:"help_hints_hide",hash:t,hint_id:e},{onDone:i,onFail:e=>(o(e),!0)})}))}},793442:(e,t,i)=>{"use strict";i.d(t,{restoreLayersAfterClosingStoryLayers:()=>a,saveLayersBeforeOpeningStoryLayers:()=>n});var o=i(547754),r=i(246429);const n=()=>{(0,o.checkAndPrepareBoxQueue)({}),window.wkcur&&window.wkcur.shown&&window.layerQueue?.push()},a=()=>{window.cur.storiesCashedBoxQueueData?((0,r.restoreBoxQueue)(window.cur.storiesCashedBoxQueueData),(0,o.showMessageBox)(),delete window.cur.storiesCashedBoxQueueData):window.layerQueue.count()&&window.layerQueue.pop()}},602204:(e,t,i)=>{"use strict";function o(){const e=[window.jsc("web/stories.js"),"stories.css",window.jsc("web/emoji.js")];return window.stManager.add(e)}i.d(t,{loadStoryViewerStatic:()=>o})},547754:(e,t,i)=>{"use strict";i.d(t,{addLayer:()=>d,checkAndPrepareBoxQueue:()=>b,getCount:()=>g,getFirstLayer:()=>v,getPrevLayer:()=>f,hideAllLayers:()=>m,isOpeningLocked:()=>T,layerHide:()=>p,layerShown:()=>_,onReplyDeleted:()=>E,removeLayer:()=>u,showMessageBox:()=>A,slicePrevLayers:()=>y});var o=i(633009),r=i(972332),n=i(754866),a=i(246429);let s=[],c=!1;const l={visibilitychange:()=>{window.cur.storyLayer&&window.cur.storyLayer.onVisibilityChange()},resize:()=>{window.cur.storyLayer&&window.cur.storyLayer.onResize()},keydown:e=>{window.cur.storyLayer&&window.cur.storyLayer.onKeyDown(e)},keyup:e=>{window.cur.storyLayer&&window.cur.storyLayer.onKeyUp(e)}};function d(e,t,i){window.cur.storyLayer&&window.cur.storyLayer.pauseLayer(),(0,n.ge)("stories_layers_background")||(document.body.appendChild((0,n.ce)("div",{id:"stories_layers_background",className:"stories_layers_background"})),window.layerQueue.hide(),window.layerQueue.push(),window.layers.fullhide=m,(0,r.addEvent)(window,"visibilitychange",l.visibilitychange,void 0,void 0,!0),(0,r.addEvent)(window,"resize",l.resize),(0,r.addEvent)(document,"keydown",l.keydown),(0,r.addEvent)(document,"keyup",l.keyup)),window.cur.storyLayer=e,c=!0,e.animateStory("expand",t.fromEl instanceof HTMLElement?t.fromEl:void 0).catch((()=>{})).finally((()=>{c=!1,i?.()})),s.push(e),(0,n.addClass)(document.body,"stories_layer_shown"),(0,o.cancelStackPush)(`stories_layer_close${s.length}`,((t={})=>{t.byTimer?e.sendNavigationStatEvents("close_auto_by_time"):e.sendNavigationStatEvents("close_tap"),s.length>1&&!t.isCloseBtnClick?e.back():(e.hideAllLayers=t.isCloseBtnClick,e.hide(!1))}))}function u(){const e=s[0]?.options?.onClose;s.pop(),window.cur.storyLayer=s[s.length-1],window.cur.storyLayer?window.cur.storyLayer.resumeLayer():(m({noLoc:!0,onClose:e}),window.layerQueue.pop(),window.cur.storiesCashedBoxQueueData&&((0,a.restoreBoxQueue)(window.cur.storiesCashedBoxQueueData),A(),delete window.cur.storiesCashedBoxQueueData))}function _(){s.length>1&&(s[s.length-2].setLayerVisibility(!1),s[s.length-1].showBackButton())}function p(){s.length>1?s[s.length-2].setLayerVisibility(!0):(0,n.setStyle)("stories_layers_background","opacity",0)}function m(e=!1){const{noLoc:t}="object"==typeof e?e:{noLoc:e};for(let e=0;e<s.length;e++)s[e].hide(!0);if(window.layers.fullhide=!1,(0,n.removeClass)(document.body,"stories_layer_shown"),(0,n.re)("stories_layers_background"),(0,r.removeEvent)(window,"visibilitychange",l.visibilitychange),(0,r.removeEvent)(window,"resize",l.resize),(0,r.removeEvent)(document,"keydown",l.keydown),(0,r.removeEvent)(document,"keyup",l.keyup),t){const e=window.nav.objLoc;delete e.w,window.nav.setLoc(e)}window.cur.needUpdateFeedStories&&(window.Stories.updateFeedStories(),window.cur.needUpdateFeedStories=!1),s=[],"object"==typeof e&&e?.onClose&&e?.onClose()}function g(){return s.length}function v(){return s[0]}function f(){return s[s.length-2]}function y(){for(let e=s.length-2;e>=0;e--)s[e].doHide(!0);s.splice(0,s.length-1)}function E(e){for(let t=0;t<s.length;t++)s[t].onReplyDeleted(e)}function A(){const e=S();e&&(e.forceHide=!1,e._show(!0,!1,!0))}function S(){if(!window._message_boxes?.length)return null;const e=window._message_boxes.filter(Boolean);return e.length?e[e.length-1]:null}function b(e){(0,a.curBox)()&&(e.fromEl=null,function(){const e=S();e&&(e._hide(!1,!0,!0),e.forceHide=!0)}(),window.cur.storiesCashedBoxQueueData=(0,a.getAndCleanBoxQueueData)())}function T(){return c}i._dG("LayersX",s)},298544:(e,t,i)=>{"use strict";i.d(t,{getSearchQuery:()=>o});const o=()=>{const e=new URLSearchParams(window.location.search),t=e.get("section"),i=e.get("c[q]");return"search"===t&&i?i:"feed"===window.cur?.module&&"search"===window.cur?.section?window.cur.q??"":""}},762673:(e,t,i)=>{"use strict";i.d(t,{parseList:()=>o});const o=e=>{e.match(/story/)&&(e=decodeURIComponent(e));const t=e.match(/^(?:story)?(?:(-?\d+)(?:_(\d+))?(?:&([a-z0-9]+))?|([a-z0-9]+))?(?:\/([a-z0-9_\-]+))?(?:\/([a-z0-9_:;\-\.]+))?$/i);if(!t)return[];const[,i,o,r,n,a,s]=t;return[i,o,r,n,a,s]}},852392:(e,t,i)=>{"use strict";i.d(t,{createAppearanceModifier:()=>r,createElement:()=>a,createSizeModifier:()=>n,setContent:()=>s});var o=i(581197);function r(e){return`FlatButton--${e}`}function n(e){return`FlatButton--size-${e}`}function a(e,t){const i=document.createElement(e);return t&&(i.className=t),i}function s(e,t){null!=t&&((0,o.emptyNode)(e),"string"==typeof t?e.innerHTML=t:e.appendChild(t))}},952661:(e,t,i)=>{"use strict";i.d(t,{FlatButton:()=>d,FlatButtonAppearance:()=>s.FlatButtonAppearance,FlatButtonSize:()=>s.FlatButtonSize});var o=i(351118),r=i(950189),n=i(801746),a=i(852392),s=i(499088),c=i(249257);function l(e){return!!e&&e.classList.contains("FlatButton--locked")}const d={isFlatButton:function(e){return Boolean(e&&e.classList&&e.classList.contains("FlatButton"))},lock:function(e){if(!e||l(e))return;const t=e.classList.contains((0,a.createSizeModifier)(s.FlatButtonSize.L)),i=t?(0,r.getIcon24Spinner)().icon:(0,n.getIcon16Spinner)().icon,c=(0,a.createElement)("span",(0,o.classNames)("FlatButton__spinner",{"FlatButton__spinner--l":t}));c.innerHTML=i,e.appendChild(c),e.classList.add("FlatButton--locked")},unlock:function(e){e&&(e.querySelector(".FlatButton__spinner")?.remove(),e.classList.remove("FlatButton--locked"))},isLocked:l,isDisabled:function(e){return!!e&&e.classList.contains("FlatButton--disabled")},render:c.render,setDisabled:function(e,t=!0){e&&("button"===e.tagName.toLowerCase()&&(e.disabled=t),e.classList.toggle("FlatButton--disabled",t))},getAppearance:function(e){if(e)return Object.values(s.FlatButtonAppearance).find((t=>e.classList.contains((0,a.createAppearanceModifier)(t))))},setAppearance:function(e,t){e&&Object.values(s.FlatButtonAppearance).forEach((i=>{e.classList.toggle((0,a.createAppearanceModifier)(i),i===t)}))},setSize:function(e,t){e&&Object.values(s.FlatButtonSize).forEach((i=>{e.classList.toggle((0,a.createSizeModifier)(i),i===t)}))},setLabel:function(e,t){const i=e.querySelector(".FlatButton__in");if(!i)return;const o=i.querySelector(".FlatButton__content");o?(0,a.setContent)(o,t):i.prepend((0,c.renderContent)(t))},setBefore:function(e,t){const i=e?.querySelector(".FlatButton__in");if(!i)return;const o=e.querySelector(".FlatButton__before");null!=t?o?(0,a.setContent)(o,t):i.prepend((0,c.renderBefore)(t)):o?.remove()},setAfter:function(e,t){const i=e?.querySelector(".FlatButton__in");if(!i)return;const o=e.querySelector(".FlatButton__after");null!=t?o?(0,a.setContent)(o,t):i.prepend((0,c.renderAfter)(t)):o?.remove()}}},249257:(e,t,i)=>{"use strict";i.d(t,{render:()=>n,renderAfter:()=>s,renderBefore:()=>a,renderContent:()=>c});var o=i(351118),r=i(852392);function n(e){const{children:t,before:i,after:n,className:l,appearance:d,size:u,round:_,wide:p,flexWide:m,href:g,disabled:v,noPointerEventsForContent:f,restAttrs:y={},dangerousAttrbutesCode:E}=e,A={...y};let S;g?(S=document.createElement("a"),A.href=g):(S=document.createElement("button"),A.type||(A.type="button"));const b=S.tagName.toLowerCase(),T=!t&&Boolean(n)!==Boolean(i);S.className=(0,o.classNames)("FlatButton",(0,r.createAppearanceModifier)(d),(0,r.createSizeModifier)(u),{"FlatButton--round":_,"FlatButton--wide":p,"FlatButton--flexWide":m,"FlatButton--disabled":v,"FlatButton--singleIcon":T},l),Object.entries(A).forEach((([e,t])=>{null!=t&&S.setAttribute(e,String(t))})),v&&"button"===b&&(S.disabled=!0);const I=(0,r.createElement)("span",(0,o.classNames)("FlatButton__in",{"FlatButton__in--noPointerEvents":f}));if(S.appendChild(I),i&&I.appendChild(a(i)),t){const e=c(t);I.appendChild(e)}if(n&&I.appendChild(s(n)),E){const e=document.createElement("div");e.innerHTML=`<div ${E}></div>`;const t=e.firstElementChild;if(!t)return S;const i=t.attributes;Object.keys(i).forEach((e=>{const t=i[Number(e)],o=t.value;null!=o&&S.setAttribute(t.name,o)}))}return S}function a(e){const t=(0,r.createElement)("span","FlatButton__before");return(0,r.setContent)(t,e),t}function s(e){const t=(0,r.createElement)("span","FlatButton__after");return(0,r.setContent)(t,e),t}function c(e){const t=(0,r.createElement)("span","FlatButton__content");return(0,r.setContent)(t,e),t}},499088:(e,t,i)=>{"use strict";i.d(t,{FlatButtonAppearance:()=>o,FlatButtonSize:()=>r});const o={PRIMARY:"primary",SECONDARY:"secondary",TERTIARY:"tertiary",POSITIVE:"positive",NEGATIVE:"negative",OVERLAY_PRIMARY:"overlay-primary",ACCENT_OUTLINE:"accent-outline"},r={S:"s",M:"m",L:"l"}},933983:(e,t,i)=>{"use strict";i.d(t,{PageActionCell:()=>s});var o=i(754866),r=i(801746);function n(e){return null!=e&&e.classList.contains("PageActionCell")}const a="PageActionCell--locked";const s={isPageActionCell:n,isLocked:function(e){return n(e)&&e.classList.contains(a)},lock:function(e){e&&(e.classList.contains(a)||(e.lockTimeout&&clearTimeout(e.lockTimeout),e.resetLockTimeout=!1,e.lockTimeout=window.setTimeout((()=>{if(!e.resetLockTimeout){const t=(0,o.ce)("div",{className:"PageActionCell__spinner"});t.innerHTML=(0,r.getIcon16Spinner)().icon,e.prepend(t),e.classList.add(a)}}),500)))},unlock:function(e){if(e&&(e.resetLockTimeout=!0,e.classList.contains(a))){e.classList.remove(a);const t=e.querySelector(".PageActionCell__spinner");t&&t.remove()}},update:function(e,t){const{icon:i,label:o,counter:r}=t,n=e.querySelector(".PageActionCell__label");if(n&&(n.innerHTML=o),void 0!==i){const t=e.querySelector(".PageActionCell__icon");t&&(t.innerHTML=i)}if(void 0!==r){const t=e.querySelector(".PageActionCell__counter");t&&(t.innerHTML=r)}},setDescription:function(e,t){let i=e.querySelector(".PageActionCell__description");(i||t)&&(i||(i=document.createElement("span"),i.className="PageActionCell__description",e.querySelector(".PageActionCell__in")?.append(i)),t?i.innerHTML=t:i.remove(),e.classList.toggle("PageActionCell--with-desc",Boolean(t)))},getLabelElement:function(e){return e.querySelector(".PageActionCell__label")},getCounter:function(e){let t=e.querySelector(".PageActionCell__counter");return t&&Number(t.innerHTML)||0},setCounter:function(e,t){let i=e.querySelector(".PageActionCell__counter");!i&&t<=0||(i||(i=document.createElement("div"),i.classList.add("PageActionCell__counter"),e.appendChild(i)),t<=0?i.remove():i.innerHTML=String(t))}}},481104:(e,t,i)=>{"use strict";async function o(e,t={}){const{UnauthActionBox:o}=await Promise.all([i.e(91498),i.e(89631),i.e(50560),i.e(62791),i.e(21529),i.e(89887),i.e(75466),i.e(22081),i.e(51915),i.e(18624),i.e(64007),i.e(37310),i.e(76573),i.e(34770),i.e(21589),i.e(84835),i.e("langs/web/unauth_action_box")]).then(i.bind(i,711615));return o.show(e,t)}i.d(t,{loadUnauthorizedActionBox:()=>o})},672263:(e,t,i)=>{"use strict";i.r(t),i.d(t,{Unauthorized:()=>l,UnauthorizedSourceType:()=>o.UnauthorizedSourceType,isUnauthorizedMediaLayerBoxAvailable:()=>a});var o=i(558e3),r=i(468073),n=i(481104);function a(){return!r.Ranges.isUserId(window.vk.id)&&!window.layers.visible&&!!document.querySelector(".PageBottomBanner--unauth")}let s,c=!1;const l={initScrollMoreBox:function(e){const t=()=>{c=!1,window.removeEventListener("scroll",s)};t(),s=()=>{if(c)return;if(window.layers?.visible)return;if(window.cur.unauthScrollMoreBox)return;window.pageYOffset>=2*window.innerHeight&&(c=!0,(0,n.loadUnauthorizedActionBox)(e))},e.showOnLoad&&(c=!0,(0,n.loadUnauthorizedActionBox)(e)),window.addEventListener("scroll",s),window.cur.beforeNavigateRequestHandlers?.push((()=>t()))},showMoreBox:function(e,t,i,o){e&&e.preventDefault(),window.ajax.post("/al_index.php?act=a_unauthorized_box",{action:"more",owner_id:t,source:i},{loader:!0,onDone:e=>{e.unauth_action_box?(0,n.loadUnauthorizedActionBox)(e.unauth_action_box,{onHide:o}):o&&o()}})}}},55090:(e,t,i)=>{"use strict";i.d(t,{isWidget:()=>r});var o=i(105330);const r=()=>(0,o.isWidget)()},253575:(e,t,i)=>{"use strict";i.d(t,{isFakeVideoStandaloneAndSpaLayoutActive:()=>l,isVideoClipsRoutes:()=>d,isVideoSpaClientOnlyEnabled:()=>u,isVideoSpaLayoutActive:()=>c,isVideoSpaLayoutNavigationEnabled:()=>a});var o=i(540462),r=i(693208),n=i(902642);const a=()=>((0,o.partConfigEnabled)("frontend.video_web_spa_layout_all")||(0,o.partConfigEnabled)("frontend.video_web_spa_layout"))&&(0,n.isFakeVideoStandalone)()&&!(0,r.isVideoDashboard)(),s=["interactives","interactivesForKids","interactivesCommunities","searchInteractives"],c=e=>!!(0,o.partConfigEnabled)("frontend.video_web_spa_layout_all")||!!(0,o.partConfigEnabled)("frontend.video_web_spa_layout")&&(e?s.includes(e):window.location.pathname.startsWith("/interactives")),l=e=>(0,n.isFakeVideoStandalone)()&&!(0,r.isVideoDashboard)()&&c(e),d=e=>"clips"===e||"clip"===e,u=e=>{if(!(0,n.isFakeVideoStandalone)())return!1;switch(e){case"playlist":return!0;case"forKids":case"forKidsCategoryShowcase":return(0,o.partConfigEnabled)("web_spa_for_kids_page");case"moviesSerials":case"moviesSerialsCategoryShowcase":return(0,o.partConfigEnabled)("movies_and_serials_redesign");case"sport":case"sportCategoryShowcase":return(0,o.partConfigEnabled)("frontend.web_spa_sport_page");case"musical":case"musicalSubcategory":return(0,o.partConfigEnabled)("frontend.video_web_spa_musical_page")||(0,o.isToggleEnabled)("video_web_catalog_musical");case"newYear":case"newYearSubcategory":return(0,o.partConfigEnabled)("frontend.video_web_spa_new_year_page");case"playlistVideo":case"video":return(0,o.isToggleEnabled)("video_spa_video_page")||(0,o.partConfigEnabled)("video_web_spa_video_page_rollout");case"main":case"mainAutomotive":case"mainCooking":case"mainCulture":case"mainEducation":case"mainFitness":case"mainInteractive":case"mainInterview":case"mainLifestyle":case"mainMusic":case"mainPolitic":case"mainTechnology":case"mainTourisme":return(0,o.partConfigEnabled)("video_web_spa_main_page_rollout")||(0,o.isToggleEnabled)("video_web_spa_main_page")||(0,o.isToggleEnabled)("video_save_video_page_opts")||(0,o.isToggleEnabled)("video_wo_save_video_page_opts");case"search":case"searchCategory":case"searchSubCategory":case"searchAllPlaylists":case"searchInteractives":case"searchSeo":return(0,o.partConfigEnabled)("frontend.video_web_spa_search");case"searchHistory":return(0,o.partConfigEnabled)("frontend.video_web_spa_search_history");default:return!1}}},823638:(e,t,i)=>{"use strict";i.d(t,{createPlaylistPopup:()=>n,createPlaylistPopupExtended:()=>a,startLiveVideoPopup:()=>c,uploadVideoPopup:()=>s});var o=i(450927),r=i(17966);const n=async({event:e,ownerId:t,videoId:i,videoOwnerId:r,requestOrigin:n,onClose:a,noPublicAdd:s})=>{window.Video||await(0,o.getVideoModule)(),window.Video.createAlbum(e,t,i,r,n,a,s)},a=({event:e,ownerId:t,callback:i,...o})=>{const a=window.nav.strLoc,s=window.location.search;window.nav.setLoc(`${(0,r.getVideoPrefix)("backSlash")}playlist/create${s}`);const c=()=>window.nav.setLoc(a);i?i({ownerId:t,onCreate:window.nav.reload,onClose:c}):n({...o,event:e,ownerId:t,onClose:c}).catch()},s=(e,t,i,o=!1,r="")=>{window.VideoUpload.showBox({aid:t,from:"video",oid:e,disabled:i,isClipsUploading:o,sourceId:r})},c=(e,t)=>{const i=window.nav.strLoc,o=()=>window.nav.setLoc(t??i),n=window.location.search;window.nav.setLoc(`${(0,r.getVideoPrefix)("backSlash")}live/start${n}`),window.cur.webcast_settings?window.VideoUpload.showLiveVideoLeaveWarning(e,{onDestroy:o}):window.VideoUpload.showLiveTypeModal(e,{onDestroy:o})}},450927:(e,t,i)=>{"use strict";function o(){return window.stManager.add([window.jsc("web/video.js")])}function r(){return window.VideoUpload?Promise.resolve({VideoUpload:window.VideoUpload,VideoUploadSubtitles:window.VideoUploadSubtitles,VideoInlineUpload:window.VideoInlineUpload}):Promise.all([i.e(91498),i.e(89631),i.e(50560),i.e(62791),i.e(762),i.e(21529),i.e(96851),i.e(5375),i.e(89887),i.e(38302),i.e(75466),i.e(60712),i.e(22081),i.e(51915),i.e(18624),i.e(64007),i.e(37310),i.e(35285),i.e(76573),i.e(34770),i.e(21589),i.e(58020),i.e(79934),i.e(51943),i.e("langs/web/VideoUpload")]).then(i.bind(i,193773)).then((({initVideoUpload:e,VideoUpload:t,VideoUploadSubtitles:o,VideoInlineUpload:r})=>(!window.VideoUpload&&t&&i._dG("VideoUpload",t),!window.VideoUploadSubtitles&&o&&i._dG("VideoUploadSubtitles",o),!window.VideoInlineUpload&&r&&i._dG("VideoInlineUpload",r),e(),{VideoUpload:t,VideoUploadSubtitles:o,VideoInlineUpload:r})))}function n(){return window.stManager.add([window.jsc("web/video_showcase.js")])}function a(){return window.stManager.add([window.jsc("web/indexer.js")])}function s(){return window.stManager.add([window.jsc("web/grid_sorter.js")])}i.d(t,{getGridSorterModule:()=>s,getIndexerModule:()=>a,getVideoModule:()=>o,getVideoShowcaseModule:()=>n,getVideoUploadModule:()=>r})},826619:(e,t,i)=>{"use strict";i.d(t,{CreatePlaylistRequestOrigin:()=>S,PlaylistFormEvents:()=>E,VideoAddToPlaylistActionSheetEvents:()=>f,VideoCardAddButtonEvents:()=>y,VideoCardEvents:()=>A,VideoOrderEvents:()=>v,checkVideoIsPreloaded:()=>m,createPlaylistPopup:()=>l.createPlaylistPopup,determineEventSubtype:()=>k,getAdditionalInfo:()=>d.getAdditionalInfo,getFormattedBigViewsToShortCase:()=>d.getFormattedBigViewsToShortCase,getFormattedPostponePublishDateTime:()=>d.getFormattedPostponePublishDateTime,getFormattedUpdatedTime:()=>d.getFormattedUpdatedTime,getOwnerForShortVideo:()=>b,getTimeParam:()=>O,getVideoTrackCode:()=>_,idlizeCall:()=>u,isMediaHlsSupported:()=>g,isValidContextKey:()=>P,logClipClick:()=>p,redirectToRedesignedForm:()=>I,saveShortVideoData:()=>T,startLiveVideoPopup:()=>l.startLiveVideoPopup,uploadVideoPopup:()=>l.uploadVideoPopup});var o=i(452223),r=i(314309),n=i(468073),a=i(957994),s=i(573825),c=i(89972),l=i(823638),d=i(856289);const u=(e,t=1e3)=>{const i=()=>{setTimeout((()=>e()),t)};return"function"==typeof window.requestIdleCallback?window.requestIdleCallback(i,{timeout:5e3}):i()},_=()=>window?.Videoview?.getMvData()?.track_code||window.mvcur?.options?.addParams?.track_code,p=(e,t)=>{r.shortVideoStatsCollector.logEvent({type:o.EventItemType.CLIP,action:e,track_code:t})},m=e=>Object.keys(window.ajaxCache).some((t=>t.startsWith("/al_video.php?act=video_box")&&t.includes(`&video=${e}`))),g=()=>window.MediaSource&&MediaSource.isTypeSupported&&MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),v={START_LOADING:"VideoOrderEvents/START_LOADING",END_LOADING:"VideoOrderEvents/END_LOADING"},f={INIT:"VideoAddToPlaylistActionSheetEvents/INIT",SHOW:"VideoAddToPlaylistActionSheetEvents/SHOW",HIDE:"VideoAddToPlaylistActionSheetEvents/HIDE"},y={SET_ADD:"VideoCardAddButtonEvents/SET_ADD",SET_ADDED:"VideoCardAddButtonEvents/SET_ADDED",SHOW:"VideoCardAddButtonEvents/SHOW",HIDE:"VideoCardAddButtonEvents/HIDE"},E={CREATE:"PlaylistFormEvents/CREATE",UPDATE:"PlaylistFormEvents/UPDATE",DELETE:"PlaylistFormEvents/DELETE"},A={MOUSE_OVER:"VideoCardEvents/MOUSE_OVER",MOUSE_OUT:"VideoCardEvents/MOUSE_OUT",WATCH_LATER:"VideoCardEvents/WATCH_LATER"},S={VIDEO_PLAYLISTS_MODAL:"CreatePlaylistRequestOrigin/VIDEO_PLAYLISTS_MODAL",NEW_PLAYLIST_PAGE:"CreatePlaylistRequestOrigin/NEW_PLAYLIST_PAGE",VIDEO_CATALOG:"CreatePlaylistRequestOrigin/VIDEO_CATALOG"},b=async e=>{if(n.Ranges.isUserId(e)){const[t]=await(0,a.api)("users.get",{user_ids:`${e}`,fields:"is_closed,photo_50,photo_100,first_name,last_name,screen_name,domain"});return t}{const{groups:t}=await(0,a.api)("groups.getById",{group_ids:String(Math.abs(e)),fields:"is_closed,photo_50,photo_100,name,screen_name"});return t?.[0]??null}},T=(e,t)=>{const i=new s.ShortVideoUploadService;i.setOwner(t),i.setFiles(e)},I=e=>{if(!location.pathname.includes(c.CLIPS_SECTIONS.UPLOAD)){const t=n.Ranges.isGroupId(e)?n.Ranges.convertGroupIdToOwnerId(e):e;window.nav.go(`${c.BASE_ROUTE}/upload${t}`)}},C=["video_my_communities","video_group_main","groups","profile","video_my_added","video_my_uploaded","video_playlists","video_playlist","video_user_all"],k=e=>{switch(e){case"video_my_communities":return o.VideoClipAddClickSubType.FROM_ALL_COMMUNITIES;case"video_group_main":return o.VideoClipAddClickSubType.FROM_COMMUNITY;case"groups":return o.VideoClipAddClickSubType.FROM_COMMUNITY_VK;case"profile":return o.VideoClipAddClickSubType.FROM_PROFILE_VK;case"video_my_added":return o.VideoClipAddClickSubType.FROM_ADD_VIDEO;case"video_my_uploaded":return o.VideoClipAddClickSubType.FROM_UPLOAD_VIDEO;case"video_playlist":return o.VideoClipAddClickSubType.FROM_PLAYLIST;default:return o.VideoClipAddClickSubType.FROM_MAIN}};function P(e){return C.includes(e)}const O=e=>{const t=Math.floor(e/3600),i=Math.floor(e%3600/60);return`${t?t+"h":""}${i?i+"m":""}${Math.floor(e%3600%60)}s`}},15874:(e,t,i)=>{"use strict";i.d(t,{WEB_WALL_POST_WITH_TRACK_CODE_SELECTOR:()=>s,getLayerPostElemByFullId:()=>l,getOriginalId:()=>m,getPostElem:()=>d,getPostElemByChildEl:()=>u,getWallPostElemByFullId:()=>c,replyUserImageImg:()=>p,replyUserImageLinkClosest:()=>_});var o=i(361121);const r=".post",n=".wl_post",a='.post, .wl_post, [data-testid="post"]',s="._post[data-post-track-code], .wl_post[data-post-track-code], [data-spa-post-legacy-selector]",c=e=>{if("string"==typeof e)return document.querySelector(`${r}[data-post-id="${e}"], ${r}[data-slave-post-id="${e}"]`)??void 0},l=e=>{if("string"==typeof e)return document.querySelector(`${n}[data-post-id="${e}"], ${n}[data-slave-post-id="${e}"]`)??void 0},d=(e,t)=>(e=>{if("string"==typeof e)return c(e)??l(e)??void 0})(e)??t?.closest(a)??void 0,u=e=>e?.closest(a)??void 0,_=e=>e.closest(".reply_image, ._reply_image")??void 0,p=e=>e.querySelector("img.reply_img")??void 0,m=(e,t)=>{const i=d(e,t);return(0,o.splitRawId)(i?.dataset.slavePostId||i?.dataset.postId||"")}},349835:(e,t,i)=>{"use strict";i.d(t,{getWkViewNodes:()=>r,handleWkViewCloseEvent:()=>l,isPostLayerArrowsHide:()=>d,isWkLayerWallPostOpen:()=>n,preparePostElToDetaching:()=>a,sendWkViewCloseEvent:()=>c,updatePostElAfterAttaching:()=>s});var o=i(15614);function r(){const e=window.wkcur.wkBox,t=window.wkcur.wkContent;return{wkBox:e,wkContent:t,wkContentText:t.firstElementChild,wkRight:window.wkcur.wkRight}}const n=()=>!!window.cur.wallLayer,a=e=>{const t=e.querySelector(`.${o.UI_GALLERY_CLASSNAME}`);if(t){const e=t.querySelector(`.${o.UI_GALLERY_CONTENT_CLASSNAME}`)?.scrollLeft;e&&(t.dataset.contentScrollLeft=e.toString())}},s=e=>{const t=e.querySelector(`.${o.UI_GALLERY_CLASSNAME}`);if(t){const e=t.querySelector(`.${o.UI_GALLERY_CONTENT_CLASSNAME}`),{contentScrollLeft:i}=t.dataset;e&&i&&(e.scrollLeft=parseInt(i,10))}},c=()=>{const e=new CustomEvent("wkview_close");window.dispatchEvent(e)},l=e=>{const t=()=>{e()};return window.addEventListener("wkview_close",t),()=>{window.removeEventListener("wkview_close",t)}},d=()=>{const e=window.cur.module;return["groups","profile","public","feed"].includes(e)}},545537:(e,t,i)=>{"use strict";function o(){return window.wkcur&&Array.isArray(window.wkcur._hide)?window.wkcur._hide:[]}function r(e){"function"==typeof e&&o().push(e)}function n(e){var t;t=o().filter((t=>t!==e)),window.wkcur&&(window.wkcur._hide=t)}function a(){o().forEach((e=>{e()}))}i.d(t,{addWkViewHideQueue:()=>r,executeWkViewHideQueue:()=>a,removeWkViewHideQueue:()=>n})},865734:(e,t,i)=>{"use strict";i.d(t,{PageSkeletonUserEnv:()=>n});var o=i(331635),r=i(132028);class n{}n=(0,o.__decorate)([r.scope.global({abstract:!0})],n)},999148:(e,t,i)=>{"use strict";i.d(t,{PageSkeletonUserEnvFacade:()=>s});var o=i(331635),r=i(132028),n=i(24516),a=i(865734);class s extends a.PageSkeletonUserEnv{partConfigEnabled(e){return this.userEnv.partConfigEnabled(e)}getConfigValue(e){return this.userEnv.getConfigValue(e)}constructor(e){super(),this.userEnv=e}}s=(0,o.__decorate)([r.scope.global(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===n.UserEnv?Object:n.UserEnv])],s)},212858:(e,t,i)=>{"use strict";i.d(t,{AudioUserSubscriptionActionType:()=>o});var o=function(e){return e.Open="Open",e}({})},137516:(e,t,i)=>{"use strict";i.d(t,{getAudioLegalNoticeLines:()=>r});const o="18+";function r(e,t){const i=[],{isExplicit:r,isForeignAgent:n}=t;return n?i.push(`${e.getLang("audio_legal_notice_line_foreign_agent")} ${o}`):r&&i.push(o),i.length?i:null}},921809:(e,t,i)=>{"use strict";i.d(t,{AudioButton:()=>a});var o=i(474848),r=i(454154),n=i(578392);function a({hint:e,hintAppearance:t="accent",disabled:i,...a}){const s=(0,o.jsx)(r.Button,{disabled:i,...a});return(0,o.jsx)(n.TextTooltip,{hideWhenReferenceHidden:!0,enableInteractive:!1,text:e,appearance:t,children:s})}},308274:(e,t,i)=>{"use strict";i.d(t,{AudioIconButton:()=>d});var o=i(474848),r=i(456921),n=i(578392),a=i(271036),s=i(723723),c=i(248525),l=i(729099);const d=(0,r.observer)((function({size:e="m",hint:t,hintAppearance:i="neutral",isPending:r,disabled:d,label:u,appearance:_="contrast",...p}){const m=`color_icon_${_}`;return(0,o.jsx)(c.LoadingSwitcher,{isLoading:r,size:e,appearance:_,children:(0,o.jsx)(n.TextTooltip,{hideWhenReferenceHidden:!0,enableInteractive:!1,text:t,appearance:i,children:(0,o.jsx)(a.IconButton,{disabled:d,size:(0,l.getIconButtonSize)(e),className:(0,s.getColorClass)(m),label:u,...p})})})}))},347626:(e,t,i)=>{"use strict";i.d(t,{LoadingSwitcher:()=>s});var o=i(474848),r=i(456921),n=i(700272),a=i(723723);const s=(0,r.observer)((function({isLoading:e,size:t,children:i,appearance:r="contrast"}){const s=`color_icon_${r}`;return e?(0,o.jsx)(n.Spinner,{size:t,className:(0,a.getColorClass)(s)}):i}))},248525:(e,t,i)=>{"use strict";i.d(t,{LoadingSwitcher:()=>o.LoadingSwitcher});var o=i(347626)},729099:(e,t,i)=>{"use strict";i.d(t,{getIconButtonSize:()=>r});const o=Object.freeze({s:12,m:24,l:32,xl:44});function r(e){return o[e]}},524413:(e,t,i)=>{"use strict";i.d(t,{AudioIconButton:()=>o.AudioIconButton});var o=i(308274)},100693:(e,t,i)=>{"use strict";i.d(t,{AudioButton:()=>o.AudioButton,AudioIconButton:()=>r.AudioIconButton});var o=i(921809),r=i(524413)},728100:(e,t,i)=>{"use strict";i.d(t,{MusicAlbumActionType:()=>o});var o=function(e){return e.Open="MusicAlbum_Open",e}({})},288866:(e,t,i)=>{"use strict";i.d(t,{MusicAudioActionType:()=>o});var o=function(e){return e.Open="MusicAudio_Open",e.OpenLyrics="MusicAudio_OpenLyrics",e.OpenSimilar="MusicAudio_OpenSimilar",e.OpenUma="MusicAudio_OpenUma",e.OpenSnippet="MusicAudio_OpenSnippet",e.ToggleOwning="MusicAudio_ToggleOwning",e.ToggleDislike="MusicAudio_ToggleDislike",e.TogglePlaying="MusicAudio_TogglePlaying",e.Share="MusicAudio_Share",e.Broadcast="MusicAudio_Broadcast",e.CopyPageURL="MusicAudio_CopyPageURL",e}({})},322190:(e,t,i)=>{"use strict";i.d(t,{MusicAudioIdentity:()=>r});var o=i(70148);class r extends o.OwnedIdentity{}},548301:(e,t,i)=>{"use strict";i.d(t,{MusicPlaylistActionType:()=>o});var o=function(e){return e.Open="MusicPlaylist_Open",e.ToggleFollowing="MusicPlaylist_ToggleFollowing",e.CreateOwningCopy="MusicPlaylist_CreateOwningCopy",e.ToggleDiscoverable="MusicPlaylist_ToggleDiscoverable",e.TogglePlaying="MusicPlaylist_TogglePlaying",e.ToggleShuffled="MusicPlaylist_ToggleShuffled",e.Share="MusicPlaylist_Share",e.CopyPageURL="MusicPlaylist_CopyPageURL",e.OpenEditing="MusicPlaylist_OpenEditing",e.Delete="MusicPlaylist_Delete",e.OpenUMA="MusicPlaylist_OpenUMA",e.OpenAddingToGroup="MusicPlaylist_OpenAddingToGroup",e.DeleteFromGroup="MusicPlaylist_DeleteFromGroup",e}({})},655255:(e,t,i)=>{"use strict";i.d(t,{AudioAdvertisingBannerViewModelProviderLazyProxy:()=>u});var o=i(434518),r=i(763812),n=i(331635),a=i(327813),s=(0,r._)("_mock"),c=(0,r._)("_importImpl"),l=(0,r._)("_ensureImpl"),d=(0,r._)("_getProperty");class u{get current(){return(0,o._)(this,d)[d]("current")}constructor(e){Object.defineProperty(this,l,{value:_}),Object.defineProperty(this,d,{value:p}),Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,c,{writable:!0,value:void 0}),(0,o._)(this,s)[s]={current:null},this.impl=null,(0,o._)(this,c)[c]=e,(0,a.makeObservable)(this),(0,o._)(this,l)[l]()}}async function _(){if(this.impl)return;const e=await(0,o._)(this,c)[c]();(0,a.runInAction)((()=>{this.impl=e}))}function p(e){return(this.impl??(0,o._)(this,s)[s])[e]}(0,n.__decorate)([a.observable.ref,(0,n.__metadata)("design:type",Object)],u.prototype,"impl",void 0)},971460:(e,t,i)=>{"use strict";i.d(t,{AudioAdvertisingBannerViewModelProviderLazyProxy:()=>o.AudioAdvertisingBannerViewModelProviderLazyProxy});var o=i(655255)},607845:(e,t,i)=>{"use strict";i.d(t,{AudioPlatformConfig:()=>a});var o=i(331635),r=i(132028),n=i(671182);class a{get locationOrigin(){return window.location.origin}constructor(){this.clipboard=new n.BrowserAudioClipboard}}a=(0,o.__decorate)([r.scope.global({abstract:!0})],a)},51438:(e,t,i)=>{"use strict";i.d(t,{AudioPlatformConfigLegacyLazyProxy:()=>d});var o=i(434518),r=i(763812),n=i(331635),a=i(327813),s=(0,r._)("_importImpl"),c=(0,r._)("_mock"),l=(0,r._)("_ensureImpl");class d{get mediaNotifier(){return this.instance.mediaNotifier}async ensureMediaNotifier(){const e=await(0,o._)(this,l)[l]();if(!e?.mediaNotifier)throw new Error("Media notifier not initialized");return e.mediaNotifier}sendListenedData(e){return this.instance.sendListenedData(e)}get instance(){return this.impl??(0,o._)(this,c)[c]}constructor(e){Object.defineProperty(this,l,{value:u}),Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,c,{writable:!0,value:void 0}),this.impl=null,(0,o._)(this,s)[s]=e,(0,o._)(this,c)[c]={sendListenedData:()=>{},mediaNotifier:null},(0,a.makeObservable)(this),(0,o._)(this,l)[l]()}}async function u(){if(this.impl)return this.impl;const e=await(0,o._)(this,s)[s]();return(0,a.runInAction)((()=>{this.impl=e})),e}(0,n.__decorate)([a.observable.ref,(0,n.__metadata)("design:type",Object)],d.prototype,"impl",void 0)},177361:(e,t,i)=>{"use strict";i.d(t,{AudioUserSubscriptionActionOverridesLazyProxy:()=>p});var o=i(434518),r=i(763812),n=i(331635),a=i(327813),s=i(212858),c=(0,r._)("_mock"),l=(0,r._)("_importImpl"),d=(0,r._)("_ensureImpl"),u=(0,r._)("_getProperty");let _=s.AudioUserSubscriptionActionType.Open;class p{get[_](){return(0,o._)(this,u)[u](s.AudioUserSubscriptionActionType.Open)}constructor(e){Object.defineProperty(this,d,{value:m}),Object.defineProperty(this,u,{value:g}),Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0}),(0,o._)(this,c)[c]={},this.impl=null,(0,o._)(this,l)[l]=e,(0,a.makeObservable)(this),(0,o._)(this,d)[d]()}}async function m(){if(this.impl)return;const e=await(0,o._)(this,l)[l]();(0,a.runInAction)((()=>{this.impl=e}))}function g(e){return(this.impl??(0,o._)(this,c)[c])[e]}(0,n.__decorate)([a.observable.ref,(0,n.__metadata)("design:type",Object)],p.prototype,"impl",void 0)},113985:(e,t,i)=>{"use strict";i.d(t,{MusicAlbumActionOverridesLazyProxy:()=>p});var o=i(434518),r=i(763812),n=i(331635),a=i(327813),s=i(728100),c=(0,r._)("_mock"),l=(0,r._)("_importImpl"),d=(0,r._)("_ensureImpl"),u=(0,r._)("_getProperty");let _=s.MusicAlbumActionType.Open;class p{get[_](){return(0,o._)(this,u)[u](s.MusicAlbumActionType.Open)}constructor(e){Object.defineProperty(this,d,{value:m}),Object.defineProperty(this,u,{value:g}),Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0}),(0,o._)(this,c)[c]={},this.impl=null,(0,o._)(this,l)[l]=e,(0,a.makeObservable)(this),(0,o._)(this,d)[d]()}}async function m(){if(this.impl)return;const e=await(0,o._)(this,l)[l]();(0,a.runInAction)((()=>{this.impl=e}))}function g(e){return(this.impl??(0,o._)(this,c)[c])[e]}(0,n.__decorate)([a.observable.ref,(0,n.__metadata)("design:type",Object)],p.prototype,"impl",void 0)},402164:(e,t,i)=>{"use strict";i.d(t,{MusicAudioActionOverridesLazyProxy:()=>v});var o=i(434518),r=i(763812),n=i(331635),a=i(327813),s=i(288866),c=(0,r._)("_mock"),l=(0,r._)("_importImpl"),d=(0,r._)("_ensureImpl"),u=(0,r._)("_getProperty");let _=s.MusicAudioActionType.OpenLyrics,p=s.MusicAudioActionType.OpenUma,m=s.MusicAudioActionType.OpenSnippet,g=s.MusicAudioActionType.Share;class v{get[_](){return(0,o._)(this,u)[u](s.MusicAudioActionType.OpenLyrics)}get[p](){return(0,o._)(this,u)[u](s.MusicAudioActionType.OpenUma)}get[m](){return(0,o._)(this,u)[u](s.MusicAudioActionType.OpenSnippet)}get[g](){return(0,o._)(this,u)[u](s.MusicAudioActionType.Share)}constructor(e){Object.defineProperty(this,d,{value:f}),Object.defineProperty(this,u,{value:y}),Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0}),(0,o._)(this,c)[c]={},this.impl=null,(0,o._)(this,l)[l]=e,(0,a.makeObservable)(this),(0,o._)(this,d)[d]()}}async function f(){if(this.impl)return;const e=await(0,o._)(this,l)[l]();(0,a.runInAction)((()=>{this.impl=e}))}function y(e){return(this.impl??(0,o._)(this,c)[c])[e]}(0,n.__decorate)([a.observable.ref,(0,n.__metadata)("design:type",Object)],v.prototype,"impl",void 0)},705400:(e,t,i)=>{"use strict";i.d(t,{MusicPlaylistActionOverridesLazyProxy:()=>E});var o=i(434518),r=i(763812),n=i(331635),a=i(327813),s=i(548301),c=(0,r._)("_mock"),l=(0,r._)("_importImpl"),d=(0,r._)("_ensureImpl"),u=(0,r._)("_getProperty");let _=s.MusicPlaylistActionType.Open,p=s.MusicPlaylistActionType.Share,m=s.MusicPlaylistActionType.OpenEditing,g=s.MusicPlaylistActionType.Delete,v=s.MusicPlaylistActionType.OpenUMA,f=s.MusicPlaylistActionType.OpenAddingToGroup,y=s.MusicPlaylistActionType.DeleteFromGroup;class E{get[_](){return(0,o._)(this,u)[u](s.MusicPlaylistActionType.Open)}get[p](){return(0,o._)(this,u)[u](s.MusicPlaylistActionType.Share)}get[m](){return(0,o._)(this,u)[u](s.MusicPlaylistActionType.OpenEditing)}get[g](){return(0,o._)(this,u)[u](s.MusicPlaylistActionType.Delete)}get[v](){return(0,o._)(this,u)[u](s.MusicPlaylistActionType.OpenUMA)}get[f](){return(0,o._)(this,u)[u](s.MusicPlaylistActionType.OpenAddingToGroup)}get[y](){return(0,o._)(this,u)[u](s.MusicPlaylistActionType.DeleteFromGroup)}constructor(e){Object.defineProperty(this,d,{value:A}),Object.defineProperty(this,u,{value:S}),Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0}),(0,o._)(this,c)[c]={},this.impl=null,(0,o._)(this,l)[l]=e,(0,a.makeObservable)(this),(0,o._)(this,d)[d]()}}async function A(){if(this.impl)return;const e=await(0,o._)(this,l)[l]();(0,a.runInAction)((()=>{this.impl=e}))}function S(e){return(this.impl??(0,o._)(this,c)[c])[e]}(0,n.__decorate)([a.observable.ref,(0,n.__metadata)("design:type",Object)],E.prototype,"impl",void 0)},937193:(e,t,i)=>{"use strict";i.d(t,{PodcastActionOverridesLazyProxy:()=>m});var o=i(434518),r=i(763812),n=i(331635),a=i(327813),s=i(722100),c=(0,r._)("_mock"),l=(0,r._)("_importImpl"),d=(0,r._)("_ensureImpl"),u=(0,r._)("_getProperty");let _=s.PodcastActionType.AddEpisode,p=s.PodcastActionType.Share;class m{get[_](){return(0,o._)(this,u)[u](s.PodcastActionType.AddEpisode)}get[p](){return(0,o._)(this,u)[u](s.PodcastActionType.Share)}constructor(e){Object.defineProperty(this,d,{value:g}),Object.defineProperty(this,u,{value:v}),Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0}),(0,o._)(this,c)[c]={},this.impl=null,(0,o._)(this,l)[l]=e,(0,a.makeObservable)(this),(0,o._)(this,d)[d]()}}async function g(){if(this.impl)return;const e=await(0,o._)(this,l)[l]();(0,a.runInAction)((()=>{this.impl=e}))}function v(e){return(this.impl??(0,o._)(this,c)[c])[e]}(0,n.__decorate)([a.observable.ref,(0,n.__metadata)("design:type",Object)],m.prototype,"impl",void 0)},585589:(e,t,i)=>{"use strict";i.d(t,{PodcastAudioActionOverridesLazyProxy:()=>y});var o=i(434518),r=i(763812),n=i(331635),a=i(327813),s=i(297999),c=(0,r._)("_mock"),l=(0,r._)("_importImpl"),d=(0,r._)("_ensureImpl"),u=(0,r._)("_getProperty");let _=s.PodcastAudioActionType.Open,p=s.PodcastAudioActionType.OpenLayer,m=s.PodcastAudioActionType.OpenPodcast,g=s.PodcastAudioActionType.Share,v=s.PodcastAudioActionType.OpenEditing,f=s.PodcastAudioActionType.TogglePodcastOwning;class y{get[_](){return(0,o._)(this,u)[u](s.PodcastAudioActionType.Open)}get[p](){return(0,o._)(this,u)[u](s.PodcastAudioActionType.OpenLayer)}get[m](){return(0,o._)(this,u)[u](s.PodcastAudioActionType.OpenPodcast)}get[g](){return(0,o._)(this,u)[u](s.PodcastAudioActionType.Share)}get[v](){return(0,o._)(this,u)[u](s.PodcastAudioActionType.OpenEditing)}get[f](){return(0,o._)(this,u)[u](s.PodcastAudioActionType.TogglePodcastOwning)}constructor(e){Object.defineProperty(this,d,{value:E}),Object.defineProperty(this,u,{value:A}),Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0}),(0,o._)(this,c)[c]={},this.impl=null,(0,o._)(this,l)[l]=e,(0,a.makeObservable)(this),(0,o._)(this,d)[d]()}}async function E(){if(this.impl)return;const e=await(0,o._)(this,l)[l]();(0,a.runInAction)((()=>{this.impl=e}))}function A(e){return(this.impl??(0,o._)(this,c)[c])[e]}(0,n.__decorate)([a.observable.ref,(0,n.__metadata)("design:type",Object)],y.prototype,"impl",void 0)},367734:(e,t,i)=>{"use strict";i.d(t,{AudioAdvertisingBannerViewModelProviderLazyProxy:()=>s.AudioAdvertisingBannerViewModelProviderLazyProxy,AudioPlatformConfig:()=>o.AudioPlatformConfig,AudioPlatformConfigLegacyLazyProxy:()=>r.AudioPlatformConfigLegacyLazyProxy,MusicAlbumActionOverridesLazyProxy:()=>a.MusicAlbumActionOverridesLazyProxy,MusicPlaylistActionOverridesLazyProxy:()=>n.MusicPlaylistActionOverridesLazyProxy});var o=i(607845),r=i(51438),n=i(705400),a=i(113985),s=i(971460)},671182:(e,t,i)=>{"use strict";i.d(t,{BrowserAudioClipboard:()=>r});var o=i(332700);class r{async copy(e){await(0,o.copyToClipboard)(e)}}},594495:(e,t,i)=>{"use strict";i.d(t,{AdvertisingPolice:()=>c});var o=i(331635),r=i(327813),n=i(132028),a=i(750633),s=i(273859);class c{get isRequired(){return this._isRequired}setIsRequired(e){this._isRequired=e}async actualize(e){(await this.audioAdsApi.updateUserStatistic((0,s.toAudioAdsUpdateUserStatisticParams)(e))).show_ad&&this.setIsRequired(!0)}deactivate(){this.setIsRequired(!1)}constructor(e){this.audioAdsApi=e,this._isRequired=!1,(0,r.makeObservable)(this)}}(0,o.__decorate)([r.observable],c.prototype,"_isRequired",void 0),(0,o.__decorate)([r.computed,(0,o.__metadata)("design:type",void 0),(0,o.__metadata)("design:paramtypes",[])],c.prototype,"isRequired",null),(0,o.__decorate)([r.action,(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Boolean]),(0,o.__metadata)("design:returntype",void 0)],c.prototype,"setIsRequired",null),c=(0,o.__decorate)([n.scope.global(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===a.AudioAdsApi?Object:a.AudioAdsApi])],c)},438477:(e,t,i)=>{"use strict";i.d(t,{AdvertisingAnalytics:()=>a});var o=i(331635),r=i(132028),n=i(750633);class a{async sendAd(e){try{await this.audioAdsApi.acknowledgeView(e)}catch{}}constructor(e){this.audioAdsApi=e}}a=(0,o.__decorate)([r.scope.global(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===n.AudioAdsApi?Object:n.AudioAdsApi])],a)},815632:(e,t,i)=>{"use strict";i.d(t,{LONG_TIME_LISTENED_AUDIO_SECOND:()=>a,PERCENTAGE_OF_AUDIO_DURATION:()=>n,PREV_AUDIO_TIME_SECOND:()=>s,REASON_STOP_AUDIO_EVENT_CALC_TIME_LIST:()=>l,SHORT_TIME_AUDIO_SECOND:()=>r,UNSUPPORTED_SECTION_LIST:()=>c});var o=i(978367);const r=30,n=.3,a=300,s=5,c=["im"],l=[o.AudioPlayerStopAudioEventReason.NextButton,o.AudioPlayerStopAudioEventReason.PrevButton]},593323:(e,t,i)=>{"use strict";i.d(t,{AdvertisingServiceFactory:()=>l});var o=i(331635),r=i(132028),n=i(124300),a=i(594495),s=i(858190),c=i(438477);class l{create(e){return new s.AdvertisingService({playerAdapter:e,advertisingPolice:this.advertisingPolice,stats:this.stat,doormanPage:this.doormanPage})}constructor(e,t,i){this.advertisingPolice=e,this.stat=t,this.doormanPage=i}}l=(0,o.__decorate)([r.scope.global(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===a.AdvertisingPolice?Object:a.AdvertisingPolice,void 0===c.AdvertisingAnalytics?Object:c.AdvertisingAnalytics,void 0===n.DoormanPage?Object:n.DoormanPage])],l)},858190:(e,t,i)=>{"use strict";i.d(t,{AdvertisingService:()=>y});var o=i(434518),r=i(763812),n=i(880804),a=i(815632),s=(0,r._)("_listen"),c=(0,r._)("_cleanListenedLength"),l=(0,r._)("_handlePlayAudio"),d=(0,r._)("_handleClosePage"),u=(0,r._)("_handlePauseAudio"),_=(0,r._)("_handleStopAudio"),p=(0,r._)("_handleAdCompleted"),m=(0,r._)("_handleProgress"),g=(0,r._)("_makeAudioStateData"),v=(0,r._)("_makeAdStateData"),f=(0,r._)("_actualize");class y{init(){(0,o._)(this,s)[s]()}destroy(){(0,o._)(this,g)[g](),(0,o._)(this,f)[f](),this.playerAdapter.events.off("playAudio",(0,o._)(this,l)[l]).off("pauseAudio",(0,o._)(this,u)[u]).off("stopAudio",(0,o._)(this,_)[_]).off("adCompleted",(0,o._)(this,p)[p]).off("progressAudio",(0,o._)(this,m)[m])}toggleWasPaused(){this._wasPaused=!this._wasPaused}correctListenedLengthAfterStop(e,t){a.REASON_STOP_AUDIO_EVENT_CALC_TIME_LIST.includes(t)&&e&&(e<a.SHORT_TIME_AUDIO_SECOND||this._listenedLength>a.SHORT_TIME_AUDIO_SECOND||n.AudioPlayerStopAudioEventReason.PrevButton&&this._listenedLength>a.PREV_AUDIO_TIME_SECOND||(this._listenedLength=Math.round(e*a.PERCENTAGE_OF_AUDIO_DURATION)))}hasUnsupportedSection(){const e=this.playerAdapter.getContext();return a.UNSUPPORTED_SECTION_LIST.includes(e)}constructor(e){Object.defineProperty(this,s,{value:E}),Object.defineProperty(this,c,{value:A}),Object.defineProperty(this,g,{value:S}),Object.defineProperty(this,v,{value:b}),Object.defineProperty(this,f,{value:T}),Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,_,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),Object.defineProperty(this,m,{writable:!0,value:void 0}),this._listenedLength=0,this._audioStatData=null,this._wasPaused=!1,(0,o._)(this,l)[l]=async()=>{this._wasPaused?this.toggleWasPaused():this.hasUnsupportedSection()||(this._audioStatData||(0,o._)(this,g)[g](),await(0,o._)(this,f)[f]())},(0,o._)(this,d)[d]=()=>{(0,o._)(this,g)[g](),(0,o._)(this,f)[f]()},(0,o._)(this,u)[u]=async()=>{this.toggleWasPaused()},(0,o._)(this,_)[_]=async({audio:e,reason:t})=>{this.hasUnsupportedSection()||(this.correctListenedLengthAfterStop(e.duration,t),(0,o._)(this,g)[g]())},(0,o._)(this,p)[p]=async()=>{await this.stats.sendAd((0,o._)(this,v)[v]())},(0,o._)(this,m)[m]=({playedTime:e})=>{this.hasUnsupportedSection()||(this._listenedLength>=a.LONG_TIME_LISTENED_AUDIO_SECOND&&((0,o._)(this,g)[g](),(0,o._)(this,f)[f](),(0,o._)(this,c)[c]()),this._listenedLength=e)},this.playerAdapter=e.playerAdapter,this.advertisingPolice=e.advertisingPolice,this.stats=e.stats,this.doormanPage=e.doormanPage,this.doormanPage.on("closePage",(0,o._)(this,d)[d])}}function E(){this.playerAdapter.events.on("playAudio",(0,o._)(this,l)[l]).on("pauseAudio",(0,o._)(this,u)[u]).on("stopAudio",(0,o._)(this,_)[_]).on("adCompleted",(0,o._)(this,p)[p]).on("progressAudio",(0,o._)(this,m)[m])}function A(){this._listenedLength=0}function S(){const e=this.playerAdapter.getAudio();this._audioStatData={section:e?.context??"",ageType:e?.ads.account_age_type??0,listenedLength:Math.round(this._listenedLength),trackLength:e?.duration??0}}function b(){return{section:this.playerAdapter.getContext(),position:"preroll"}}async function T(){try{const e=this._audioStatData;if(!e)return;if(this.hasUnsupportedSection())return;if(e.listenedLength<=3)return;await this.advertisingPolice.actualize(e),(0,o._)(this,c)[c]()}catch{}}},273859:(e,t,i)=>{"use strict";function o(e){return{track_length:e.trackLength,listened_length:e.listenedLength,section:e.section??"unknown",age_type:e.ageType??0}}i.d(t,{toAudioAdsUpdateUserStatisticParams:()=>o})},663453:(e,t,i)=>{"use strict";i.d(t,{AudioPlayerNetworkAnalytics:()=>m});var o=i(434518),r=i(763812),n=i(331635),a=i(132028),s=i(397111),c=i(474928),l=i(229820),d=i(104825),u=i(169273),_=(0,r._)("_sendFragmentEvent"),p=(0,r._)("_toFragmentEventItem");class m{sendFragmentStalled(e){(0,o._)(this,_)[_](l.AudioNetworkType.FRAGMENT_STALLED,e)}constructor(e,t){Object.defineProperty(this,_,{value:g}),Object.defineProperty(this,p,{value:v}),this.networkStats=e,this.network=t}}function g(e,t){const i=t.networkConnection??this.network.connection;this.networkStats.send({network_type:i.type,network_effective_type:i.effectiveType,type:l.NetworkStatEventTypes.TYPE_NETWORK_AUDIO_ITEM,[l.NetworkStatEventTypes.TYPE_NETWORK_AUDIO_ITEM]:(0,o._)(this,p)[p](e,t)})}function v(e,t){return{event_type:e,audio_id:t.audio.id,owner_id:t.audio.ownerId,buffering_time:(0,d.toTrackedNumber)(t.bufferingTime),fragment_id:(0,u.toFragmentId)(t.id),fragment_duration:(0,d.toTrackedNumber)(t.duration),time_to_first_byte:(0,d.toTrackedNumber)(t.timeToFirstByte),time_to_first_frame:(0,d.toTrackedNumber)(t.timeToFirstByte),http_request_host:t.httpRequestHost,is_vpn:!1}}m=(0,n.__decorate)([a.scope.global(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===s.NetworkStats?Object:s.NetworkStats,void 0===c.Network?Object:c.Network])],m)},925720:(e,t,i)=>{"use strict";i.d(t,{AudioPlayerNetworkAnalytics:()=>o.AudioPlayerNetworkAnalytics});var o=i(663453)},169273:(e,t,i)=>{"use strict";i.d(t,{toFragmentId:()=>n});var o=i(351118),r=i(104825);function n(e){return function(e){return!!e&&(0,o.isString)(e)}(e)?e:(0,r.toTrackedNumber)(e)}},104825:(e,t,i)=>{"use strict";function o(e){return"number"!=typeof e?"0":e.toString()}i.d(t,{toTrackedNumber:()=>o})},297999:(e,t,i)=>{"use strict";i.d(t,{PodcastAudioActionType:()=>o});var o=function(e){return e.Open="Open",e.OpenLayer="OpenLayer",e.OpenPodcast="OpenPodcast",e.OpenStats="OpenStats",e.Share="Share",e.OpenEditing="OpenEditing",e.ToggleFavorites="ToggleFavorites",e.TogglePlaying="TogglePlaying",e.TogglePodcastOwning="TogglePodcastOwning",e}({})},722100:(e,t,i)=>{"use strict";i.d(t,{PodcastActionType:()=>o});var o=function(e){return e.TogglePlaying="togglePlaying",e.ToggleSubscribing="toggleSubscribing",e.OpenStats="OpenStats",e.AddEpisode="AddEpisode",e.Share="Share",e}({})},389634:(e,t,i)=>{"use strict";i.d(t,{AudioUIDegradationLogger:()=>a});var o=i(331635),r=i(132028),n=i(627876);class a{log({elementName:e}){this.statlog.send({name:"audio_ui_degradation",value:e})}constructor(e){this.statlog=e}}a=(0,o.__decorate)([r.scope.container(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===n.Statlog?Object:n.Statlog])],a)},785342:(e,t,i)=>{"use strict";i.d(t,{isSpaEnabled:()=>r,isSpaWithWallsEnabled:()=>n});var o=i(540462);const r=()=>(0,o.partConfigEnabled)("frontend.feed_spa_web")||(0,o.isToggleEnabled)("feed_spa_web"),n=()=>(0,o.partConfigEnabled)("frontend.feed_spa_web")||(0,o.isToggleEnabled)("feed_spa_web")||(0,o.partConfigEnabled)("frontend.feed_spa_single_wall_and_post")||(0,o.isToggleEnabled)("feed_spa_single_wall_and_post")||(0,o.isToggleEnabled)("feed_posting_new_draft")},987872:(e,t,i)=>{"use strict";i.d(t,{LayerRoute:()=>n});var o=i(474848),r=i(691883);const n=e=>{const t=(0,r.useLayerRouterContext)();if(!t)return null;const i=t.layers.find((t=>e.configs.includes(t.config)));return i?"component"in e?(0,o.jsx)(e.component,{layerParams:i.layerParams,layerQuery:i.layerQuery,layerHash:i.layerHash,layerActive:i.config===t.activeConfig}):e.children:null}},691883:(e,t,i)=>{"use strict";i.d(t,{LayerRouterContext:()=>r,useLayerRouterContext:()=>n});var o=i(296540);const r=(0,o.createContext)(null);function n(){return(0,o.useContext)(r)}},69213:(e,t,i)=>{"use strict";i.d(t,{defaultLayerName:()=>o});const o="z"},60512:(e,t,i)=>{"use strict";i.d(t,{LayerRoute:()=>o.LayerRoute,LayerRouterContext:()=>r.LayerRouterContext,defaultLayerName:()=>s.defaultLayerName,getLayerData:()=>a.getLayerData,matchLayer:()=>n.matchLayer});var o=i(987872),r=i(691883),n=i(523862),a=i(48717),s=i(69213)},48717:(e,t,i)=>{"use strict";i.d(t,{getLayerData:()=>o});const o=e=>{let{z:t,w:i}=e;return t=Array.isArray(t)?t[0]:t,i=Array.isArray(i)?i[0]:i,t?{href:t}:i?{layerName:"w",href:i}:null}},523862:(e,t,i)=>{"use strict";i.d(t,{matchLayer:()=>r});var o=i(794662);const r=({layerName:e,layerPath:t,layersConfig:i,partConfigEnabled:r,isToggleEnabled:n})=>{for(const a of Object.values(i)){if(a.layerName!==e)continue;if((a.enabledKeys?.length||a.enabledToggleKeys?.length)&&!a.enabledKeys?.some((e=>r(e)))&&!a.enabledToggleKeys?.some((e=>n(e))))continue;const[i,s]=(0,o.matchPath)(a.path,t,{exact:!0});if(i)return{layerParams:s,config:a}}return null}},651395:(e,t,i)=>{"use strict";i.d(t,{Layers:()=>s,parseLayerUrl:()=>a});var o=i(456961),r=i(916480),n=i(60512);const a=e=>{const{pathname:t,hash:i,search:r}=new URL(decodeURIComponent(e),"https://vk.com");return{pathname:t.replace(/^\/?/,""),hash:i.replace(/^#/,""),query:o.Router.parseSearch(r)}};class s{open(e,{layerParams:t,layerQuery:i,layerHash:a,replace:s,query:c,push_only:l=!0}){const{path:d,layerName:u=n.defaultLayerName}=this.layersConfig[e],_=window.location.hash;c||(c=o.Router.parseSearch(window.location.search));const{z:p,w:m,...g}=c,v=o.Router.stringifyQuery(i||{});g[u]=(0,r.patternToPath)(d,t)+(v?`?${v}`:"")+(a?`#${a}`:"");const f=o.Router.stringifyQuery(g),y=`${window.location.pathname.substring(1)}?${f}${_}`,E={replace:s,state:{},push_only:l};window.nav.setLoc?window.nav.setLoc(y,E):window.nav.go(y,null,E)}close({pushOnly:e,isCloseForwardPush:t}){if(this.userEnv.partConfigEnabled("frontend.webinf_new_close_layers")){const{router:i}=this;e=e??!0;const r=()=>{const t=o.Router.parseSearch(window.location.search),i=window.location.hash,{z:r,w:n,...a}=t,s=o.Router.stringifyQuery(a),c=`${window.location.pathname.substring(1)}?${s}${i}`,l={replace:!1,state:{},push_only:e};window.nav.setLoc?window.nav.setLoc(c,l):window.nav.go(c,null,l)};if(!i||t)return void r();const{historyLocations:s,location:c,query:l}=i,d=this.userEnv.partConfigEnabled.bind(this.userEnv),u=this.userEnv.isToggleEnabled.bind(this.userEnv),_=(0,n.getLayerData)(l);if(!_)return void r();const p=a(_.href);let m=null;for(let e=s.length-1;e>=0;e--){const t=s[e];if(t.key===c.key){m=e;continue}if(null===m)continue;const o=(0,n.getLayerData)(i.parseQuery(t.search));if(!o)return void i.go(e-m);const{pathname:r}=a(o.href);if(p.pathname!==r&&this.activeLayer!==(0,n.matchLayer)({layerName:o.layerName,layerPath:r,layersConfig:this.layersConfig,partConfigEnabled:d,isToggleEnabled:u})?.config)return void i.go(e-m)}r()}else{const t=o.Router.parseSearch(window.location.search),i=window.location.hash,{z:r,w:n,...a}=t,s=o.Router.stringifyQuery(a),c=`${window.location.pathname.substring(1)}?${s}${i}`,l={replace:!1,state:{},push_only:e};window.nav.setLoc?window.nav.setLoc(c,l):window.nav.go(c,null,l)}}setRouter(e){this.router=e}constructor(e,t){this.layersConfig=e,this.userEnv=t,this.router=null,this.activeLayer=null,this.setActiveLayer=e=>{this.activeLayer=e}}}},189681:(e,t,i)=>{"use strict";i.d(t,{LayerRouterWrapper:()=>l});var o=i(474848),r=i(296540),n=i(263290),a=i(60699),s=i(60512),c=i(651395);function l({children:e,layersConfig:t,onChangeActiveLayer:i}){const l=(0,r.useRef)([]),d=(0,a.useUserEnv)(),u=(0,n.useQuery)(),_=(0,r.useMemo)((()=>{const e=(0,s.getLayerData)(u);if(!e)return l.current=[],i(null),null;const{pathname:o,hash:r,query:n}=(0,c.parseLayerUrl)(e.href),a=(0,s.matchLayer)({layerName:e.layerName,layerPath:o,layersConfig:t,partConfigEnabled:d.partConfigEnabled.bind(d),isToggleEnabled:d.isToggleEnabled.bind(d)});return i(a?.config||null),l.current=l.current.filter((e=>e.config!==a?.config&&e.config.singleton)),a?(l.current.push({...a,layerHash:r,layerQuery:n}),{layers:l.current,activeConfig:a.config}):{layers:l.current,activeConfig:null}}),[u.z,u.w]);return(0,o.jsx)(s.LayerRouterContext.Provider,{value:_,children:e})}},885262:(e,t,i)=>{"use strict";i.d(t,{LayerRouterWrapper:()=>o.LayerRouterWrapper});var o=i(189681)},494675:(e,t,i)=>{"use strict";i.d(t,{LayerRoute:()=>r.LayerRoute,LayerRouterWrapper:()=>n.LayerRouterWrapper,Layers:()=>o.Layers,parseLayerUrl:()=>o.parseLayerUrl});var o=i(651395),r=i(60512),n=i(885262)},501332:(e,t,i)=>{"use strict";i.d(t,{NarrativeAnalyticEventType:()=>a,NarrativeAnalyticNavScreen:()=>s,NarrativePublishAnalytics:()=>c});var o=i(331635),r=i(132028),n=i(627876),a=function(e){return e.clickToAddToNarrative="click_to_add_to_narrative",e.addStoryToNarrative="add_story_to_narrative",e.openNarrativeList="open_narrative_list",e.close="close",e.changeSort="change_sort",e.publishNarrative="publish_narrative",e.createNarrative="create_narrative",e.deleteNarrative="delete_narrative",e.clickToEditNarrative="click_to_edit_narrative",e.clickToEditNarratives="change_list",e.clickToSaveNarratives="change_list_save",e.editNarrative="edit_narrative",e.addToBookmarks="add_to_bookmarks",e.shareNarrative="share_narrative",e.seeMore="see_more",e.addToNarrativeFromActionSheet="add_to_narrative_from_action_sheet",e.showMoments="show_moments",e}({}),s=function(e){return e.storyArchive="story_archive",e.storyViewer="story_viewer",e.profile="profile",e.feedBlock="narratives_feed_block",e.club="club",e.communityStorySettings="community_story_settings",e.other="other",e}({});class c{send(e,t,i="other"){const o=t?.title||void 0,r=t?.cover?.cover_story_id||t?.cover?.custom_photo?.id||0,n=t?.id||0,a=t?.owner_id||0;let s=t?.story_ids;s?.length||(s=t?.stories?.map((e=>e.id)));const c={event_type:e,nav_screen:i,narrative_owner_id:a,narrative_id:n,narrative_title:o,story_ids:s?.length?s:void 0,cover_story_id:r};this.statlog.send({name:"narrative_product_analytic",value:c})}constructor(e){this.statlog=e}}c=(0,o.__decorate)([r.scope.global(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===n.Statlog?Object:n.Statlog])],c)},489633:(e,t,i)=>{"use strict";i.d(t,{ADDITIONAL_LIST_PRELOAD_DIFF_PACKS_NUM:()=>b,ADS_PREVIEW_LIST_NAME_REGEXP:()=>u,ARCHIVE_LIST_NAME_REGEXP:()=>d,DISCOVER_LIST_NAME_REGEXP:()=>r,FEED_LIST_NAME_REGEXP:()=>o,NARRATIVES_LIST_NAME_REGEXP:()=>l,NARRATIVE_CHOOSE_LIMIT:()=>y,NARRATIVE_LIST_LIMIT:()=>f,NARRATIVE_LIST_NAME_REGEXP:()=>c,OWNER_FEED_LIST_NAME_REGEXP:()=>a,PHOTO_STORY_DURATION:()=>m,PLACE_LIST_NAME_REGEXP:()=>p,REPLIES_LIST_NAME_REGEXP:()=>s,SEARCH_LIST_NAME_REGEXP:()=>_,STORIES_ARCHIVE_LIMIT:()=>E,STORIES_VIEWER_STATLOG_METRIC_NAME:()=>v,STORY_LIST_NAME_REGEXP:()=>n,STORY_MODAL_PREVIEW_MIN_WIDTH_WEB:()=>A,STORY_VIEWER_VOLUME_STORAGE:()=>S,VIDEO_STORY_MAX_DURATION:()=>g});const o=/^feed$/,r=/^discover$/,n=/^(-?\d+)_(\d+)/,a=/^owner_feed(-?\d+)/,s=/^replies(-?\d+)_(\d+)/,c=/^narrative(-?\d+)_(\d+)$/,l=/^narratives(-?\d+)$/,d=/^archive(?:(-?\d+)_)?([0-9]+)/,u=/^ads_preview(\d+)$/,_=/^search_([\w|-]+)/,p=/^place(\d+)/,m=5e3,g=6e4,v="stories_viewer_errors",f=20,y=20,E=40,A=200,S="story_viewer_volume",b=3},662285:(e,t,i)=>{"use strict";i.d(t,{StoriesViewerHideReasons:()=>r,StoriesViewerTechErrors:()=>o});var o=function(e){return e.FAIL_STORY_VIEWER_DATA_PARSE="FAIL_STORY_VIEWER_DATA_PARSE",e.FAIL_RENDER_STORY_PACK="FAIL_RENDER_STORY_PACK",e.FAIL_FETCH_VIDEO="FAIL_FETCH_VIDEO",e.FAIL_FETCH_VK_VIDEO="FAIL_FETCH_VK_VIDEO",e.FAIL_FETCH_PRELOAD="FAIL_FETCH_PRELOAD",e.FAIL_GET_CURRENT_MEDIA="FAIL_GET_CURRENT_MEDIA",e.FAIL_MARK_SKIPPED="FAIL_MARK_SKIPPED",e.FAIL_FOLLOW="FAIL_FOLLOW",e.FAIL_UNFOLLOW="FAIL_UNFOLLOW",e.FAIL_MARK_SEEN="FAIL_MARK_SEEN",e.FAIL_LIST_DATA_FETCH="FAIL_LIST_DATA_FETCH",e.FAIL_DISCOVER_DATA_FETCH="FAIL_DISCOVER_DATA_FETCH",e.FAIL_SET_DISCOVER_VISIBILITY="FAIL_SET_DISCOVER_VISIBILITY",e.FAIL_HIDE_REPLY="FAIL_HIDE_REPLY",e.FAIL_HIDE_ALL_REPLIES="FAIL_HIDE_ALL_REPLIES",e.FAIL_BAN_OWNER="FAIL_BAN_OWNER",e.FAIL_SEND_MESSAGE="FAIL_SEND_MESSAGE",e.FAIL_MARK_NOT_INTERESTED="FAIL_MARK_NOT_INTERESTED",e.FAIL_BOOKMARK_NARRATIVE_ADD="FAIL_BOOKMARK_NARRATIVE_ADD",e.FAIL_BOOKMARK_NARRATIVE_DELETE="FAIL_BOOKMARK_NARRATIVE_DELETE",e.FAIL_DELETE_STORY="FAIL_DELETE_STORY",e.FAIL_DELETE_NARRATIVE="FAIL_DELETE_NARRATIVE",e.FAIL_DELETE_STORY_FROM_NARRATIVE="FAIL_DELETE_STORY_FROM_NARRATIVE",e.FAIL_FETCH_FEEDBACK="FAIL_FETCH_FEEDBACK",e.FAIL_SEEN_FEEDBACK="FAIL_SEEN_FEEDBACK",e.FAIL_AUDIO_TRACK_ADD_TO_MY_MUSIC="FAIL_AUDIO_TRACK_ADD_TO_MY_MUSIC",e.FAIL_AUDIO_TRACK_DELETE_FROM_MY_MUSIC="FAIL_AUDIO_TRACK_DELETE_FROM_MY_MUSIC",e.FAIL_PLAYLIST_FOLLOW="FAIL_PLAYLIST_FOLLOW",e.FAIL_PLAYLIST_UNFOLLOW="FAIL_PLAYLIST_UNFOLLOW",e.FAIL_FETCH_FEEDBACK_VIEWERS="FAIL_FETCH_FEEDBACK_VIEWERS",e.FAIL_FETCH_FEEDBACK_QUESTIONS="FAIL_FETCH_FEEDBACK_QUESTIONS",e.FAIL_TO_OPEN_PUBLISHER_BY_SITUATIONAL_TEMPLATE_STICKER="FAIL_TO_OPEN_PUBLISHER_BY_SITUATIONAL_TEMPLATE_STICKER",e.FAIL_TO_LOAD_USERS_BY_SITUATIONAL_TEMPLATE_STICKER="FAIL_TO_LOAD_USERS_BY_SITUATIONAL_TEMPLATE_STICKER",e.FAIL_DELETE_QUESTION="FAIL_DELETE_QUESTION",e.FAIL_BAN_QUESTION_AUTHOR="FAIL_BAN_QUESTION_AUTHOR",e.FAIL_UNBAN_QUESTION_AUTHOR="FAIL_UNBAN_QUESTION_AUTHOR",e.FAIL_QUESTION_SEND_MESSAGE="FAIL_QUESTION_SEND_MESSAGE",e.FAIL_ASK_QUESTION="FAIL_ASK_QUESTION",e.UKNOWN_ERROR="UKNOWN_ERROR",e}({}),r=function(e){return e.IS_REPLY_HIDE="IS_REPLY_HIDE",e.IS_EXPIRED="IS_EXPIRED",e.IS_DELETED="IS_DELETED",e.IS_PRIVATE="IS_PRIVATE",e}({})},792266:(e,t,i)=>{"use strict";i.d(t,{NarrativesListSharedProvider:()=>l});var o=i(331635),r=i(132028),n=i(327813),a=i(142352),s=i(840532),c=i(827039);class l{constructor(e){this.narrativesListProvider=e,this.byId=new a.StoriesEntitiesCache((e=>new c.StoriesSharedBaseEntity(this.narrativesListProvider.byId.ensure(e),{stateKey:`NarrativesByIdShared_${this.narrativesListProvider.byId.getKeyByParams(e)}`,version:1}))),this.byOwner=new a.StoriesEntitiesCache((e=>new c.StoriesSharedBaseEntity(this.narrativesListProvider.byOwner.ensure(e),{stateKey:`NarrativesByOwnerShared_${this.narrativesListProvider.byOwner.getKeyByParams(e)}`,version:1}))),this.byOwnerWithStories=new a.StoriesEntitiesCache((e=>new c.StoriesSharedBaseEntity(this.narrativesListProvider.byOwnerWithStories.ensure(e),{stateKey:`NarrativesByOwnerWithStoriesShared_${this.narrativesListProvider.byOwnerWithStories.getKeyByParams(e)}`,version:1}))),(0,n.makeAutoObservable)(this)}}l=(0,o.__decorate)([r.scope.global(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===s.NarrativesListProvider?Object:s.NarrativesListProvider])],l)},858628:(e,t,i)=>{"use strict";i.d(t,{StoriesListSharedProvider:()=>d});var o=i(331635),r=i(132028),n=i(142352),a=i(738100),s=i(327813),c=i(827039),l=i(536490);class d{constructor(e){this.storiesListProvider=e,this.feed=new n.StoriesEntitiesCache((e=>({feed:new c.StoriesSharedBaseEntity(this.storiesListProvider.feed.ensure(e).feed,{stateKey:`StoriesFeedListShared_${this.storiesListProvider.feed.getKeyByParams(e)}`,version:1},l.normalizeFeedListData),isMinimized:()=>Boolean(e.isMinimized)}))),this.search=new n.StoriesEntitiesCache((e=>new c.StoriesSharedBaseEntity(this.storiesListProvider.search.ensure(e).search,{stateKey:`StoriesFeedListShared_${this.storiesListProvider.search.getKeyByParams(e)}`,version:1},l.normalizeSearchListData))),this.discover=new c.StoriesSharedBaseEntity(this.storiesListProvider.discover,{stateKey:"StoriesDiscoverListShared",version:1},l.normalizeDiscoverListData,((e,t)=>({...e,items:(0,l.mergeUnique)(e.items,t.items,"id"),groups:(0,l.mergeUnique)(e.groups,t.groups,"id"),profiles:(0,l.mergeUnique)(e.profiles,t.profiles,"id"),next_from:t.next_from}))),this.archive=new n.StoriesEntitiesCache((e=>new c.StoriesSharedBaseEntity(this.storiesListProvider.archive.ensure(e),{stateKey:`StoriesArchiveListShared_${this.storiesListProvider.archive.getKeyByParams(e)}`,version:1},l.normalizeArchiveListData))),this.byAds=new n.StoriesEntitiesCache((e=>new c.StoriesSharedBaseEntity(this.storiesListProvider.byAds.ensure(e),{stateKey:`StoriesByAdsListShared_${this.storiesListProvider.byAds.getKeyByParams(e)}`,version:1},l.normalizeGetByAdsListData))),this.byId=new n.StoriesEntitiesCache((e=>new c.StoriesSharedBaseEntity(this.storiesListProvider.byId.ensure(e),{stateKey:`StoriesByIdListShared_${this.storiesListProvider.byId.getKeyByParams(e)}`,version:1},l.normalizeGetByIdListData))),this.replies=new n.StoriesEntitiesCache((e=>new c.StoriesSharedBaseEntity(this.storiesListProvider.replies.ensure(e),{stateKey:`StoriesRepliesListShared_${this.storiesListProvider.replies.getKeyByParams(e)}`,version:1},l.normalizeRepliesListData))),(0,s.makeAutoObservable)(this)}}d=(0,o.__decorate)([r.scope.global(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===a.StoriesListProvider?Object:a.StoriesListProvider])],d)},827039:(e,t,i)=>{"use strict";i.d(t,{StoriesSharedBaseEntity:()=>n});var o=i(327813),r=i(558137);class n{get data(){return this.state.data}async fetch(e=null,t=null,i=!1,o=!1){if(this.state.promise)return this.state.promise;this.state.status="loading",this.state.promise=this.storiesEntity.fetch(e,t,i);try{const e=await this.state.promise;return this.onSuccess(e,o)}catch(e){throw this.onFail(e),e}finally{delete this.state.promise}}onSuccess(e,t=!1){this.state.whenLoadedPromise&&(this.state.whenLoadedPromise.resolve(),delete this.state.whenLoadedPromise);const i=this.normalizeData?.(e)??e,o=this.state.data,r=t&&this.mergeMoreData&&o?this.mergeMoreData(o,i):i;return this.state.data=r,this.state.status="loaded",r}onFail(e){this.state.whenLoadedPromise&&(this.state.whenLoadedPromise.reject(e),delete this.state.whenLoadedPromise),this.state.status="failed"}isLoading(){return"loading"===this.state.status}isLoaded(){return"loaded"===this.state.status}isFailed(){return"failed"===this.state.status}isInitial(){return"initial"===this.state.status}abort(){this.storiesEntity.abort(),this.state.status=this.state.data?"loaded":"initial",delete this.state.promise}reset(){this.storiesEntity.reset(),this.abort(),this.state.data=null,this.state.status="initial"}fail(){this.reset(),this.state.status="failed"}nextLoad(){return this.state.whenLoadedPromise||(this.state.whenLoadedPromise=Promise.withResolvers()),this.state.whenLoadedPromise.promise}addData(e,t=!0){this.state.data=e,t&&(this.state.status="loaded"),this.storiesEntity.addData(e,t)}constructor(e,{stateKey:t,version:i},n,a){this.storiesEntity=e,this.state={data:null,promise:void 0,status:"initial",whenLoadedPromise:void 0},(0,o.makeAutoObservable)(this),this.normalizeData=n,this.mergeMoreData=a;const s=(0,r.makeSharedState)(t,(()=>({})),{version:i});s().state?this.state=s().state??this.state:s().state=this.state}}},727027:(e,t,i)=>{"use strict";i.d(t,{StoriesViewerDataService:()=>b});var o=i(331635),r=i(327813),n=i(132028),a=i(873900),s=i(391948),c=i(21037),l=i(957966),d=i(652469),u=i(858628),_=i(792266),p=i(489633),m=i(601686),g=i(125422),v=i(662285),f=i(670252),y=i(712600),E=i(558137),A=i(169019);const S=(0,E.makeSharedState)("StoriesViewerDataServiceExtraParams",(()=>({})),{version:1});class b{getIsListLoading(e){const{single:t,multiple:i,narratives:o}=this.getCurrentList(e);return Boolean((t||i||o)?.isLoading())}getIsListHasFailed(e){const{single:t,multiple:i,narratives:o}=this.getCurrentList(e);return Boolean((t||i||o)?.isFailed())}getListData(e){const{single:t,multiple:i,narratives:o}=this.getCurrentList(e);return t?{single:t.data}:i?{multiple:i.data}:o?{narratives:o.data}:{}}async ensureListData(e,t=!1){if(t||!Object.values(this.getListData(e)).some(Boolean)){const{single:t,multiple:i,narratives:o}=this.getCurrentList(e);try{await Promise.all([t?.fetch(),i?.fetch(),o?.fetch()])}catch(e){this.errorsService.error(v.StoriesViewerTechErrors.FAIL_LIST_DATA_FETCH,e),this.snackbar.show({type:"error",text:(0,l.mapStoryViewerErrorToLang)(v.StoriesViewerTechErrors.FAIL_LIST_DATA_FETCH,this.langs)})}}return this.getListData(e)}async fetchDiscoverDataWithPagination(e){const t=this.storiesListSharedProvider.discover;try{await t.fetch(e,null,!1,!0)}catch(e){this.errorsService.error(v.StoriesViewerTechErrors.FAIL_DISCOVER_DATA_FETCH,e)}}resetListData(e){const{multiple:t,single:i,narratives:o}=this.getCurrentList(e);t?.data?t.reset():i?.data?i.reset():o?.data&&o.reset()}failListData(e){const{multiple:t,single:i,narratives:o}=this.getCurrentList(e);[t,i,o].map((e=>{e?.fail()}))}async getStoryViewerModalParams({listName:e,blockKey:t="",ownerId:i=0,query:o="",uniqKey:r="",narrativeId:n=0,narrativeRawIds:a="",storyId:l=0,extra:u}){u&&(S()[e]=(0,A.parseExtra)(u));const{single:_,multiple:p,narratives:m}=await this.ensureListData({listName:e,query:o,narrativeRawIds:a});if(p){const o=p.items?.find((e=>t?e.id===t:!!i&&e.stories?.some((e=>e.owner_id===i))))??p.items?.[0];if(!o)return;const r=l?(0,c.getStoryById)(o.stories||[],l):(0,s.getFirstStoryForRendering)(o);if(!r)return;return{ownerId:String(r.owner_id),storyId:String(r.id),listName:e??d.StoryListName.feed}}if(_){const t=l?(0,c.getStoryById)(_.items,l):(0,s.getFirstStoryForRenderingFromStoriesList)(_.items);return{ownerId:String(t?.owner_id),storyId:String(t?.id),listName:e??d.StoryListName.feed}}if(m){const t=n||(r?.startsWith("narrative")?Number(r?.replace("narrative","")):m.items?.[0]?.id),i=m.items.find((e=>String(e.id)===String(t)));if(!i||!t)return;const o=(0,s.getFirstStoryForRenderingFromStoriesList)(i.stories);return{ownerId:String(o?.owner_id),storyId:String(o?.id),listName:e??d.StoryListName.feed,narrativeId:String(t)}}}getCurrentList(e){const{listName:t="",query:i}=e;if(!t)return{};const o=S()[t];let r=t.match(p.FEED_LIST_NAME_REGEXP);if(r)return i?{multiple:this.storiesListSharedProvider.search.ensure({query:i})}:{multiple:this.storiesListSharedProvider.feed.ensure({}).feed};if(r=t.match(p.DISCOVER_LIST_NAME_REGEXP),r)return{multiple:this.storiesListSharedProvider.discover};if(r=t.match(p.OWNER_FEED_LIST_NAME_REGEXP),r){const e=Number(r[1]);if(!e)throw new Error("empty ownerId");return{multiple:this.storiesListSharedProvider.feed.ensure({owner_id:e}).feed}}if(r=t.match(p.REPLIES_LIST_NAME_REGEXP),r){const e=Number(r[1]),t=Number(r[2]);if(!e||!t)throw new Error("ownerId or storyId is empty");return{multiple:this.storiesListSharedProvider.replies.ensure({owner_id:e,story_id:t,extended:1})}}if(r=t.match(p.ADS_PREVIEW_LIST_NAME_REGEXP),r){const t=Number(r[1]),i=o?.ads_preview_hash||e.ads_preview_hash;if(!t||!i)throw new Error("ownerId or hash is empty");return{multiple:this.storiesListSharedProvider.byAds.ensure({ad_id:t,hash:i,extended:1})}}if(r=t.match(p.NARRATIVE_LIST_NAME_REGEXP),r){const t=Number(r[1]),i=Number(r[2]);if(!t||!i)throw new Error("ownerId or narrativeId is empty");return{narratives:this.narrativesListSharedProvider.byId.ensure({narratives:String((0,a.getIdentityRawId)({ownerId:t,id:i})),access_hash:o?.access_hash||e.access_hash,extended:1})}}if(r=t.match(p.NARRATIVES_LIST_NAME_REGEXP),r){const t=Number(r[1]);if(!t)throw new Error("ownerId is empty");const i=e?.narrativeRawIds;return i?.length?{narratives:this.narrativesListSharedProvider.byId.ensure({narratives:i,extended:1})}:{narratives:this.narrativesListSharedProvider.byOwnerWithStories.ensure({owner_id:t,extended:1})}}if(r=t.match(p.ARCHIVE_LIST_NAME_REGEXP),r){const e=Number(r[1]),t=Number(r[2]);if(!e)throw new Error("ownerId is empty");return{single:this.storiesListSharedProvider.archive.ensure({owner_id:e,date:t,extended:1})}}if(r=t.match(p.STORY_LIST_NAME_REGEXP),r){const t=Number(r[1]),i=Number(r[2]);if(!t||!i)throw new Error("ownerId or storyId is empty");const n=o?.context||e.context;return"all"===n||"new"===n?{multiple:this.storiesListSharedProvider.feed.ensure({first_owner_id:t,extended:1}).feed}:{single:this.storiesListSharedProvider.byId.ensure({stories:String((0,a.getIdentityRawId)({ownerId:t,id:i})),with_context:"owner"===n?1:0,extended:1,access_hash:o?.access_hash||e.access_hash})}}if(r=t.match(p.SEARCH_LIST_NAME_REGEXP),r){const t=r[1],i=e?.situationalSuggestId;if(!t&&void 0===i)throw new Error("rawQuery or suggest id is empty");let o="";if(t){const e=t.replaceAll("-","+").replaceAll("_","/");o=(0,m.decodeBase64)(e)}return{multiple:this.storiesListSharedProvider.search.ensure({query:o,situational_suggest_id:e?.situationalSuggestId})}}if(r=t.match(p.PLACE_LIST_NAME_REGEXP),r){const e=Number(r?.[1]);if(!e)throw new Error("place id is empty");return{multiple:this.storiesListSharedProvider.search.ensure({placeId:e})}}throw new Error("can't find list")}clearExtraParams(){Object.keys(S()).forEach((e=>{delete S()[e]}))}constructor(e,t,i,o,n){this.storiesListSharedProvider=e,this.narrativesListSharedProvider=t,this.errorsService=i,this.snackbar=o,this.langs=n,(0,r.makeAutoObservable)(this)}}b=(0,o.__decorate)([n.scope.global(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===u.StoriesListSharedProvider?Object:u.StoriesListSharedProvider,void 0===_.NarrativesListSharedProvider?Object:_.NarrativesListSharedProvider,void 0===g.StoriesViewerErrorsService?Object:g.StoriesViewerErrorsService,void 0===f.Snackbar?Object:f.Snackbar,void 0===y.Langs?Object:y.Langs])],b)},125422:(e,t,i)=>{"use strict";i.d(t,{StoriesViewerErrorsService:()=>_});var o=i(331635),r=i(132028),n=i(327813),a=i(955060),s=i(627876),c=i(24516),l=i(489633),d=i(311763),u=i(662285);class _{error(e,t){const i=new Error(e,{cause:t});this.eventsService.emitter.emit(d.StoriesViewerEventType.error,i),this.log(i,e)}log(e,t=u.StoriesViewerTechErrors.UKNOWN_ERROR){const i=this.sentryErrors.includes(e.message);this.userEnv.partConfigEnabled("frontend.stories_viewer_error_console")&&console.log(e),i?this.errorLogger.log(e):this.statLog.send({name:l.STORIES_VIEWER_STATLOG_METRIC_NAME,value:1,keys:[t]})}constructor(e,t,i,o){this.errorLogger=e,this.eventsService=t,this.statLog=i,this.userEnv=o,this.sentryErrors=[u.StoriesViewerTechErrors.FAIL_RENDER_STORY_PACK],(0,n.makeAutoObservable)(this)}}_=(0,o.__decorate)([r.scope.global(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===a.ErrorLogger?Object:a.ErrorLogger,void 0===d.StoriesViewerEventsService?Object:d.StoriesViewerEventsService,void 0===s.Statlog?Object:s.Statlog,void 0===c.UserEnv?Object:c.UserEnv])],_)},392233:(e,t,i)=>{"use strict";i.d(t,{StoriesViewerLayersService:()=>f});var o=i(331635),r=i(327813),n=i(12196),a=i(351118),s=i(873900),c=i(132028),l=i(311763),d=i(796828),u=i(178018),_=i(511356),p=i(75385);const m="stories_viewer_layers";let g=!1;const v=(0,u.getSharedStoriesViewerOpenParams)();class f{getList(){if(!this.layers.length)return;const e=this.getLayersStorageArray().reverse().find((e=>Boolean(e.length))),t=e?e[e.length-1]:void 0;if(!t)return;const{listName:i,storyId:o,ownerId:r,narrativeId:n}=t.layerOpenData.layerParams;return`story${(0,s.getIdentityRawId)({ownerId:Number(r),id:Number(n??o??0)})}/${i}`}init(e,t,i){this.setModalParams=e,this.closeModal=t,this.layers=this.findCurrentLayersArray({...i,withAnimate:v.state.withAnimate}),g||this.saveLayersStorageArray([this.layers]),g=!0}compareIncomingParams(e){const{getParentElementSelector:t,withAnimate:i,...o}=this.layers[this.layers.length-1]??{};(0,d.isEqualParams)(o,e)||this.pushLayer(e)}getLayersStorageArray(){const e=JSON.parse(this.sessionStoragePlugin.getItem(m)??"[]");return(0,a.isArray)(e)?e:[]}saveLayersStorageArray(e){e.every((e=>!e?.length))?this.sessionStoragePlugin.removeItem(m):this.sessionStoragePlugin.setItem(m,JSON.stringify(e))}findCurrentLayersArray(e){const t=this.getLayersStorageArray();return this.currentLayerArrayIndex=t.findIndex((t=>(0,d.isEqualParams)(t?.[(t?.length??0)-1]??null,e))),this.currentLayerArrayIndex<0&&(this.currentLayerArrayIndex=t.push([e])-1,this.saveLayersStorageArray(t)),t[this.currentLayerArrayIndex]}saveLayers(){const e=this.getLayersStorageArray();e[this.currentLayerArrayIndex]=this.layers,this.saveLayersStorageArray(e)}get currentLayer(){if(this.layers.length)return this.layers[this.layers.length-1]}destroy(){this.layers=[],v.state.nonce&&(0,_.trackStoryViewerClosed)({nonce:v.state.nonce}),v.state={}}constructor(e,t){this.sessionStoragePlugin=e,this.eventsService=t,this.closeModal=()=>{},this.setModalParams=()=>{},this.currentLayerArrayIndex=-1,this.layers=[],this.pushLayer=e=>{this.layers.push(e),this.setModalParams(e.layerOpenData),this.saveLayers()},this.closeCurrentLayer=()=>{this.layers.pop(),this.currentLayer?this.setModalParams(this.currentLayer.layerOpenData):this.closeLayers(),this.saveLayers()},this.closeLayers=()=>{this.layers.length&&(this.closeModal(),this.layers=[],this.saveLayers(),(0,u.getSharedStoriesViewerOpenParams)().state.onClose?.(),this.eventsService.emitter.emit(l.StoriesViewerEventType.onClose))},this.setCurrentLayerParams=e=>{if(this.layers.length>0){const t=this.layers[this.layers.length-1];this.layers[this.layers.length-1]={...t,...e}}else this.layers.push(e);this.saveLayers(),(0,p.isSpaStoriesViewerFixUrlChangeEnabled)()||this.setModalParams(e.layerOpenData)},this.syncLayerParamsWithUrl=()=>{if(this.layers.length>0){const e=this.layers[this.layers.length-1];e.layerOpenData&&this.setModalParams(e.layerOpenData)}},(0,r.makeAutoObservable)(this)}}f=(0,o.__decorate)([c.scope.global(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===n.SessionStorage?Object:n.SessionStorage,void 0===l.StoriesViewerEventsService?Object:l.StoriesViewerEventsService])],f)},75385:(e,t,i)=>{"use strict";i.d(t,{isSPAStoriesViewerAdditionalEnabledWeb:()=>s,isSPAStoriesViewerEnabledMVK:()=>n,isSPAStoriesViewerEnabledWeb:()=>c,isSpaStoriesViewerFixUrlChangeEnabled:()=>d,isSpaStoriesViewerImprovementsWebEnabled:()=>a,isSpaStoriesViewerPreloadAuthorsWebEnabled:()=>l});var o=i(105330),r=i(540462);const n=()=>!!(0,o.isMvk)()&&((0,r.partConfigEnabled)("mvk_spa_stories_viewer")||(0,r.isToggleEnabled)("st_mvk_spa_stories_viewer")),a=()=>!(0,o.isMvk)()&&(0,r.isToggleEnabled)("st_web_stories_viewer_improve"),s=()=>!(0,o.isMvk)()&&(0,r.isToggleEnabled)("st_web_spa_stories_viewer_2"),c=()=>!(0,o.isMvk)()&&((0,r.partConfigEnabled)("web_stories_viewer_redesign")||(0,r.isToggleEnabled)("st_web_spa_stories_viewer")||s()),l=()=>!(0,o.isMvk)()&&((0,r.isToggleEnabled)("st_web_spa_stories_preload")||a()),d=()=>!(0,o.isMvk)()&&(0,r.isToggleEnabled)("st_web_stories_fix_url_change")||!!(0,o.isMvk)()&&(0,r.isToggleEnabled)("st_mvk_stories_fix_url_change")},652469:(e,t,i)=>{"use strict";i.d(t,{Modules:()=>g,StoriesEventType:()=>u,StoriesNavScreen:()=>d,StoriesViewEntryPoint:()=>l,StoriesViewerFeedbackTab:()=>_,StoriesViewerModal:()=>a,StoriesViewerPlatform:()=>c,StoriesViewerQuestionAnswerPrivate:()=>p,StoriesViewerRequestStatus:()=>s,StoryCustomEventName:()=>m,StoryListName:()=>o,StoryPreviewMinSizes:()=>n,StoryType:()=>r});var o=function(e){return e.feed="feed",e.apps="apps",e.discover="discover",e.place="place",e}({}),r=function(e){return e.PHOTO="photo",e.VIDEO="video",e.LIVE_ACTIVE="live_active",e.LIVE_FINISHED="live_finished",e}({}),n=function(e){return e[e.SMALL=150]="SMALL",e[e.MEDIUM=375]="MEDIUM",e[e.BIG=500]="BIG",e[e.MAX=Number.MAX_VALUE]="MAX",e}({}),a=function(e){return e.FEEDBACK="FEEDBACK",e.DELETE_WITH_REASON="DELETE_WITH_REASON",e.ABOUT_QUESTIONS="ABOUT_QUESTIONS",e.BEST_FRIENDS="BEST_FRIENDS",e.STORIES_CREATOR="STORIES_CREATOR",e.STICKER_TEMPLATE_FALLBACK="STICKER_TEMPLATE_FALLBACK",e.AUDIO_TRACK_MODAL="AUDIO_TRACK_MODAL",e.MUSIC_PLAYLIST_MODAL="MUSIC_PLAYLIST_MODAL",e.HIDE_DISCOVER_MODAL="HIDE_DISCOVER_MODAL",e.AUDIO_RESTRICTION_MODAL="AUDIO_RESTRICTION_MODAL",e.QUESTION_ANSWER_MODAL="QUESTION_ANSWER_MODAL",e.BLACK_LIST="BLACK_LIST",e}({}),s=function(e){return e.NOT_STARTED="NOT_STARTED",e.LOADING="LOADING",e.SUCCESS="SUCCESS",e.ERROR="ERROR",e}({}),c=function(e){return e.WEB="WEB",e.MVK="MVK",e}({}),l=function(e){return e.ARCHIVE="archive",e}({}),d=function(e){return e.STORY_ARCHIVE="story_archive",e}({}),u=function(e){return e.DELETE_FROM_ARCHIVE="delete_from_archive",e}({}),_=function(e){return e.VIEWERS="VIEWERS",e.STATS="STATS",e.STICKERS="STICKERS",e}({}),p=function(e){return e.PUBLIC="PUBLIC",e.AUTHOR_ONLY="AUTHOR_ONLY",e.ANONYMOUS="ANONYMOUS",e}({}),m=function(e){return e.STORIES_SHARE_ENDED="stories_share_ended",e}({}),g=function(e){return e.USER_INFO_MODULE="user_personal_card",e.GROUP_INFO_MODULE="group_personal_card",e.SPAMFEED_MODULE="sf",e.ABUSE_MODULE="abuse",e.ADMIN_STORY_VIEW_MODULE="admin_story_view",e}({})},362570:(e,t,i)=>{"use strict";i.d(t,{VideoElementManager:()=>r});var o=i(540462);class r{destroy(){for(const e of this._items.keys())this.discardOne(e);this._markedForDisposal.clear(),this._leastRecentlyUsedKeys.clear(),this._items.clear()}discardOne(e){const t=this._items.get(e);if(t){const{element:i,removeCallbacks:o,promise:r}=t;i.onerror=null,i.onload=null,i.oncanplay=null,i.oncanplaythrough=null,this.onElementRemove?.(i),r.catch((()=>{})),o(),i.remove(),i.src="",i.load(),this._items.delete(e),this._markedForDisposal.delete(e),this._leastRecentlyUsedKeys.delete(e)}}_onKeyUsed(e,t=!1){t&&this._markedForDisposal.delete(e),function(e,t){if(!e.has(t))return;e.delete(t),e.add(t)}(this._leastRecentlyUsedKeys,e)}_checkForOverflowAndDisposeOfLeastUsed(e=!0){if(!(this._items.size<=this.maxItems)){for(const e of this._leastRecentlyUsedKeys)if(this._markedForDisposal.has(e)&&this.discardOne(e),this._items.size<=this.maxItems)break;if(e&&this._items.size>this.maxItems){const e=["VideoElementManager was unable to free up enough unused elements to stay within maxItems.","Make sure you are calling detachAndMarkForDisposal() on the elements you no longer need","or increase the maxItems setting if all these elements are still in use."].join(" ");console.warn(e)}}}_ensureVideoItem(e){const t=this._items.get(e);if(t)return t;const i=function(e,t){const i=document.createElement("video"),o=new Error("Failed to load video"),{promise:r,resolve:n,reject:a}=Promise.withResolvers();let s=!1,c=!1;const l=()=>{s=!0},d=()=>{c=!0},u=()=>{n(void 0),p()},_=()=>{a(o),p()};function p(){i.removeEventListener("canplay",l),i.removeEventListener("canplaythrough",d),i.removeEventListener(t,u),i.removeEventListener("error",_),a(new Error("Cancelled"))}return i.addEventListener("canplay",l),i.addEventListener("canplaythrough",d),i.addEventListener(t,u),i.addEventListener("error",_),i.preload="auto",i.src=e,i.load(),{promise:r,element:i,removeCallbacks:p,canPlay:()=>s,canPlayThrough:()=>c}}(e,this.preloadEndEvent);return this._items.set(e,i),this._leastRecentlyUsedKeys.add(e),setTimeout((()=>{this._checkForOverflowAndDisposeOfLeastUsed(!0)}),10),i}canPlay(e){return this._items.get(e)?.canPlay()||!1}canPlayThrough(e){return this._items.get(e)?.canPlayThrough()||!1}preloadVideo(e){const t=this._items.has(e),{promise:i}=this._ensureVideoItem(e);return this._onKeyUsed(e,!1),t||this._markedForDisposal.add(e),i}getVideoElement(e){const{element:t}=this._ensureVideoItem(e);if(this._onKeyUsed(e,!0),(0,o.partConfigEnabled)("stories_video_manager_postponed_seek_to_start")){const i=this._postponedSeekTimeoutHandlers.get(e);i&&(this._postponedSeekTimeoutHandlers.delete(e),clearTimeout(i),t.currentTime=0)}return t}detachAndMarkForDisposal(e){const t=this._items.get(e)?.element;if(t){if(this.onElementRemove?.(t),(0,o.partConfigEnabled)("stories_video_manager_postponed_seek_to_start")){t.pause(),t.remove(),t.removeAttribute("id"),t.removeAttribute("class");const i=setTimeout((()=>{this._postponedSeekTimeoutHandlers.get(e)===i&&(t.currentTime=0,this._postponedSeekTimeoutHandlers.delete(e))}));this._postponedSeekTimeoutHandlers.set(e,i)}else t.pause(),t.remove(),t.currentTime=0,t.removeAttribute("id"),t.removeAttribute("class");this._markedForDisposal.add(e),this._checkForOverflowAndDisposeOfLeastUsed(!1)}}constructor(e,t,i){this.maxItems=e,this.preloadEndEvent=t,this.onElementRemove=i,this._items=new Map,this._markedForDisposal=new Set,this._leastRecentlyUsedKeys=new Set,this._postponedSeekTimeoutHandlers=new Map}}},974784:(e,t,i)=>{"use strict";i.d(t,{calcPreviewSize:()=>n});var o=i(351118),r=i(698647);const n=(e,t)=>e?.length&&t&&(0,o.getPhotoSize)(e,t*(0,r.getDevicePixelRatio)())?.url||""},75670:(e,t,i)=>{"use strict";i.d(t,{canViewerEditNarrative:()=>r});var o=i(33305);function r(e,t,i){const r=Boolean(e.can_delete);let n=!1;if((0,o.isOwnerGroup)(t)){if(e.owner_id!==-t.id)return!1;n=Boolean(t.is_admin)}else{if(e.owner_id!==t.id)return!1;n=i===t.id}return!!n&&r}},994108:(e,t,i)=>{"use strict";i.d(t,{canViewerFollowOwner:()=>n});var o=i(33305),r=i(903413);function n(e,t){return!!e&&((0,o.isOwnerGroup)(e)?!e.is_member&&!e.is_closed:t!==e.id&&(e.friend_status===r.FriendsFriendStatusStatusEnumNames.NOT_A_FRIEND||e.friend_status===r.FriendsFriendStatusStatusEnumNames.INCOMING_REQUEST))}},362136:(e,t,i)=>{"use strict";function o(e,t,i,o){if(!e.parent_story_owner_id||!e.parent_story_id)return!1;return e.parent_story_owner_id===o}i.d(t,{canViewerHideReply:()=>o})},665844:(e,t,i)=>{"use strict";i.d(t,{canViewerManageStory:()=>r});var o=i(33305);function r(e,t,i){return(0,o.isOwnerUser)(e)?t.owner_id===e.id&&i===e.id:t.owner_id===-e.id&&(t.is_ads?Boolean(e.is_advertiser):Boolean(e.is_admin))}},645246:(e,t,i)=>{"use strict";i.d(t,{changeFollowOwner:()=>n});var o=i(33305),r=i(903413);const n=(e,t)=>{(0,o.isOwnerUser)(e)?e.friend_status=t?r.FriendsFriendStatusStatusEnumNames.IS_FRIEND:r.FriendsFriendStatusStatusEnumNames.NOT_A_FRIEND:(0,o.isOwnerGroup)(e)&&(e.is_member=t?1:0)}},232778:(e,t,i)=>{"use strict";i.d(t,{createCoverUploadConfig:()=>c});const o=8192,r=100,n=8192,a=100,s=["image/jpeg","image/png","image/gif","image/heic","image/heif","image/webp"];function c(e,t){return{url:e,constraints:{maxWidth:n,minWidth:a,maxHeight:o,minHeight:r},lang:{error_0:t.getLang("global_update_photo_error_unknown"),error_1:t.getLang("global_update_photo_error_upload"),error_2:t.getLang("global_update_photo_error_extended_extension"),error_3:t.getLang("global_update_photo_error_too_small"),error_4:t.getLang("global_update_photo_error_too_big"),error_5:t.getLang("global_update_photo_error_too_wide")},allowedTypes:s}}},175080:(e,t,i)=>{"use strict";i.d(t,{findOwnerById:()=>r});var o=i(468073);const r=(e=0,t=[],i=[],r=!1)=>{if(e)return o.Ranges.isGroupId(e)?i.find((t=>t?.id===Math.abs(e))):o.Ranges.isUserId(e)||r?t.find((t=>t?.id===e)):void 0}},373895:(e,t,i)=>{"use strict";i.d(t,{formatStoryDateToRelative:()=>l});var o=i(43924),r=i(610648),n=i(550502),a=i(317764),s=i(277068),c=i(683592);const l=(e,t)=>{if(!e||!t)return"";const i=Date.now(),l=1e3*e,d=new Date(l);if((0,o.differenceInSeconds)(i,l)<60)return t.getLang("global_just_now");const u=(0,r.differenceInMinutes)(i,l);if(u<60)return t.numeric(u,t.getLang("global_short_minutes",!0));const _=(0,n.differenceInHours)(i,l);if(_<24)return t.numeric(_,t.getLang("global_short_hours",!0));const p=(0,a.differenceInDays)(i,l);if(p<7)return t.numeric(p,t.getLang("global_short_days",!0));const m=(0,s.differenceInWeeks)(i,l);return m<5?t.numeric(m,t.getLang("global_long_weeks",!0)):p<365&&(0,c.isSameYear)(i,l)?t.date(d,t.getLang("global_short_date",!0),t.getLang("months_sm_of",!0),{onlyDate:!0}):t.date(d,t.getLang("global_date",!0),t.getLang("months_sm_of",!0),{onlyDate:!0})}},191164:(e,t,i)=>{"use strict";i.d(t,{getClickableStickerHref:()=>c});var o=i(873900),r=i(33305),n=i(34231);const a=new Set(["story_reply","poll","music","playlist","question","situational_template","situational_theme"]),s=(e,t,i)=>`/${i}${(0,o.getIdentityRawId)({ownerId:e,id:t})}`,c=({sticker:e,isMvk:t,owner:i,skipWrapAway:o})=>{if(!e?.type)return;if(a.has(e.type))return;const{type:c}=e;if("owner"===c||"mention"===c)return i?(0,r.getOwnerHref)(i)??"":"";switch(c){case"hashtag":{const t=encodeURIComponent(e.hashtag||"");return t?`/feed?section=search&q=${t}`:""}case"place":{const{place_id:i}=e;if(!i)return;return t?`/place${i}`:`/feed?section=search&w=place${i}`}case"link":{const t=e.link_object?.url||"";return o?t:(0,n.wrapAwayIfExternal)(t)}case"sticker":{const i=e.sticker_pack_id;return i&&t?`/attachments?act=stickers_store&stickers_id=${i}`:""}case"market_item":{const t=e.market_item,i=t?.market_url??"";return o?i:(0,n.wrapAwayIfExternal)(i)}case"service_yc_item":{const{link_object:t}=e;if(!t)return;const i=new URL(t.url),r=location.origin+i.pathname+i.search;return o?r:(0,n.wrapAwayIfExternal)(r)}case"album":{const{album_id:t,album_owner_id:i}=e;return t&&i?s(i,t,"album"):""}case"photo":{const{photo_id:t,photo_owner_id:i}=e;return t&&i?s(i,t,"photo"):""}case"post":{const{post_owner_id:t,post_id:i}=e;return t&&i?s(t,i,"wall"):""}case"vk_video":{const{owner_id:t,video_id:i}=e;return t&&i?s(t,i,"video"):""}case"clip":{const{owner_id:t,clip_id:i}=e;return t&&i?s(t,i,"clip"):""}default:return}}},391948:(e,t,i)=>{"use strict";function o(e,t){let i=e?.find((e=>!e.seen)),o=i||e?.[0];if(!o&&t?.length){for(let e=0;e<t.length;e++){const o=t[e],r=o.stories?.find((e=>!e.seen));if(r){i=r;break}}o=i||t[0]?.stories?.[0]}return o}function r(e){return o(e.stories,e.grouped)}i.d(t,{getFirstStoryForRendering:()=>r,getFirstStoryForRenderingFromStoriesList:()=>o})},412219:(e,t,i)=>{"use strict";i.d(t,{getPhotoUrl:()=>a,getVideoUrl:()=>n});var o=i(309205),r=i(351118);const n=e=>e.video?.files?(0,o.getVideoBestQualityUrl)(e.video.files):"",a=e=>e.photo?.sizes&&(0,r.getPhotoSize)(e.photo.sizes,(0,r.isRetina)()?1200:600)?.url||""},877067:(e,t,i)=>{"use strict";i.d(t,{getPreviewForStoryItem:()=>a});var o=i(391948),r=i(755903),n=i(208649);function a(e,t,i=!0){t=t??(0,o.getFirstStoryForRendering)(e);let a=(0,n.getStoryPreview)(t);return!a&&e.preview&&i&&(a=(0,r.getStoryFallbackPreview)(e.preview.sizes)),a}},214290:(e,t,i)=>{"use strict";i.d(t,{getSharedStoriesViewerLoadParams:()=>r});const o=(0,i(558137).makeSharedState)("spa/stories/utils/getSharedStoriesViewerLoadParams",(()=>({state:{}})),{version:1}),r=()=>o()},178018:(e,t,i)=>{"use strict";i.d(t,{getSharedStoriesViewerOpenParams:()=>r});const o=(0,i(558137).makeSharedState)("spa/stories/utils/getSharedStoriesViewerOpenParams",(()=>({state:{}})),{version:1}),r=()=>o()},628399:(e,t,i)=>{"use strict";i.d(t,{getStoriesViewerLayerKey:()=>r});var o=i(75385);const r=()=>(0,o.isSPAStoriesViewerAdditionalEnabledWeb)()?"storiesViewerModalAdditional":"storiesViewerModal"},288921:(e,t,i)=>{"use strict";i.d(t,{getStoriesViewerNarrativesKey:()=>r});var o=i(75385);const r=()=>(0,o.isSPAStoriesViewerAdditionalEnabledWeb)()?"narrativesViewerModalAdditional":"narrativesViewerModal"},274780:(e,t,i)=>{"use strict";i.d(t,{getStoryAvatar:()=>r});var o=i(351118);function r(e,t,i=!1){const r=e?.promo_data;return r?.photo_100||r?.photo_50?(0,o.isRetina)()?r?.photo_100:r?.photo_50:(0,o.isRetina)()?i&&t?.photo_200||t?.photo_100||t?.photo_50:i&&t?.photo_100||t?.photo_50}},21037:(e,t,i)=>{"use strict";i.d(t,{getStoryById:()=>r});var o=i(391948);function r(e,t,i){const r=e.find((e=>e.id===t));if(r)return r;if(i?.length)for(let e=0;e<i.length;e++){const o=i[e],r=o.stories?.find((e=>e.id===t));if(r)return r}return(0,o.getFirstStoryForRenderingFromStoriesList)(e,i)}},461995:(e,t,i)=>{"use strict";function o(e){return"discover"===e?"discover":"live_active"===e?"live":"simple"}i.d(t,{getStoryCardType:()=>o})},755903:(e,t,i)=>{"use strict";i.d(t,{getStoryFallbackPreview:()=>r});var o=i(351118);function r(e){if(!e)return"";const t=94*window.devicePixelRatio,i=94*Math.ceil(window.devicePixelRatio),r=e.find((e=>"base"===e.type))?.url;return r?`${r}&cs=${i}x0`:(0,o.getPhotoSize)(e.map((({width:e=0,height:t=0,url:i})=>({width:e,height:t,url:i}))),t)?.url||""}},402865:(e,t,i)=>{"use strict";i.d(t,{getStoryHideReason:()=>r});var o=i(662285);const r=e=>e?.is_expired?o.StoriesViewerHideReasons.IS_EXPIRED:e?.is_deleted?o.StoriesViewerHideReasons.IS_DELETED:e?.can_see?null:o.StoriesViewerHideReasons.IS_PRIVATE},766632:(e,t,i)=>{"use strict";i.d(t,{getStoryHref:()=>r});var o=i(33305);function r(e,t){return e?`/story${e.owner_id}_${e.id}`:(0,o.getOwnerHref)(t)}},948146:(e,t,i)=>{"use strict";i.d(t,{getStoryMemoryDate:()=>r});var o=i(694603);function r(e){if(!e)return"";const t=new Date(e);if(!(0,o.validateDate)(t))return"";return`${t.getDate()} ${t.toLocaleString("default",{month:"long"}).slice(0,3)} ${t.getFullYear()}`}},919913:(e,t,i)=>{"use strict";i.d(t,{getStoryPackDataTestId:()=>r});var o=i(33305);const r=(e,t,i)=>[e||"",`${(0,o.isOwnerGroup)(t)?"-":""}${t?.id||""}`,i||""].join("_")},208649:(e,t,i)=>{"use strict";i.d(t,{getStoryPreview:()=>l});var o=i(351118),r=i(501397),n=i(873900),a=i(188546),s=i(540462),c=i(856289);function l(e,t=94){let i="";if(e?.photo)i=(0,o.getPhotoSize)(e.photo.sizes||[],t*window.devicePixelRatio)?.url||"";else if(e?.video){const l=t*window.devicePixelRatio;if((0,s.isToggleEnabled)("video_disable_common_covers")||(0,s.partConfigEnabled)("disable_common_covers_of_videos")||(0,s.partConfigEnabled)("disable_common_covers_of_videos_on_web")||(0,s.partConfigEnabled)("disable_common_covers_of_videos_rollout")){const t=(0,a.findBaseImage)(e.video.image);t?i=(0,a.getBaseImageUrl)(t.url,l,Math.floor(l*c.ASPECT_RATIO)):((0,r.logError)(new Error(`Unexpectedly no base picture. Video url - ${(0,n.getIdentityRawId)({ownerId:e.video.owner_id??0,id:e.video.id??0})}`)),i=(0,o.getPhotoSize)(e.video.first_frame||[],l)?.url||"")}else i=(0,o.getPhotoSize)(e.video.first_frame||[],l)?.url||""}return i}},181870:(e,t,i)=>{"use strict";i.d(t,{getStoryZeroTime:()=>o});const o=e=>Math.ceil(new Date(1e3*e).setHours(0,0,0,0)/1e3)},327588:(e,t,i)=>{"use strict";i.d(t,{getThumbhashFromStoryItem:()=>r});var o=i(391948);function r(e,t,i=!0){if(t=t??(0,o.getFirstStoryForRendering)(e))return t.photo?.thumb_hash||t.video?.thumb_hash;const r=e.preview;return i&&r&&"thumb_hash"in r?r.thumb_hash:void 0}},536490:(e,t,i)=>{"use strict";i.d(t,{VideoElementManager:()=>f.VideoElementManager,calcPreviewSize:()=>M.calcPreviewSize,canViewerEditNarrative:()=>I.canViewerEditNarrative,canViewerFollowOwner:()=>T.canViewerFollowOwner,canViewerHideReply:()=>k.canViewerHideReply,canViewerManageStory:()=>C.canViewerManageStory,changeFollowOwner:()=>L.changeFollowOwner,createCoverUploadConfig:()=>F.createCoverUploadConfig,findOwnerById:()=>o.findOwnerById,formatStoryDateToRelative:()=>b.formatStoryDateToRelative,getClickableStickerHref:()=>S.getClickableStickerHref,getFirstStoryForRendering:()=>r.getFirstStoryForRendering,getPhotoUrl:()=>v.getPhotoUrl,getPreviewForStoryItem:()=>n.getPreviewForStoryItem,getStoryAvatar:()=>p.getStoryAvatar,getStoryCardType:()=>a.getStoryCardType,getStoryFallbackPreview:()=>s.getStoryFallbackPreview,getStoryHideReason:()=>A.getStoryHideReason,getStoryHref:()=>m.getStoryHref,getStoryMemoryDate:()=>g.getStoryMemoryDate,getStoryPackDataTestId:()=>N.getStoryPackDataTestId,getStoryPreview:()=>c.getStoryPreview,getStoryZeroTime:()=>y.getStoryZeroTime,getThumbhashFromStoryItem:()=>l.getThumbhashFromStoryItem,getVideoUrl:()=>v.getVideoUrl,isBlockItemHasUnseenStories:()=>u.isBlockItemHasUnseenStories,isLiveStory:()=>U.isLiveStory,isNarrativeStoriesPack:()=>R.isNarrativeStoriesPack,makeCachedPreloadResource:()=>D.makeCachedPreloadResource,mapDecorationConfigToProps:()=>_.mapDecorationConfigToProps,mapStoryViewerErrorToLang:()=>E.mapStoryViewerErrorToLang,mergeUnique:()=>P.mergeUnique,normalizeArchiveListData:()=>O.normalizeArchiveListData,normalizeDiscoverListData:()=>O.normalizeDiscoverListData,normalizeFeedListData:()=>O.normalizeFeedListData,normalizeGetByAdsListData:()=>O.normalizeGetByAdsListData,normalizeGetByIdListData:()=>O.normalizeGetByIdListData,normalizeRepliesListData:()=>O.normalizeRepliesListData,normalizeSearchListData:()=>O.normalizeSearchListData,querySelectorAllDeep:()=>d.querySelectorAllDeep,toStoryAttachment:()=>x.toStoryAttachment});var o=i(175080),r=i(391948),n=i(877067),a=i(461995),s=i(755903),c=i(208649),l=i(327588),d=i(520458),u=i(26457),_=i(598403),p=i(274780),m=i(766632),g=i(948146),v=i(412219),f=i(362570),y=i(181870),E=i(957966),A=i(402865),S=i(191164),b=i(373895),T=i(994108),I=i(75670),C=i(665844),k=i(362136),P=i(154445),O=i(801965),M=i(974784),L=i(645246),D=i(645043),R=i(134746),N=i(919913),x=i(761117),F=i(232778),U=i(736181)},26457:(e,t,i)=>{"use strict";function o(e){if(!e)return!1;if(void 0!==e.has_unseen)return e.has_unseen;let t=e.stories?.some((e=>!e.seen));return!!t||(t=e.grouped?.some((e=>o(e))),Boolean(t))}i.d(t,{isBlockItemHasUnseenStories:()=>o})},796828:(e,t,i)=>{"use strict";i.d(t,{isEqualParams:()=>r});var o=i(351118);const r=(e,t)=>{if(void 0===e||void 0===t)return e===t;const i=JSON.parse(JSON.stringify(e)),r=JSON.parse(JSON.stringify(t));return(0,o.isEqual)(i,r)}},736181:(e,t,i)=>{"use strict";i.d(t,{isLiveStory:()=>r});const o=["live_active","live_finished"],r=e=>Boolean(e&&o.includes(e))},134746:(e,t,i)=>{"use strict";i.d(t,{isNarrativeStoriesPack:()=>o});const o=e=>"narratives"===e},598403:(e,t,i)=>{"use strict";function o(e){if(!e?.border)return"";const{type:t,angle:i=0,colors:o=[],positions:r=[]}=e.border;let n="",a="";switch(t){case"solid":case"linear":for(let e=0;e<o.length;e++){const t=r[e]?100*r[e]+"%":"";a+=`, #${o[e]} ${t}`}n=`linear-gradient(${i}deg ${a})`;break;case"radial":for(let e=0;e<o.length;e++){const t=r[e]?100*r[e]+"%":"";a+=`${e?", ":""}#${o[e]} ${t}`}n=`radial-gradient(${a})`;break;case"conic":for(let e=0;e<o.length;e++){const t=r[e]?360*r[e]+"deg":"";a+=`, #${o[e]} ${t}`}n=`conic-gradient(from ${i}deg ${a})`}return n}function r(e){return e?.text&&e.text?.color&&`#${e.text?.color}`}function n(e){return{...e?.border&&{borderStyle:o(e)},...e?.text&&{textStyle:r(e)}}}i.d(t,{mapDecorationConfigToProps:()=>n})},957966:(e,t,i)=>{"use strict";i.d(t,{mapStoryViewerErrorToLang:()=>r});var o=i(662285);function r(e,t){switch(e){case o.StoriesViewerTechErrors.FAIL_LIST_DATA_FETCH:return t.getLang("stories_viewer_list_error");case o.StoriesViewerTechErrors.FAIL_GET_CURRENT_MEDIA:case o.StoriesViewerTechErrors.FAIL_RENDER_STORY_PACK:return t.getLang("stories_viewer_media_error");case o.StoriesViewerTechErrors.FAIL_FETCH_VIDEO:return t.getLang("stories_viewer_video_error");case o.StoriesViewerTechErrors.FAIL_FETCH_VK_VIDEO:return t.getLang("stories_viewer_vk_video_error");case o.StoriesViewerTechErrors.FAIL_MARK_SKIPPED:case o.StoriesViewerTechErrors.FAIL_MARK_SEEN:return t.getLang("stories_viewer_mark_seen_error");case o.StoriesViewerTechErrors.FAIL_FETCH_PRELOAD:return t.getLang("stories_viewer_preload_error");case o.StoriesViewerTechErrors.FAIL_FOLLOW:return t.getLang("stories_viewer_follow_error");case o.StoriesViewerTechErrors.FAIL_UNFOLLOW:return t.getLang("stories_viewer_unfollow_error");case o.StoriesViewerTechErrors.FAIL_MARK_NOT_INTERESTED:return t.getLang("stories_viewer_mark_not_interested_error");case o.StoriesViewerTechErrors.FAIL_HIDE_REPLY:return t.getLang("stories_viewer_fail_hide_reply");case o.StoriesViewerTechErrors.FAIL_AUDIO_TRACK_ADD_TO_MY_MUSIC:return t.getLang("stories_viewer_audio_track_add_error");case o.StoriesViewerTechErrors.FAIL_AUDIO_TRACK_DELETE_FROM_MY_MUSIC:return t.getLang("stories_viewer_audio_track_delete_error");case o.StoriesViewerTechErrors.FAIL_PLAYLIST_FOLLOW:return t.getLang("stories_follow_playlist_error");case o.StoriesViewerTechErrors.FAIL_PLAYLIST_UNFOLLOW:return t.getLang("stories_unfollow_playlist_error");case o.StoriesViewerTechErrors.FAIL_DELETE_QUESTION:return t.getLang("stories_viewer_fail_delete_question");case o.StoriesViewerTechErrors.FAIL_BAN_QUESTION_AUTHOR:return t.getLang("stories_viewer_fail_ban_question_author");case o.StoriesViewerTechErrors.FAIL_UNBAN_QUESTION_AUTHOR:return t.getLang("stories_viewer_fail_unban_question_author");case o.StoriesViewerTechErrors.FAIL_SET_DISCOVER_VISIBILITY:return t.getLang("stories_viewer_set_discover_visibility_error");case o.StoriesViewerTechErrors.FAIL_STORY_VIEWER_DATA_PARSE:return t.getLang("stories_viewer_data_parse");case o.StoriesViewerHideReasons.IS_EXPIRED:return t.getLang("stories_viewer_story_is_expired");case o.StoriesViewerHideReasons.IS_DELETED:return t.getLang("stories_viewer_story_is_deleted");case o.StoriesViewerHideReasons.IS_PRIVATE:return t.getLang("stories_viewer_story_is_private");case o.StoriesViewerHideReasons.IS_REPLY_HIDE:return t.getLang("stories_viewer_story_is_reply_hide")}return""}},154445:(e,t,i)=>{"use strict";function o(e,t,i,o="second"){const r=Array.isArray(e)?e:null,n=Array.isArray(t)?t:null;if(!r&&!n)return[];if(!r)return n;if(!n)return r;const a=new Map;return r.forEach((e=>{null!=e&&void 0!==e[i]&&null!==e[i]&&a.set(e[i],e)})),n.forEach((e=>{if(null!=e&&void 0!==e[i]&&null!==e[i]){const t=e[i];"second"===o?a.set(t,e):a.has(t)||a.set(t,e)}})),Array.from(a.values())}i.d(t,{mergeUnique:()=>o})},801965:(e,t,i)=>{"use strict";i.d(t,{normalizeArchiveListData:()=>a,normalizeDiscoverListData:()=>_,normalizeFeedListData:()=>d,normalizeGetByAdsListData:()=>m,normalizeGetByIdListData:()=>s,normalizeRepliesListData:()=>p,normalizeSearchListData:()=>u});const o=e=>void 0===e?.is_liked?{...e,is_liked:!1}:e,r=e=>t=>t.items?{...t,items:e(t.items)}:t,n=e=>e.map(o),a=r(n),s=r(n),c=e=>e.stories?{...e,stories:n(e.stories)}:e,l=e=>e.map(c),d=r(l),u=r(l),_=r(l),p=r(l),m=r(l)},169019:(e,t,i)=>{"use strict";function o(e){const t={},i=String(e).split(";");for(let e of i){const[i,o]=e.split(":");i&&o&&(t[i]=o)}if(t.ads_preview_hash||t.context||t.access_hash)return t}i.d(t,{parseExtra:()=>o})},520458:(e,t,i)=>{"use strict";function o(e,t=document){const i=[],o=[t];let r=0;for(;r<o.length;){const t=o[r];r++;const n=t.querySelectorAll(e);if(i.push(...n),"createTreeWalker"in t){const e=t.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>e.shadowRoot?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});let i=e.nextNode();for(;i;)i.shadowRoot&&o.push(i.shadowRoot),i=e.nextNode()}}return Array.from(i)}i.d(t,{querySelectorAllDeep:()=>o})},645043:(e,t,i)=>{"use strict";i.d(t,{getFileType:()=>s,getImageExistFromCache:()=>u,loadImageAsDataUrl:()=>_,makeCachedPreloadResource:()=>d});var o=i(182807),r=i(359042),n=i(101272);const a=new o.default({maxSize:50});function s(e){return e.match(/\.mp4/)?"video":e.match(/\.(png|jpg|jpeg|gif)/)||e.match(/\.mycdn\.me\/getVideoPreview/)?"image":void 0}const c=e=>{const t={};return(i,...o)=>(t[i]||(t[i]=e(i,...o),t[i].finally((()=>{delete t[i]}))),t[i])};function l(e,t){const{as:i,abortSignal:o,crossOrigin:r,fetchPriority:n="auto",maxRetries:a=3,retryDelay:s=500}=t;return new Promise(((t,c)=>{let l=0,d=null;const u=()=>{d=document.createElement("link"),d.rel="preload",d.as=i,d.fetchPriority=n,(r||!r&&"font"===i)&&(d.crossOrigin=r||"anonymous"),g(),d.href=e,document.head.appendChild(d)},_=()=>d&&t(d),p=e=>{if(d?.remove(),l<a&&!o?.aborted)l++,setTimeout((()=>{try{u()}catch(e){c(e)}}),s);else{const t=new Error(`Failed to preload ${i} resource after ${a} attempts`);t.cause=e,c(t)}},m=()=>{if(!o||!o.aborted||!d)return;const e=new DOMException(`Aborted preloading of ${i} resource`,"AbortError");e.cause=o.reason,c(e),d.remove()},g=()=>{d&&(d.addEventListener("load",_,{once:!0}),d.addEventListener("error",p,{once:!0}),o&&o.addEventListener("abort",m,{once:!0}))};o&&o.aborted?m():u()}))}function d(e){const{onEviction:t}=e,i=new o.default({...e,onEviction:(e,i)=>{i.remove(),t?.(e,i)}});return c((async(e,t)=>{if(!e)throw new Error("empty url");if(!i.has(e))try{i.set(e,await l(e,t))}catch(i){if(i instanceof Error&&"AbortError"===i.name)return;(0,n.saveStatlogEvents)({name:"preload_resource_to_cache_errors",value:1,keys:[t.as,String(t.crossOrigin),String(t.fetchPriority),e]})}return e}))}d({maxSize:50});const u=e=>a.get(e),_=c((e=>new Promise((async(t,i)=>{if(e||t(""),e.startsWith("data:"))return e;if(a.has(e))return t(a.get(e)??"");if("image"!==s(e))return i("unsupported file type");try{const i=await fetch(e),o=await i.blob(),n=await(0,r.fileToBase64)(o);a.set(e,n),t(a.get(e)??"")}catch(e){i(e)}}))))},761117:(e,t,i)=>{"use strict";i.d(t,{toStoryAttachment:()=>r});var o=i(536490);const r=(e,{owner_id:t,id:i})=>(0,o.isNarrativeStoriesPack)(e.type)?`narrative${t}_${e.id}`:`story${t}_${i}_story`},307119:(e,t,i)=>{"use strict";i.d(t,{ASPECT_RATIO:()=>o});const o=16/9},188546:(e,t,i)=>{"use strict";i.d(t,{findBaseImage:()=>r,getBaseImageUrl:()=>n});var o=i(307119);const r=(e=[])=>e.find((e=>!e.with_padding&&e.is_base))??e.find((e=>e.is_base)),n=(e,t,i=Math.floor(t/o.ASPECT_RATIO))=>`${e}&cs=${Math.floor(t)}x${Math.floor(i)}`},389950:(e,t,i)=>{"use strict";i.d(t,{AudioAlerts:()=>l});var o=i(331635),r=i(474848),n=i(132028),a=i(211413),s=i(315176),c=i(56263);class l{confirm(e){return new Promise((t=>(0,a.showMessageBoxModal)((({onClose:i,refreshCoordinates:o})=>{const n=new c.ConfirmAlertController({onConfirm:e.onConfirm,onCancel:e.onCancel,onClose:i,onResolve:t});return(0,r.jsx)(s.ConfirmAlert,{...e,onConfirm:n.onConfirm,onCancel:n.onCancel,onClose:n.onClose,refreshCoordinates:o})}))))}}l=(0,o.__decorate)([n.scope.global()],l)},695217:(e,t,i)=>{"use strict";i.d(t,{AlertContainer:()=>r});var o=i(296540);function r({refreshCoordinates:e,children:t}){return(0,o.useEffect)((()=>{e()}),[]),t}},56263:(e,t,i)=>{"use strict";i.d(t,{ConfirmAlertController:()=>g});var o=i(434518),r=i(763812),n=(0,r._)("_params"),a=(0,r._)("_resoluting"),s=(0,r._)("_resolution"),c=(0,r._)("_isClosed"),l=(0,r._)("_confirm"),d=(0,r._)("_cancel"),u=(0,r._)("_close"),_=(0,r._)("_resolve"),p=(0,r._)("_makeResolutor"),m=(0,r._)("_assertCanResolve");class g{constructor(e){Object.defineProperty(this,l,{value:v}),Object.defineProperty(this,d,{value:f}),Object.defineProperty(this,u,{value:y}),Object.defineProperty(this,_,{value:E}),Object.defineProperty(this,p,{value:A}),Object.defineProperty(this,m,{value:S}),Object.defineProperty(this,n,{writable:!0,value:void 0}),Object.defineProperty(this,a,{writable:!0,value:void 0}),Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,c,{writable:!0,value:void 0}),(0,o._)(this,a)[a]=null,(0,o._)(this,s)[s]=null,(0,o._)(this,c)[c]=!1,this.onConfirm=(0,o._)(this,p)[p](!0),this.onCancel=(0,o._)(this,p)[p](!1),this.onClose=async()=>{if((0,o._)(this,a)[a])(0,o._)(this,a)[a].finally((()=>{if(null===(0,o._)(this,s)[s])return(0,o._)(this,_)[_](!1)})),(0,o._)(this,u)[u]();else if(null===(0,o._)(this,s)[s])return(0,o._)(this,_)[_](!1)},(0,o._)(this,n)[n]=e}}async function v(){await(0,o._)(this,n)[n].onConfirm(),(0,o._)(this,_)[_](!0)}async function f(){await((0,o._)(this,n)[n].onCancel?.()),(0,o._)(this,_)[_](!1)}function y(){(0,o._)(this,c)[c]||((0,o._)(this,n)[n].onClose(),(0,o._)(this,c)[c]=!0)}function E(e){null===(0,o._)(this,s)[s]&&((0,o._)(this,s)[s]=e,(0,o._)(this,n)[n].onResolve(e),(0,o._)(this,u)[u]())}function A(e){return async()=>((0,o._)(this,m)[m](),(0,o._)(this,a)[a]=(async()=>{try{await(e?(0,o._)(this,l)[l]():(0,o._)(this,d)[d]())}finally{(0,o._)(this,a)[a]=null}})(),(0,o._)(this,a)[a])}function S(){if((0,o._)(this,a)[a])throw new Error("Resolution in progress");if(null!==(0,o._)(this,s)[s])throw new Error("Already resolved")}},229200:(e,t,i)=>{"use strict";i.d(t,{ConfirmAlert:()=>g});var o=i(474848),r=i(456921),n=i(132028),a=i(149333),s=i(454919),c=i(303800),l=i(100693),d=i(695217),u=i(928202),_=i(997163),p=i(558338);const m=(0,r.observer)((function(){const e=(0,a.useLangs)(),t=(0,p.useModel)(),{params:i}=t,r=i.cancelLabel??e.getLang("audio_alert_cancel_label_default");return(0,o.jsx)(d.AlertContainer,{refreshCoordinates:t.props.current.refreshCoordinates,children:(0,o.jsx)(s.ModalBoxFast,{header:(0,o.jsx)(u.ConfirmAlertHeader,{children:i.title}),actions:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.AudioButton,{disabled:t.isPending,loading:t.isCancellationPending,hint:i.cancelHint,onClick:t.onCancel,"data-testid":i.cancelTestId,children:r}),(0,o.jsx)(l.AudioButton,{disabled:t.isPending,loading:t.isConfirmationPending,hint:i.confirmHint,onClick:t.onConfirm,"data-testid":i.confirmTestId,children:i.confirmLabel??e.getLang("audio_alert_confirm_label_default")})]}),closeAriaLabel:r,onClose:t.onClose,children:(0,o.jsx)(c.Div,{spacing:4,paddingTop:8,paddingBottom:8,children:(0,o.jsx)(_.ConfirmAlertDescription,{children:i.description})})})})})),g=(0,n.createWidget)(p.ModelProvider,m)},997163:(e,t,i)=>{"use strict";i.d(t,{ConfirmAlertDescription:()=>a});var o=i(474848),r=i(285056),n=i(723723);function a({children:e}){return(0,o.jsx)(r.Text,{className:(0,n.getColorClass)("color_text_primary"),children:e})}},928202:(e,t,i)=>{"use strict";i.d(t,{ConfirmAlertHeader:()=>a});var o=i(474848),r=i(285056),n=i(723723);function a({children:e}){return(0,o.jsx)(r.Title,{level:"3",weight:"3",className:(0,n.getColorClass)("color_text_primary"),children:e})}},315176:(e,t,i)=>{"use strict";i.d(t,{ConfirmAlert:()=>o.ConfirmAlert});var o=i(229200)},399338:(e,t,i)=>{"use strict";i.d(t,{ConfirmAlert:()=>a});var o=i(331635),r=i(327813),n=i(132028);class a{get params(){const e=this.props.current;return{title:e.title,description:e.description,confirmLabel:e.confirmLabel,cancelLabel:e.cancelLabel,confirmHint:e.confirmHint,cancelHint:e.cancelHint,confirmTestId:e.confirmTestId,cancelTestId:e.cancelTestId}}get isConfirmationPending(){return this._isConfirmationPending}get isCancellationPending(){return this._isCancellationPending}get isPending(){return this.isConfirmationPending||this.isCancellationPending}async confirm(){this._isConfirmationPending=!0;try{await this.props.current.onConfirm()}finally{(0,r.runInAction)((()=>{this._isConfirmationPending=!1}))}}async cancel(){this._isCancellationPending=!0;try{await this.props.current.onCancel()}finally{(0,r.runInAction)((()=>{this._isCancellationPending=!1}))}}constructor(e){this.props=e,this._isConfirmationPending=!1,this._isCancellationPending=!1,this.onConfirm=()=>{this.confirm()},this.onCancel=()=>{this.cancel()},this.onClose=()=>{this.props.current.onClose()},(0,r.makeObservable)(this)}}(0,o.__decorate)([r.observable],a.prototype,"_isConfirmationPending",void 0),(0,o.__decorate)([r.observable],a.prototype,"_isCancellationPending",void 0),(0,o.__decorate)([r.computed,(0,o.__metadata)("design:type",void 0),(0,o.__metadata)("design:paramtypes",[])],a.prototype,"params",null),(0,o.__decorate)([r.computed,(0,o.__metadata)("design:type",void 0),(0,o.__metadata)("design:paramtypes",[])],a.prototype,"isConfirmationPending",null),(0,o.__decorate)([r.computed,(0,o.__metadata)("design:type",void 0),(0,o.__metadata)("design:paramtypes",[])],a.prototype,"isCancellationPending",null),(0,o.__decorate)([r.computed,(0,o.__metadata)("design:type",void 0),(0,o.__metadata)("design:paramtypes",[])],a.prototype,"isPending",null),(0,o.__decorate)([r.action,(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[]),(0,o.__metadata)("design:returntype",Promise)],a.prototype,"confirm",null),(0,o.__decorate)([r.action,(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[]),(0,o.__metadata)("design:returntype",Promise)],a.prototype,"cancel",null),a=(0,o.__decorate)([n.scope.transient(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===n.Props?Object:n.Props])],a)},558338:(e,t,i)=>{"use strict";i.d(t,{ModelProvider:()=>n,useModel:()=>a});var o=i(132028),r=i(399338);const{Provider:n,useModel:a}=(0,o.createProvider)(r.ConfirmAlert,{initInEffect:!1,isolatedContext:!1,onlyTransient:!1})},31620:(e,t,i)=>{"use strict";i.d(t,{WebAudioPlatformConfig:()=>I});var o=i(434518),r=i(763812),n=i(331635),a=i(132028),s=i(712600),c=i(26530),l=i(955060),d=i(24516),u=i(367734),_=i(177361),p=i(402164),m=i(585589),g=i(937193),v=i(734768),f=i(389950),y=i(608814),E=i(3606),A=i(251020),S=(0,r._)("_importLegacy"),b=(0,r._)("_importAdvertisingBannerProvider"),T=(0,r._)("_importOverrides");class I extends u.AudioPlatformConfig{constructor(e,t,i,r,n,a,s){super(),Object.defineProperty(this,S,{value:C}),Object.defineProperty(this,b,{value:k}),Object.defineProperty(this,T,{value:P}),this.langs=e,this.emitterFactory=t,this.player=i,this.alerts=r,this.layers=n,this.legacy=new u.AudioPlatformConfigLegacyLazyProxy((async()=>{const{AudioPlatformConfigLegacy:e}=await(0,o._)(this,S)[S]();return new e(this.emitterFactory)})),this.userSubscriptionOverrides=new _.AudioUserSubscriptionActionOverridesLazyProxy((async()=>{const{AudioUserSubscriptionActionOverrides:e}=await(0,o._)(this,T)[T]();return new e({langs:this.langs})})),this.advertisingBannerViewModelProvider=new u.AudioAdvertisingBannerViewModelProviderLazyProxy((async()=>{const{AudioAdvertisingBannerViewModelProvider:e}=await(0,o._)(this,b)[b]();return new e(this.player)})),this.musicPlaylistActionOverrides=new u.MusicPlaylistActionOverridesLazyProxy((async()=>{const{MusicPlaylistActionOverrides:e}=await(0,o._)(this,T)[T]();return new e({langs:this.langs,alerts:this.alerts})})),this.musicAlbumActionOverrides=new u.MusicAlbumActionOverridesLazyProxy((async()=>{const{MusicAlbumActionOverrides:e}=await(0,o._)(this,T)[T]();return new e({langs:this.langs})})),this.musicAudioActionOverrides=new p.MusicAudioActionOverridesLazyProxy((async()=>{const{MusicAudioActionOverrides:e}=await(0,o._)(this,T)[T]();return new e({langs:this.langs})})),this.podcastAudioActionOverrides=new m.PodcastAudioActionOverridesLazyProxy((async()=>{const{PodcastAudioActionOverrides:e}=await(0,o._)(this,T)[T]();return new e({langs:this.langs,layers:this.layers,alerts:this.alerts})})),this.podcastActionOverrides=new g.PodcastActionOverridesLazyProxy((async()=>{const{PodcastActionOverrides:e}=await(0,o._)(this,T)[T]();return new e({langs:this.langs})})),this.openSpecialProjectModal=async e=>{const{showAudioSpecialProjectModal:t}=await(0,o._)(this,T)[T]();t(e)},this.openMusicTransfer=async()=>{const{openMusicTransfer:e}=await(0,o._)(this,T)[T]();e()},this.openUploadAudio=async e=>{const{openUploadAudio:t}=await(0,o._)(this,T)[T]();t(e)},this.openMyMusicPlaylistCreationModal=async e=>{const{openMyMusicPlaylistCreationModal:t}=await(0,o._)(this,T)[T]();t(e)},this.featureFlags=new E.AudioFeatureFlags(s),this.notificationsPresenter=new A.AudioNotificationsPresenter(a)}}function C(){return Promise.all([i.e(91498),i.e(762),i.e(79210),i.e(89887),i.e(60712),i.e(96050),i.e(69285),i.e(27392),i.e(54462),i.e(89433),i.e(42885),i.e(34190),i.e("langs/web/audio_config_legacy")]).then(i.bind(i,637861))}function k(){return Promise.all([i.e(82438),i.e("langs/web/audio_config_audioAdvertisingBannerViewModelProvider")]).then(i.bind(i,871836))}function P(){return Promise.all([i.e(91498),i.e(89631),i.e(762),i.e(79210),i.e(89887),i.e(36943),i.e(98897),i.e(57859),i.e(70715),i.e(20089),i.e(18586),i.e("langs/web/audio_config_overrides")]).then(i.bind(i,539120))}I=(0,n.__decorate)([a.scope.global(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===s.Langs?Object:s.Langs,void 0===c.EmitterFactory?Object:c.EmitterFactory,void 0===v.GlobalAudioPlayerLazyProxy?Object:v.GlobalAudioPlayerLazyProxy,void 0===f.AudioAlerts?Object:f.AudioAlerts,void 0===y.WebLayers?Object:y.WebLayers,void 0===l.ErrorLogger?Object:l.ErrorLogger,void 0===d.UserEnv?Object:d.UserEnv])],I)},341263:(e,t,i)=>{"use strict";i.d(t,{WebAudioPlatformConfig:()=>o.WebAudioPlatformConfig});var o=i(31620)},3606:(e,t,i)=>{"use strict";i.d(t,{AudioFeatureFlags:()=>o});class o{get audioNewStats(){return this.userEnv.partConfigEnabled("audio_player_stats_web")}get onMediaPlayerNotifier(){return!0}constructor(e){this.userEnv=e}}},325554:(e,t,i)=>{"use strict";i.d(t,{AudioNotificationsPresenter:()=>c});var o=i(434518),r=i(763812),n=i(432465),a=i(268303),s=(0,r._)("_hide");class c{async show(e){let t=null;const i=e.createNotification({emitClose:()=>{t?(0,o._)(this,s)[s](t):this.logger.log(new Error("Notification does not exist"))}}),r=new a.NotificationViewAdapter({notification:i,defaultDuration:e.defaultDuration});t=await(0,n.showSnackbar)(r)}constructor(e){Object.defineProperty(this,s,{value:l}),this.logger=e}}function l(e){(0,n.hideSnackbar)(e)}},251020:(e,t,i)=>{"use strict";i.d(t,{AudioNotificationsPresenter:()=>o.AudioNotificationsPresenter});var o=i(325554)},877526:(e,t,i)=>{"use strict";i.d(t,{NotificationMessage:()=>a});var o=i(474848),r=i(344356),n=i(279734);function a(e){const{text:t,link:i}=e.message;return i?(0,o.jsx)(r.Interpolate,{values:{link:(0,o.jsx)(n.Link,{href:i.href,target:i.target})},children:t}):t}},268303:(e,t,i)=>{"use strict";i.d(t,{NotificationViewAdapter:()=>l});var o=i(434518),r=i(763812),n=i(474848),a=i(877526),s=(0,r._)("_notification"),c=(0,r._)("_defaultDuration");class l{get timeout(){return(0,o._)(this,s)[s].duration??(0,o._)(this,c)[c]}get text(){return(0,n.jsx)(a.NotificationMessage,{message:(0,o._)(this,s)[s].message})}get subtitle(){return(0,o._)(this,s)[s].description}get action(){return function({action:e}){let t;if(!e)return null;e.onExecute&&(t=()=>{e.onExecute?.()});return{label:e.title,href:e.href??void 0,onClick:t}}((0,o._)(this,s)[s])??void 0}constructor(e){Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,c,{writable:!0,value:void 0}),(0,o._)(this,s)[s]=e.notification,(0,o._)(this,c)[c]=e.defaultDuration}}},579607:(e,t,i)=>{"use strict";i.d(t,{isNewUserGiftsModalEnabled:()=>r});var o=i(540462);function r(){return(0,o.isToggleEnabled)("vas_gift_modal_spa")}},847629:(e,t,i)=>{"use strict";i.d(t,{WebMiniAppLaunchService:()=>d});var o=i(331635),r=i(608814),n=i(132028),a=i(951652),s=i(590780),c=i(759339),l=i(920518);class d extends c.MiniAppLaunchService{constructor(e,t,i,o){super(e,t,i),this.layers=o,this.closeLayer=(e=!0)=>{this.layers.close({isCloseForwardPush:e})},this.makeLayerConnection=async e=>{this.updateLayerParams(e)},this.updateLayerParams=({appId:e,actorId:t,queryParams:i,location:o},r=!1)=>{this.layers.open("appInLayerWithActorId",{layerParams:{appId:`${e}`,actorId:`${t||this.authService.userId}`},layerQuery:i,layerHash:o,replace:r})}}}d=(0,o.__decorate)([n.scope.global(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===a.AuthService?Object:a.AuthService,void 0===l.LaunchRecordService?Object:l.LaunchRecordService,void 0===s.Performance?Object:s.Performance,void 0===r.WebLayers?Object:r.WebLayers])],d)},998086:(e,t,i)=>{"use strict";i.d(t,{WebLayers:()=>c});var o=i(331635),r=i(132028),n=i(494675),a=i(24516),s=i(543732);class c extends n.Layers{constructor(e){super(s.webLayersConfig,e)}}c=(0,o.__decorate)([r.scope.global(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===a.UserEnv?Object:a.UserEnv])],c)},608814:(e,t,i)=>{"use strict";i.r(t),i.d(t,{WebLayers:()=>o.WebLayers,webLayersConfig:()=>r.webLayersConfig});var o=i(998086),r=i(543732)},543732:(e,t,i)=>{"use strict";i.d(t,{webLayersConfig:()=>o});const o={appInLayer:{enabledKeys:["web_spa_mini_apps_s"],enabledToggleKeys:["sa_web_spa_mini_apps_s"],layerName:"w",path:"app:appId(\\d+)"},appInLayerWithActorId:{enabledKeys:["web_spa_mini_apps_s"],enabledToggleKeys:["sa_web_spa_mini_apps_s"],layerName:"w",path:"app:appId(\\d+)_:actorId(-?\\d+)"},clipsModal:{enabledKeys:["clips_web_use_spa_modal"],path:"clip:ownerId(-?\\d+)_:clipId(\\d+)"},donutPaymentModal:{layerName:"w",path:"donut_payment:ownerId(-?\\d+)"},storiesViewerModal:{enabledKeys:["web_stories_viewer_redesign"],enabledToggleKeys:["st_web_spa_stories_viewer"],layerName:"w",path:"story:ownerId(-?\\d+)_:storyId(\\d+)/:listName([a-zA-Z0-9_:;\\-\\.]+)?"},storiesViewerModalAdditional:{enabledToggleKeys:["st_web_spa_stories_viewer_2"],layerName:"w",path:"story:ownerId(-?\\d+)_:storyId(\\d+)/:listName([a-zA-Z0-9_:;\\-\\.]+)?"},storiesArchiveModal:{layerName:"w",path:"stories:ownerId(-?\\d+)?"},storiesCreatorModal:{layerName:"w",path:"story_publisher:ownerId(-?\\d+)?"},narrativesViewerModal:{enabledKeys:["web_stories_viewer_redesign"],enabledToggleKeys:["st_web_spa_stories_viewer"],layerName:"w",path:"narrative:ownerId(-?\\d+)_:narrativeId(\\d+){_:storyId(\\d+)}?/:listName([a-zA-Z0-9_:;\\-\\.]+)?"},narrativesViewerModalAdditional:{enabledToggleKeys:["st_web_spa_stories_viewer_2"],layerName:"w",path:"narrative:ownerId(-?\\d+)_:narrativeId(\\d+){_:storyId(\\d+)}?/:listName([a-zA-Z0-9_:;\\-\\.]+)?"},narrativesListModal:{enabledKeys:["web_stories_narratives_redesign"],layerName:"w",path:"narratives:ownerId(-?\\d+)"},narrativesEditorModal:{enabledKeys:["web_stories_narratives_editor_redesign"],layerName:"w",path:"narrative_editor"},narrativesEditorModalWithOwner:{enabledKeys:["web_stories_narratives_editor_redesign"],layerName:"w",path:"narrative_editor:ownerId(-?\\d+)"},narrativesEditorModalWithRawId:{enabledKeys:["web_stories_narratives_editor_redesign"],layerName:"w",path:"narrative_editor:ownerId(-?\\d+)_:narrativeId(-?\\d+)"},communityReviewForm:{layerName:"w",path:"community-review-:communityGroupId(\\d+){-:reviewId(\\d+)}?"},myStickersModal:{enabledKeys:["stickers_my_stickers_spa"],layerName:"w",path:"my-stickers"},communityReviewModal:{layerName:"w",path:"community-review-show-:reviewId(\\d+)"},userGiftsModal:{enabledToggleKeys:["vas_gift_modal_spa"],layerName:"w",path:"gifts:userId(\\d+)"},stickersPackModalByProductId:{enabledToggleKeys:["vas_stickers_pack_modal_spa"],layerName:"w",path:"stickers-pack_:product_id(-?\\d+)"},stickersPackModalByName:{enabledToggleKeys:["vas_stickers_pack_modal_spa"],layerName:"w",path:"stickers-pack_:name([a-z0-9_-]+)"},stickersPackModalByMerchantProductId:{enabledToggleKeys:["vas_stickers_pack_modal_spa"],layerName:"w",path:"stickers-pack/merchants-product_:merchant_product_id(-?\\d+)"},stickersPackModalBySticker:{enabledToggleKeys:["vas_stickers_pack_modal_spa"],layerName:"w",path:"stickers-pack/sticker_:sticker_id(-?\\d+)"},marketItemReviewForm:{layerName:"w",path:"product-review:ownerId(-?\\d+)_:itemId(\\d+){-:reviewId(\\d+)}?"},marketItemsForReview:{layerName:"w",path:"products-reviews-:viewType(market_main|community_main|order)"},postModal:{enabledKeys:["frontend.feed_spa_web"],enabledToggleKeys:["feed_spa_web","search_all_to_mobx","search_statuses_web_mobx"],layerName:"w",path:"wall:ownerId(-?\\d+)_:itemId(\\d+){_:replyId(r\\d+)}?",singleton:(0,i(540462).partConfigEnabled)("feed_spa_post_modal_singleton")},serviceBookingModal:{layerName:"w",path:"service-booking-:communityGroupId(\\d+){/:screen([a-z-]+)}?"},marketItemReviews:{layerName:"w",path:"product-reviews:ownerId(-?\\d+)_:itemId(\\d+)"},communityInfoModal:{enabledKeys:["frontend.web_spa_community_info_modals"],layerName:"w",path:"club:groupId(\\d+)"},giftsCatalogModalOld:{enabledKeys:["new_gifts_catalog"],path:"giftbox"},giftsCatalogModalGift:{enabledToggleKeys:["vas_web_new_gifts_send"],layerName:"w",path:"gifts/send"},giftsCatalogModalGiftOne:{enabledToggleKeys:["vas_web_new_gifts_send"],layerName:"w",path:"gifts/:giftId([0-9-]+)"},giftsCatalogModal:{enabledKeys:["new_gifts_catalog"],layerName:"w",path:"gifts_catalog"},giftsCatalogModalWithSection:{enabledKeys:["new_gifts_catalog"],layerName:"w",path:"gifts_catalog/:section([a-z0-9_-]+)"},giftsCatalogModalWithSubSection:{enabledKeys:["new_gifts_catalog"],layerName:"w",path:"gifts_catalog/:section([a-z0-9_-]+)/:subsection([a-zA-Z0-9._-]+)"},communityAllAddressesModal:{enabledKeys:["frontend.web_spa_community_info_modals"],layerName:"w",path:"address-:groupId(\\d+)"},photoViewModal:{path:"photo:photoId([a-z0-9_-]+)/:listId(.+)"},albumViewModal:{path:"album:albumId(.+)"},reactionsModal:{enabledKeys:["frontend.feed_spa_web"],enabledToggleKeys:["feed_spa_web","search_all_to_mobx","search_statuses_web_mobx"],layerName:"w",path:"reactions:ownerId(-?\\d+)_:itemId(\\d+)"},vmojiAvatarModal:{enabledToggleKeys:["vas_vmoji_modal_spa"],layerName:"w",path:"vmoji:avatarOwnerId(\\d+)_:avatarCharacterId([a-z0-9]+)"},vmojiAvatarModalWithPackId:{enabledToggleKeys:["vas_vmoji_modal_spa"],layerName:"w",path:"vmoji:avatarOwnerId(\\d+)_:avatarCharacterId([a-z0-9]+)_:packId(\\d+)"},podcastEpisode:{path:"podcast:rawId(-?\\d+_-?\\d+)"}}},963763:(e,t,i)=>{"use strict";i.d(t,{ADS_MENU_ID:()=>r,ADS_WITH_EXTRA_ID:()=>o});const o="ads_with_extra",r="ads_leftmenu"},193846:(e,t,i)=>{"use strict";i.d(t,{LAYOUT_SIDEBAR_ID:()=>o});const o="layout_sidebar"},487461:(e,t,i)=>{"use strict";i.d(t,{DefaultLoadingErrorPage:()=>_});var o=i(474848),r=i(902642),n=i(211413),a=i(172656),s=i(720836),c=i(454154),l=i(303800),d=i(312511),u=i(149333);const _=()=>{const e=(0,u.useLangs)(),t=(0,o.jsx)(a.Group,{children:(0,o.jsx)(s.Placeholder,{icon:(0,o.jsx)(d.Icon144IllustrationSpottySick,{}),header:e.getLang("global_spa_error_page_header"),action:(0,o.jsx)(c.Button,{size:"m",onClick:()=>window.location.reload(),children:e.getLang("global_spa_error_page_reload_button")}),children:e.getLang("global_spa_error_page_placeholder")})});return(0,r.isFakeVideoStandalone)()?(0,o.jsx)(l.Div,{spacing:20,mode:"vertical",paddingBottom:20,paddingTop:20,children:t}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.PageBlockOffsetSpacing,{}),t]})}},435442:(e,t,i)=>{"use strict";i.d(t,{lazyModule:()=>r.lazyModuleWithErrorAnalytics,lazyModulePage:()=>o.lazyModulePage});i(487461);var o=i(602090),r=i(810911)},602090:(e,t,i)=>{"use strict";i.d(t,{lazyModulePage:()=>o.lazyModulePage});var o=i(660243)},660243:(e,t,i)=>{"use strict";i.d(t,{lazyModulePage:()=>l});var o=i(540462),r=i(487461),n=i(810911),a=i(518434),s=i(319756),c=i(551178);function l({loader:e,...t}){const l=(0,s.ensureDIRootWebContainer)().resolve(c.PerformanceStatsCore);return(0,n.lazyModuleWithErrorAnalytics)({...t,loader:(0,o.partConfigEnabled)("await_spa_module")?()=>{const t=e();return i._dG("vk",Object.assign(window.vk??{},{moduleLoading:t})),t}:e,DefaultLoadingError:(0,o.partConfigEnabled)("web_spa_redesign_default_loading_error")?r.DefaultLoadingErrorPage:void 0,options:{hasError:(0,o.partConfigEnabled)("web_spa_error_page"),logError:a.logError},onLazyModuleLoadStarted:()=>{l.send(c.PerformanceStatsCoreEventType.APP_BUNDLE_LOAD_STARTED)},onLazyModuleLoaded:()=>{l.send(c.PerformanceStatsCoreEventType.APP_BUNDLE_LOAD_DONE)}})}},810911:(e,t,i)=>{"use strict";i.d(t,{lazyModuleWithErrorAnalytics:()=>o.lazyModuleWithErrorAnalytics});var o=i(687989)},687989:(e,t,i)=>{"use strict";i.d(t,{lazyModuleWithErrorAnalytics:()=>s});var o=i(474848),r=i(296540),n=i(777062);const a=(0,r.createContext)(!1);function s(e){function t(t){const i=(0,r.useContext)(a);return(0,o.jsx)(n.ErrorBoundaryAnalitycsProvider,{lazyModuleParams:{...e,isSuspenseDisabled:i},children:(0,o.jsx)(n.ErrorBoundaryAnalitycsView,{children:e=>(0,o.jsx)(e,{...t})})})}return t.displayName=`lazyModuleWithErrorAnalytics(${e.name})`,t.preload=e.loader,t}},126548:(e,t,i)=>{"use strict";i.d(t,{ErrorBoundaryAnalitycsView:()=>a});var o=i(296540),r=i(837293),n=i(934368);function a({children:e}){const t=(0,n.useModelErrorBoundaryAnalitycs)();return e((0,o.useMemo)((()=>{const e=t.props.current.lazyModuleParams;return t.isEnabled?(0,r.lazyModule)({...e,options:{...e.options??{},hasError:e.options?.hasError??!1,logError:i=>{t.logLoadModuleError(i,e.name),e.options?.logError(i)},onDidCatch:i=>{t.logBoundaryError(i,e.name),e.options?.onDidCatch?.(i)}}}):(0,r.lazyModule)(e)}),[t]))}},777062:(e,t,i)=>{"use strict";i.d(t,{ErrorBoundaryAnalitycsProvider:()=>r.ErrorBoundaryAnalitycsProvider,ErrorBoundaryAnalitycsView:()=>o.ErrorBoundaryAnalitycsView});var o=i(126548),r=i(934368)},934368:(e,t,i)=>{"use strict";i.d(t,{ErrorBoundaryAnalitycsProvider:()=>d,useModelErrorBoundaryAnalitycs:()=>u});var o=i(331635),r=i(327813),n=i(24516),a=i(627876),s=i(132028),c=i(518434);class l{get isEnabled(){return this.userEnv.partConfigEnabled("statshouse_logging_spa_show_error_boundary")}log(e,t,i){(0,c.logError)(e),this.isEnabled&&this.statLog.send({name:"web_spa_page_error",value:1,keys:[t,i]})}logLoadModuleError(e,t){this.log(e,t,"load_module_error")}logBoundaryError(e,t){this.log(e,t,"boundary_error")}constructor(e,t,i){this.userEnv=e,this.statLog=t,this.props=i,(0,r.makeAutoObservable)(this)}}l=(0,o.__decorate)([s.scope.transient(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===n.UserEnv?Object:n.UserEnv,void 0===a.Statlog?Object:a.Statlog,void 0===s.Props?Object:s.Props])],l);const{Provider:d,useModel:u}=(0,s.createProvider)(l,{initInEffect:!1,isolatedContext:!1,onlyTransient:!0})},518434:(e,t,i)=>{"use strict";i.d(t,{logError:()=>n});var o=i(298077),r=i(540462);const n=e=>{(0,r.partConfigEnabled)("web_spa_loading_error")?(0,o.logError)(e):console.error(e)}},89972:(e,t,i)=>{"use strict";i.d(t,{BASE_ROUTE:()=>o.BASE_ROUTE,CLIPS_SECTIONS:()=>o.CLIPS_SECTIONS,PUBLISH_STAT_LOG_SECTIONS:()=>o.PUBLISH_STAT_LOG_SECTIONS,getArtistUrl:()=>r.getArtistUrl,getClipsGridSoundUrl:()=>r.getClipsGridSoundUrl,getCompilationUrl:()=>r.getCompilationUrl,getEffectUrl:()=>r.getEffectUrl,getFeedTopUrl:()=>r.getFeedTopUrl,getFeedUrl:()=>r.getFeedUrl,getHashtagUrl:()=>r.getHashtagUrl,getMusicUrl:()=>r.getMusicUrl,getOwnerClipsUrl:()=>r.getOwnerClipsUrl,getOwnerUrl:()=>r.getOwnerUrl,getPlaceUrl:()=>r.getPlaceUrl,getPopupClipUrl:()=>r.getPopupClipUrl,getPostponedClipsUrl:()=>r.getPostponedClipsUrl,getPublishedClipsUrl:()=>r.getPublishedClipsUrl,getStatisticsUrl:()=>r.getStatisticsUrl,usePath:()=>a.usePath,useRoute:()=>n.useRoute});var o=i(652999),r=i(870451),n=i(41829),a=i(570121)},652999:(e,t,i)=>{"use strict";i.d(t,{BASE_ROUTE:()=>o,BASE_SINGLE_CLIP_ROUTE:()=>r,CLIPS_SECTIONS:()=>n,CLIP_POPUP_QUERY_PARAMETER:()=>c,CLIP_QUERY_PARAMETER:()=>s,PUBLISH_STAT_LOG_SECTIONS:()=>a});const o="/clips",r="/clip",n={TOP:"top",SUBSCRIPTIONS:"subscriptions",MY:"my",OWNER:"owner",HASHTAG:"hashtag",UPLOAD:"upload",MUSIC:"music",COMPILATION:"compilation",EFFECT:"effect",POSTPONED:"postponed",PLAYLIST:"playlist",PLACE:"place",SEARCH:"search",SEARCH_SECTION:"search_section"},a={[n.TOP]:"rec",[n.SUBSCRIPTIONS]:"subscriptions",[n.MY]:"myclips"},s="clip",c="z"},870451:(e,t,i)=>{"use strict";i.d(t,{getArtistUrl:()=>E,getClipsGridSoundUrl:()=>d,getCompilationUrl:()=>g,getEffectUrl:()=>f,getFeedClipUrl:()=>n,getFeedTopUrl:()=>s,getFeedUrl:()=>a,getHashtagUrl:()=>v,getLoginUrl:()=>T,getMusicUrl:()=>y,getOwnerClipsUrl:()=>m,getOwnerUrl:()=>c,getPlaceUrl:()=>S,getPopupClipUrl:()=>l,getPostponedClipsUrl:()=>_,getPublishedClipsUrl:()=>p,getStatisticsUrl:()=>u,getUploadUrl:()=>A,isUploadPage:()=>b});var o=i(468073),r=i(652999);const n=(e,t="")=>e===r.CLIPS_SECTIONS.TOP?`${r.BASE_SINGLE_CLIP_ROUTE}${t}`:`${location.pathname}${t}`,a=(e,t="")=>"top"===e?`${t}`:"top"===e||"subscriptions"===e?`?${r.CLIP_QUERY_PARAMETER}=${t}`:`${r.BASE_ROUTE}`,s=()=>`${r.BASE_ROUTE}`,c=e=>`${r.BASE_ROUTE}${e}`,l=e=>`?${r.CLIP_POPUP_QUERY_PARAMETER}=${r.CLIP_QUERY_PARAMETER}${e}`,d=e=>`${r.BASE_ROUTE}/music/${e}`,u=(e=0)=>`/clips_stats#owner_id=${e}`,_=e=>`${r.BASE_ROUTE}/postponed/${o.Ranges.isGroupId(+e)?"club"+Math.abs(+e):e}`,p=e=>{const t=Number(e)?e:`/${e}`;return`${r.BASE_ROUTE}${t}`},m=e=>`${r.BASE_ROUTE}/${e}`,g=e=>`${r.BASE_ROUTE}/compilation/${e}`,v=e=>`${r.BASE_ROUTE}/hashtag/${e}`,f=e=>`${r.BASE_ROUTE}/effect/${e}`,y=e=>`${r.BASE_ROUTE}/music/${e}`,E=e=>`/artist/${e}`,A=(e,t)=>`${r.BASE_ROUTE}/upload${e}${t?`?back_url=${t}`:""}`,S=e=>`${r.BASE_ROUTE}/place/${e}`,b=e=>e.includes(`${r.BASE_ROUTE}/${r.CLIPS_SECTIONS.UPLOAD}`),T=e=>`/login${e?`?to=${btoa(e)}`:""}`},570121:(e,t,i)=>{"use strict";i.d(t,{usePath:()=>s});var o=i(899631),r=i(864175),n=i(296540),a=i(870451);const s=e=>{const t=(0,o.useLocation)(),{navigate:i}=(0,r.useNavigate)();return{pushPathToCurrentLoc:(0,n.useCallback)((t=>{window.cur.onAfterReset=(e,t)=>(t.module=e.module,t.urlAttachmentTimeHash=e.urlAttachmentTimeHash,t),i((0,a.getFeedClipUrl)(e,t))}),[t.pathname])}}},41829:(e,t,i)=>{"use strict";i.d(t,{useRoute:()=>a});var o=i(263290),r=i(899631),n=i(652999);function a(){const e=(0,o.useQuery)(),t=(0,r.useLocation)(),i=t.pathname.match(new RegExp("\\/clip(-?\\d+_\\d+)$"))?.[1],a=Boolean(e[n.CLIP_POPUP_QUERY_PARAMETER]);return{activeClipId:e[n.CLIP_QUERY_PARAMETER]||i||"",isPopupOpened:a}}},559289:(e,t,i)=>{"use strict";i.d(t,{getOwnedAudioListSource:()=>n});var o=i(70148),r=i(391751);function n(e,t){const i=function({cookie:e}){const t=e.get(a);if(!t)return null;try{const e=JSON.parse(t);return e||null}catch{return null}}(t);if(!i||!i.ref)return null;const n=o.OwnedIdentity.fromRawId(e),s=o.OwnedIdentity.fromRawId(i.list_id);return(0,r.compareIdentities)(n,s)?i:null}const a="remixaudio_last_list_ref"},93888:(e,t,i)=>{"use strict";i.d(t,{useRefreshModalCoordinates:()=>n});var o=i(296540),r=i(286235);function n(e,t){const i=(0,o.useRef)(0);(0,o.useEffect)((()=>{t()}),[]),(0,r.useResize)(e,(e=>{!function(e,t,i){(function(e,t){const i=window.visualViewport;if(!i)return!1;return function(e,t){return Math.min(e.clientHeight,t.current)}(e,t)>=i.height})(e,t)||i()}(e,i,t),i.current=e.clientHeight}))}},286235:(e,t,i)=>{"use strict";i.d(t,{useResize:()=>n});var o=i(296540),r=i(634444);function n(e,t){const i=(0,r.useStableCallback)(t);(0,o.useEffect)((()=>{const t=e?.current;if(!t)return;const o=new ResizeObserver((()=>i(t)));return o.observe(t),()=>o.disconnect()}),[e])}},847815:(e,t,i)=>{"use strict";i.d(t,{AudioListItemsBodySkeleton:()=>u});var o=i(474848),r=i(296540),n=i(351118),a=i(442811),s=i(194528),c=i(303800),l=i(724648),d=i(828735);function u({item:e=(0,o.jsx)(a.AudioRowSkeleton,{contentWidth:316}),count:t=d.AUDIO_LIST_ITEMS_SKELETON_COUNT_DEFAULT}){const i=(0,r.useMemo)((()=>(0,n.createArray)(t||5)),[t]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.Spacing,{mode:"vertical",size:20}),(0,o.jsx)(c.Div,{mode:"vertical",paddingTop:0,paddingBottom:0,children:(0,o.jsx)(c.Div,{mode:"vertical",paddingTop:0,paddingBottom:0,children:(0,o.jsx)(l.Flex,{direction:"column",gap:8,children:i.map((t=>(0,o.jsx)("div",{children:e},t)))})})})]})}},46154:(e,t,i)=>{"use strict";i.d(t,{AudioListItemsFooterSkeleton:()=>c});var o=i(474848),r=i(303800),n=i(194528),a=i(724648),s=i(63108);function c(){return(0,o.jsxs)(r.Div,{mode:"vertical",spacing:12,paddingTop:0,paddingBottom:0,children:[(0,o.jsx)(n.Spacing,{size:5}),(0,o.jsx)(r.Div,{mode:"vertical",spacing:8,paddingTop:0,paddingBottom:0,children:(0,o.jsxs)(a.Flex,{direction:"column",justify:"center",align:"center",children:[(0,o.jsx)(n.Spacing,{size:10}),(0,o.jsx)(s.Skeleton,{width:92,height:8,borderRadius:2}),(0,o.jsx)(n.Spacing,{size:10})]})}),(0,o.jsx)(n.Spacing,{size:5})]})}},119200:(e,t,i)=>{"use strict";i.d(t,{AudioListItemsHeaderSkeleton:()=>s});var o=i(474848),r=i(194528),n=i(303800),a=i(63108);function s(){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.Spacing,{size:15}),(0,o.jsx)(n.Div,{mode:"vertical",spacing:12,paddingTop:0,paddingBottom:0,children:(0,o.jsxs)(n.Div,{mode:"vertical",spacing:8,paddingTop:0,paddingBottom:0,children:[(0,o.jsx)(a.Skeleton,{width:75,height:12,borderRadius:4}),(0,o.jsx)(r.Spacing,{size:12}),(0,o.jsx)(a.Skeleton,{width:154,height:8,borderRadius:2})]})}),(0,o.jsx)(r.Spacing,{size:25})]})}},633295:(e,t,i)=>{"use strict";i.d(t,{AudioListItemsSkeleton:()=>l});var o=i(474848),r=i(442811),n=i(847815),a=i(46154),s=i(119200),c=i(828735);function l({trackRowSize:e,header:t=(0,o.jsx)(s.AudioListItemsHeaderSkeleton,{}),item:i=(0,o.jsx)(r.AudioRowSkeleton,{contentWidth:316,size:e}),count:l=c.AUDIO_LIST_ITEMS_SKELETON_COUNT_DEFAULT,hasHeader:d,hasFooter:u}){return(0,o.jsxs)(o.Fragment,{children:[d?t:void 0,(0,o.jsx)(n.AudioListItemsBodySkeleton,{item:i,count:l}),u&&(0,o.jsx)(a.AudioListItemsFooterSkeleton,{})]})}},877295:(e,t,i)=>{"use strict";i.d(t,{AudioListModalHeaderSkeleton:()=>l});var o=i(474848),r=i(303800),n=i(724648),a=i(63108),s=i(194528),c=i(582192);function l(){return(0,o.jsx)(r.Div,{mode:"vertical",paddingTop:8,paddingBottom:0,spacing:8,children:(0,o.jsx)(r.Div,{mode:"vertical",paddingTop:12,paddingBottom:0,spacing:12,children:(0,o.jsxs)(n.Flex,{direction:"column",children:[(0,o.jsxs)(n.Flex,{direction:"row",justify:"space-between",children:[(0,o.jsx)(a.Skeleton,{width:156,height:156,borderRadius:10}),(0,o.jsxs)(n.Flex,{direction:"column",align:"stretch",children:[(0,o.jsx)(s.Spacing,{size:6}),(0,o.jsx)(n.Flex.Item,{alignSelf:"end",flex:"fixed",flexBasis:0,children:(0,o.jsxs)(n.Flex,{direction:"row",gap:16,children:[(0,o.jsx)(a.Skeleton,{width:16,height:16,circle:!0}),(0,o.jsx)(a.Skeleton,{width:16,height:16,circle:!0})]})}),(0,o.jsx)(a.Skeleton,{width:166,height:16,borderRadius:4}),(0,o.jsx)(s.Spacing,{size:4}),(0,o.jsxs)(n.Flex,{align:"center",children:[(0,o.jsx)(a.Skeleton,{width:16,height:16,circle:!0}),(0,o.jsx)(s.Spacing,{mode:"vertical",size:6}),(0,o.jsx)(a.Skeleton,{height:8,width:40,borderRadius:2})]}),(0,o.jsx)(s.Spacing,{size:4}),(0,o.jsx)(a.Skeleton,{width:187,height:8,borderRadius:2}),(0,o.jsx)(s.Spacing,{size:30}),(0,o.jsx)(a.Skeleton,{width:330,height:16,borderRadius:4})]})]}),(0,o.jsx)(s.Spacing,{size:36}),(0,o.jsx)(a.Skeleton,{width:502,height:16,borderRadius:4}),(0,o.jsx)(s.Spacing,{size:12}),(0,o.jsx)(a.Skeleton,{width:502,height:16,borderRadius:4}),(0,o.jsx)(s.Spacing,{size:12}),(0,o.jsx)(a.Skeleton,{width:502,height:16,borderRadius:4}),(0,o.jsx)(s.Spacing,{size:16}),(0,o.jsx)(c.Separator,{wide:!0})]})})})}},828735:(e,t,i)=>{"use strict";i.d(t,{AUDIO_LIST_ITEMS_SKELETON_COUNT_DEFAULT:()=>o});const o=5},629886:(e,t,i)=>{"use strict";i.d(t,{TopAudioEventBus:()=>d});var o=i(434518),r=i(763812),n=i(584053),a=i(558137),s=(0,r._)("_emitter"),c=(0,r._)("_topAudioPlayerEvents"),l=(0,r._)("_audioLayerEvents");class d{constructor(){Object.defineProperty(this,c,{get:u,set:void 0}),Object.defineProperty(this,l,{get:_,set:void 0}),Object.defineProperty(this,s,{writable:!0,value:void 0}),(0,o._)(this,s)[s]=new n.Emitter,this.emit=e=>{(0,o._)(this,s)[s].emit(e)},this.audioLayerEventAggregator=(0,o._)(this,l)[l].createAggregator(),this.topAudioPlayerEventsAggregator=(0,o._)(this,c)[c].createAggregator()}}function u(){return(0,o._)(this,s)[s].listenable}function _(){return(0,o._)(this,s)[s].listenable}d.ensure=(0,a.makeSharedState)("TopAudioEventBus",(()=>new d),{version:1})},842808:(e,t,i)=>{"use strict";i.d(t,{MusicPlaylistModalContentSkeleton:()=>s});var o=i(474848),r=i(194528),n=i(633295),a=i(877295);function s(){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.AudioListModalHeaderSkeleton,{}),(0,o.jsx)(n.AudioListItemsSkeleton,{trackRowSize:"m",count:5,hasHeader:!0,hasFooter:!0}),(0,o.jsx)(r.Spacing,{size:20})]})}},733867:(e,t,i)=>{"use strict";i.d(t,{MusicPlaylistModalLayout:()=>c});var o=i(474848),r=i(296540),n=i(694244),a=i(220208),s=i(93888);function c({children:e,targetOwnerId:t,...i}){const{onClose:c,refreshCoordinates:l=()=>{}}=i,d=(0,r.useRef)(null);return(0,s.useRefreshModalCoordinates)(d,l),(0,o.jsxs)(n.ModalBox,{width:542,getRef:d,"data-testid":"MusicPlaylistModal","data-targetownerid":t,children:[(0,o.jsx)(a.ModalDismissButton,{onClick:c,"data-testid":"MusicPlaylistModal_Close"}),e]})}},950821:(e,t,i)=>{"use strict";i.d(t,{MusicPlaylistModalLayout:()=>o.MusicPlaylistModalLayout});var o=i(733867)},125551:(e,t,i)=>{"use strict";i.d(t,{MusicPlaylistModalFallback:()=>a});var o=i(474848),r=i(5410),n=i(950821);function a(){return(0,o.jsx)(n.MusicPlaylistModalLayout,{children:(0,o.jsx)(r.MusicPlaylistFallback,{})})}},603271:(e,t,i)=>{"use strict";i.d(t,{showMusicPlaylistModal:()=>u});var o=i(474848),r=i(351118),n=i(435442),a=i(211413),s=i(319756),c=i(271900),l=i(125551);const d=(0,n.lazyModule)({loader:async()=>{const{MusicPlaylistModal:e}=await Promise.all([i.e(91498),i.e(89631),i.e(762),i.e(79210),i.e(89887),i.e(2628),i.e(81407),i.e(99682),i.e(16729),i.e(60712),i.e(36943),i.e(48296),i.e(88293),i.e(98897),i.e(75908),i.e(16131),i.e(33641),i.e("langs/web/audio_modals_MusicTrackList")]).then(i.bind(i,544145));return e},name:"MusicPlaylistModal",DefaultLoading:c.MusicPlaylistModalSkeleton,DefaultLoadingError:l.MusicPlaylistModalFallback});function u(e,t={}){return(0,a.showMessageBoxModal)((({onClose:t,refreshCoordinates:i})=>(0,o.jsx)(s.DIRootWebProvider,{children:(0,o.jsx)(d,{...e,onClose:t,onDeleted:_(t),refreshCoordinates:i,loading:(0,o.jsx)(c.MusicPlaylistModalSkeleton,{})})})),{...t,width:542,hideOnBGClick:!0,fullscreen:!1,featureFlags:{keepInPhotoView:!0},zLayer:p(e.accessRawId)})}function _(e){return(0,r.debounce)(e,300)}function p(e){return`audio_playlist${e}`}},271900:(e,t,i)=>{"use strict";i.d(t,{MusicPlaylistModalSkeleton:()=>a});var o=i(474848),r=i(950821),n=i(842808);function a(){return(0,o.jsx)(r.MusicPlaylistModalLayout,{children:(0,o.jsx)(n.MusicPlaylistModalContentSkeleton,{})})}},5410:(e,t,i)=>{"use strict";i.d(t,{MusicPlaylistFallback:()=>s});var o=i(474848),r=i(149333),n=i(303800),a=i(720836);function s({"data-testid":e="MusicPlaylist_Fallback_Default"}){const t=(0,r.useLangs)(),i=t.getLang("audio_music_playlist_crash_placeholder_header"),s=t.getLang("audio_music_playlist_crash_placeholder_description");return(0,o.jsx)(n.Div,{paddingTop:16,paddingBottom:16,spacing:8,"data-testid":e,children:(0,o.jsx)(a.Placeholder,{header:i,children:s})})}},780584:(e,t,i)=>{"use strict";i.d(t,{initMessengerClipsModal:()=>s});var o=i(474848),r=i(296540),n=i(211413);const a=(0,r.lazy)((async()=>({default:(await Promise.all([i.e(91498),i.e(89631),i.e(762),i.e(79210),i.e(63616),i.e(96851),i.e(5375),i.e(89887),i.e(9397),i.e(96025),i.e(87108),i.e(1071),i.e(95698),i.e(38302),i.e(31325),i.e(14262),i.e(80178),i.e(1093),i.e(7743),i.e(94781),i.e(57220),i.e(15642),i.e(22081),i.e(51915),i.e(36943),i.e(83521),i.e(10275),i.e(77312),i.e(63836),i.e("langs/web/MessengerClipsModal")]).then(i.bind(i,778958))).MessengerClipsModal})));function s(e,t,i,r,s){(0,n.showMessageBoxModalSuspense)((n=>(0,o.jsx)(a,{...n,name:"MessengerClipsModal",activeClipId:e,groupId:s,peerId:t,cmid:i,isMuted:r})),{width:"fit-content"})}},593049:(e,t,i)=>{"use strict";i.d(t,{UpcomingLiveSubscriptionButtonWidget:()=>_});var o=i(474848),r=i(456921),n=i(132028),a=i(723723),s=i(454154),c=i(267952),l=i(115629),d=i(81883);const u=(0,r.observer)((function(){const{isSubscribed:e,handleClick:t,isLoading:i,buttonText:r,buttonSize:n}=(0,d.useUpcomingLiveSubscriptionButtonViewModel)(),u=e?(0,o.jsx)(c.Icon24DoneOutline,{className:(0,a.getColorClass)("color_icon_primary_invariably")}):(0,o.jsx)(l.Icon24NotificationOutline,{className:(0,a.getColorClass)("color_icon_primary_invariably")});return(0,o.jsx)(s.Button,{size:n,loading:i,mode:"primary",appearance:"overlay",onClick:t,before:u,children:r})})),_=(0,n.createWidget)(d.UpcomingLiveSubscriptionButtonProvider,u)},879412:(e,t,i)=>{"use strict";i.d(t,{UpcomingLiveSubscribeButtonManager:()=>r.UpcomingLiveSubscribeButtonManager,UpcomingLiveSubscriptionButtonWidget:()=>o.UpcomingLiveSubscriptionButtonWidget,canShowSubscribeButton:()=>r.canShowSubscribeButton,isSubscribeButtonToggleEnabled:()=>r.isSubscribeButtonToggleEnabled});var o=i(593049),r=i(186938)},680830:(e,t,i)=>{"use strict";i.d(t,{UpcomingLiveSubscriptionButtonViewModel:()=>d});var o=i(331635),r=i(327813),n=i(132028),a=i(732929),s=i(670252),c=i(712600),l=i(186938);class d{[n.init](){this.hasDataAboutSubscription()||this.setSubscribed(this.isSubscribedInitialState)}[n.destroy](){this.cleanup()}get buttonSize(){return this.props.current.buttonSize??"l"}get isSubscribedInitialState(){return this.props.current.isSubscribedInitialState}get ownerId(){return this.props.current.ownerId}get videoId(){return this.props.current.videoId}get accessKey(){return this.props.current.accessKey}get preRequestCallback(){return this.props.current.preRequestCallback}get error(){return this._error}get isLoading(){return this._isLoading}get isSubscribed(){const e=this.videoUpcomingLiveSubscriptionService.getMapKey(this.ownerId,this.videoId);return this.videoUpcomingLiveSubscriptionService.isSubscribed(e)??!1}get buttonText(){return this.isSubscribed?this.langs.getLang("video_live_start_unsubscribe_button_text"):this.langs.getLang("video_live_start_subscribe_button_text")}cleanup(){this._abortController?.abort()}hasDataAboutSubscription(){const e=this.videoUpcomingLiveSubscriptionService.getMapKey(this.ownerId,this.videoId);return void 0!==this.videoUpcomingLiveSubscriptionService.isSubscribed(e)}setSubscribed(e){this.videoUpcomingLiveSubscriptionService.setSubscibed(e,this.ownerId,this.videoId)}async subscribe(){if(!this._abortController)return;const e={ownerId:this.ownerId,videoId:this.videoId,accessKey:this.accessKey};await this.videoUpcomingLiveSubscriptionService.subscribe(e,{signal:this._abortController.signal}),(0,l.showSnackbar)(this.snackbar,{snackbarText:this.langs.getLang("video_live_start_subscribe_button_snackbar_text")})}async unsubscribe(){if(!this._abortController)return;const e={ownerId:this.ownerId,videoId:this.videoId};await this.videoUpcomingLiveSubscriptionService.unsubscribe(e,{signal:this._abortController.signal}),(0,l.showSnackbar)(this.snackbar,{snackbarText:this.langs.getLang("video_live_start_unsubscribe_button_snackbar_text")})}constructor(e,t,i,o){this.props=e,this.videoUpcomingLiveSubscriptionService=t,this.snackbar=i,this.langs=o,this.handleClick=async()=>{this.preRequestCallback?.(),this._abortController?.abort(),this._abortController=new AbortController,this._error=null,this._isLoading=!0;try{if(this.isSubscribed)return void await this.unsubscribe();await this.subscribe()}catch(e){(0,r.runInAction)((()=>{this._error=e}))}finally{(0,r.runInAction)((()=>{this._abortController=null,this._isLoading=!1}))}},this._abortController=null,this._error=null,this._isLoading=!1,(0,r.makeAutoObservable)(this)}}d=(0,o.__decorate)([n.scope.transient(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===n.Props?Object:n.Props,void 0===a.VideoUpcomingLiveSubscriptionService?Object:a.VideoUpcomingLiveSubscriptionService,void 0===s.Snackbar?Object:s.Snackbar,void 0===c.Langs?Object:c.Langs])],d)},81883:(e,t,i)=>{"use strict";i.d(t,{UpcomingLiveSubscriptionButtonProvider:()=>n,useUpcomingLiveSubscriptionButtonViewModel:()=>a});var o=i(132028),r=i(680830);const{Provider:n,useModel:a}=(0,o.createProvider)(r.UpcomingLiveSubscriptionButtonViewModel,{initInEffect:!1})},273455:(e,t,i)=>{"use strict";i.d(t,{UpcomingLiveSubscribeButtonManager:()=>n});var o=i(501397),r=i(375404);class n{get player(){return this._player}get debug(){return this._debug}reconcile(e,t,i,o=24){if(!this._player)return;if(!t.isDisplayed)return void(this.isCreated&&this.cleanup());const a=JSON.stringify(e);if(this._currentProps!==a&&this.isCreated&&this.cleanup(),this._currentProps=a,this.isCreated)return void(this._containerEl&&(this._containerEl.style.top=t.bottom+o+"px"));const s=document.createElement("div");s.id=n.slotId,s.style.top=t.bottom+o+"px",s.style.left="50%",s.style.transform="translate(-50%, 0)";try{this._player.slotsApi?.add(s,{id:n.slotId,overlay:"over_controls"})}catch(e){this.log(e,`Не удалось создать слот ${n.slotId}.`)}this._containerEl=s,this._cleanupFn=(0,r.upcomingLiveSubscriptionButtonInitiator)(s,e,i)}get isCreated(){return Boolean(this._cleanupFn)}cleanup(){if(this._player){this._cleanupFn?.(),this._cleanupFn=void 0;try{this._player.slotsApi?.remove(n.slotId)}catch(e){this.log(e,`Не удалось удалить слот ${n.slotId}.`)}this._containerEl?.remove(),this._containerEl=void 0,this._currentProps=void 0}}destroy(){this.cleanup(),this._player=void 0}log(e,t="",...i){if(this.debug){const o=`${n.name} | ${t} ${e.message}`;console.log(o,...i)}(0,o.logError)(e)}constructor(e,t=!1){this._currentProps=void 0,this._debug=!1,this._player=void 0,this._cleanupFn=void 0,this._containerEl=void 0,this._componentInitiator=void 0,this._player=e,this._debug=t}}n.slotId="upcoming-live-subscribe-button",n.getUpcomingLiveViewType=e=>void 0===e.live_start_time||e.live_start_time<Math.ceil(Date.now()/1e3)?"expired":"default"},122593:(e,t,i)=>{"use strict";function o(e){return Boolean(e.owner_id&&e.id&&"upcoming"===e.live_status&&void 0!==e.live_notify)}i.d(t,{canShowSubscribeButton:()=>o})},186938:(e,t,i)=>{"use strict";i.d(t,{UpcomingLiveSubscribeButtonManager:()=>r.UpcomingLiveSubscribeButtonManager,canShowSubscribeButton:()=>n.canShowSubscribeButton,isSubscribeButtonToggleEnabled:()=>a.isSubscribeButtonToggleEnabled,showSnackbar:()=>o.showSnackbar});var o=i(911578),r=(i(375404),i(273455)),n=i(122593),a=i(146141)},146141:(e,t,i)=>{"use strict";i.d(t,{isSubscribeButtonToggleEnabled:()=>n});var o=i(635007);function r(e){if(e){const t=function(e){try{return new URL(e).hostname}catch(e){return""}}(e);return(0,o.isSportSubdomain)()||(0,o.isSportSubdomain)(t)}return(0,o.isSportSubdomain)()}function n({userEnv:e,platform:t,video:i}){let o=!1,n=!1;if("vk"===t?(o=e.partConfigEnabled("frontend.video_sub_btn_all")||e.isToggleEnabled("video_sub_btn_all"),n=e.partConfigEnabled("frontend.video_sub_btn_sport")||e.isToggleEnabled("video_sub_btn_sport")):(o=e.partConfigEnabled("frontend.video_sub_btn_all_mvk")||e.isToggleEnabled("video_sub_btn_all_mvk"),n=e.partConfigEnabled("frontend.video_sub_btn_sport_mvk")||e.isToggleEnabled("video_sub_btn_sport_mvk")),o)return!0;if(!o&&n){return r(i?.direct_url??i?.share_url??"")}return!1}},911578:(e,t,i)=>{"use strict";i.d(t,{showSnackbar:()=>n});var o=i(474848),r=i(115629);const n=(e,{snackbarText:t})=>{e.show({before:{content:(0,o.jsx)(r.Icon24NotificationOutline,{})},text:t,duration:1e4})}},375404:(e,t,i)=>{"use strict";i.d(t,{upcomingLiveSubscriptionButtonInitiator:()=>l});var o=i(474848),r=i(205338),n=i(865708),a=i(220208),s=i(132028),c=i(593049);const l=(e,t,i)=>{const l=document.createElement("div");e.appendChild(l);const d=(0,r.createRoot)(e);return d.render((0,o.jsx)(n.AppRootProvider,{platform:a.Platform.VKCOM,children:i?(0,o.jsx)(s.DIProvider,{instance:i,children:(0,o.jsx)(c.UpcomingLiveSubscriptionButtonWidget,{...t})}):(0,o.jsx)(c.UpcomingLiveSubscriptionButtonWidget,{...t})})),()=>{d.unmount(),l.remove()}}},349184:(e,t,i)=>{"use strict";i.d(t,{VKSPORT_SUBDOMAIN:()=>o});const o="vksport"},635007:(e,t,i)=>{"use strict";i.d(t,{isSportSubdomain:()=>r});var o=i(349184);function r(e){return(e??window.location.hostname).includes(o.VKSPORT_SUBDOMAIN)}},813850:(e,t,i)=>{"use strict";i.d(t,{createLoginClient:()=>n});var o=i(940541),r=i(367375);function n(e){let t={...(0,r.getDefaultLoginConfig)(),...e};return{login:(e,i,r={},n=!1,a={})=>{const s={...t,...r};return(0,o.cachedLogin)(e,i,s,n,a)},setLoginConfig:e=>{t={...t,...e}}}}},238054:(e,t,i)=>{"use strict";i.d(t,{API_ERROR_APP_AUTH:()=>s,API_ERROR_AUTH:()=>o,API_ERROR_AUTH_ANONYMOUS_TOKEN_HAS_EXPIRED:()=>l,API_ERROR_CAPTCHA:()=>a,API_ERROR_CUA_2_CONFIRMATION_REQUIRED:()=>d,API_ERROR_FLOOD:()=>n,API_ERROR_RATE_LIMIT:()=>c,API_ERROR_TOO_MANY:()=>r});const o=5,r=6,n=9,a=14,s=28,c=29,l=1114,d=11500},27919:(e,t,i)=>{"use strict";i.d(t,{PendingTask:()=>o});class o{constructor(){this.get=()=>this.promise,this.resolve=e=>this.resolveHandler(e),this.reject=e=>this.rejectHandler(e),this.promise=new Promise(((e,t)=>{this.resolveHandler=e,this.rejectHandler=t}))}}},910981:(e,t,i)=>{"use strict";i.d(t,{RequestTask:()=>r});var o=i(975499);class r{setAccessToken(e){this.bodyParams.access_token=e}setGrouping(e){this.grouping=e}setParams(e){this.methodParams=e}canGroupInExecute(){return!this.method.includes("execute")&&(!!this.apiConfig.accessToken&&(!this.methodParams.v&&(!1!==this.grouping&&(void 0===this.fetchOptions.method&&(void 0===this.fetchOptions.headers&&(!this.method.startsWith("cua.")&&void 0===this.fetchOptions.signal))))))}toString(){const e={};return"object"==typeof this.methodParams&&Object.keys(this.methodParams).forEach((t=>{const i=this.methodParams[t];null!=i&&(e[t]="object"==typeof i?String(i):i)})),`API.${this.method}(${JSON.stringify(e)})`}constructor(e,t,i={},r={},n={}){this.resolve=()=>{},this.reject=()=>{},this.method=e,this.methodParams=t,this.fetchOptions=n,this.overrideApiConfig=r,this.apiConfig=Object.assign({},i,r),this.grouping=this.apiConfig.grouping,this.queryParams=(0,o.getApiQueryParams)(this.apiConfig),this.apiConfig.captureAsyncStacktrace&&(this.asyncBaseError=new Error("Async error"));const a=(0,o.getApiBodyParams)(this.apiConfig);this.bodyParams=Object.assign({},t,a),this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}},502463:(e,t,i)=>{"use strict";i.d(t,{Retries:()=>r});class o{constructor(e=1/0,t=()=>{}){this.tries=0,this.increment=()=>{this.tries++},this.get=()=>this.tries,this.isExceeded=()=>this.tries>=this.maxTries,this.maxTries=e,this.destroy=t}}class r{constructor(){this.retries=new Map,this.get=e=>this.retries.get(e),this.create=(e,t)=>(this.retries.set(e,new o(t,(()=>{this.delete(e)}))),this.retries.get(e)),this.delete=e=>{this.retries.delete(e)}}}},244404:(e,t,i)=>{"use strict";i.d(t,{Storage:()=>o});class o{}o.setItemToStorage=(e,t)=>{try{localStorage.setItem(e,t)}catch(e){}},o.getItemFromStorage=e=>{try{return localStorage.getItem(e)}catch(e){}},o.removeItemFromStorage=e=>{try{localStorage.removeItem(e)}catch(e){}}},982514:(e,t,i)=>{"use strict";i.d(t,{getApiConfig:()=>r,setApiConfig:()=>n});let o={domain:"api.vk.com",maxRetries:5,maxLoginRetries:5,grouping:!0};function r(){return o}function n(e){e=Object.assign({},o,e),o=e}},182879:(e,t,i)=>{"use strict";i.d(t,{API_VERSION:()=>o});const o="5.131"},738150:(e,t,i)=>{"use strict";i.d(t,{api:()=>I,apiBeacon:()=>D,upload:()=>L});var o=i(238054),r=i(27919),n=i(910981),a=i(502463),s=i(68123),c=i(341072),l=i(754589),d=i(626287),u=i(982514),_=i(975499),p=i(548604);const m=new a.Retries,g=new a.Retries;let v=null,f=null,y=null;const E=25,A=Math.floor(.2*E),S=new Map,b=[],T=[];function I(e,t,i={},o={}){const r=window?.vk?.pe["frontend.web_statlogs_transport"]?k:C,a=new n.RequestTask(e,t,(0,u.getApiConfig)(),i,o);if(a.apiConfig.adhoc&&r===k){a.canGroupInExecute()||console.warn("adhoc tasks must be groupable");const e=window.setTimeout((()=>{r(b,i,o,a.apiConfig.enableForks)}),a.apiConfig.adhoc.timeout);return S.set(a,e),T.push(a),a.promise}return a.canGroupInExecute()?(b.push(a),y&&window.clearTimeout(y),y=window.setTimeout((()=>{r(b,i,o,a.apiConfig.enableForks)}),0)):(a.setGrouping(!1),O(a)),a.promise}async function C(e,t,i={},o){if(1===e.length){const t=e.shift();O(t),t.setGrouping(!1)}else{const r=[],a=[],s=[];for(let t=0;t<e.length;t+=1){if(!e[t].canGroupInExecute())continue;const i=e.splice(t,1)[0];if(t-=1,r.push(i),o&&0!==e.length&&(a.push(`'${i.method}': fork(${i})`),s.push(`wait(forks['${i.method}'])`)),r.length>=25)break}let c=`return [${r.join(",")}];`;if(o){const e=r[r.length-1];c=`\n        var forks = { ${a.join(",")} };\n\n        return [${s.join(",")},${e}];\n      `}const l=new n.RequestTask("execute",{code:c},(0,u.getApiConfig)(),t,i);l.setGrouping(!0),O(l);try{const e=await l.promise;let t=0;e.response.forEach(((i,o)=>{!1===i?((0,_.rejectWithApiError)(r[o],{type:d.APIErrorType.API_ERROR,error:e.execute_errors[t]}),t+=1):r[o].resolve(i)}))}catch(e){r.forEach((t=>(0,_.rejectWithApiError)(t,e)))}}e.length>0&&window.setTimeout((()=>C(e,t,i,o)),1e3)}async function k(e,t,i={},o){if(1===e.length&&0===T.length){const t=e.shift();O(t),t.setGrouping(!1)}else{const r=[],a=[];let s=E;const c=[],l=[];for(let t=0;t<T.length&&!(c.length>=A);t+=1){if(!T[t].canGroupInExecute())continue;const i=T.splice(t,1)[0];t-=1,s-=1,clearTimeout(S.get(i)),S.delete(i),c.push(i),o&&0!==e.length&&(r.push(`'${i.method}': fork(${i})`),a.push(`wait(forks['${i.method}'])`))}for(let t=0;t<e.length&&0!==s;t+=1){if(!e[t].canGroupInExecute())continue;const i=e.splice(t,1)[0];t-=1,s-=1,l.push(i),o&&0!==e.length&&(r.push(`'${i.method}': fork(${i})`),a.push(`wait(forks['${i.method}'])`))}const p=[...l,...c];let m=`return [${p.join(",")}];`;if(o){const e=p[p.length-1];m=`\n        var forks = { ${r.join(",")} };\n\n        return [${a.join(",")},${e}];\n      `}const g=new n.RequestTask("execute",{code:m},(0,u.getApiConfig)(),t,i);g.setGrouping(!0),O(g);try{const e=await g.promise;let t=0;e.response.forEach(((i,o)=>{!1===i?((0,_.rejectWithApiError)(p[o],{type:d.APIErrorType.API_ERROR,error:e.execute_errors[t]}),t+=1):p[o].resolve(i)}))}catch(e){p.forEach((t=>(0,_.rejectWithApiError)(t,e)))}}e.length>0&&window.setTimeout((()=>{k(e,t,i,o)}),1e3)}function P(e){try{return window.localStorage?.getItem(e)}catch(e){return null}}async function O(e){const t=e.methodParams.captcha_sid,i=e.methodParams.session;(v&&v.sid!==t||f&&f.session!==i)&&(0,_.rejectWithApiError)(e,{type:d.APIErrorType.API_ERROR,error:{error_code:0,error_msg:"Ddos limit exceeded",error_text:"Ddos limit exceeded"}});const{domain:n}=e.apiConfig,a=(0,s.makeParams)(e.queryParams),u=`https://${n}/method/${e.method}?${a}`,y=Object.assign({[c.CUA_STATE_PARAM]:(P(c.STORAGE_CUA_STATE)||"").trim()||void 0,[c.CUA_SESSION_PARAM]:i||void 0},e.methodParams,e.bodyParams),E=(0,_.getRequestHash)(u,e.methodParams),A=m.get(E)||m.create(E,e.apiConfig.maxRetries),S=g.get(E)||g.create(E,e.apiConfig.maxLoginRetries);try{await(0,l.waitTimeExp)(A.get());const n=await(0,s.corsRequest)(u,y,e.fetchOptions);if(e.apiConfig.challenge?.(n))return void setTimeout((()=>{(0,_.rejectWithApiError)(e,{type:d.APIErrorType.API_ERROR,error:{error_code:0,error_msg:"Unknown",error_text:"Unknown"}})}),1e4);const a=await n.json();if(void 0!==a.response)return g.delete(E),m.delete(E),v&&v.sid===t&&(v.task?.resolve(void 0),v=null,e.apiConfig.onCaptchaSuccess?.()),f&&f.session===i&&(f.task?.resolve(void 0),f=null,e.apiConfig.onCuaSuccess?.()),a.execute_errors?void e.resolve({response:a.response||[],execute_errors:a.execute_errors}):void(e.grouping?e.resolve({response:a.response}):e.resolve(a.response));const c=a.error;if(!c)return m.delete(E),g.delete(E),void(0,_.rejectWithApiError)(e,{type:d.APIErrorType.API_ERROR,error:{error_code:0,error_msg:"Unknown",error_text:"Unknown"}});if(e.apiConfig.onCaptcha&&c?.error_code===o.API_ERROR_CAPTCHA)return void async function(e,t,i){if(!t.apiConfig.onCaptcha)return;const{captcha_sid:o,captcha_img:n,captcha_height:a,captcha_width:s,captcha_attempt:c,captcha_ts:l,is_refresh_enabled:u,is_sound_captcha_available:_,captcha_track:p,is_enabled_vkui:m,uiux_changes:g,redirect_uri:f}=e;if(v){if(v.sid!==i)return await v.task.get(),void await O(t);{const e=new r.PendingTask;e.get().then(v.task.resolve).catch(v.task.reject),v={sid:o,task:e}}}else v={sid:o,task:new r.PendingTask};try{const e=await t.apiConfig.onCaptcha({captcha_sid:o,captcha_img:n,captcha_height:a,captcha_width:s,is_refresh_enabled:u,is_sound_captcha_available:_,captcha_track:p,is_enabled_vkui:m,uiux_changes:g,redirect_uri:f}),i={captcha_ts:l,captcha_attempt:c},r=Object.assign({},t.methodParams,e,i);t.setParams(r),O(t)}catch(e){v=null,t.reject({type:d.APIErrorType.API_ERROR,error:e})}}(c,e,t);if(v&&v.sid===t&&(v.task?.resolve(void 0),v=null,e.apiConfig.onCaptchaSuccess?.()),e.apiConfig.onCua&&c?.error_code===o.API_ERROR_CUA_2_CONFIRMATION_REQUIRED)return void async function(e,t){if(!t.apiConfig.onCua)return;const{cua_session:i}=e;if(f){if(f.session!==i)return await f.task.get(),void await O(t);{const e=new r.PendingTask;e.get().then(f.task.resolve).catch(f.task.reject),f={session:i,task:e}}}else f={session:i,task:new r.PendingTask};try{const e=await t.apiConfig.onCua({cua_session:i}),o=Object.assign({},t.methodParams,e);t.setParams(o),O(t)}catch(e){f=null,t.reject({type:d.APIErrorType.CUA_ERROR,error:e})}}(c,e);if(f&&f.session===t&&(f.task?.resolve(void 0),f=null,e.apiConfig.onCuaSuccess?.()),e.apiConfig.onTokenExpired&&function(e,t){const{error_code:i,error_msg:r}=e;return!(t.overrideApiConfig?.accessToken||i!==o.API_ERROR_AUTH_ANONYMOUS_TOKEN_HAS_EXPIRED&&(i!==o.API_ERROR_AUTH&&i!==o.API_ERROR_APP_AUTH||r.endsWith("method is unavailable with service token.")||r.endsWith("method is unavailable with anonymous token.")))}(c,e)){return void(await M(S,E,e,c)&&(A.increment(),O(e)))}if(A.isExceeded())return m.delete(E),g.delete(E),void(0,_.rejectWithApiError)(e,{type:d.APIErrorType.API_ERROR,error:{error_code:c.error_code,error_msg:c.error_msg??"Too many requests",error_text:c.error_text}});if((0,_.isTooManyRequestsErrorType)(c.error_code))return A.increment(),void O(e);m.delete(E),g.delete(E),(0,_.rejectWithApiError)(e,{type:d.APIErrorType.API_ERROR,error:a.error})}catch(i){return v&&v.sid===t&&(v=null,e.apiConfig.onCaptchaSuccess?.()),(0,p.isRequestAbortError)(i)||A.isExceeded()?(m.delete(E),g.delete(E),void e.reject({type:d.APIErrorType.NETWORK_ERROR,error:i})):(A.increment(),void O(e))}}async function M(e,t,i,r){if(!i.apiConfig.onTokenExpired)throw Error("Should invoke reLogin only if onTokenExpired is set");if(e.isExceeded())return m.delete(t),g.delete(t),(0,_.rejectWithApiError)(i,{type:d.APIErrorType.API_ERROR,error:{error_code:r.error_code,error_msg:"Maximum of login retries exceeded",error_text:r.error_text?`${r.error_msg}; ${r.error_text}`:r.error_msg}}),!1;try{e.increment();const t=await i.apiConfig.onTokenExpired();(0,u.setApiConfig)({accessToken:t}),i.setAccessToken(t)}catch(n){return"login_error"===n.type&&"captcha"===n.error?((0,_.rejectWithApiError)(i,{type:d.APIErrorType.API_ERROR,error:{error_code:o.API_ERROR_CAPTCHA,error_msg:"Should solve captcha",error_text:"Should solve captcha"}}),!1):(await(0,l.waitTimeExp)(e.get()),await M(e,t,i,r))}return!0}async function L(e,t){return(await fetch(e,{method:"POST",body:t,mode:"cors"})).json()}function D(e,t,i){const o=new n.RequestTask(e,t,(0,u.getApiConfig)(),i),{domain:r}=o.apiConfig,a=(0,s.makeParams)(o.queryParams),c=`https://${r}/method/${o.method}?${a}`,l=Object.assign({},o.methodParams,o.bodyParams);return navigator.sendBeacon(c,(0,s.toFormData)(l))}},626287:(e,t,i)=>{"use strict";i.d(t,{APIErrorType:()=>o});var o=function(e){return e.API_ERROR="api_error",e.NETWORK_ERROR="network_error",e.CUA_ERROR="cua_error",e}({})},975499:(e,t,i)=>{"use strict";i.d(t,{getApiBodyParams:()=>s,getApiQueryParams:()=>a,getRequestHash:()=>c,isTooManyRequestsErrorType:()=>l,rejectWithApiError:()=>d});var o=i(238054),r=i(68123),n=i(182879);const a=e=>{const t={v:e.version||n.API_VERSION};return e.appId&&(t.client_id=e.appId),t},s=e=>({access_token:e.accessToken}),c=(e,t={})=>`${e}-${(0,r.makeParams)(Object.assign({},t))}`,l=e=>e===o.API_ERROR_RATE_LIMIT||e===o.API_ERROR_FLOOD||e===o.API_ERROR_TOO_MANY,d=(e,t)=>{if(!e.apiConfig.throwFullErrors)return void e.reject(t);const i=new Error("Api request failed",e.asyncBaseError?{cause:e.asyncBaseError}:void 0);Object.entries(t).forEach((([e,t])=>{i[e]=t})),e.reject(i)}},341072:(e,t,i)=>{"use strict";i.d(t,{CUA_SESSION_PARAM:()=>n,CUA_STATE_PARAM:()=>r,STORAGE_CUA_STATE:()=>o});const o="cua_state",r="cua_state",n="cua_session"},940541:(e,t,i)=>{"use strict";i.d(t,{cachedLogin:()=>c});var o=i(502463),r=i(965421);const n=new o.Retries,a=new Map,s=new Map,c=function(e,t,i={},o=!1,c={}){const l=`${`${i.appId}:${e}:login:auth`}--request`,d=function(e){const t=a.get(e);if(t)return t}(l);if(d)return d.get();const u=(_=l,!s.get(_)||o);var _;const p=n.get(l)||n.create(l,i.maxRetries),m=(0,r.pureLogin)(e,t,i,u,c,p);return function(e,t){a.set(e,t)}(l,m),m.get().then((e=>(u&&(e=>{s.set(e,!0)})(l),e))).finally((()=>{!function(e){a.delete(e)}(l)}))}},430186:(e,t,i)=>{"use strict";i.d(t,{AUTH_VERSION:()=>n,CACHE_KEY_REG_EXP:()=>o,ERROR_TRY_LATER:()=>r});const o=/\d+:[a-zA-Z_]+:login:auth/,r="check result failure",n="1"},367375:(e,t,i)=>{"use strict";i.d(t,{getDefaultLoginConfig:()=>n,login:()=>c,removeLoginCache:()=>l,setLoginConfig:()=>s});var o=i(978742),r=i(940541);const n=()=>({domain:"login.vk.com",apiDomain:"oauth.vk.com",maxRetries:3});let a={...n()};function s(e){e=Object.assign({},a,e),a=e}function c(e,t,i={},o=!1,n={}){const s={...a,...i};return(0,r.cachedLogin)(e,t,s,o,n)}function l(e,t){let i=a;t&&(i=Object.assign({},a,t)),(0,o.removeLoginCache)(e,i)}},965421:(e,t,i)=>{"use strict";i.d(t,{pureLogin:()=>u});var o=i(27919),r=i(244404),n=i(68123),a=i(754589),s=i(430186),c=i(978742),l=i(548604),d=i(238054);function u(e,t,i={},u=!1,_={},p=null){let m=!1;const g=`${i.appId}:${e}:login:auth`,v=`${g}--request`,f=new o.PendingTask;return async function e(t,o){let y;await(0,c.waitRequestFromOtherTabs)(v),await(0,a.waitTimeExp)(p?.get()??0),i.disableSaveToken||(y=(0,c.loadCache)(g));const E=o&&"isApiOauthAnonymEnabled"in o&&o.isApiOauthAnonymEnabled&&"get_anonym_token"===t;if(E&&y?.access_token&&y?.expires&&(0,c.checkAuthExpires)(Number(y.expires)))return void f.resolve(y);if(!u&&y?.expires&&(0,c.checkAuthExpires)(Number(y.expires)))return r.Storage.removeItemFromStorage(v),void f.resolve(y);const{onCaptcha:A,useAPIGateWay:S}=i,b={};y?.access_token&&(S?b.token=y.access_token:b.access_token=y.access_token);const T=(0,c.getRequestUrl)(t,i,E),I=(0,c.getLoginParams)(i),C=Object.assign({},o,I,b);(0,c.removeLoginCache)(t,i);try{const a=await(0,n.corsRequest)(T,C,_),l=await a.json();let u=(0,c.mapLoginResponse)(l,i,E);if("error"in u&&(u=(0,c.getWafCaptchaParams)(u)),"captcha"!==u.type&&m&&(m=!0,i.onCaptchaSuccess?.()),"error"===u.type)return u.error_info===s.ERROR_TRY_LATER?p?.isExceeded()?(p?.destroy(),void f.reject({type:"login_error",error:{error_code:d.API_ERROR_TOO_MANY,error_msg:"Maximum of login retries exceeded"}})):(p?.increment(),void e(t,o)):(p?.destroy(),void f.reject({type:"login_error",error:u.error_info,errorCode:u.error_code??"unknown_error"}));if("captcha"===u.type){if(!A)return p?.destroy(),void f.reject({type:"login_error",error:"captcha"});const{captcha_sid:i,captcha_img:r,captcha_type:n,captcha_height:a,captcha_width:s,captcha_ts:c,captcha_attempt:l,is_refresh_enabled:d,is_sound_captcha_available:_,captcha_track:g,is_enabled_vkui:v,uiux_changes:y,redirect_uri:E}=u;try{m=!0;const u=await A({captcha_sid:i,captcha_img:r,captcha_type:n,captcha_height:a,captcha_width:s,is_refresh_enabled:d,is_sound_captcha_available:_,captcha_track:g,is_enabled_vkui:v,uiux_changes:y,redirect_uri:E}),p={captcha_ts:c,captcha_attempt:l};e(t,Object.assign({},o,u,p))}catch(e){p?.destroy(),f.reject({type:"login_error",error:"captcha"})}return}const y=u.data.expires||1/0;i.disableSaveToken||r.Storage.setItemToStorage(g,JSON.stringify({...u.data,expires:y})),r.Storage.removeItemFromStorage(v),p?.destroy(),f.resolve(u.data)}catch(i){return(0,l.isRequestAbortError)(i)||p?.isExceeded()?(p?.destroy(),void f.reject({type:"network_error",error:i})):(p?.increment(),void e(t,o))}}(e,t),f}},978742:(e,t,i)=>{"use strict";i.d(t,{checkAuthExpires:()=>p,getLoginParams:()=>d,getRequestUrl:()=>g,getWafCaptchaParams:()=>m,loadCache:()=>_,mapLoginResponse:()=>v,removeLoginCache:()=>f,waitRequestFromOtherTabs:()=>u});var o=i(238054),r=i(244404),n=i(754589),a=i(68123),s=i(982514),c=i(975499),l=i(430186);const d=e=>{if(e.useAPIGateWay){return{app_id:(0,s.getApiConfig)().appId}}return{version:e.version||l.AUTH_VERSION,app_id:e.appId}},u=e=>new Promise((t=>{null===r.Storage.getItemFromStorage(e)?(r.Storage.setItemToStorage(e,"1"),t()):setTimeout(t,(0,n.getRandomWaitTime)())})),_=e=>{let t=r.Storage.getItemFromStorage(e),i={};if(t)try{i=JSON.parse(t)}catch(e){}return i},p=e=>1e3*e-Date.now()>=n.ONE_MINUTE_MS,m=e=>{let t;const{error_code:i,error_msg:r}=e.error;switch(i){case o.API_ERROR_CAPTCHA:const{captcha_sid:n,captcha_img:a,captcha_width:s,captcha_height:c,captcha_attempt:d,captcha_ts:u,is_refresh_enabled:_,is_sound_captcha_available:p,captcha_track:m,is_enabled_vkui:g,uiux_changes:v,redirect_uri:f}=e.error;t={type:"captcha",captcha_type:"regular",captcha_sid:n,captcha_img:a,captcha_track:m,captcha_height:c,captcha_width:s,captcha_attempt:d,captcha_ts:u,is_refresh_enabled:_,is_sound_captcha_available:p,is_enabled_vkui:g,uiux_changes:v,redirect_uri:f};break;case o.API_ERROR_TOO_MANY:t={type:"error",error_info:l.ERROR_TRY_LATER,error_code:String(i)};break;default:t={type:"error",error_info:r,error_code:String(i)}}return t},g=(e,{apiDomain:t,domain:i,path:o="",useAPIGateWay:r},n)=>{if(n)return`https://${t}/get_anonym_token`;if(r){const i=(0,s.getApiConfig)();return`https://${t}/method/${e}?${(0,a.makeParams)((0,c.getApiQueryParams)(i))}`}return`https://${i}/${o}?act=${e}`},v=(e,{useAPIGateWay:t},i)=>{return t?(({response:e})=>({type:"okay",data:{...e,access_token:e.token}}))(e):i?"error"in(o=e)?{type:"error",error_code:o.error,error_info:o.error_description}:{type:"okay",data:{access_token:o.token,expires:o.expired_at}}:(e=>{if(!Array.isArray(e))return e;const[t]=e;return{type:"okay",data:t}})(e);var o};function f(e,t){if(!e||!t?.appId)return void Object.keys(localStorage).forEach((e=>{l.CACHE_KEY_REG_EXP.test(e)&&r.Storage.removeItemFromStorage(e)}));const i=`${t.appId}:${e}:login:auth`;r.Storage.removeItemFromStorage(i)}},548604:(e,t,i)=>{"use strict";i.d(t,{isRequestAbortError:()=>o});const o=e=>e instanceof DOMException&&(20===e.code||"AbortError"===e.name)},68123:(e,t,i)=>{"use strict";i.d(t,{corsRequest:()=>s,makeParams:()=>n,toFormData:()=>a});var o=i(341072);const r=[o.CUA_STATE_PARAM,o.CUA_SESSION_PARAM];function n(e){return Object.keys(e).map((t=>{let i=e[t];return t=encodeURIComponent(t||""),i=encodeURIComponent(void 0===i?"":i),r.includes(t)&&!i?null:`${t}=${i}`})).filter(Boolean).join("&")}function a(e){const t=new FormData;for(const i in e)e.hasOwnProperty(i)&&("string"==typeof e[i]?t.append(i,e[i]):t.append(i,JSON.stringify(e[i])));return t}function s(e,t,i={}){const o=n(t);return fetch(e,{method:"POST",body:o,mode:"cors",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},...i})}},754589:(e,t,i)=>{"use strict";i.d(t,{ONE_MINUTE_MS:()=>o,getRandomWaitTime:()=>r,waitTimeExp:()=>n});const o=6e4,r=(e=500,t=1500)=>window.FORCED_API_WAIT_TIME?window.FORCED_API_WAIT_TIME:~~(Math.random()*(t-e+1)+e),n=e=>{return 0===e?Promise.resolve():(t=(e=>{if(0===e)return 0;if(window.FORCED_API_WAIT_TIME)return window.FORCED_API_WAIT_TIME;const t=Math.random(),i=100*Math.pow(2,e)/2;return Math.min(i+i*t,1e4)})(e),new Promise((e=>{setTimeout((()=>e()),t)})));var t}},758140:(e,t,i)=>{"use strict";i.d(t,{HTMLAudioNode:()=>E,ensureHLS:()=>I});var o=i(434518),r=i(763812),n=i(584053),a=i(411683),s=i(905332),c=(0,r._)("_emitter"),l=(0,r._)("_logger"),d=(0,r._)("_loaded"),u=(0,r._)("_hlsInstance"),_=(0,r._)("_preparing"),p=(0,r._)("_playing"),m=(0,r._)("_paused"),g=(0,r._)("_setUrlAsNative"),v=(0,r._)("_setUrlAsHls"),f=(0,r._)("_destroyHls"),y=(0,r._)("_addEventListeners");class E{get events(){return(0,o._)(this,c)[c].listenable}get playing(){return(0,o._)(this,p)[p]}get paused(){return(0,o._)(this,m)[m]}get loaded(){return(0,o._)(this,d)[d]}get error(){return this.audioElement.error||null}get played(){return this.audioElement.played}get duration(){return isFinite(this.audioElement.duration)?this.audioElement.duration:0}get readyState(){return this.audioElement.readyState}get currentTime(){return this.audioElement.currentTime}set currentTime(e){this.audioElement.currentTime=Math.max(0,e)}get volume(){return this.audioElement.volume}set volume(e){this.audioElement.volume=Math.max(0,Math.min(1,e))}set playbackRate(e){this.audioElement.playbackRate=e}get currentProgress(){return isNaN(this.audioElement.duration)?0:Math.max(0,Math.min(1,this.audioElement.currentTime/this.audioElement.duration))}get currentBuffered(){return this.audioElement.buffered&&0!==this.audioElement.buffered.length?Math.min(1,this.audioElement.buffered.end(0)/this.audioElement.duration):0}get url(){const e=this.audioElement.firstElementChild,t=(0,o._)(this,u)[u]?.media?.src,i=e?.src;return t||i||null}get preparing(){return(0,o._)(this,_)[_]?(0,o._)(this,_)[_]:Promise.resolve()}async setUrl(e){(0,o._)(this,_)[_]=function(e){return!s.SHOULD_USE_NATIVE_HLS&&C&&function(e){return e.includes(".m3u8")}(e)}(e)?(0,o._)(this,v)[v](e):(0,o._)(this,g)[g](e),await(0,o._)(this,_)[_],(0,o._)(this,_)[_]=null}async play(e){e&&await this.setUrl(e);try{return await(0,a.wrapAudioPlay)(this.audioElement)}catch(e){switch(e.code){case e.NOT_SUPPORTED_ERR:case e.ABORT_ERR:break;default:throw e}}}pause(){this.audioElement.pause()}stop(){this.audioElement.pause(),this.audioElement.currentTime=0}constructor(e){Object.defineProperty(this,g,{value:A}),Object.defineProperty(this,v,{value:S}),Object.defineProperty(this,f,{value:b}),Object.defineProperty(this,y,{value:T}),Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,_,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),Object.defineProperty(this,m,{writable:!0,value:void 0}),(0,o._)(this,l)[l]=null,(0,o._)(this,d)[d]=!1,(0,o._)(this,u)[u]=null,(0,o._)(this,_)[_]=null,(0,o._)(this,p)[p]=!1,(0,o._)(this,m)[m]=!1,(0,o._)(this,c)[c]=new n.Emitter,(0,o._)(this,l)[l]=e.logger??null,this.audioElement=new Audio,this.audioElement.appendChild(document.createElement("source")),this.audioElement.crossOrigin="anonymous",this.audioElement.preload="auto",this.volume=e.volume,(0,o._)(this,y)[y](),e?.url&&(this.setUrl(e.url),this.preparing?.then((()=>{this.audioElement.load()}))),(0,o._)(this,l)[l]?.debug("HLSAudioNode created with options:",e)}}async function A(e){(0,o._)(this,f)[f]();const t=this.audioElement.firstElementChild;t.src=e,t.type="application/vnd.apple.mpegurl",this.audioElement.load()}async function S(e){const t=await I();(0,o._)(this,f)[f]();const i=new t({debug:!1,maxBufferHole:3,nudgeOffset:.5,nudgeMaxRetry:5,maxFragLookUpTolerance:.2});i.on(t.Events.BUFFER_EOS,(()=>{(0,o._)(this,d)[d]=!0})),i.on(t.Events.ERROR,((e,o)=>{o.details===t.ErrorDetails.BUFFER_STALLED_ERROR&&(i.stopLoad(),i.startLoad());const r={type:o.type,details:o.details,url:o.frag&&o.frag.url||o.context&&o.context.url,code:o.networkDetails?o.networkDetails.status:0};if(o.fatal)throw r})),i.loadSource(e),i.attachMedia(this.audioElement),(0,o._)(this,u)[u]=i}function b(){(0,o._)(this,u)[u]&&(0,o._)(this,u)[u].destroy(),(0,o._)(this,u)[u]=null}function T(){this.audioElement.addEventListener("play",(()=>{(0,o._)(this,p)[p]=!0,(0,o._)(this,m)[m]=!1,(0,o._)(this,c)[c].emit("play")})),this.audioElement.addEventListener("pause",(()=>{(0,o._)(this,p)[p]=!1,(0,o._)(this,m)[m]=!0,(0,o._)(this,c)[c].emit("pause")})),this.audioElement.addEventListener("ended",(()=>{(0,o._)(this,p)[p]=!1,(0,o._)(this,m)[m]=!1,(0,o._)(this,c)[c].emit("stop")})),this.audioElement.addEventListener("progress",(()=>{if(!(0,o._)(this,u)[u]){const e=this.audioElement.buffered;e.length&&Math.abs(e.end(e.length-1)-this.audioElement.duration)<1&&((0,o._)(this,d)[d]=!0)}})),this.audioElement.addEventListener("timeupdate",(()=>{(0,o._)(this,c)[c].emit("progress",this.currentProgress)})),this.audioElement.addEventListener("error",(e=>{(0,o._)(this,c)[c].emit("error",e.error)}))}async function I(){return(await Promise.all([i.e(8870),i.e("langs/web/hls_lib")]).then(i.bind(i,164945))).default}const C="function"==typeof window.MediaSource},497659:(e,t,i)=>{"use strict";i.d(t,{HTMLAudioPlayer:()=>N});var o=i(434518),r=i(763812),n=i(667656),a=i(345714),s=i(905332),c=i(758140),l=i(584053),d=(0,r._)("_context"),u=(0,r._)("_logger"),_=(0,r._)("_emitter"),p=(0,r._)("_currentNode"),m=(0,r._)("_nextNode"),g=(0,r._)("_audio"),v=(0,r._)("_progress"),f=(0,r._)("_freqUpdateInterval"),y=(0,r._)("_fadeVolumeInterval"),E=(0,r._)("_fadeVolumeWorker"),A=(0,r._)("_setNodeVolume"),S=(0,r._)("_handleNodeProgressUpdate"),b=(0,r._)("_handleNodeError"),T=(0,r._)("_createNode"),I=(0,r._)("_updateProgress"),C=(0,r._)("_updateVolume"),k=(0,r._)("_fadeVolume"),P=(0,r._)("_startFrequencyAnalise"),O=(0,r._)("_stopFrequencyAnalise"),M=(0,r._)("_setFadeVolumeInterval"),L=(0,r._)("_clearFadeVolumeInterval"),D=(0,r._)("_setupWorkerFadeVolumeInterval"),R=(0,r._)("_setupDefaultFadeVolumeInterval");class N{get events(){return(0,o._)(this,_)[_].listenable}get audio(){return(0,o._)(this,g)[g]}get playing(){return(0,o._)(this,p)[p].playing&&(0,o._)(this,p)[p].url!==s.SILENCE_AUDIO_URL}get paused(){return(0,o._)(this,p)[p].paused&&(0,o._)(this,p)[p].url!==s.SILENCE_AUDIO_URL}get volume(){return(0,o._)(this,p)[p].volume}get progress(){return(0,o._)(this,v)[v]}async play(e){this.audio&&await this.stop(),e.url===(0,o._)(this,m)[m].url&&([(0,o._)(this,p)[p],(0,o._)(this,m)[m]]=[(0,o._)(this,m)[m],(0,o._)(this,p)[p]]),(0,o._)(this,P)[P]();try{return await(0,o._)(this,p)[p].play(e.url),(0,o._)(this,g)[g]=e,(0,o._)(this,_)[_].emit("play",e),(0,o._)(this,u)[u].info("Audio playback started",{audio:e}),!0}catch(t){return(0,o._)(this,u)[u].error("Failed to start audio playback",{audio:e,error:t}),!1}}async pause(){const{audio:e,playing:t}=this;if(q(e),!t)return(0,o._)(this,u)[u].warn("Player is not in playing state",{audio:e}),!1;try{return(0,o._)(this,p)[p].pause(),(0,o._)(this,g)[g]=e,(0,o._)(this,_)[_].emit("pause",e),(0,o._)(this,u)[u].info("Audio playback paused",{audio:e}),!0}catch(t){return(0,o._)(this,u)[u].error("Failed to pause audio playback",{audio:e,error:t}),!1}}async resume(){const{audio:e,paused:t}=this;if(q(e),!t)return(0,o._)(this,u)[u].warn("Player is not in paused state",{audio:e}),!1;try{return await(0,o._)(this,p)[p].play(),(0,o._)(this,g)[g]=e,(0,o._)(this,_)[_].emit("resume",e),(0,o._)(this,u)[u].info("Audio playback resumed",{audio:e}),!0}catch(t){return(0,o._)(this,u)[u].error("Failed to resume audio playback",{audio:e,error:t}),!1}}async stop(){(0,o._)(this,O)[O]();const{audio:e}=this;q(e),(0,o._)(this,g)[g]=null,(0,o._)(this,I)[I](0),(0,o._)(this,_)[_].emit("stop",e),(0,o._)(this,u)[u].info("Audio playback stopped",{audio:e})}seek(e){const t=(0,o._)(this,p)[p];(0,o._)(this,p)[p].duration>0&&(0,o._)(this,p)[p].url!==s.SILENCE_AUDIO_URL?(0,o._)(this,p)[p].currentTime=(0,o._)(this,p)[p].duration*e:(0,o._)(this,u)[u].debug("Audio is not ready yet",{audio:t}),(0,o._)(this,I)[I](e),(0,o._)(this,_)[_].emit("seek",e),(0,o._)(this,u)[u].debug("Seeking audio to progress",{progress:e})}async setVolume(e,t){return t?.fadeTime?(0,o._)(this,k)[k](e,t.fadeTime):(0,o._)(this,C)[C](e)}async prefetch(e){if((0,o._)(this,m)[m]?.url!==e)try{(0,o._)(this,m)[m].setUrl(e),await(0,o._)(this,m)[m].preparing,(0,o._)(this,u)[u].debug("Audio prefetching completed",{url:e})}catch(t){(0,o._)(this,u)[u].error("Failed to prefetch audio",{url:e,error:t})}}constructor(e){Object.defineProperty(this,A,{value:x}),Object.defineProperty(this,S,{value:F}),Object.defineProperty(this,b,{value:U}),Object.defineProperty(this,T,{value:B}),Object.defineProperty(this,I,{value:V}),Object.defineProperty(this,C,{value:H}),Object.defineProperty(this,k,{value:j}),Object.defineProperty(this,P,{value:W}),Object.defineProperty(this,O,{value:G}),Object.defineProperty(this,M,{value:z}),Object.defineProperty(this,L,{value:K}),Object.defineProperty(this,D,{value:Y}),Object.defineProperty(this,R,{value:$}),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,_,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),Object.defineProperty(this,m,{writable:!0,value:void 0}),Object.defineProperty(this,g,{writable:!0,value:void 0}),Object.defineProperty(this,v,{writable:!0,value:void 0}),Object.defineProperty(this,f,{writable:!0,value:void 0}),Object.defineProperty(this,y,{writable:!0,value:void 0}),Object.defineProperty(this,E,{writable:!0,value:void 0}),(0,o._)(this,g)[g]=null,(0,o._)(this,v)[v]=0,(0,o._)(this,f)[f]=null,(0,o._)(this,y)[y]=null,(0,o._)(this,E)[E]=null,(0,o._)(this,d)[d]=e,(0,o._)(this,u)[u]=e.logger.child({extra:{module:"HTMLAudioPlayer",instance:this}}),(0,o._)(this,_)[_]=new l.Emitter,(0,o._)(this,p)[p]=(0,o._)(this,T)[T](),(0,o._)(this,m)[m]=(0,o._)(this,T)[T]()}}function x(e){(0,o._)(this,p)[p].volume=e}function F(e){(0,o._)(this,p)[p].url!==s.SILENCE_AUDIO_URL&&(0,o._)(this,I)[I](e)}function U(e){(0,o._)(this,u)[u].error("Audio node error",{error:e})}function B(){const e=new c.HTMLAudioNode({volume:1,logger:(0,o._)(this,u)[u]});return e.events.on("progress",(t=>{e===(0,o._)(this,p)[p]&&(0,o._)(this,S)[S](t)})),e.events.on("error",(t=>{e===(0,o._)(this,p)[p]&&(0,o._)(this,b)[b](t)})),e}function V(e){return(0,o._)(this,_)[_].emit("progress",e),(0,o._)(this,u)[u].debug("Progress changed",{progress:e}),e}function H(e){return(0,o._)(this,A)[A](e),(0,o._)(this,_)[_].emit("volumeChanged",e),(0,o._)(this,u)[u].debug("Volume changed",{volume:e}),e}async function j(e,t){e=Math.max(0,Math.min(1,e));const i=(0,o._)(this,p)[p];let r=0;if(t){const o=e-i.volume;r=o/(t/20||1)}else r=e<i.volume?s.FADE_OUT_STEP:s.FADE_IN_STEP;if(Math.abs(e-i.volume)<=s.VOLUME_EPSILON)return(0,o._)(this,M)[M](),e;let n=i.volume;return(0,o._)(this,M)[M]((()=>{if(!t&&r>0&&(r*=s.FADE_IN_ACCELERATION),n+=r,r<0?n<=e:n>=e)return(0,o._)(this,C)[C](e),void(0,o._)(this,M)[M]();this.setVolume(n)})),(0,o._)(this,u)[u].debug("Fading audio volume",{targetVolume:e,fadeTime:t}),e}function W(){(0,o._)(this,O)[O]();let e,t,i,r=s.INITIAL_FRAME_COUNTER;(0,o._)(this,f)[f]=setInterval((()=>{this.paused?e={amplitude:0,pitch:0,modulation:0,harmonics:0}:(r++,r>s.ANALYSIS_FRAME_SIZE&&(r=0,t=i,i=X(),t||(t=X())),t&&i&&(e={amplitude:(0,a.linearInterpolation)(r,t.amplitude,i.amplitude,s.ANALYSIS_FRAME_SIZE),pitch:(0,a.linearInterpolation)(r,t.pitch,i.pitch,s.ANALYSIS_FRAME_SIZE),modulation:(0,a.linearInterpolation)(r,t.modulation,i.modulation,s.ANALYSIS_FRAME_SIZE),harmonics:(0,a.linearInterpolation)(r,t.harmonics,i.harmonics,s.ANALYSIS_FRAME_SIZE)})),e&&(0,o._)(this,_)[_].emit("frequency",e)}),s.ANALYSIS_UPDATE_INTERVAL)}function G(){(0,o._)(this,f)[f]&&clearInterval((0,o._)(this,f)[f]),(0,o._)(this,_)[_].emit("frequency",{amplitude:0,pitch:0,modulation:0,harmonics:0})}function z(e){(0,o._)(this,L)[L](),e&&((0,o._)(this,E)[E]?(0,o._)(this,D)[D](e):(0,o._)(this,R)[R](e))}function K(){(0,o._)(this,E)[E]&&((0,o._)(this,E)[E].terminate(),(0,o._)(this,E)[E]=null),(0,o._)(this,y)[y]&&clearInterval((0,o._)(this,y)[y])}function Y(e){const t=new Blob(["\n        var interval;\n        onmessage = function(e) {\n          clearInterval(interval);\n          if (e.data == 'start') {\n            interval = setInterval(function() { postMessage({}); }, 20);\n          }\n        }\n      "]);try{(0,o._)(this,E)[E]=new Worker(window.URL.createObjectURL(t)),(0,o._)(this,E)[E].onmessage=e,(0,o._)(this,E)[E].postMessage("start")}catch(t){(0,o._)(this,u)[u].warn("Web worker not supported for fade volume interval, falling back to default interval",{error:t}),(0,o._)(this,R)[R](e)}}function $(e){(0,o._)(this,y)[y]=setInterval(e,s.FADE_INTERVAL_DURATION)}function q(e){if(!e)throw new Error("Playback process not found")}function X(){return{amplitude:(0,n.calcRandomNumber)(.7,1),pitch:(0,n.calcRandomNumber)(.55,.8),modulation:(0,n.calcRandomNumber)(.3,.55),harmonics:(0,n.calcRandomNumber)(.03,.45)}}},905332:(e,t,i)=>{"use strict";i.d(t,{ANALYSIS_FRAME_SIZE:()=>o,ANALYSIS_UPDATE_INTERVAL:()=>r,FADE_INTERVAL_DURATION:()=>l,FADE_IN_ACCELERATION:()=>a,FADE_IN_STEP:()=>c,FADE_OUT_STEP:()=>s,INITIAL_FRAME_COUNTER:()=>n,SHOULD_USE_NATIVE_HLS:()=>f,SILENCE_AUDIO_URL:()=>u,VOLUME_EPSILON:()=>d});const o=3,r=50,n=999,a=1.35,s=-.06,c=.001,l=60,d=.001,u="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA",_=window.navigator.userAgent.toLowerCase(),p=(_.match(/.+(?:me|ox|on|rv|it|era|opr|ie|edge)[\/: ]([\d.]+)/)||[0,"0"])[1],m=/edge/i.test(_)&&!/opera/i.test(_),g=!/chrome/i.test(_)&&/webkit|safari|khtml/i.test(_),v=parseInt(p?.split(".")?.[0]),f=(g||m&&v>11&&v<78)&&"function"==typeof window.MediaSource},667656:(e,t,i)=>{"use strict";function o(e,t){return Math.random()*(t-e)+e}i.d(t,{calcRandomNumber:()=>o})},345714:(e,t,i)=>{"use strict";function o(e,t,i,o){return i*(e/o)+t}i.d(t,{linearInterpolation:()=>o})},411683:(e,t,i)=>{"use strict";function o(e){try{return e.play()||Promise.resolve()}catch(e){return Promise.reject(e)}}i.d(t,{wrapAudioPlay:()=>o})},586785:(e,t,i)=>{"use strict";i.d(t,{BrowserNativeAudioPlayerFactory:()=>s});var o=i(331635),r=i(132028),n=i(527492),a=i(497659);class s extends n.NativeAudioPlayerFactory{create(e){return new a.HTMLAudioPlayer(e)}}s=(0,o.__decorate)([r.scope.platform()],s)},500926:(e,t,i)=>{"use strict";i.d(t,{registerBrowserPlugins:()=>n});var o=i(527492),r=i(586785);function n(e){e.replace(o.NativeAudioPlayerFactory,r.BrowserNativeAudioPlayerFactory)}},702130:(e,t,i)=>{"use strict";i.d(t,{AudioList:()=>d});var o=i(434518),r=i(763812),n=i(817834),a=i(350753),s=i(750915),c=(0,r._)("_fetchNextByAt"),l=(0,r._)("_fetchAtByNext");class d{async ensureAt(e){const t=this.ensureAbsIndex(e);let i=this.audioAt(t);return i||this.fetchAt(t,{prefetch:!0})}ensureAbsIndex(e){return(0,n.ensureAudioListAbsIndex)(this,e)}get maxIndex(){return this.length-1}getFetchAtIndexes(e,t){const{range:i=0}=t??{},o=(0,n.ensureAudioListAbsIndex)(this,e),r=Math.max(0,o-i),a=Math.min(this.length-1,o+i),s=new Array(a-r+1).fill(null).map(((e,t)=>r+t));return t?.prefetch?s.filter((e=>!this.audioAt(e))):s}async fetchNextByAt(e){return(0,o._)(this,c)[c](e)}async fetchAtByNext(e,t){return(0,o._)(this,l)[l](e,t)}findFirstUnfetchedIndex(){for(let e=0;e<this.length;e++){if(!this.audioAt(e))return e}return-1}assertFetchAtFetched(e,t){this.getFetchAtIndexes(e,t).forEach((e=>{if(!this.audioAt(e))throw new Error(`The contract was violated in the fetchAt method. Audio at index ${e} not fetched.`)}))}constructor(){Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0}),(0,o._)(this,c)[c]=(0,a.createLoopProtectedAsyncMethod)((async(e=1)=>{const t=this.findFirstUnfetchedIndex();if(t<0)return[];const i=e-1;return[await this.fetchAt(t,{range:i}),...(0,s.getAudioListContinuosSliceAudios)(this,t+1,t+1+i)]})),(0,o._)(this,l)[l]=(0,a.createLoopProtectedAsyncMethod)((async(e,{range:t=0}={})=>{const i=(0,n.ensureAudioListAbsIndex)(this,e),o=this.audioAt(i),r=i+t+1-this.length;if(o&&r<=0)return o;const[a]=await this.fetchNext(r);if(!a)throw new Error("fetchNext have not return audios");return a}))}}},91355:(e,t,i)=>{"use strict";i.d(t,{CombinedAudioList:()=>l});var o=i(434518),r=i(763812),n=i(327813),a=i(702130),s=i(663017),c=(0,r._)("_state");class l extends a.AudioList{get lists(){return(0,o._)(this,c)[c].lists}set lists(e){(0,n.runInAction)((()=>{(0,o._)(this,c)[c].lists=e}))}get length(){return this.lists.reduce(((e,t)=>e+t.length),0)}get isEmpty(){return this.lists.every((e=>e.isEmpty))}audioAt(e){const t=this.findItemLocation(e);return t?.list.audioAt(t.index)}async ensureAt(e){const t=this.ensureItemLocation(e);return t.list.ensureAt(t.index)}async fetchAt(e,t){const i=this.findItemLocation(e);if(!i)throw new Error("Audio not found at given index");return i.list.fetchAt(i.index,t)}fetchNext(e=1){return this.fetchNextByAt(e)}ensureItemLocation(e){const t=this.findItemLocation(e);if(!t)throw new Error("Item location for index not found");return t}findItemLocation(e){return(0,s.findItemLocation)(this.lists,this.ensureAbsIndex(e))}constructor(e){super(),Object.defineProperty(this,c,{writable:!0,value:void 0}),(0,o._)(this,c)[c]=(0,n.makeObservable)({lists:e?[...e]:[]},{lists:n.observable.shallow})}}},663017:(e,t,i)=>{"use strict";function o(e,t){const i=function(e){let t=0;for(const i of e)t+=i.length;return t}(e);if(t<0||t>i-1)return;let o=0;for(const i of e){const e=o+i.length;if(t<e)return{list:i,index:t-o};o=e}}i.d(t,{findItemLocation:()=>o})},350753:(e,t,i)=>{"use strict";function o(e,t={}){const{name:i}=t;let o=!1;return async(...t)=>{try{if(o)throw new Error("Async loop call detected"+(i?` for async ${i}`:""));o=!0;const r=e(...t);return r.finally((()=>{o=!1})),r}finally{o=!1}}}i.d(t,{createLoopProtectedAsyncMethod:()=>o})},817834:(e,t,i)=>{"use strict";i.d(t,{ensureAudioListAbsIndex:()=>n});var o=i(140462),r=i(120388);function n(e,t){const i=(0,o.indexAbs)(e.length,t);if(!(0,r.isValidAudioListAbsIndex)(e,i))throw new Error("Index is out of range");return i}},750915:(e,t,i)=>{"use strict";function o(e,t,i){const o=[];for(let r=t;r<i;r++){const t=e.audioAt(r);t&&o.push(t)}return o}i.d(t,{getAudioListContinuosSliceAudios:()=>o})},120388:(e,t,i)=>{"use strict";function o(e,t){return t>=0&&t<=e.length-1}i.d(t,{isValidAudioListAbsIndex:()=>o})},610774:(e,t,i)=>{"use strict";i.d(t,{AudioPlayer:()=>s});var o=i(434518),r=i(763812),n=(0,r._)("_context"),a=(0,r._)("_channels");class s{getChannel(e){return(0,o._)(this,a)[a][e]}constructor(e){Object.defineProperty(this,n,{writable:!0,value:void 0}),Object.defineProperty(this,a,{writable:!0,value:void 0}),(0,o._)(this,a)[a]=e.channels,(0,o._)(this,n)[n]=e.context}}},217906:(e,t,i)=>{"use strict";i.d(t,{AudioPlayerFactory:()=>_});var o=i(434518),r=i(763812),n=i(331635),a=i(132028),s=i(527492),c=i(730227),l=i(610774),d=i(714436),u=(0,r._)("_context");class _{createPlayer(e,t={}){return new l.AudioPlayer({context:(0,o._)(this,u)[u],...t,channels:e})}createChannel(e){return new d.AudioPlayerChannel((0,o._)(this,u)[u],{id:e,nativePlayer:this.nativePlayerFactory.create((0,o._)(this,u)[u])})}constructor(e){Object.defineProperty(this,u,{writable:!0,value:void 0}),this.nativePlayerFactory=e,(0,o._)(this,u)[u]={logger:new c.ConsoleLogger}}}_=(0,n.__decorate)([a.scope.global(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===s.NativeAudioPlayerFactory?Object:s.NativeAudioPlayerFactory])],_)},714436:(e,t,i)=>{"use strict";i.d(t,{AudioPlayerChannel:()=>S});var o=i(434518),r=i(763812),n=i(331635),a=i(327813),s=i(584053),c=i(470388),l=i(931019),d=(0,r._)("_id"),u=(0,r._)("_reactions"),_=(0,r._)("_context"),p=(0,r._)("_emitter"),m=(0,r._)("_nativePlayer"),g=(0,r._)("_queue"),v=(0,r._)("_ensureQueuePosition"),f=(0,r._)("_connectStateEvents"),y=(0,r._)("_connectNativePlayer"),E=(0,r._)("_disconnectNativePlayer"),A=(0,r._)("_createEvent");class S{dispose(){(0,o._)(this,u)[u].dispose(),(0,o._)(this,E)[E]()}get id(){return(0,o._)(this,d)[d]}get queue(){return(0,o._)(this,g)[g]}get events(){return(0,o._)(this,p)[p].listenable}get actualVolume(){const{muted:e,volume:t}=this;return e?0:t}async play(){const e=(0,o._)(this,v)[v](),{logger:t}=(0,o._)(this,_)[_],{playing:i,paused:r}=this;if(i||e===this.position)return!1;if(r)return this.resume();(0,o._)(this,p)[p].emit("play",(0,o._)(this,A)[A](e));const n=await this.queue.ensureAt(e.index);if(!n.url)return t.debug("Skip because audio without url",{audio:n}),this.queue.moveToNext(),!1;return!!await(0,o._)(this,m)[m].play(n)&&((0,a.runInAction)((()=>{this.position=this.queue.position})),!0)}async playList(e){const{queue:t}=this;return t.clear(),t.add(e),t.reset(),this.play()}async pause(){return(0,o._)(this,m)[m].pause()}async resume(){return(0,o._)(this,m)[m].resume()}async stop(){await(0,o._)(this,m)[m].stop(),(0,a.runInAction)((()=>{this.position=null,this.progress=0}))}async setVolume(e){return e=Math.min(1,Math.max(0,e)),this.volume=e,await(0,o._)(this,m)[m].setVolume(this.actualVolume),e}async toggleMuted(e){const t=e??!this.muted;return this.muted=t,await this.setVolume(this.actualVolume),t}constructor(e,{id:t,nativePlayer:i}){Object.defineProperty(this,v,{value:b}),Object.defineProperty(this,f,{value:T}),Object.defineProperty(this,y,{value:I}),Object.defineProperty(this,E,{value:C}),Object.defineProperty(this,A,{value:k}),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,_,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),Object.defineProperty(this,m,{writable:!0,value:void 0}),Object.defineProperty(this,g,{writable:!0,value:void 0}),(0,o._)(this,u)[u]=new c.ReactionsAggregator,(0,o._)(this,g)[g]=new l.PlaybackQueue,this.playing=!1,this.paused=!1,this.volume=1,this.muted=!1,this.progress=0,this.position=null,this.handlePlay=e=>{this.playing=!0,this.paused=!1,(0,o._)(this,p)[p].emit("playing",(0,o._)(this,A)[A]({audio:e}))},this.handlePause=e=>{this.playing=!1,this.paused=!0,(0,o._)(this,p)[p].emit("pause",(0,o._)(this,A)[A]({audio:e}))},this.handleResume=e=>{this.playing=!0,this.paused=!1,(0,o._)(this,p)[p].emit("resume",(0,o._)(this,A)[A]({audio:e}))},this.handleStop=e=>{this.playing=!1,this.paused=!1,(0,o._)(this,p)[p].emit("stop",(0,o._)(this,A)[A]({audio:e}))},this.handleProgress=e=>{const{audio:t}=(0,o._)(this,m)[m];t&&(this.progress=e,(0,o._)(this,p)[p].emit("progress",(0,o._)(this,A)[A]({audio:t,progress:e})))},(0,o._)(this,d)[d]=t,(0,o._)(this,_)[_]=e,(0,o._)(this,p)[p]=new s.Emitter,(0,o._)(this,m)[m]=i,(0,a.makeObservable)(this),(0,o._)(this,f)[f](),(0,o._)(this,y)[y]()}}function b(){let e=this.queue.position;if(e||(this.queue.reset(),e=this.queue.position),!e)throw new Error("PlaybackQueue is empty");return e}function T(){const e=(0,o._)(this,u)[u];e.reaction((()=>this.muted),(e=>{const t=(0,o._)(this,A)[A]();(0,o._)(this,p)[p].emit(e?"muted":"unmuted",t)})),e.reaction((()=>this.volume),(e=>{(0,o._)(this,p)[p].emit("volumeChanged",(0,o._)(this,A)[A]({volume:e}))}))}function I(){(0,o._)(this,m)[m].events.on("play",this.handlePlay),(0,o._)(this,m)[m].events.on("pause",this.handlePause),(0,o._)(this,m)[m].events.on("resume",this.handleResume),(0,o._)(this,m)[m].events.on("stop",this.handleStop),(0,o._)(this,m)[m].events.on("progress",this.handleProgress)}function C(){(0,o._)(this,m)[m].events.off("play",this.handlePlay),(0,o._)(this,m)[m].events.off("pause",this.handlePause),(0,o._)(this,m)[m].events.off("resume",this.handleResume),(0,o._)(this,m)[m].events.off("stop",this.handleStop),(0,o._)(this,m)[m].events.off("progress",this.handleProgress)}function k(e){return{sourceChannel:this,currentChannel:this,payload:e}}(0,n.__decorate)([a.observable],S.prototype,"playing",void 0),(0,n.__decorate)([a.observable],S.prototype,"paused",void 0),(0,n.__decorate)([a.observable],S.prototype,"volume",void 0),(0,n.__decorate)([a.observable],S.prototype,"muted",void 0),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],S.prototype,"actualVolume",null),(0,n.__decorate)([a.observable],S.prototype,"progress",void 0),(0,n.__decorate)([a.observable,(0,n.__metadata)("design:type",Object)],S.prototype,"position",void 0),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[]),(0,n.__metadata)("design:returntype",Promise)],S.prototype,"play",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof List?Object:List]),(0,n.__metadata)("design:returntype",Promise)],S.prototype,"playList",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[]),(0,n.__metadata)("design:returntype",Promise)],S.prototype,"pause",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[]),(0,n.__metadata)("design:returntype",Promise)],S.prototype,"resume",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[]),(0,n.__metadata)("design:returntype",Promise)],S.prototype,"stop",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Number]),(0,n.__metadata)("design:returntype",Promise)],S.prototype,"setVolume",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Boolean]),(0,n.__metadata)("design:returntype",Promise)],S.prototype,"toggleMuted",null),(0,n.__decorate)([a.action.bound],S.prototype,"handlePlay",void 0),(0,n.__decorate)([a.action.bound],S.prototype,"handlePause",void 0),(0,n.__decorate)([a.action.bound],S.prototype,"handleResume",void 0),(0,n.__decorate)([a.action.bound],S.prototype,"handleStop",void 0),(0,n.__decorate)([a.action.bound],S.prototype,"handleProgress",void 0)},931019:(e,t,i)=>{"use strict";i.d(t,{PlaybackQueue:()=>g});var o=i(434518),r=i(763812),n=i(331635),a=i(327813),s=i(91355),c=i(120388);var l=(0,r._)("_prevIndex"),d=(0,r._)("_nextIndex"),u=(0,r._)("_currentIndex"),_=(0,r._)("_needRepeatCurrent"),p=(0,r._)("_needRepeatQueue"),m=(0,r._)("_assertPositionDefined");class g extends s.CombinedAudioList{get position(){const{pointer:e}=this;if(!(0,c.isValidAudioListAbsIndex)(this,e))return null;const t=this.findItemLocation(e);return t?{index:e,list:t.list}:null}get repeat(){return this._repeat}setRepeat(e){this._repeat=e}has(e){return this.lists.includes(e)}add(e){return this.lists.includes(e)||(this.lists=[...this.lists,e]),this}delete(e){return!(this.lists.indexOf(e)<0)&&(this.lists=this.lists.filter((t=>t!==e)),!0)}clear(){this.lists=[],this.reset()}reset(){this.pointer=Math.min(0,this.length-1)}moveTo(e){this.pointer=this.ensureAbsIndex(e)}moveToPrev(){(0,o._)(this,m)[m](),this.pointer=(0,o._)(this,l)[l]}moveToNext(){(0,o._)(this,m)[m](),this.pointer=(0,o._)(this,d)[d]}async ensureCurrent(){const e=(0,o._)(this,u)[u];if(e<0||e>=this.length)throw new Error("Current position does not point to element");return this.ensureAt(e)}get currentAudio(){const e=(0,o._)(this,u)[u];return e<0?null:this.audioAt(e)??null}get prevAudio(){return(0,o._)(this,l)[l]<0?null:this.audioAt((0,o._)(this,l)[l])??null}get nextAudio(){return(0,o._)(this,d)[d]>this.maxIndex?null:this.audioAt((0,o._)(this,d)[d])??null}constructor(e){super(Array.from(new Set(e))),Object.defineProperty(this,l,{get:v,set:void 0}),Object.defineProperty(this,d,{get:f,set:void 0}),Object.defineProperty(this,u,{get:y,set:void 0}),Object.defineProperty(this,_,{get:E,set:void 0}),Object.defineProperty(this,p,{get:A,set:void 0}),Object.defineProperty(this,m,{value:S}),this.pointer=-1,this._repeat="none",(0,a.makeObservable)(this)}}function v(){const e=(0,o._)(this,u)[u];if(!this.position||(0,o._)(this,_)[_])return e;let t=e-1;return(0,o._)(this,p)[p]&&t<0&&(t=this.length-1),t}function f(){const e=(0,o._)(this,u)[u];if(!this.position||(0,o._)(this,_)[_])return e;let t=(0,o._)(this,u)[u]+1;return(0,o._)(this,p)[p]&&t>this.maxIndex&&(t=0),t}function y(){return this.position?.index??-1}function E(){return"audio"===this.repeat}function A(){return"queue"===this.repeat}function S(){if(!this.position)throw new Error("Unknown position in playback queue")}(0,n.__decorate)([a.observable],g.prototype,"pointer",void 0),(0,n.__decorate)([a.observable,(0,n.__metadata)("design:type","undefined"==typeof TPlaybackQueueRepeat?Object:TPlaybackQueueRepeat)],g.prototype,"_repeat",void 0),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",Object),(0,n.__metadata)("design:paramtypes",[])],g.prototype,"position",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],g.prototype,"repeat",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof TPlaybackQueueRepeat?Object:TPlaybackQueueRepeat]),(0,n.__metadata)("design:returntype",void 0)],g.prototype,"setRepeat",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof List?Object:List]),(0,n.__metadata)("design:returntype",Object)],g.prototype,"add",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof List?Object:List]),(0,n.__metadata)("design:returntype",Boolean)],g.prototype,"delete",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[]),(0,n.__metadata)("design:returntype",void 0)],g.prototype,"clear",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[]),(0,n.__metadata)("design:returntype",void 0)],g.prototype,"reset",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Number]),(0,n.__metadata)("design:returntype",void 0)],g.prototype,"moveTo",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[]),(0,n.__metadata)("design:returntype",void 0)],g.prototype,"moveToPrev",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[]),(0,n.__metadata)("design:returntype",void 0)],g.prototype,"moveToNext",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],g.prototype,"currentAudio",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],g.prototype,"prevAudio",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],g.prototype,"nextAudio",null)},730227:(e,t,i)=>{"use strict";i.d(t,{ConsoleLogger:()=>o});class o{fatal(e,t){console.error(e,...this.buildExtraArgs(t))}error(e,t){console.error(e,...this.buildExtraArgs(t))}warn(e,t){console.warn(e,...this.buildExtraArgs(t))}info(e,t){console.info(e,...this.buildExtraArgs(t))}debug(e,t){console.debug(e,...this.buildExtraArgs(t))}child(e){const t=[...this.extra];return e?.extra&&t.push(e.extra),new o({extra:t})}buildExtraArgs(e){const t=this.buildExtraData(e);return t?[t]:[]}buildExtraData(e){if(this.extra.length||e)return[...this.extra,...e?[e]:[]].reduce(((e,t)=>({...e,...r(t)})),{})}constructor({extra:e=[]}={}){this.extra=e}}function r(e){return"function"==typeof e?e():e}},527492:(e,t,i)=>{"use strict";i.d(t,{NativeAudioPlayerFactory:()=>n});var o=i(331635),r=i(132028);class n{}n=(0,o.__decorate)([r.scope.platform({abstract:!0})],n)},939661:(e,t,i)=>{"use strict";i.d(t,{PageVisibilityObserver:()=>s});var o=i(558137),r=i(584053);const n=["webkit","o","ms","moz",""],a=(0,o.makeSharedState)("PageVisibilityObserver",(()=>({instance:null})),{version:1});class s{static ensure(){const e=a();return e.instance||(e.instance=new s),e.instance}get visibility(){return this._visibility}on(e,t){return this.emitter.on(e,t),this}off(e,t){return this.emitter.off(e,t),this}listen(){try{this.isSupported?(document.addEventListener(this.visibilityPrefix+"visibilitychange",(()=>this.setVisibility(this.documentVisibility))),window.addEventListener(this.visibilityPrefix+"visibilitychange",(()=>this.setVisibility(this.documentVisibility)))):(window.addEventListener("focus",(()=>this.setVisibility(!0)),!0),window.addEventListener("blur",(()=>this.setVisibility(!1)),!0))}catch(e){}}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.emitter.emit("change",e))}get documentVisibility(){return!document[this.hiddenStateName]}constructor(){if(this.emitter=new r.Emitter,this.visibilityPrefix="",this.hiddenStateName="hidden",this.isSupported=!0,this._visibility=!0,"hidden"in document)this.hiddenStateName="hidden",this.visibilityPrefix="",this.isSupported=!0;else for(let e=0;e<n.length;e++){const t=n[e];t+"Hidden"in document&&(this.hiddenStateName=`${t}Hidden`,this.visibilityPrefix=t,this.isSupported=!0)}this.setVisibility(this.documentVisibility),this.listen()}}},31580:(e,t,i)=>{"use strict";i.d(t,{allowLinkOnclickWebAttrs:()=>r,isAllowLinkOnclickWebForLink:()=>n});const o="data-allow-link-onclick-web",r={[o]:1};function n(e){return!!(e&&e instanceof HTMLElement)&&e.hasAttribute(o)}},332700:(e,t,i)=>{"use strict";function o(e){return navigator.clipboard?function(e){return navigator.clipboard.writeText(e)}(e):(function(e){const t=document.createElement("input"),i=document.activeElement;t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),i.focus()}(e),Promise.resolve())}i.d(t,{copyToClipboard:()=>o})},698647:(e,t,i)=>{"use strict";i.d(t,{getDevicePixelRatio:()=>r});const o=1;function r(){return window?.devicePixelRatio??o}},353440:(e,t,i)=>{"use strict";i.d(t,{getConnection:()=>o,getConnectionEffectiveType:()=>n,getConnectionEffectiveTypeID:()=>s,getConnectionType:()=>r,getConnectionTypeID:()=>a});const o=()=>{const e=window.navigator;return e.connection||e.mozConnection||e.webkitConnection},r=()=>{const e=o();return e&&e.type||"unknown"},n=()=>{const e=o();return e&&e.effectiveType||"unknown"},a=()=>({mixed:0,unknown:0,bluetooth:1,cellular:2,ethernet:3,none:4,wifi:5,wimax:6,other:7}[r()]||0),s=()=>({unknown:0,"slow-2g":1,"2g":2,"3g":3,"4g":4}[n()]||0)},69459:(e,t,i)=>{"use strict";i.d(t,{rootContainer:()=>p});var o=i(540944),r=i(256754),n=i(93770),a=i(513892),s=i(679773),c=i(74692),l=i(441592),d=i(5757),u=i(361605);class _{resolve(e){const t=r.resolveInterceptor.apply(this.handleConstruction),i=this.container.resolve(e);return t(),i}childrenExists(e){return this.children.has(e)}resolveWithTransforms(e,t){const i=n.resolveTransformer.apply(e,t),o=this.resolve(e);return i(),o}getConstructorScope(e){return s.constructorScope in e?e[s.constructorScope]:null}replace(e,t){const i=this.getConstructorScope(t);if(i!==this.getConstructorScope(e))throw new Error("token и constructor должны иметь одинаковый scope");this.container.register(e,t,{lifecycle:i?(0,c.mapScopeToTsyringeLifecycleType)(i):o.Lifecycle.Transient})}__internal_replaceToValue(e,t){t[s.isRegisteredByValue]=!0,this.container.register(e,{useValue:t})}isolate(){this.isIsolated=!0,this.isolateRegistrations()}async destroy(){if(!this.isDestroyed){if(!this.parent)throw new Error("Cannot destroy root container!");Array.from(this.instances.keys()).forEach((e=>this.destroyInstance(e))),await this.container.dispose(),this.parent.children.delete(this.name),this.isDestroyed=!0}}destroyInstance(e){if(!this.instances.has(e))return;const t=this.instances.get(e);(0,l.isDestroyable)(e)&&e[s.destroy](),this.instances.delete(e),t?.forEach((e=>this.destroyInstance(e)))}child(e,t){const i=this.createChild(e);return t&&i.isolate(),i}get isolatingRegistrationsScopes(){return[a.scopes.GLOBAL]}createChild(e){if(this.children.has(e))throw new Error(`Container child with same name "${e}" already exists!`);const t=new _(this,e);return this.parent&&this.children.set(e,t),t}getScopeRegistrations(e){switch(e){case a.scopes.PLATFORM:return d.platformScopeRegistrations;case a.scopes.GLOBAL:return d.globalScopeRegistrations;case a.scopes.CONTAINER:return d.containerScopeRegistrations;case a.scopes.TRANSIENT:return d.transientScopeRegistrations;default:(0,u.expectNever)(e)}}isolateRegistration(e,t){this.container.register(e,e,{lifecycle:this.toLifecycle(t)})}toLifecycle(e){return(0,c.mapScopeToTsyringeLifecycleType)(e)}isolateRegistrations(){this.isolatingRegistrationsScopes.length<1||this.isolatingRegistrationsScopes.forEach((e=>{this.getScopeRegistrations(e).forEach((t=>{this.isolateRegistration(t,e)}))}))}handleConstruction(e){const{type:t,instance:i,args:o}=e;if(this.isolatingRegistrationsScopes.includes(t)&&this.isIsolated||t===a.scopes.CONTAINER||t===a.scopes.TRANSIENT||!this.parent){const e=o.filter((e=>e.constructor[s.constructorScope]===a.scopes.TRANSIENT));(e.length||(0,l.isDestroyable)(i))&&this.instances.set(i,e)}else this.parent?.handleConstruction(e)}constructor(e,t){this.name=t,this.isIsolated=!1,this.isDestroyed=!1,this.children=new Map,this.instances=new Map,this.parent=e,this.parent?this.container=this.parent.container.createChildContainer():(this.container=o.container,this.isIsolated=!0),this.handleConstruction=this.handleConstruction.bind(this)}}const p=new _(null,"root")},428111:(e,t,i)=>{"use strict";i.d(t,{scope:()=>n});var o=i(513892),r=i(74692);const n={container:(e={})=>(0,r.scoped)(o.scopes.CONTAINER,e),global:(e={})=>(0,r.scoped)(o.scopes.GLOBAL,e),platform:(e={})=>(0,r.scoped)(o.scopes.PLATFORM,e),transient:(e={})=>(0,r.scoped)(o.scopes.TRANSIENT,e)}},132028:(e,t,i)=>{"use strict";i.d(t,{ChildDIProvider:()=>a.ChildDIProvider,DIProvider:()=>a.DIProvider,ModelEventsHandlers:()=>a.ModelEventsHandlers,Props:()=>a.Props,createPageProvider:()=>a.createPageProvider,createProvider:()=>a.createProvider,createWidget:()=>a.createWidget,destroy:()=>r.destroy,init:()=>r.init,rootContainer:()=>o.rootContainer,scope:()=>n.scope,shouldInitOnSsr:()=>r.shouldInitOnSsr,update:()=>r.update,useContainer:()=>a.useContainer});i(238630);var o=i(69459),r=(i(745485),i(679773)),n=i(428111),a=i(842165);i(513892),i(113810)},5757:(e,t,i)=>{"use strict";i.d(t,{constructorWrapper:()=>d,containerScopeRegistrations:()=>c,globalScopeRegistrations:()=>s,platformScopeRegistrations:()=>a,transientScopeRegistrations:()=>l});var o=i(679773),r=i(256754),n=i(93770);const a=new Set,s=new Set,c=new Set,l=new Set,d=(e,t,i)=>{const a=new Proxy(t,{construct(t,i,s){for(let e of i)if(e?.constructor?.[o.isAbstract])throw new Error(`Cannot inject abstract class ${e.constructor.toString()}`);n.resolveTransformer.run(a,i);const c=Reflect.construct(t,i,s);return r.resolveInterceptor.run({type:e,instance:c,ctor:a,args:i}),c}});return t[o.constructorScope]=e,t[o.isAbstract]=i?.abstract,Reflect.defineMetadata("design:paramtypes",Reflect.getMetadata("design:paramtypes",t)||[],a),a}},74692:(e,t,i)=>{"use strict";i.d(t,{mapScopeToTsyringeLifecycleType:()=>c,scoped:()=>s});var o=i(540944),r=i(5757),n=i(513892),a=i(113810);const s=(e,t={})=>i=>{const o=(0,r.constructorWrapper)(e,i,{abstract:t.abstract}),s=(0,a.mapScopeToTsyringeScoped)(e);switch(e){case n.scopes.CONTAINER:r.containerScopeRegistrations.add(o);break;case n.scopes.GLOBAL:r.globalScopeRegistrations.add(o);break;case n.scopes.PLATFORM:r.platformScopeRegistrations.add(o);break;case n.scopes.TRANSIENT:r.transientScopeRegistrations.add(o)}return s(o),o};function c(e){switch(e){case"GLOBAL":case"PLATFORM":return o.Lifecycle.Singleton;case"CONTAINER":return o.Lifecycle.ContainerScoped;case"TRANSIENT":return o.Lifecycle.Transient}throw new Error("Unknown scope")}},441592:(e,t,i)=>{"use strict";i.d(t,{isDestroyable:()=>r,isInitable:()=>a,isUpdatable:()=>n});var o=i(679773);const r=e=>e&&"function"==typeof e[o.destroy],n=e=>e&&"function"==typeof e[o.update],a=e=>e&&"function"==typeof e[o.init]},256754:(e,t,i)=>{"use strict";i.d(t,{resolveInterceptor:()=>o});const o=new class{constructor(){this.interceptors=new Set,this.run=e=>this.interceptors.forEach((t=>t(e))),this.apply=e=>(this.interceptors.add(e),()=>this.interceptors.delete(e))}}},93770:(e,t,i)=>{"use strict";i.d(t,{resolveTransformer:()=>o});const o=new class{constructor(){this.transforms=new Map,this.run=(e,t)=>{const i=this.transforms.get(e);i&&i.forEach((e=>e(t)))},this.apply=(e,t)=>{const i=this.transforms.get(e)??new Set;return i.add(t),this.transforms.set(e,i),()=>i.delete(t)}}}},361605:(e,t,i)=>{"use strict";i.d(t,{expectNever:()=>s,useMemoizeProps:()=>n,usePostponedEffect:()=>a});var o=i(296540);function r(e,t){const i=Object.entries(e),o=Object.entries(t);return i.length===o.length&&i.every((([e,i])=>Object.is(i,t[e])))}function n(e,t=r){const i=(0,o.useRef)(void 0);return void 0!==i.current&&t(i.current,e)||(i.current=e),[i.current]}function a(e,t){const i=(0,o.useRef)(!0);(0,o.useEffect)((()=>{if(!i.current)return e();i.current=!1}),t)}function s(e){throw new TypeError(`Unexpected value: ${e}`)}},230074:(e,t,i)=>{"use strict";i.d(t,{ChildDIProvider:()=>l,DIProvider:()=>c,useContainer:()=>s});var o=i(474848),r=i(296540),n=i(69459);const a=(0,r.createContext)(n.rootContainer),s=()=>(0,r.useContext)(a),c=({instance:e=n.rootContainer,children:t})=>(0,o.jsx)(a.Provider,{value:e,children:t}),l=({children:e,name:t,isolated:i})=>{const a=s()||n.rootContainer,l=function(e,t){return e.childrenExists(t)?`${t}-${Math.floor(1e5*Math.random())}`:t}(a,t),[d]=(0,r.useState)((()=>a.child(l,i)));return(0,r.useEffect)((()=>()=>{d.destroy()}),[]),(0,o.jsx)(c,{instance:d,children:e})}},107385:(e,t,i)=>{"use strict";i.d(t,{useDIReactConfig:()=>a});var o=i(296540);const r={isSsr:!1},n=(0,o.createContext)(r),a=(n.Provider,()=>(0,o.useContext)(n))},842165:(e,t,i)=>{"use strict";i.d(t,{ChildDIProvider:()=>s.ChildDIProvider,DIProvider:()=>s.DIProvider,ModelEventsHandlers:()=>r.ModelEventsHandlers,Props:()=>c.Props,createPageProvider:()=>n.createPageProvider,createProvider:()=>o.createProvider,createWidget:()=>a.createWidget,useContainer:()=>s.useContainer});var o=i(164844),r=i(83365),n=i(531110),a=i(319271),s=i(230074),c=i(218487);i(107385)},164844:(e,t,i)=>{"use strict";i.d(t,{createProvider:()=>v});var o=i(474848),r=i(296540),n=i(327813),a=i(679773),s=i(441592),c=i(83365),l=i(230074),d=i(361605),u=i(218487),_=i(513892),p=i(107385);const m=(0,r.createContext)(null),g=e=>"undefined"!=typeof window&&Boolean(window.vk?.pe?.[e]),v=(e,t)=>{const{isolatedContext:i=!0,onlyTransient:v=!0,initInEffect:y=!0,...E}=t||{},A=y||g("frontend.webinf_di_init_in_useeffect"),S=g("webinf_di_provider_one_context"),b=S&&i?m:(0,r.createContext)(null);if(S&&v&&(!(a.constructorScope in e)||e[a.constructorScope]!==_.scopes.TRANSIENT))throw new Error("[DI]: ViewModel can be only TRANSIENT");const T=t=>{const i=(0,l.useContainer)(),{children:_,...m}=t,g=(0,r.useRef)(void 0),{isSsr:v}=(0,p.useDIReactConfig)(),y=(0,r.useRef)({}),[S]=(0,r.useState)((()=>{const t=i.resolveWithTransforms(e,(e=>{const t=e.find((e=>e.constructor[u.propsAttribute]));t&&(t.set(m),g.current=t)}));if((0,s.isInitable)(t)){const e=i.resolve(c.ModelEventsHandlers),o={isPage:Boolean(E[a.pageModel])};if(v){if(t[a.shouldInitOnSsr]){e.onStartInit(o);const i=t[a.init](m);if(i instanceof Promise){const t=(async()=>{try{await i,e.onFinishInit(o)}finally{y.current.isPending=!1}})();y.current={promise:t,isPending:!0}}else e.onFinishInit(o)}}else if(!A){e.onStartInit(o);const i=t[a.init](m);i instanceof Promise?(async()=>{await i,e.onFinishInit(o)})():e.onFinishInit(o)}}return t}));return(0,r.useEffect)((()=>{if(A&&(0,s.isInitable)(S)){const e=i.resolve(c.ModelEventsHandlers),t={isPage:Boolean(E[a.pageModel])};e.onStartInit(t),(async()=>{await S[a.init](m),e.onFinishInit(t)})()}return()=>{i.destroyInstance(S)}}),[]),(0,d.usePostponedEffect)((()=>{(0,n.runInAction)((()=>{g.current?.set(m),(0,s.isUpdatable)(S)&&S[a.update](m)}))}),(0,d.useMemoizeProps)(m)),v?(0,o.jsx)(b.Provider,{value:S,children:(0,o.jsx)(r.Suspense,{fallback:null,children:(0,o.jsx)(f,{promiseWithStatus:y.current,children:_})})}):(0,o.jsx)(b.Provider,{value:S,children:_})};return Object.defineProperty(T,"name",{configurable:!0,value:`${e.name}Provider`}),{Provider:T,useModel:()=>{const t=(0,r.useContext)(b);if(!t)throw new Error(`[DI]: The "useModel" hook expects an instance of ${e.name}, but it looks like no context is provided.`);if(S&&i&&!(t instanceof e))throw new Error(`[DI]: ViewModel ${e.name} cannot be used in adjacent widgets`);return t}}};function f(e){const{promiseWithStatus:{promise:t,isPending:i},children:o}=e;if(null!=t&&i)throw t;return o}},83365:(e,t,i)=>{"use strict";i.d(t,{ModelEventsHandlers:()=>n});var o=i(331635),r=i(428111);class n{onStartInit(e){}onFinishInit(e){}}n=(0,o.__decorate)([r.scope.transient({abstract:!0})],n)},531110:(e,t,i)=>{"use strict";i.d(t,{createPageProvider:()=>s});var o=i(474848),r=i(679773),n=i(230074),a=i(164844);const s=(e,t)=>{const{useModel:i,Provider:s}=(0,a.createProvider)(e,{initInEffect:!1,...t??{},[r.pageModel]:!0});return{useModel:i,Provider:e=>(0,o.jsx)(n.ChildDIProvider,{name:e.name,children:(0,o.jsx)(s,{...e})})}}},218487:(e,t,i)=>{"use strict";i.d(t,{Props:()=>s,propsAttribute:()=>a});var o=i(331635),r=i(327813),n=i(428111);const a="propsAttribute";class s{set(e){const t=this.current;Object.assign(t,e),Object.keys(t).forEach((i=>{e.hasOwnProperty(i)||delete t[i]}))}constructor(){this.current={},(0,r.makeAutoObservable)(this,{current:r.observable.shallow})}}s[a]=!0,s=(0,o.__decorate)([n.scope.transient(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[])],s)},319271:(e,t,i)=>{"use strict";i.d(t,{createWidget:()=>r});var o=i(474848);const r=(e,t)=>function(i){return(0,o.jsx)(e,{...i,children:(0,o.jsx)(t,{children:i.children})})}},513892:(e,t,i)=>{"use strict";i.d(t,{scopes:()=>o});const o={CONTAINER:"CONTAINER",GLOBAL:"GLOBAL",PLATFORM:"PLATFORM",TRANSIENT:"TRANSIENT"}},679773:(e,t,i)=>{"use strict";i.d(t,{constructorScope:()=>c,destroy:()=>r,init:()=>o,isAbstract:()=>s,isRegisteredByValue:()=>l,pageModel:()=>a,shouldInitOnSsr:()=>d,update:()=>n});const o=Symbol("init"),r=Symbol("destroy"),n=Symbol("update"),a=Symbol("pageModel"),s=Symbol("isAbstract"),c=Symbol("constructorScope"),l=Symbol("isRegisteredByValue"),d=Symbol("shouldInitOnSsr")},745485:()=>{},113810:(e,t,i)=>{"use strict";i.d(t,{mapScopeToTsyringeScoped:()=>o.mapScopeToTsyringeScoped});var o=i(151238)},151238:(e,t,i)=>{"use strict";i.d(t,{mapScopeToTsyringeScoped:()=>n});var o=i(540944),r=i(513892);function n(e){switch(e){case r.scopes.CONTAINER:return(0,o.scoped)(o.Lifecycle.ContainerScoped);case r.scopes.GLOBAL:case r.scopes.PLATFORM:return(0,o.singleton)();case r.scopes.TRANSIENT:return(0,o.injectable)()}}},639653:(e,t,i)=>{"use strict";i.d(t,{AudioType:()=>o});var o=function(e){return e.MusicTrack="music_track",e.MusicSnippet="music_snippet",e.PodcastEpisode="podcast_episode",e.Radio="radio",e}({})},23975:(e,t,i)=>{"use strict";i.d(t,{AudioError:()=>s});var o=i(835974),r=i(69168),n=i(685520),a=i(345559);class s extends Error{static fromUnknownError(e){return(0,a.isApiError)(e)?s.fromApiError(e):(0,a.isNetworkError)(e)?s.fromNetworkError(e):e instanceof Error?new s(o.AudioErrorType.Unknown,e.message):new s(o.AudioErrorType.Unknown,"Audio error: unknown")}static fromNetworkError(e){return new s(o.AudioErrorType.Network,e.error.message)}static fromApiError(e){let t=o.AudioErrorType.Secure;return 5===e.error.error_code&&(t=o.AudioErrorType.Unauthorized),201===e.error.error_code&&(t=o.AudioErrorType.AccessDenied),new s(t,e.error.error_msg)}static createNotFoundError(e){return new s(o.AudioErrorType.NotFound,e)}static isAudioError(e){return(0,r.isAudioError)(e)}constructor(e,t){super(t),this.type=e,this.name=n.AUDIO_ERROR_TOKEN}}},835974:(e,t,i)=>{"use strict";i.d(t,{AudioErrorType:()=>o});var o=function(e){return e.Unknown="unknown",e.Secure="secure",e.Unauthorized="unauthorized",e.AccessDenied="access_denied",e.NotFound="not_found",e.Network="network",e}({})},69168:(e,t,i)=>{"use strict";i.d(t,{isAudioError:()=>r});var o=i(685520);function r(e){return e instanceof Error&&e.name===o.AUDIO_ERROR_TOKEN}},685520:(e,t,i)=>{"use strict";i.d(t,{AUDIO_ERROR_TOKEN:()=>o});const o="domains/audio/AudioError"},345559:(e,t,i)=>{"use strict";function o(e){return n(e)&&"network_error"===e.type}function r(e){return n(e)&&"api_error"===e.type}function n(e){return!!e&&"object"==typeof e&&"type"in e}i.d(t,{isApiError:()=>r,isNetworkError:()=>o})},549515:(e,t,i)=>{"use strict";i.d(t,{mapAudioPhotoToAudioImage:()=>r});const o=[["photo_34",34],["photo_68",68],["photo_135",135],["photo_270",270],["photo_300",300],["photo_600",600],["photo_1200",1200]];function r(e,t){return{sizes:n(e),mainColor:t}}function n(e){const t=[];let i;if(!e)return t;for(const[r,n]of o)i=e[r],i&&t.push({src:i,height:n,width:n});return t}},465633:(e,t,i)=>{"use strict";i.d(t,{AudioImageUploader:()=>l});var o=i(434518),r=i(763812),n=i(35215),a=i(211254),s=(0,r._)("_client"),c=(0,r._)("_onSaved");class l{get restrictions(){return{fileExtensions:["jpeg","jpg","png"]}}async upload(e){const t=await this.ensureServerUrl(),i=await(0,o._)(this,s)[s].upload(t,e);if(function(e){const t=e;return!(0,n.isNumber)(t.error_code)}(i))return i;throw a.AudioImageUploaderException.fromApiErrorCode(i.error_code)}async save(e,t){const i=await this.saveRequest(e,t);return null==(0,o._)(this,c)[c]||(0,o._)(this,c)[c].call(this,{identity:e,image:i}),i}constructor({apiClient:e,onSaved:t}){Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,c,{writable:!0,value:void 0}),(0,o._)(this,c)[c]=null,(0,o._)(this,s)[s]=e,t&&((0,o._)(this,c)[c]=t)}}},211254:(e,t,i)=>{"use strict";i.d(t,{AudioImageUploaderException:()=>s,AudioImageUploaderExceptionType:()=>o,isAudioImageUploaderException:()=>r});var o=function(e){return e.WrongSize="wrong_size",e.TooBigFile="too_big_file",e.WrongFormat="wrong_format",e.Unknown="unknown",e}({});function r(e){return e instanceof Error&&e.name===s.TOKEN}const n=[4601,4604,4605,4611],a={4601:"wrong_size",4605:"too_big_file",4604:"wrong_format",4611:"wrong_format"};class s extends Error{static fromApiErrorCode(e){const t=function(e){return n.some((t=>t===e))}(e)?a[e]:"unknown";return new s(t)}constructor(e){super(`Image uploading failed. Error type ${e}`),this.name=s.TOKEN,this.type=e}}s.TOKEN="domains/audio/abstract/AudioImageUploaderException"},885528:(e,t,i)=>{"use strict";function o(e){return{isExplicit:!!(2&e),isForeignAgent:!!(4&e)}}i.d(t,{bitmaskToAudioLegal:()=>o})},891480:(e,t,i)=>{"use strict";i.d(t,{AudioListType:()=>o});var o=function(e){return e.CatalogMusicTrackList="catalog_music_track_list",e.CatalogRadiostationList="catalog_radio_station_list",e.MusicMix="music_mix",e.MusicSnippetsList="music_snippets_list",e.MusicAlbumPlaylist="music_album_playlist",e.MusicGeneratedPlaylist="music_generated_playlist",e.MusicUGCGroupPlaylist="music_ugc_group_playlist",e.MusicUGCUserPlaylist="music_ugc_user_playlist",e.MusicChatPlaylist="music_chat_playlist",e.MyMusicPlaylist="my_music_playlist",e.UnknownMusicPlaylist="unknown_music_playlist",e.UserMusicTrackList="user_music_track_list",e.GroupMusicTrackList="group_music_track_list",e.AttachmentAudioList="attachment_audio_list",e.Podcast="podcast",e.Radio="radio",e.OwnedPodcastEpisodeList="owned_podcast_episode_list",e.ShortVideoMusicTrackList="short_video_music_track_list",e.SimpleAudioList="simple_audio_list",e}({})},351494:(e,t,i)=>{"use strict";i.d(t,{AudioPlayerChannelType:()=>c});var o=i(434518),r=i(763812),n=i(331635),a=i(132028),s=i(217906),c=function(e){return e.MusicTrack="music_track",e.MusicSnippet="music_snippet",e.Radio="radio",e.Podcast="podcast",e}({}),l=(0,r._)("_player"),d=(0,r._)("_getChannel");class u{get musicTrack(){return(0,o._)(this,d)[d]("music_track")}get musicSnippet(){return(0,o._)(this,d)[d]("music_snippet")}get radio(){return(0,o._)(this,d)[d]("radio")}get podcast(){return(0,o._)(this,d)[d]("podcast")}constructor(e){Object.defineProperty(this,d,{value:_}),Object.defineProperty(this,l,{writable:!0,value:void 0}),this.factory=e,(0,o._)(this,l)[l]=this.factory.createPlayer({music_track:this.factory.createChannel("music_track"),music_snippet:this.factory.createChannel("music_snippet"),radio:this.factory.createChannel("radio"),podcast:this.factory.createChannel("podcast")})}}function _(e){return(0,o._)(this,l)[l].getChannel(e)}u=(0,n.__decorate)([a.scope.global(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===s.AudioPlayerFactory?Object:s.AudioPlayerFactory])],u)},430621:(e,t,i)=>{"use strict";i.d(t,{AUDIO_LIST_TYPES_TUPLE:()=>r});var o=i(891480);const r=[...i(549294).MusicPlaylistsTypes,o.AudioListType.MusicMix,o.AudioListType.SimpleAudioList,o.AudioListType.CatalogMusicTrackList,o.AudioListType.Podcast,o.AudioListType.Radio,o.AudioListType.ShortVideoMusicTrackList]},897424:(e,t,i)=>{"use strict";i.d(t,{isSpecificAudioList:()=>r});var o=i(430621);function r(e,t){return t?Array.isArray(t)?t.includes(e.type):e.type===t:o.AUDIO_LIST_TYPES_TUPLE.includes(e.type)}},460884:(e,t,i)=>{"use strict";i.d(t,{AudioNavScreenModalType:()=>l,AudioNavScreenPageType:()=>c,AudioNavScreenProvider:()=>u});var o=i(434518),r=i(763812),n=i(331635),a=i(132028);const s=(0,i(558137).makeSharedState)("domains/audio/AudioNavScreenState",(()=>({page:null,catalogSectionId:null,modals:[]})),{version:1});var c=function(e){return e.Catalog="audio_catalog",e.Artist="music_artist",e.Album="music_album",e.Playlist="music_playlist",e.Track="music_track",e.SnippetsFeed="music_snippets_list",e.Podcast="podcast_podcast",e}({}),l=function(e){return e.Album="music_album_popup",e.Playlist="music_playlist_popup",e.Longtap="music_longtap_preview_popup",e.PodcastEpisode="podcast_episode_popup",e}({}),d=(0,r._)("_clearModal");class u{get isModal(){return!!s().modals.length}get screen(){const e=s(),t=e.modals[0];return t||e.page}get catalogSectionId(){return"audio_catalog"!==this.screen?null:s().catalogSectionId}setPage(e,t){const i=s();i.page=e,i.catalogSectionId=t??null}clearPage(){const e=s();e.page=null,e.catalogSectionId=null}pushModal(e){s().modals.unshift(e)}popModal(e){const t=s();t.modals[0]===e?t.modals.shift():(0,o._)(this,d)[d]()}constructor(){Object.defineProperty(this,d,{value:_})}}function _(){s().modals=[]}u=(0,n.__decorate)([a.scope.global()],u)},708288:(e,t,i)=>{"use strict";i.d(t,{AudioEntityToggleService:()=>m});var o=i(434518),r=i(763812),n=i(331635),a=i(327813),s=i(70916),c=i(74270),l=i(558137),d=(0,r._)("_activating"),u=(0,r._)("_deactivating"),_=(0,r._)("_pending"),p=(0,r._)("_state");class m{get events(){return this.emitter.listenable}get pending(){return(0,o._)(this,_)[_]}get state(){return(0,o._)(this,p)[p]}async activate(e,t){this.assertRequestsAllowed?.();const i=(0,o._)(this,d)[d].get(e);if(i)return i;if(await(0,o._)(this,u)[u].get(e),!0===(0,o._)(this,p)[p].get(e))return;const r=this.forceActivate(e,t);try{(0,o._)(this,d)[d].set(e,r),await r}finally{(0,o._)(this,d)[d].delete(e)}}async deactivate(e,t){this.assertRequestsAllowed?.();const i=(0,o._)(this,u)[u].get(e);if(i)return i;if(await(0,o._)(this,d)[d].get(e),!1===(0,o._)(this,p)[p].get(e))return;const r=this.forceDeactivate(e,t);try{(0,o._)(this,u)[u].set(e,r),await r}finally{(0,o._)(this,u)[u].delete(e)}}async toggle(e,t,i){if(this.assertRequestsAllowed?.(),(0,o._)(this,_)[_].has(e))return;const r=(0,o._)(this,p)[p].get(e),n=i??!r;return n!==r?n?this.activate(e,t.activate):this.deactivate(e,t.deactivate):void 0}setState(e,t){(0,o._)(this,p)[p].set(e,t)}assertRequestsAllowed(){}async forceActivate(e,t){try{(0,o._)(this,_)[_].add(e),this.emitter.emit("activate",{identity:e,params:t}),await this.requestActivate(e,t),this.setState(e,!0)}finally{(0,o._)(this,_)[_].delete(e)}this.emitter.emit("activated",{identity:e,params:t})}async forceDeactivate(e,t){try{(0,o._)(this,_)[_].add(e),this.emitter.emit("deactivate",{identity:e,params:t}),await this.requestDeactivate(e,t),this.setState(e,!1)}finally{(0,o._)(this,_)[_].delete(e)}this.emitter.emit("deactivated",{identity:e,params:t})}constructor(e,t={}){Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,_,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0});const i=function(e,{sharedStateConfig:t}){if(!t)return g(e);const{key:i,version:o}=t,r=(0,l.makeSharedState)(i,(()=>({})),{version:o})();r.current||(r.current=g(e));return r.current}(e,t);this.emitter=i.emitter,(0,o._)(this,d)[d]=i.activating,(0,o._)(this,u)[u]=i.deactivating,(0,o._)(this,_)[_]=i.pending,(0,o._)(this,p)[p]=i.state,(0,a.makeObservable)(this)}}function g(e){return{emitter:e.create(),activating:new s.ObservableIdentityMap,deactivating:new s.ObservableIdentityMap,pending:new c.ObservableIdentitySet,state:new s.ObservableIdentityMap}}(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof Identity?Object:Identity,"undefined"==typeof ActivateParams?Object:ActivateParams]),(0,n.__metadata)("design:returntype",Promise)],m.prototype,"activate",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof Identity?Object:Identity,"undefined"==typeof DeactivateParams?Object:DeactivateParams]),(0,n.__metadata)("design:returntype",Promise)],m.prototype,"deactivate",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof Identity?Object:Identity,"undefined"==typeof IAudioEntityToggleActionToggleParams?Object:IAudioEntityToggleActionToggleParams,Boolean]),(0,n.__metadata)("design:returntype",Promise)],m.prototype,"toggle",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof Identity?Object:Identity,Boolean]),(0,n.__metadata)("design:returntype",void 0)],m.prototype,"setState",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof Identity?Object:Identity,"undefined"==typeof ActivateParams?Object:ActivateParams]),(0,n.__metadata)("design:returntype",Promise)],m.prototype,"forceActivate",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof Identity?Object:Identity,"undefined"==typeof DeactivateParams?Object:DeactivateParams]),(0,n.__metadata)("design:returntype",Promise)],m.prototype,"forceDeactivate",null)},671142:(e,t,i)=>{"use strict";i.d(t,{MusicLyricsService:()=>l});var o=i(331635),r=i(327813),n=i(132028),a=i(346675),s=i(512930),c=i(449018);class l{get(e){const t=this.hasLyrics(e);return t?this.lyricsCache.get(e):!1===t?null:void 0}hasLyrics(e){return this.hasLyricsCache.get(e)}async ensure(e){const t=this.get(e);if(t||null===t)return t;const i=await this.fetch(e);return this.setLyrics(e,i),i}setHasLyrics(e,t){this.hasLyricsCache.set(e,t)}async fetch(e){const t=await this.api.getLyrics({audio_id:e.accessRawId});return(0,s.toMusicLyricsData)(t)}setLyrics(e,t){this.lyricsCache.set(e,t),this.setHasLyrics(e,!!t)}constructor(e){this.api=e;const t=(0,c.ensureStuffing)();this.lyricsCache=t.lyricsCache,this.hasLyricsCache=t.hasLyricsCache,(0,r.makeAutoObservable)(this)}}l=(0,o.__decorate)([n.scope.container(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===a.AudioApi?Object:a.AudioApi])],l)},449018:(e,t,i)=>{"use strict";i.d(t,{ensureStuffing:()=>n});var o=i(558137),r=i(70916);function n(){const e=(0,o.makeSharedState)("domains/audio/MusicLyricsService/stuffing",(()=>({})),{version:1})();return e.current||(e.current={lyricsCache:new r.ObservableIdentityMap,hasLyricsCache:new r.ObservableIdentityMap}),e.current}},512930:(e,t,i)=>{"use strict";function o(e){const t=e.credits??"";return e.lyrics?.timestamps?{kind:"karaoke",karaoke:e.lyrics.timestamps.map((e=>({begin:e.begin,end:e.end,text:e.line??null}))),credits:t}:e.lyrics?.text?{kind:"text",text:e.lyrics.text,credits:t}:null}i.d(t,{toMusicLyricsData:()=>o})},861807:(e,t,i)=>{"use strict";i.d(t,{MusicAudioOwningServiceAddReason:()=>o,MusicAudioOwningServiceRestoreReason:()=>r});var o=function(e){return e.MusicSnippet="MusicSnippet",e}({}),r=function(e){return e.MusicSnippet="MusicSnippet",e}({})},640238:(e,t,i)=>{"use strict";i.d(t,{MusicAudioOwningService:()=>P});var o=i(434518),r=i(763812),n=i(331635),a=i(327813),s=i(74270),c=i(70916),l=i(558137),d=i(70148),u=i(861807),_=i(936289);const p=Object.freeze({[u.MusicAudioOwningServiceAddReason.MusicSnippet]:u.MusicAudioOwningServiceRestoreReason.MusicSnippet});var m=(0,r._)("_ownerId"),g=(0,r._)("_authService"),v=(0,r._)("_userEnv"),f=(0,r._)("_emitter"),y=(0,r._)("_targets"),E=(0,r._)("_sources"),A=(0,r._)("_deletedTargets"),S=(0,r._)("_pendingIdentities"),b=(0,r._)("_deletedTargetDuplicates"),T=(0,r._)("_collectRestoringTargets"),I=(0,r._)("_getActualDeletedTargets"),C=(0,r._)("_findActualDeletedTarget"),k=(0,r._)("_isMoreActualIdentity");class P{get ownerId(){return"currentUser"===(0,o._)(this,m)[m]?(0,o._)(this,g)[g].userId??0:(0,o._)(this,m)[m]}get events(){return(0,o._)(this,f)[f].listenable}get(e){const t=this.getTarget(e);return t&&!(0,o._)(this,A)[A].has(t)}has(e){return null!=this.get(e)}getTarget(e){return this.isOwned(e)?e:(0,o._)(this,y)[y].get(e)}getSource(e){return(0,o._)(this,E)[E].get(e)}isOwned(e){return this.ownerId===e.ownerId}isDeleted(e){const t=this.getTarget(e);return!!t&&(0,o._)(this,A)[A].has(t)}checkPending(e){return(0,o._)(this,S)[S].has(e)}async add(e,t){let i;if(this.assertWriteAllowed(),!t.force){const i=this.getTarget(e);if(i)try{return await this.restore(i,{...t,reason:t.reason?p[t.reason]:void 0}),i}catch{}}this.markPending(e);const{trackCode:r}=t;let n;try{if((0,o._)(this,f)[f].emit("add",{source:e,trackCode:r,params:t}),i=await this.requestAdd(e,r),null==i.newAudioId)throw new Error("Missing audio ID in response from audio.add api method");n=this.createIdentity(i.newAudioId),this.setCache(e,n),(0,o._)(this,f)[f].emit("added",{source:e,target:n,trackCode:r,params:t})}finally{this.unmarkPending(e)}return n}async delete(e,t){let i,r,n=this.getSource(e)??e;const a=this.getTarget(e)??e;if(this.assertWriteAllowed(),!this.isDeleted(e)){this.markPendingMany([n,a]),(0,o._)(this,f)[f].emit("delete",{source:n,params:t??{}}),this.markAsDeleted(a);try{i=await this.requestDelete(n),r=i.deletedRawIds.map((e=>d.OwnedIdentity.fromRawId(e))),i.deletedRawIds.length>0?(this.markAsDeletedMany(r),(0,o._)(this,b)[b].set(n,new s.ObservableIdentitySet(r))):this.deleteCache(n),(0,o._)(this,f)[f].emit("deleted",{source:n,params:t??{},targets:r})}catch(e){throw this.unmarkAsDeleted(a),e}finally{this.unmarkPendingMany([n,a])}}}async restore(e,t){let i;const r=[],n=(0,o._)(this,T)[T](e);if(!n)throw new Error("No deleted targets");i=[e,...n],this.assertWriteAllowed(),this.markPendingMany(i),(0,o._)(this,f)[f].emit("restore",{source:e,targets:n,params:t??{}}),this.unmarkAsDeletedMany(i);try{for(const e of n)r.push(this.api.restore({audio_id:e.id,owner_id:e.ownerId}));await Promise.all(r),(0,o._)(this,f)[f].emit("restored",{source:e,targets:n,params:t??{}})}catch(e){if(e?.error?.error_code===_.AudioApiRestoreErrorCode.Expired){const e=this.getSource(n[0]);e&&this.deleteCache(e)}throw e}finally{this.unmarkPendingMany(i)}}setState(e,t,i){i?(this.setCache(e,t),(0,o._)(this,y)[y].set(t,t)):this.markAsDeleted(t),(0,o._)(this,f)[f].emit("forceCached",{source:e,target:t,state:i,params:{}})}setCache(e,t){(0,o._)(this,y)[y].set(e,t),(0,o._)(this,E)[E].set(t,e),this.unmarkAsDeleted(t)}deleteCache(e){const t=(0,o._)(this,y)[y].get(e),i=(0,o._)(this,b)[b].get(e);(0,o._)(this,y)[y].delete(e),t&&((0,o._)(this,E)[E].delete(t),this.unmarkAsDeleted(t)),i&&this.unmarkAsDeletedMany([...i])}assertWriteAllowed(){(0,o._)(this,g)[g].assertAuthorized()}markPending(e){(0,o._)(this,S)[S].add(e)}unmarkPending(e){(0,o._)(this,S)[S].delete(e)}markPendingMany(e){e.forEach((e=>{this.markPending(e)}))}unmarkPendingMany(e){e.forEach((e=>{this.unmarkPending(e)}))}markAsDeletedMany(e){for(const t of e)this.markAsDeleted(t)}markAsDeleted(e){(0,o._)(this,A)[A].add(e)}unmarkAsDeletedMany(e){for(const t of e)this.unmarkAsDeleted(t)}unmarkAsDeleted(e){(0,o._)(this,A)[A].delete(e)}createIdentity(e){return new d.OwnedIdentity({id:e,ownerId:this.ownerId})}constructor(e){Object.defineProperty(this,T,{value:O}),Object.defineProperty(this,I,{value:M}),Object.defineProperty(this,C,{value:L}),Object.defineProperty(this,k,{value:D}),Object.defineProperty(this,m,{writable:!0,value:void 0}),Object.defineProperty(this,g,{writable:!0,value:void 0}),Object.defineProperty(this,v,{writable:!0,value:void 0}),Object.defineProperty(this,f,{writable:!0,value:void 0}),Object.defineProperty(this,y,{writable:!0,value:void 0}),Object.defineProperty(this,E,{writable:!0,value:void 0}),Object.defineProperty(this,A,{writable:!0,value:void 0}),Object.defineProperty(this,S,{writable:!0,value:void 0}),Object.defineProperty(this,b,{writable:!0,value:void 0});const t=function({sharedStateConfig:e,emitterFactory:t}){if(!e)return R(t);const{key:i,version:o}=e,r=(0,l.makeSharedState)(i,(()=>({})),{version:o})();r.current||(r.current=R(t));return r.current}(e);(0,o._)(this,m)[m]=e.ownerId,(0,o._)(this,g)[g]=e.authService,(0,o._)(this,v)[v]=e.userEnv,this.api=e.api,(0,o._)(this,f)[f]=t.emitter,(0,o._)(this,y)[y]=e.targets??t.targets,(0,o._)(this,E)[E]=t.sources,(0,o._)(this,A)[A]=e.deletedTargets??t.deletedTargets,(0,o._)(this,S)[S]=t.pendingIdentities,(0,o._)(this,b)[b]=t.deletedTargetDuplicates,(0,a.makeObservable)(this)}}function O(e){let t,i=(0,o._)(this,I)[I](e);return i&&i.length>0||(t=this.isOwned(e)?e:(0,o._)(this,y)[y].get(e),t&&this.isOwned(t)||(t=(0,o._)(this,C)[C](e)),t&&(i=[t])),i}function M(e){const t=(0,o._)(this,b)[b].get(e);return t?[...t]:[]}function L(e){let t;const i=(0,o._)(this,b)[b].get(e);if(i){for(const e of i)t?(0,o._)(this,k)[k](e,t)&&(t=e):t=e;return t}}function D(e,t){return e.id>t.id}function R(e){return{emitter:e.create(),targets:new c.ObservableIdentityMap,sources:new c.ObservableIdentityMap,deletedTargets:new s.ObservableIdentitySet,pendingIdentities:new s.ObservableIdentitySet,deletedTargetDuplicates:new c.ObservableIdentityMap}}(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],P.prototype,"ownerId",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof IMusicAudioIdentity?Object:IMusicAudioIdentity,"undefined"==typeof IMusicAudioIdentity?Object:IMusicAudioIdentity,Boolean]),(0,n.__metadata)("design:returntype",void 0)],P.prototype,"setState",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof IMusicAudioIdentity?Object:IMusicAudioIdentity,"undefined"==typeof IMusicAudioIdentity?Object:IMusicAudioIdentity]),(0,n.__metadata)("design:returntype",void 0)],P.prototype,"setCache",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof IMusicAudioIdentity?Object:IMusicAudioIdentity]),(0,n.__metadata)("design:returntype",void 0)],P.prototype,"deleteCache",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof IMusicAudioIdentity?Object:IMusicAudioIdentity]),(0,n.__metadata)("design:returntype",void 0)],P.prototype,"markPending",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof IMusicAudioIdentity?Object:IMusicAudioIdentity]),(0,n.__metadata)("design:returntype",void 0)],P.prototype,"unmarkPending",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],P.prototype,"markPendingMany",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],P.prototype,"unmarkPendingMany",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],P.prototype,"markAsDeletedMany",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof IMusicAudioIdentity?Object:IMusicAudioIdentity]),(0,n.__metadata)("design:returntype",void 0)],P.prototype,"markAsDeleted",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],P.prototype,"unmarkAsDeletedMany",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof IMusicAudioIdentity?Object:IMusicAudioIdentity]),(0,n.__metadata)("design:returntype",void 0)],P.prototype,"unmarkAsDeleted",null)},936289:(e,t,i)=>{"use strict";i.d(t,{AudioApiRestoreErrorCode:()=>o});var o=function(e){return e[e.Expired=15]="Expired",e}({})},549294:(e,t,i)=>{"use strict";i.d(t,{CopyableMusicPlaylistsTypes:()=>d,DeletableMusicPlaylistsTypes:()=>u,EditableMusicPlaylistsTypes:()=>s,FollowableMusicPlaylistsTypes:()=>c,MusicPlaylistSubtype:()=>r,MusicPlaylistSubtypeCode:()=>n,MusicPlaylistsTypes:()=>a,ShareableMusicPlaylistsTypes:()=>l});var o=i(891480),r=function(e){return e.NoAlbum="NO_ALBUM",e.Album="ALBUM",e.EP="EP",e.Collection="COLLECTION",e.Single="SINGLE",e.Chat="CHAT",e}({});const n={NO_ALBUM:0,ALBUM:1,EP:2,COLLECTION:3,SINGLE:4,CHAT:5},a=[o.AudioListType.MusicAlbumPlaylist,o.AudioListType.MusicGeneratedPlaylist,o.AudioListType.MusicUGCGroupPlaylist,o.AudioListType.MusicUGCUserPlaylist,o.AudioListType.MusicChatPlaylist,o.AudioListType.MyMusicPlaylist],s=[o.AudioListType.MyMusicPlaylist],c=[o.AudioListType.MusicAlbumPlaylist,o.AudioListType.MusicUGCGroupPlaylist,o.AudioListType.MusicUGCUserPlaylist,o.AudioListType.MusicChatPlaylist],l=[o.AudioListType.MusicAlbumPlaylist,o.AudioListType.MusicUGCGroupPlaylist,o.AudioListType.MusicUGCUserPlaylist,o.AudioListType.MusicChatPlaylist,o.AudioListType.MyMusicPlaylist],d=[o.AudioListType.MusicGeneratedPlaylist],u=[o.AudioListType.MyMusicPlaylist]},500435:(e,t,i)=>{"use strict";i.d(t,{isSpecificMusicPlaylist:()=>r});var o=i(549294);function r(e,t){return t?Array.isArray(t)?t.includes(e.type):e.type===t:o.MusicPlaylistsTypes.includes(e.type)}},164610:(e,t,i)=>{"use strict";function o(e){const{id:t,owner_id:i,access_key:o}=e;return{id:t,ownerId:i,accessKey:o}}function r(e){const{playlist_id:t,owner_id:i,access_key:o}=e;return{id:t,ownerId:i,accessKey:o}}i.d(t,{toMusicPlaylistIdentityData:()=>o,toSpecificVersionMusicPlaylistIdentityData:()=>r})},426471:(e,t,i)=>{"use strict";i.d(t,{MusicDislikeDeactivateReason:()=>o});var o=function(e){return e.MyMusic="MyMusic",e}({})},587029:(e,t,i)=>{"use strict";i.d(t,{MusicService:()=>Y});var o=i(434518),r=i(763812),n=i(331635),a=i(132028),s=i(977459),c=i(26304),l=i(320544),d=i(621348),u=i(807066),_=i(671142),p=i(353754),m=i(599117),g=i(278058),v=i(773208),f=i(426471),y=i(992997),E=i(427435),A=i(646766),S=(0,r._)("_myMusic"),b=(0,r._)("_dislikes"),T=(0,r._)("_groupMusicServices"),I=(0,r._)("_lyrics"),C=(0,r._)("_userPermissions"),k=(0,r._)("_playlistsFollowing"),P=(0,r._)("_playlistItemsServices"),O=(0,r._)("_playlistEditingServices"),M=(0,r._)("_playlistCoverUploaders"),L=(0,r._)("_state"),D=(0,r._)("_initialized"),R=(0,r._)("_setInitialized"),N=(0,r._)("_init"),x=(0,r._)("_connectEvents"),F=(0,r._)("_disconnectEvents"),U=(0,r._)("_handleMyMusicAdd"),B=(0,r._)("_handleMyMusicAdded"),V=(0,r._)("_handleMyMusicDeleted"),H=(0,r._)("_handleMyMusicRestore"),j=(0,r._)("_handleMyMusicRestored"),W=(0,r._)("_handleDislikesActiveRequested"),G=(0,r._)("_handleDislikesActivated"),z=(0,r._)("_handleDislikesDeactivate");let K=a.destroy;class Y{get myMusic(){return(0,o._)(this,S)[S]}get dislikes(){return(0,o._)(this,b)[b]}get groupMusicServices(){return(0,o._)(this,T)[T]}get lyrics(){return(0,o._)(this,I)[I]}get userPermissions(){return(0,o._)(this,C)[C]}get playlistsFollowing(){return(0,o._)(this,k)[k]}get playlistItemsServices(){return(0,o._)(this,P)[P]}get playlistEditingServices(){return(0,o._)(this,O)[O]}get playlistCoverUploaders(){return(0,o._)(this,M)[M]}[K](){(0,o._)(this,F)[F](),(0,o._)(this,R)[R](!1)}constructor(e,t,i,r,n,a,s,c,l,d,u){Object.defineProperty(this,D,{get:$,set:void 0}),Object.defineProperty(this,R,{value:q}),Object.defineProperty(this,N,{value:X}),Object.defineProperty(this,x,{value:Q}),Object.defineProperty(this,F,{value:Z}),Object.defineProperty(this,S,{writable:!0,value:void 0}),Object.defineProperty(this,b,{writable:!0,value:void 0}),Object.defineProperty(this,T,{writable:!0,value:void 0}),Object.defineProperty(this,I,{writable:!0,value:void 0}),Object.defineProperty(this,C,{writable:!0,value:void 0}),Object.defineProperty(this,k,{writable:!0,value:void 0}),Object.defineProperty(this,P,{writable:!0,value:void 0}),Object.defineProperty(this,O,{writable:!0,value:void 0}),Object.defineProperty(this,M,{writable:!0,value:void 0}),Object.defineProperty(this,L,{writable:!0,value:void 0}),Object.defineProperty(this,U,{writable:!0,value:void 0}),Object.defineProperty(this,B,{writable:!0,value:void 0}),Object.defineProperty(this,V,{writable:!0,value:void 0}),Object.defineProperty(this,H,{writable:!0,value:void 0}),Object.defineProperty(this,j,{writable:!0,value:void 0}),Object.defineProperty(this,W,{writable:!0,value:void 0}),Object.defineProperty(this,G,{writable:!0,value:void 0}),Object.defineProperty(this,z,{writable:!0,value:void 0}),this.eventBus=e,this.likesState=t,(0,o._)(this,U)[U]=({source:e,params:t})=>{this.dislikes.state.has(e)&&this.dislikes.deactivate(e,{reason:f.MusicDislikeDeactivateReason.MyMusic,context:t?.context})},(0,o._)(this,B)[B]=e=>{this.eventBus.emittable.emit("myMusicAdded",e)},(0,o._)(this,V)[V]=e=>{e.params.reason===y.MyMusicDeleteReason.Dislike&&this.likesState.myMusicDisliked.add(e.source),this.eventBus.emittable.emit("myMusicDeleted",e)},(0,o._)(this,H)[H]=({source:e,params:t})=>{this.dislikes.state.has(e)&&this.dislikes.deactivate(e,{reason:f.MusicDislikeDeactivateReason.MyMusic,context:t?.context})},(0,o._)(this,j)[j]=e=>{this.likesState.myMusicDisliked.delete(e.source),this.eventBus.emittable.emit("myMusicRestored",e)},(0,o._)(this,W)[W]=({identity:e,params:t})=>{this.myMusic.get(e)&&this.myMusic.delete(e,{reason:y.MyMusicDeleteReason.Dislike,context:t?.context})},(0,o._)(this,G)[G]=e=>{this.eventBus.emittable.emit("dislikesActivated",e)},(0,o._)(this,z)[z]=({identity:e,params:t})=>{t?.reason!==f.MusicDislikeDeactivateReason.MyMusic&&this.likesState.myMusicDisliked.has(e)&&this.myMusic.restore(e,{context:t?.context})};const _=(0,E.ensureStuffing)();(0,o._)(this,S)[S]=i,(0,o._)(this,b)[b]=r,(0,o._)(this,T)[T]=n,(0,o._)(this,I)[I]=a,(0,o._)(this,C)[C]=u,(0,o._)(this,k)[k]=s,(0,o._)(this,P)[P]=c,(0,o._)(this,O)[O]=l,(0,o._)(this,M)[M]=d,(0,o._)(this,L)[L]=_.state,(0,o._)(this,N)[N]()}}function $(){return(0,o._)(this,L)[L].initialized}function q(e){(0,o._)(this,L)[L].initialized=e}function X(){(0,o._)(this,D)[D]||((0,o._)(this,x)[x](),(0,o._)(this,R)[R](!0))}function Q(){const{myMusic:e,dislikes:t}=this;e.events.on("add",(0,o._)(this,U)[U]),e.events.on("added",(0,o._)(this,B)[B]),e.events.on("deleted",(0,o._)(this,V)[V]),e.events.on("restore",(0,o._)(this,H)[H]),e.events.on("restored",(0,o._)(this,j)[j]),t.events.on("activateRequested",(0,o._)(this,W)[W]),t.events.on("activated",(0,o._)(this,G)[G]),t.events.on("deactivate",(0,o._)(this,z)[z])}function Z(){const{myMusic:e,dislikes:t}=this;e.events.off("add",(0,o._)(this,U)[U]),e.events.off("added",(0,o._)(this,B)[B]),e.events.off("deleted",(0,o._)(this,V)[V]),e.events.off("restore",(0,o._)(this,H)[H]),e.events.off("restored",(0,o._)(this,j)[j]),t.events.off("activateRequested",(0,o._)(this,W)[W]),t.events.off("activated",(0,o._)(this,G)[G]),t.events.off("deactivate",(0,o._)(this,z)[z])}Y=(0,n.__decorate)([a.scope.global(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===s.MusicEventBus?Object:s.MusicEventBus,void 0===A.MusicLikesState?Object:A.MusicLikesState,void 0===l.MyMusicService?Object:l.MyMusicService,void 0===d.MusicDislikesService?Object:d.MusicDislikesService,void 0===c.GroupMusicServices?Object:c.GroupMusicServices,void 0===_.MusicLyricsService?Object:_.MusicLyricsService,void 0===u.MusicPlaylistFollowingService?Object:u.MusicPlaylistFollowingService,void 0===p.MusicPlaylistItemsServices?Object:p.MusicPlaylistItemsServices,void 0===m.MusicPlaylistEditingServices?Object:m.MusicPlaylistEditingServices,void 0===v.MusicPlaylistCoverUploadersService?Object:v.MusicPlaylistCoverUploadersService,void 0===g.MusicUserPermissionsService?Object:g.MusicUserPermissionsService])],Y)},992997:(e,t,i)=>{"use strict";i.d(t,{MyMusicDeleteReason:()=>o});var o=function(e){return e.Dislike="Dislike",e}({})},292385:(e,t,i)=>{"use strict";i.d(t,{GroupMusicService:()=>s});var o=i(331635),r=i(327813),n=i(468073),a=i(640238);class s extends a.MusicAudioOwningService{get groupId(){return n.Ranges.convertOwnerIdToGroupId(this.ownerId)}async requestAdd(e,t){const i=await this.api.add({audio_id:e.id,owner_id:e.ownerId,access_key:e.accessKey,track_code:t,group_id:this.groupId});return{newAudioId:i.items?.[0]?.new_audio_id}}async requestDelete(e){return{deletedRawIds:(await this.api.delete({audio_id:e.id,owner_id:e.ownerId,access_key:e.accessKey,group_id:this.ownerId})).audio_ids}}constructor(e){const{groupId:t}=e;if(t<1)throw new Error("[GroupMusicServices] groupId is not group id");super({ownerId:n.Ranges.convertGroupIdToOwnerId(t),api:e.api,authService:e.authService,emitterFactory:e.emitterFactory,userEnv:e.userEnv,sharedStateConfig:{key:`domains/audio/GroupsMusicService/${t}/stuffing`,version:2}}),(0,r.makeObservable)(this)}}(0,o.__decorate)([r.computed,(0,o.__metadata)("design:type",void 0),(0,o.__metadata)("design:paramtypes",[])],s.prototype,"groupId",null)},26304:(e,t,i)=>{"use strict";i.d(t,{GroupMusicServices:()=>u});var o=i(331635),r=i(327813),n=i(132028),a=i(346675),s=i(951652),c=i(26530),l=i(24516),d=i(292385);class u{get(e){let t=this.services.get(e);return t||(t=this.create(e),this.services.set(e,t)),t}create(e){return new d.GroupMusicService({groupId:e,api:this.api,authService:this.authService,emitterFactory:this.emitterFactory,userEnv:this.userEnv})}constructor(e,t,i,o){this.api=e,this.authService=t,this.emitterFactory=i,this.userEnv=o,this.services=new Map,(0,r.makeAutoObservable)(this)}}u=(0,o.__decorate)([n.scope.global(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===a.AudioApi?Object:a.AudioApi,void 0===s.AuthService?Object:s.AuthService,void 0===c.EmitterFactory?Object:c.EmitterFactory,void 0===l.UserEnv?Object:l.UserEnv])],u)},621348:(e,t,i)=>{"use strict";i.d(t,{MusicDislikesService:()=>y});var o=i(434518),r=i(763812),n=i(331635),a=i(327813),s=i(132028),c=i(26530),l=i(951652),d=i(346675),u=i(686804),_=i(646766),p=(0,r._)("_emitter"),m=(0,r._)("_activating"),g=(0,r._)("_deactivating"),v=(0,r._)("_pending"),f=(0,r._)("_assertRequestsAllowed");class y{get events(){return(0,o._)(this,p)[p].listenable}get pending(){return(0,o._)(this,v)[v]}get state(){return this.likesState.dislikesState}async activate(e,t){(0,o._)(this,f)[f]();const i=(0,o._)(this,m)[m].get(e);if(i)return i;if(await(0,o._)(this,g)[g].get(e),!0===this.likesState.dislikesState.get(e))return;const r=this.forceActivate(e,t);try{(0,o._)(this,m)[m].set(e,r),await r}finally{(0,o._)(this,m)[m].delete(e)}}async deactivate(e,t){(0,o._)(this,f)[f]();const i=(0,o._)(this,g)[g].get(e);if(i)return i;if(await(0,o._)(this,m)[m].get(e),!1===this.likesState.dislikesState.get(e))return;const r=this.forceDeactivate(e,t);try{(0,o._)(this,g)[g].set(e,r),await r}finally{(0,o._)(this,g)[g].delete(e)}}async toggle(e,t,i){if((0,o._)(this,f)[f](),(0,o._)(this,v)[v].has(e))return;const r=this.likesState.dislikesState.get(e),n=i??!r;return n!==r?n?this.activate(e,t.activate):this.deactivate(e,t.deactivate):void 0}setState(e,t){this.likesState.dislikesState.set(e,t),(0,o._)(this,p)[p].emit("forceCached",{identity:e,state:t})}async forceActivate(e,t){const i={...t,wasInMyMusic:this.likesState.hasInMyMusic(e)};try{(0,o._)(this,v)[v].add(e),(0,o._)(this,p)[p].emit("activate",{identity:e,params:i});const t=this.api.addDislike({audio_ids:e.rawId});(0,o._)(this,p)[p].emit("activateRequested",{identity:e,params:i}),await t,this.setState(e,!0)}finally{(0,o._)(this,v)[v].delete(e)}(0,o._)(this,p)[p].emit("activated",{identity:e,params:i})}async forceDeactivate(e,t){try{(0,o._)(this,v)[v].add(e),(0,o._)(this,p)[p].emit("deactivate",{identity:e,params:t}),await this.api.removeDislike({audio_ids:e.rawId}),this.setState(e,!1)}finally{(0,o._)(this,v)[v].delete(e)}(0,o._)(this,p)[p].emit("deactivated",{identity:e,params:t})}constructor(e,t,i,r){Object.defineProperty(this,f,{value:E}),Object.defineProperty(this,p,{writable:!0,value:void 0}),Object.defineProperty(this,m,{writable:!0,value:void 0}),Object.defineProperty(this,g,{writable:!0,value:void 0}),Object.defineProperty(this,v,{writable:!0,value:void 0}),this.authService=t,this.api=i,this.likesState=r;const n=(0,u.ensureStuffing)(e);(0,o._)(this,p)[p]=n.emitter,(0,o._)(this,m)[m]=n.activating,(0,o._)(this,g)[g]=n.deactivating,(0,o._)(this,v)[v]=n.pending}}function E(){this.authService.ensureUserId()}(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof IMusicAudioIdentity?Object:IMusicAudioIdentity,"undefined"==typeof IMusicDislikesServiceActivateParams?Object:IMusicDislikesServiceActivateParams]),(0,n.__metadata)("design:returntype",Promise)],y.prototype,"activate",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof IMusicAudioIdentity?Object:IMusicAudioIdentity,"undefined"==typeof IMusicDislikesServiceDeactivateParams?Object:IMusicDislikesServiceDeactivateParams]),(0,n.__metadata)("design:returntype",Promise)],y.prototype,"deactivate",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof IMusicAudioIdentity?Object:IMusicAudioIdentity,"undefined"==typeof IAudioEntityToggleActionToggleParams?Object:IAudioEntityToggleActionToggleParams,Boolean]),(0,n.__metadata)("design:returntype",Promise)],y.prototype,"toggle",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof IMusicAudioIdentity?Object:IMusicAudioIdentity,Boolean]),(0,n.__metadata)("design:returntype",void 0)],y.prototype,"setState",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof IMusicAudioIdentity?Object:IMusicAudioIdentity,"undefined"==typeof IMusicDislikesServiceActivateParams?Object:IMusicDislikesServiceActivateParams]),(0,n.__metadata)("design:returntype",Promise)],y.prototype,"forceActivate",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof IMusicAudioIdentity?Object:IMusicAudioIdentity,"undefined"==typeof IMusicDislikesServiceDeactivateParams?Object:IMusicDislikesServiceDeactivateParams]),(0,n.__metadata)("design:returntype",Promise)],y.prototype,"forceDeactivate",null),y=(0,n.__decorate)([s.scope.global(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===c.EmitterFactory?Object:c.EmitterFactory,void 0===l.AuthService?Object:l.AuthService,void 0===d.AudioApi?Object:d.AudioApi,void 0===_.MusicLikesState?Object:_.MusicLikesState])],y)},686804:(e,t,i)=>{"use strict";i.d(t,{ensureStuffing:()=>a});var o=i(558137),r=i(70916),n=i(74270);function a(e){const t=(0,o.makeSharedState)("domains/audio/MusicDislikesService/stuffing",(()=>({})),{version:1})();return t.current||(t.current=function(e){return{emitter:e.create(),activating:new r.ObservableIdentityMap,deactivating:new r.ObservableIdentityMap,pending:new n.ObservableIdentitySet}}(e)),t.current}},646766:(e,t,i)=>{"use strict";i.d(t,{MusicLikesState:()=>_});var o=i(434518),r=i(763812),n=i(331635),a=i(327813),s=i(132028),c=i(378588),l=i(951652),d=(0,r._)("_getMyMusicTarget"),u=(0,r._)("_isOwned");class _{hasInMyMusic(e){const t=(0,o._)(this,d)[d](e);return!(!t||this.myMusicDeletedTargets.has(t))}constructor(e){Object.defineProperty(this,d,{value:p}),Object.defineProperty(this,u,{value:m}),this.authService=e;const t=(0,c.ensureStuffing)();this.myMusicTargets=t.myMusicTargets,this.myMusicDeletedTargets=t.myMusicDeletedTargets,this.dislikesState=t.dislikesState,this.myMusicDisliked=t.myMusicDisliked,(0,a.makeObservable)(this)}}function p(e){return(0,o._)(this,u)[u](e)?e:this.myMusicTargets.get(e)}function m(e){return this.authService.userIdOrAnonim===e.ownerId}_=(0,n.__decorate)([s.scope.global(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===l.AuthService?Object:l.AuthService])],_)},378588:(e,t,i)=>{"use strict";i.d(t,{ensureStuffing:()=>a});var o=i(558137),r=i(70916),n=i(74270);function a(){const e=(0,o.makeSharedState)("domains/audio/MusicLikesState/stuffing",(()=>({})),{version:1})();return e.current||(e.current={myMusicTargets:new r.ObservableIdentityMap,myMusicDeletedTargets:new n.ObservableIdentitySet,dislikesState:new r.ObservableIdentityMap,myMusicDisliked:new n.ObservableIdentitySet}),e.current}},835972:(e,t,i)=>{"use strict";i.d(t,{MusicPlaylistCoverUploader:()=>u});var o=i(434518),r=i(763812),n=i(465633),a=i(549515);const s={maxHeight:7e3,maxWidth:7e3,minHeight:300,minWidth:300,maxFileSize:5242880};var c=(0,r._)("_audioApi"),l=(0,r._)("_photosApi"),d=(0,r._)("_serverUrl");class u extends n.AudioImageUploader{get restrictions(){return{...super.restrictions,...s}}async ensureServerUrl(){if((0,o._)(this,d)[d])return(0,o._)(this,d)[d];const e=await(0,o._)(this,l)[l].getAudioPlaylistCoverUploadServer({owner_id:this.ownerId},{version:"5.255"}),t=e.upload_url||e.fallback_upload_url;if(!t)throw new Error("The server did not return the playlist cover uploader url");return(0,o._)(this,d)[d]=t,t}async saveRequest(e,t){if(e.ownerId!==this.ownerId)throw new Error("Unexpected playlist ownerId");const{hash:i,photo:r}=await(0,o._)(this,l)[l].saveAudioPlaylistCover({owner_id:this.ownerId,response_json:JSON.stringify(t)},{version:"5.255"}),n=await(0,o._)(this,c)[c].setPlaylistCoverPhoto({hash:i,photo:JSON.stringify(r),playlist_id:e.id},{version:"5.255"});return(0,a.mapAudioPhotoToAudioImage)(n)}constructor(e,{audioApi:t,photosApi:i,...r}){super(r),Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),this.ownerId=e,(0,o._)(this,d)[d]=null,(0,o._)(this,c)[c]=t,(0,o._)(this,l)[l]=i}}},773208:(e,t,i)=>{"use strict";i.d(t,{MusicPlaylistCoverUploadersService:()=>m});var o=i(434518),r=i(763812),n=i(331635),a=i(132028),s=i(123980),c=i(346675),l=i(6962),d=i(26530),u=i(835972),_=(0,r._)("_emitter"),p=(0,r._)("_onSaved");class m{get events(){return(0,o._)(this,_)[_].listenable}create(e){return new u.MusicPlaylistCoverUploader(e,{audioApi:this.audioApi,photosApi:this.photosApi,onSaved:(0,o._)(this,p)[p],apiClient:this.apiClient})}constructor(e,t,i,r){Object.defineProperty(this,_,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),this.apiClient=e,this.audioApi=t,this.photosApi=i,(0,o._)(this,p)[p]=({identity:e,image:t})=>{(0,o._)(this,_)[_].emit("saved",{identity:e,cover:t})},(0,o._)(this,_)[_]=r.create()}}m=(0,n.__decorate)([a.scope.global(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===s.APIClient?Object:s.APIClient,void 0===c.AudioApi?Object:c.AudioApi,void 0===l.PhotosApi?Object:l.PhotosApi,void 0===d.EmitterFactory?Object:d.EmitterFactory])],m)},274867:(e,t,i)=>{"use strict";i.d(t,{MusicPlaylistEditingService:()=>g});var o=i(434518),r=i(763812),n=i(331635),a=i(327813),s=i(23975),c=i(544175),l=(0,r._)("_identity"),d=(0,r._)("_authService"),u=(0,r._)("_audioApi"),_=(0,r._)("_errorLogger"),p=(0,r._)("_emitter"),m=(0,r._)("_assertWriteAllowed");class g{get events(){return(0,o._)(this,p)[p].listenable}get isWriting(){return this._isWriting}get state(){return{isDiscoverable:this._isDiscoverable}}async edit({isDiscoverable:e=!1}){if((0,o._)(this,m)[m](),e===this.state.isDiscoverable)return this.state;try{return this.markWriting(),await(0,o._)(this,u)[u].editPlaylist({playlist_id:(0,o._)(this,l)[l].id,owner_id:(0,o._)(this,l)[l].ownerId,no_discover:e?0:1}),(0,a.runInAction)((()=>{this._isDiscoverable=e})),(0,o._)(this,p)[p].emit("edit",{state:this.state}),this.state}catch(e){throw(0,o._)(this,_)[_].log(e),s.AudioError.fromUnknownError(e)}finally{this.unmarkWriting()}}setState(e){void 0!==e.isDiscoverable&&(this._isDiscoverable=e.isDiscoverable)}markWriting(){this._isWriting=!0}unmarkWriting(){this._isWriting=!1}constructor(e){Object.defineProperty(this,m,{value:v}),Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,_,{writable:!0,value:void 0}),Object.defineProperty(this,p,{writable:!0,value:void 0}),this._isWriting=!1,this._isDiscoverable=!1,(0,o._)(this,l)[l]=e.identity,(0,o._)(this,d)[d]=e.authService,(0,o._)(this,u)[u]=e.audioApi,(0,o._)(this,_)[_]=e.errorLogger;const t=(0,c.ensureStuffing)({identity:e.identity,emitterFactory:e.emitterFactory});(0,o._)(this,p)[p]=t.emitter,(0,a.makeObservable)(this)}}function v(){(0,o._)(this,d)[d].assertAuthorized()}(0,n.__decorate)([a.observable],g.prototype,"_isWriting",void 0),(0,n.__decorate)([a.observable],g.prototype,"_isDiscoverable",void 0),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],g.prototype,"isWriting",null),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type","undefined"==typeof IMusicPlaylistEditingServiceState?Object:IMusicPlaylistEditingServiceState),(0,n.__metadata)("design:paramtypes",[])],g.prototype,"state",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof IMusicPlaylistEditingServiceStateData?Object:IMusicPlaylistEditingServiceStateData]),(0,n.__metadata)("design:returntype",Promise)],g.prototype,"edit",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof IMusicPlaylistEditingServiceStateData?Object:IMusicPlaylistEditingServiceStateData]),(0,n.__metadata)("design:returntype",void 0)],g.prototype,"setState",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[]),(0,n.__metadata)("design:returntype",void 0)],g.prototype,"markWriting",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[]),(0,n.__metadata)("design:returntype",void 0)],g.prototype,"unmarkWriting",null)},544175:(e,t,i)=>{"use strict";i.d(t,{ensureStuffing:()=>r});var o=i(558137);function r({identity:e,emitterFactory:t}){const i=(0,o.makeSharedState)(`domains/audio/IMusicPlaylistEditing/${e.fullId}/stuffing`,(()=>({})),{version:1})();return i.current||(i.current=function(e){return{emitter:e.create()}}(t)),i.current}},599117:(e,t,i)=>{"use strict";i.d(t,{MusicPlaylistEditingServices:()=>_});var o=i(331635),r=i(132028),n=i(346675),a=i(951652),s=i(26530),c=i(955060),l=i(274867),d=i(220644),u=i(327813);class _{provide(e){const t=this.entities.get(e);return t||this.createCached(e)}createCached(e){const t=this.create(e);return this.entities.set(e,t),t}create(e){const{audioApi:t,authService:i,emitterFactory:o,errorLogger:r}=this;return new l.MusicPlaylistEditingService({identity:e,audioApi:t,authService:i,emitterFactory:o,errorLogger:r})}constructor(e,t,i,o){this.audioApi=e,this.authService=t,this.emitterFactory=i,this.errorLogger=o,this.entities=(0,d.ensureStuffing)().entities,(0,u.makeObservable)(this)}}(0,o.__decorate)([u.action,(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",["undefined"==typeof IMusicPlaylistIdentity?Object:IMusicPlaylistIdentity]),(0,o.__metadata)("design:returntype","undefined"==typeof IMusicPlaylistEditingService?Object:IMusicPlaylistEditingService)],_.prototype,"provide",null),(0,o.__decorate)([u.action,(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",["undefined"==typeof IMusicPlaylistIdentity?Object:IMusicPlaylistIdentity]),(0,o.__metadata)("design:returntype","undefined"==typeof IMusicPlaylistEditingService?Object:IMusicPlaylistEditingService)],_.prototype,"createCached",null),_=(0,o.__decorate)([r.scope.global(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===n.AudioApi?Object:n.AudioApi,void 0===a.AuthService?Object:a.AuthService,void 0===s.EmitterFactory?Object:s.EmitterFactory,void 0===c.ErrorLogger?Object:c.ErrorLogger])],_)},220644:(e,t,i)=>{"use strict";i.d(t,{ensureStuffing:()=>n});var o=i(558137),r=i(70916);function n(){const e=(0,o.makeSharedState)("domains/audio/MusicPlaylistEditingServices/stuffing",(()=>({})),{version:1})();return e.current||(e.current={entities:new r.ObservableIdentityMap}),e.current}},807066:(e,t,i)=>{"use strict";i.d(t,{MusicPlaylistFollowingService:()=>u});var o=i(331635),r=i(327813),n=i(132028),a=i(951652),s=i(346675),c=i(26530),l=i(70148),d=i(537023);class u{get events(){return this.emitter.listenable}has(e){return!!this.getFollowedIdentity(e)}getFollowedIdentity(e){return this.targets.get(e)}getOriginalIdentity(e){return this.sources.get(e)}isUnfollowed(e){return this.unfollowedTargets.has(e)}getUnfollowedTargets(e){return this.unfollowedTargets.get(e)}isFollowed(e){return this.currentUserId===e.ownerId?!!this.getOriginalIdentity(e):!!this.getFollowedIdentity(e)}checkPending(e){return this.pendingIdentities.has(e)}async follow(e,t){const{ref:i}=t;let o;this.assertIsNotMineSource(e),this.assertWriteAllowed(),this.markPending(e);try{this.emitter.emit("follow",{originalIdentity:e,ref:i});const t=await this.api.followPlaylist({playlist_id:e.id,owner_id:e.ownerId,access_key:e.accessKey,ref:i??void 0});o=new l.OwnedIdentity({id:t.playlist_id,ownerId:t.owner_id,accessKey:t.access_key}),this.setCache(e,o)}finally{this.unmarkPending(e)}return this.emitter.emit("followed",{originalIdentity:e,followedIdentity:o,ref:i}),o}async unfollow(e){this.assertWriteAllowed(),this.assertIsMineTarget(e);const t=this.getOriginalIdentity(e)??null;this.markPending(e),this.emitter.emit("unfollow",{followedIdentity:e,originalIdentity:t});try{await this.api.deletePlaylist({playlist_id:e.id,owner_id:e.ownerId}),this.markUnfollowed(e),this.deleteCache(e)}finally{this.unmarkPending(e)}this.emitter.emit("unfollowed",{followedIdentity:e,originalIdentity:t})}markUnfollowed(e){const t=this.getOriginalIdentity(e)??null;if(!t)return;this.provideUnfollowedSources(t).add(e)}provideUnfollowedSources(e){let t=this.unfollowedTargets.get(e);return t||(t=new Set,this.unfollowedTargets.set(e,t),t)}setCache(e,t){t.ownerId===this.currentUserId&&(this.targets.set(e,t),this.sources.set(t,e))}deleteCache(e){const t=this.getOriginalIdentity(e);t&&this.targets.delete(t),this.sources.delete(e)}assertWriteAllowed(){this.authService.assertAuthorized()}get currentUserId(){return this.authService.userId??0}markPending(e){this.pendingIdentities.add(e)}unmarkPending(e){this.pendingIdentities.delete(e)}assertIsMineTarget(e){if(!e||e.ownerId!==this.currentUserId)throw new Error("Target identity is not mine")}assertIsNotMineSource(e){if(!e||e.ownerId===this.currentUserId)throw new Error("Source identity is mine")}constructor(e,t,i){this.authService=e,this.api=t;const o=(0,d.ensureStuffing)(i);this.emitter=o.emitter,this.targets=o.targets,this.sources=o.sources,this.unfollowedTargets=o.unfollowedTargets,this.pendingIdentities=o.pendingIdentities,(0,r.makeObservable)(this)}}(0,o.__decorate)([r.action,(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",["undefined"==typeof IMusicPlaylistIdentity?Object:IMusicPlaylistIdentity,"undefined"==typeof IMusicPlaylistFollowingServiceFollowParams?Object:IMusicPlaylistFollowingServiceFollowParams]),(0,o.__metadata)("design:returntype",Promise)],u.prototype,"follow",null),(0,o.__decorate)([r.action,(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",["undefined"==typeof IMusicPlaylistIdentity?Object:IMusicPlaylistIdentity]),(0,o.__metadata)("design:returntype",Promise)],u.prototype,"unfollow",null),(0,o.__decorate)([r.action,(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",["undefined"==typeof IMusicPlaylistIdentity?Object:IMusicPlaylistIdentity]),(0,o.__metadata)("design:returntype",void 0)],u.prototype,"markUnfollowed",null),(0,o.__decorate)([r.action,(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",["undefined"==typeof IMusicPlaylistIdentity?Object:IMusicPlaylistIdentity]),(0,o.__metadata)("design:returntype","undefined"==typeof Set?Object:Set)],u.prototype,"provideUnfollowedSources",null),(0,o.__decorate)([r.action,(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",["undefined"==typeof IMusicPlaylistIdentity?Object:IMusicPlaylistIdentity,"undefined"==typeof IMusicPlaylistIdentity?Object:IMusicPlaylistIdentity]),(0,o.__metadata)("design:returntype",void 0)],u.prototype,"setCache",null),(0,o.__decorate)([r.action,(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",["undefined"==typeof IMusicPlaylistIdentity?Object:IMusicPlaylistIdentity]),(0,o.__metadata)("design:returntype",void 0)],u.prototype,"deleteCache",null),(0,o.__decorate)([r.computed,(0,o.__metadata)("design:type",void 0),(0,o.__metadata)("design:paramtypes",[])],u.prototype,"currentUserId",null),(0,o.__decorate)([r.action,(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",["undefined"==typeof IMusicPlaylistIdentity?Object:IMusicPlaylistIdentity]),(0,o.__metadata)("design:returntype",void 0)],u.prototype,"markPending",null),(0,o.__decorate)([r.action,(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",["undefined"==typeof IMusicPlaylistIdentity?Object:IMusicPlaylistIdentity]),(0,o.__metadata)("design:returntype",void 0)],u.prototype,"unmarkPending",null),u=(0,o.__decorate)([n.scope.global(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===a.AuthService?Object:a.AuthService,void 0===s.AudioApi?Object:s.AudioApi,void 0===c.EmitterFactory?Object:c.EmitterFactory])],u)},537023:(e,t,i)=>{"use strict";i.d(t,{ensureStuffing:()=>a});var o=i(558137),r=i(70916),n=i(74270);function a(e){const t=(0,o.makeSharedState)("domains/audio/MusicPlaylistFollowingService/stuffing",(()=>({})),{version:2})();return t.current||(t.current=function(e){return{emitter:e.create(),targets:new r.ObservableIdentityMap,sources:new r.ObservableIdentityMap,unfollowedTargets:new r.ObservableIdentityMap,pendingIdentities:new n.ObservableIdentitySet}}(e)),t.current}},132042:(e,t,i)=>{"use strict";i.d(t,{MusicPlaylistItemsService:()=>l});var o=i(327813),r=i(70916),n=i(70148),a=i(391751),s=i(768035),c=i(190352);class l{get isInitialized(){return this._isInitialized}get hasFetching(){return this._hasFetching}get togglingEvents(){return this.emitter.listenable}has(e){return this.targets.has(e)||this.sources.has(e)}checkToggling(e){return this.togglingIdentities.has(e)}async toggle(e,t){const i=void 0!==t?t:!this.has(e);await this[i?"add":"remove"](e)}async add(e){let t;this.assertWriteAllowed(),this.assertIsInitialized(),this.assertIsNotOwnedTarget(e);try{this.markToggling(e);const i=await this.api.addToPlaylist({playlist_id:this.identity.id,owner_id:this.identity.ownerId,audio_ids:e.accessRawId}),r=i[0]?.audio_id,a=i[0]?.track_code;if(null==r||!a)throw this.logError("Missing audio ID or tracking data in response from audio.addToPlaylist api method");t=new n.OwnedIdentity({id:r,ownerId:this.identity.ownerId});const s={identity:t,trackCode:a??""};return(0,o.runInAction)((()=>(this.addToCache(e,s),this.unmarkToggling(e),s)))}catch(t){throw this.unmarkToggling(e),t}}async remove(e){const t=this.sources.get(e)??e,i=this.targets.get(e);this.assertWriteAllowed(),this.assertIsInitialized(),this.assertIsOwnedTarget(i);const{id:r,ownerId:n}=this.identity;try{this.markToggling(e),await this.api.removeFromPlaylist({playlist_id:r,owner_id:n,audio_ids:i.accessRawId}),(0,o.runInAction)((()=>{this.removeFromCache(t,i),this.unmarkToggling(e)}))}catch(t){throw this.unmarkToggling(e),t}}async ensure(){return this.isInitialized?this.items:this.fetch()}async fetch(){try{this.markFetching(),this.clearCache();const{audios:e}=await this.api.getIdsBySource({source:"playlist",entity_id:this.identity.accessRawId,ref:this.context.ref??void 0});return(0,o.runInAction)((()=>(e&&this.addItemsFromApi(e),this._isInitialized=!0,this.unmarkFetching(),this.items)))}catch(e){throw this.unmarkFetching(),this.logError("Error when trying to initialize items in a music playlist",e)}}addItemsFromApi(e){const t=new r.ObservableIdentityMap(this.sources);for(const i of e){const e=l.createItemIdentityFromApi(i);if(!e)break;const o={identity:e,trackCode:i.track_code},r=o.identity,n=t.get(r)??r;this.addToCache(n,o)}return this.items}addToCache(e,t){this.targets.set(e,t.identity),this.sources.set(t.identity,e);this.items.some((e=>(0,a.compareIdentities)(e.identity,t.identity)))||this.items.push(t)}removeFromCache(e,t){this.targets.delete(e),this.sources.delete(t);const i=this.items.findIndex((e=>(0,a.compareIdentities)(e.identity,t)));i>=0&&this.items.splice(i,1)}clearCache(){this.sources.clear(),this.targets.clear(),this.items.length=0}markFetching(){this._hasFetching=!0}unmarkFetching(){this._hasFetching=!1}markToggling(e){this.togglingIdentities.add(e)}unmarkToggling(e){this.togglingIdentities.delete(e)}assertWriteAllowed(){this.authService.assertAuthorized()}assertIsInitialized(){if(!this.isInitialized)throw this.logError("Music playlist are not initialized")}assertIsNotOwnedTarget(e){if(!e||this.has(e))throw this.logError("Target identity are already in playlist")}assertIsOwnedTarget(e){if(!e||!this.has(e))throw this.logError("Target identity is not in playlist")}logError(e,t){const i=new Error(e,{cause:t});return this.errorLogger.log(i),i}static createItemIdentityFromApi({audio_id:e}){try{return new n.OwnedIdentity((0,s.parseRawId)(e))}catch(e){return console.error("Invalid audio rawId"),null}}constructor({identity:e,context:t,api:i,authService:r,emitterFactory:n,errorLogger:a}){this.items=[],this._isInitialized=!1,this._hasFetching=!1,this.identity=e,this.context=t,this.api=i,this.authService=r,this.errorLogger=a;const s=(0,c.ensureStuffing)({identity:e,context:t,emitterFactory:n});this.emitter=s.emitter,this.targets=s.targets,this.sources=s.sources,this.togglingIdentities=s.pendingIdentities,(0,o.makeAutoObservable)(this)}}},190352:(e,t,i)=>{"use strict";i.d(t,{ensureStuffing:()=>a});var o=i(558137),r=i(70916),n=i(74270);function a({identity:e,context:t,emitterFactory:i}){const a=(0,o.makeSharedState)(`domains/audio/IMusicPlaylistItemsService/${e.fullId}/${t.ref}/stuffing`,(()=>({})),{version:1})();return a.current||(a.current=function(e){return{emitter:e.create(),sources:new r.ObservableIdentityMap,targets:new r.ObservableIdentityMap,pendingIdentities:new n.ObservableIdentitySet}}(i)),a.current}},353754:(e,t,i)=>{"use strict";i.d(t,{MusicPlaylistItemsServices:()=>_});var o=i(331635),r=i(327813),n=i(132028),a=i(346675),s=i(951652),c=i(26530),l=i(955060),d=i(132042),u=i(532263);class _{provide(e,t){const{getContextKey:i}=_;let o=this.provideContextMap(e).get(i(t));return o||this.createCached(e,t)}createCached(e,t){const{getContextKey:i}=_,o=this.provideContextMap(e),r=this.create(e,t);return o.set(i(t),r),r}create(e,t){const{api:i,authService:o,emitterFactory:r,errorLogger:n}=this;return new d.MusicPlaylistItemsService({identity:e,context:t,api:i,authService:o,emitterFactory:r,errorLogger:n})}provideContextMap(e){let t=this.entities.get(e);return t||(t=(0,r.observable)(new Map),this.entities.set(e,t)),t}static getContextKey(e){return e.ref}constructor(e,t,i,o){this.api=e,this.authService=t,this.emitterFactory=i,this.errorLogger=o,this.entities=(0,u.ensureStuffing)().entities,(0,r.makeAutoObservable)(this)}}_=(0,o.__decorate)([n.scope.global(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===a.AudioApi?Object:a.AudioApi,void 0===s.AuthService?Object:s.AuthService,void 0===c.EmitterFactory?Object:c.EmitterFactory,void 0===l.ErrorLogger?Object:l.ErrorLogger])],_)},532263:(e,t,i)=>{"use strict";i.d(t,{ensureStuffing:()=>n});var o=i(558137),r=i(70916);function n(){const e=(0,o.makeSharedState)("domains/audio/MusicPlaylistItemsServices/stuffing",(()=>({})),{version:1})();return e.current||(e.current={entities:new r.ObservableIdentityMap}),e.current}},278058:(e,t,i)=>{"use strict";i.d(t,{MusicUserPermissionsService:()=>_});var o=i(434518),r=i(763812),n=i(331635),a=i(327813),s=i(132028),c=i(21632),l=i(951652),d=(0,r._)("_updating"),u=(0,r._)("_update");class _{async ensure(){if(this.permissions)return;let e=(0,o._)(this,d)[d];return e||(e=(0,o._)(this,u)[u]().finally((()=>{(0,o._)(this,d)[d]=null})),(0,o._)(this,d)[d]=e),e}setPermissions(e){this.permissions=e}constructor(e,t){Object.defineProperty(this,u,{value:p}),Object.defineProperty(this,d,{writable:!0,value:void 0}),this.accountApi=e,this.authService=t,this.permissions=null,(0,o._)(this,d)[d]=null,(0,a.makeObservable)(this)}}async function p(){this.authService.isAuthorized||this.setPermissions({viewAudioMetaInfo:!1});const e=(await this.accountApi.getInfo({fields:"audio_permissions"})).audio_permissions;if(!e)throw new Error("account.getInfo has not returned audio_permissions");const t={viewAudioMetaInfo:e.audio_meta_info??!1};this.setPermissions(t)}(0,n.__decorate)([a.observable.ref,(0,n.__metadata)("design:type",Object)],_.prototype,"permissions",void 0),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof IMusicUserPermissions?Object:IMusicUserPermissions]),(0,n.__metadata)("design:returntype",void 0)],_.prototype,"setPermissions",null),_=(0,n.__decorate)([s.scope.global(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===c.AccountApi?Object:c.AccountApi,void 0===l.AuthService?Object:l.AuthService])],_)},320544:(e,t,i)=>{"use strict";i.d(t,{MyMusicService:()=>u});var o=i(331635),r=i(132028),n=i(346675),a=i(951652),s=i(26530),c=i(24516),l=i(640238),d=i(646766);class u extends l.MusicAudioOwningService{async requestAdd(e,t){const i=await this.api.add({audio_id:e.id,owner_id:e.ownerId,access_key:e.accessKey,track_code:t});return{newAudioId:i.items?.[0]?.new_audio_id}}async requestDelete(e){return{deletedRawIds:(await this.api.delete({audio_id:e.id,owner_id:e.ownerId,access_key:e.accessKey})).audio_ids}}constructor(e,t,i,o,r){super({ownerId:"currentUser",api:e,authService:t,emitterFactory:i,userEnv:o,targets:r.myMusicTargets,deletedTargets:r.myMusicDeletedTargets,sharedStateConfig:{key:"domains/audio/MyMusicService/stuffing",version:3}})}}u=(0,o.__decorate)([r.scope.global(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===n.AudioApi?Object:n.AudioApi,void 0===a.AuthService?Object:a.AuthService,void 0===s.EmitterFactory?Object:s.EmitterFactory,void 0===c.UserEnv?Object:c.UserEnv,void 0===d.MusicLikesState?Object:d.MusicLikesState])],u)},427435:(e,t,i)=>{"use strict";i.d(t,{ensureStuffing:()=>r});var o=i(558137);function r(){const e=(0,o.makeSharedState)("spa/shared/audio/MusicService/stuffing",(()=>({})),{version:1})();return e.current||(e.current={state:{initialized:!1}}),e.current}},977459:(e,t,i)=>{"use strict";i.d(t,{MusicEventBus:()=>d});var o=i(434518),r=i(763812),n=i(331635),a=i(132028),s=i(26530),c=i(51570),l=(0,r._)("_emitter");class d{get events(){return(0,o._)(this,l)[l].listenable}get emittable(){return(0,o._)(this,l)[l]}constructor(e){Object.defineProperty(this,l,{writable:!0,value:void 0});const t=(0,c.ensureStuffing)(e);(0,o._)(this,l)[l]=t.emitter}}d=(0,n.__decorate)([a.scope.global(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===s.EmitterFactory?Object:s.EmitterFactory])],d)},51570:(e,t,i)=>{"use strict";i.d(t,{ensureStuffing:()=>r});var o=i(558137);function r(e){const t=(0,o.makeSharedState)("domains/audio/MusicEventBus/stuffing",(()=>({})),{version:1})();return t.current||(t.current=function(e){return{emitter:e.create()}}(e)),t.current}},704456:(e,t,i)=>{"use strict";i.d(t,{PodcastAudioFavoritesService:()=>c});var o=i(331635),r=i(132028),n=i(26530),a=i(972573),s=i(708288);class c extends s.AudioEntityToggleService{async requestActivate(e){await this.audioApi.addPodcastEpisode({owner_id:e.ownerId,episode_id:e.id})}async requestDeactivate(e){await this.audioApi.removePodcastEpisode({owner_id:e.ownerId,episode_id:e.id})}constructor(e,t){super(e,{sharedStateConfig:{key:"domains/audio/PodcastAudioFavoritesService/stuffing",version:1}}),this.audioApi=t}}c=(0,o.__decorate)([r.scope.global(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===n.EmitterFactory?Object:n.EmitterFactory,void 0===a.FaveApi?Object:a.FaveApi])],c)},968789:(e,t,i)=>{"use strict";i.d(t,{PodcastAudioIdentity:()=>r});var o=i(70148);class r extends o.OwnedIdentity{constructor(e){super(e),this.podcastId=e.podcastId}}},840532:(e,t,i)=>{"use strict";i.d(t,{NarrativesListProvider:()=>_});var o=i(331635),r=i(132028),n=i(327813),a=i(415836),s=i(627876),c=i(83833),l=i(142352),d=i(871669),u=i(873900);class _{async getNarrativesByOwner({prefetch:e,...t}){const i=e?this.narrativesApi.getFromOwnerWithPrefetch:this.narrativesApi.getFromOwner,o=e?this.narrativesApi.getByIdWithPrefetch:this.narrativesApi.getById,r=(await i(t)).items.map((e=>(0,u.getIdentityRawId)({id:e.id,ownerId:t.owner_id}))).join(","),{fields:n,extended:a}=t;return o({fields:n,extended:a,narratives:r})}constructor(e,t){this.narrativesApi=e,this.statLog=t,this.byId=new l.StoriesEntitiesCache((({prefetch:e,...t})=>new d.StoriesBaseEntity(e?this.narrativesApi.getByIdWithPrefetch:this.narrativesApi.getById,void 0,this.statLog,{...t,fields:t.fields??c.FEED_STORIES_BLOCK_OWNER_FIELDS}))),this.byOwner=new l.StoriesEntitiesCache((({prefetch:e,...t})=>new d.StoriesBaseEntity(e?this.narrativesApi.getFromOwnerWithPrefetch:this.narrativesApi.getFromOwner,void 0,this.statLog,{...t,fields:t.fields??c.FEED_STORIES_BLOCK_OWNER_FIELDS},((e,t)=>({...e,items:[...e.items||[],...t.items||[]],next_from:t.next_from}))))),this.byOwnerWithStories=new l.StoriesEntitiesCache((({prefetch:e,...t})=>new d.StoriesBaseEntity(this.getNarrativesByOwner.bind(this),void 0,this.statLog,{...t,fields:t.fields??c.FEED_STORIES_BLOCK_OWNER_FIELDS}))),(0,n.makeAutoObservable)(this)}}_=(0,o.__decorate)([r.scope.global(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===a.NarrativesApi?Object:a.NarrativesApi,void 0===s.Statlog?Object:s.Statlog])],_)},573825:(e,t,i)=>{"use strict";i.d(t,{ShortVideoUploadService:()=>a});var o=i(331635),r=i(558137),n=i(132028);class a{get owner(){return this.ensureData().owner}get files(){return this.ensureData().files}get uploadData(){return this.ensureData().uploadData}get entryPoint(){return this.ensureData().entryPoint}setOwner(e){this.ensureData().owner=e}setUploadData(e){this.ensureData().uploadData=e}setFiles(e){this.ensureData().files=e}setEntryPoint(e){this.ensureData().entryPoint=e}resetFiles(){this.ensureData().files=(new DataTransfer).files}resetOwner(){this.ensureData().owner=void 0}resetUploadData(){this.ensureData().uploadData=[]}resetEntryPoint(){this.ensureData().entryPoint=""}reset(){this.resetOwner(),this.resetFiles(),this.resetUploadData(),this.resetEntryPoint()}constructor(){this.ensureData=(0,r.makeSharedState)("domains/shortVideo/upload/data",(()=>({owner:void 0,files:(new DataTransfer).files,uploadData:[],entryPoint:""})),{version:4})}}a=(0,o.__decorate)([n.scope.global()],a)},738100:(e,t,i)=>{"use strict";i.d(t,{StoriesListProvider:()=>m});var o=i(331635),r=i(132028),n=i(327813),a=i(142352),s=i(693059),c=i(487067),l=i(871669),d=i(539356),u=i(746310),_=i(627876),p=i(83833);class m{constructor(e,t){this.storiesApi=e,this.statLog=t,this.feed=new a.StoriesEntitiesCache((e=>new s.StoriesFeedList(this.storiesApi,this.statLog,e))),this.search=new a.StoriesEntitiesCache((e=>new c.StoriesSearchList(this.storiesApi,this.statLog,e))),this.archive=new a.StoriesEntitiesCache((({prefetch:e,...t})=>new l.StoriesBaseEntity(e?this.storiesApi.getArchiveWithPrefetch:this.storiesApi.getArchive,void 0,this.statLog,{...t,fields:t.fields??p.FEED_STORIES_BLOCK_OWNER_FIELDS},((e,t)=>({...e,items:[...e.items||[],...t.items||[]]}))))),this.byAds=new a.StoriesEntitiesCache((({prefetch:e,...t})=>new l.StoriesBaseEntity(e?this.storiesApi.getByAdsWithPrefetch:this.storiesApi.getByAds,void 0,this.statLog,{...t,fields:t.fields??p.FEED_STORIES_BLOCK_OWNER_FIELDS}))),this.byId=new a.StoriesEntitiesCache((({prefetch:e,...t})=>new l.StoriesBaseEntity(e?this.storiesApi.getByIdWithPrefetch:this.storiesApi.getById,void 0,this.statLog,{...t,fields:t.fields??p.FEED_STORIES_BLOCK_OWNER_FIELDS}))),this.replies=new a.StoriesEntitiesCache((({prefetch:e,...t})=>new l.StoriesBaseEntity(e?this.storiesApi.repliesWithPrefetch:this.storiesApi.replies,void 0,this.statLog,{...t,fields:t.fields??p.FEED_STORIES_BLOCK_OWNER_FIELDS}))),(0,n.makeAutoObservable)(this),this.discover=new d.StoriesDiscoverList(this.storiesApi,this.statLog).discover}}m=(0,o.__decorate)([r.scope.global(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===u.StoriesApi?Object:u.StoriesApi,void 0===_.Statlog?Object:_.Statlog])],m)},311763:(e,t,i)=>{"use strict";i.d(t,{StoriesViewerEventType:()=>a,StoriesViewerEventsService:()=>s});var o=i(331635),r=i(132028),n=i(584053),a=function(e){return e.markSeen="markSeen",e.markSeenAuthor="markSeenAuthor",e.error="error",e.onClose="onClose",e.blockScrollToCenter="blockScrollToCenter",e.addToBlackList="addToBlackList",e.deleteStory="deleteStory",e.deleteStoryFromNarrative="deleteStoryFromNarrative",e.deleteNarrative="deleteNarrative",e.activeStoryChanged="activeStoryChanged",e}({});class s{get events(){return this.emitter.listenable}constructor(){this.emitter=new n.Emitter}}s=(0,o.__decorate)([r.scope.global()],s)},83833:(e,t,i)=>{"use strict";i.d(t,{FEED_STORIES_BLOCK_OWNER_FIELDS:()=>r,FEED_STORIES_BLOCK_OWNER_MINIMIZED_FIELDS:()=>o,MAX_CACHE_LENGTH:()=>n});const o=["photo_100"].join(","),r=["first_name","last_name","first_name_gen","last_name_gen","first_name_ins","last_name_ins","screen_name","name","is_member","is_closed","photo_50","photo_100","photo_200","friend_status","is_verified","verified","sex"].join(","),n=20},871669:(e,t,i)=>{"use strict";i.d(t,{StoriesBaseEntity:()=>n});var o=i(507380),r=i(327813);class n{async fetch(e=null,t=null,i=!1,o=!1){if(this.promise)return this.promise;this.status="loading",this.controller=new AbortController,this.promise=(i&&this.requestWithPrefetch?this.requestWithPrefetch:this.request)({...this.defaultParams,...e??{}},t||{signal:this.controller.signal});try{const e=await this.promise;return delete this.promise,this.onSuccess(e,o)}catch(e){throw delete this.promise,this.onFail(e),e}}onSuccess(e,t=!1){return this.whenLoadedPromise&&(this.whenLoadedPromise.resolve(),delete this.whenLoadedPromise),t&&this.loadMoreReplaceCallback&&this.data?this.data=this.loadMoreReplaceCallback(this.data,e):this.data=e,this.status="loaded",e}onFail(e){if(this.whenLoadedPromise&&(this.whenLoadedPromise.reject(e),delete this.whenLoadedPromise),e?.error&&(0,o.isRequestAbortError)(e.error))return;const t=e?.error?.error_code;this.statLog.send({name:"stories_api_web_errors",value:t}),this.status="failed"}isLoading(){return"loading"===this.status}isLoaded(){return"loaded"===this.status}isFailed(){return"failed"===this.status}isInitial(){return"initial"===this.status}abort(){this.controller&&(this.controller.abort(),this.status=this.data?"loaded":"initial",delete this.promise)}reset(){this.abort(),this.data=null,this.status="initial"}nextLoad(){return this.whenLoadedPromise||(this.whenLoadedPromise=Promise.withResolvers()),this.whenLoadedPromise.promise}addData(e,t=!0){this.data=e,t&&(this.status="loaded")}constructor(e,t=e,i,o,n){this.statLog=i,this.data=null,this.status="initial",this.request=e,this.requestWithPrefetch=t,this.defaultParams=o,this.loadMoreReplaceCallback=n,(0,r.makeAutoObservable)(this)}}},539356:(e,t,i)=>{"use strict";i.d(t,{StoriesDiscoverList:()=>a});var o=i(327813),r=i(871669),n=i(83833);class a{constructor(e,t){this.storiesApi=e,this.statLog=t,this.discover=new r.StoriesBaseEntity(this.storiesApi.getDiscover,void 0,this.statLog,{count:15,fields:n.FEED_STORIES_BLOCK_OWNER_FIELDS,extended:1}),(0,o.makeAutoObservable)(this)}}},142352:(e,t,i)=>{"use strict";i.d(t,{StoriesEntitiesCache:()=>a});var o=i(327813),r=i(83833),n=i(877897);class a{ensure(e){const t=this.getKeyByParams(e);this.entities[t]||(this.entities[t]=this.makeEntity(e));const i=Object.keys(this.entities);if(i.length>r.MAX_CACHE_LENGTH){const e=i.find((e=>e!==t));e&&this.entities.hasOwnProperty(e)&&delete this.entities[e]}return this.entities[t]}getKeyByParams(e){return(0,n.getKeyByParams)(e)}constructor(e){this.entities={},this.makeEntity=e,(0,o.makeAutoObservable)(this)}}},693059:(e,t,i)=>{"use strict";i.d(t,{StoriesFeedList:()=>a});var o=i(327813),r=i(871669),n=i(83833);class a{isMinimized(){return this.minimized}constructor(e,t,i){this.storiesApi=e,this.statLog=t,this.minimized=!1;let{isMinimized:a,minimizedPreview:s,...c}=i||{};a=Boolean(a),s=s||null==s&&a,this.minimized=a,this.feed=new r.StoriesBaseEntity(this.storiesApi.get,this.storiesApi.getWithPrefetch,this.statLog,{fields:this.minimized?n.FEED_STORIES_BLOCK_OWNER_MINIMIZED_FIELDS:n.FEED_STORIES_BLOCK_OWNER_FIELDS,minimized:this.minimized?1:0,extended:1,...s?{minimized_preview:1}:{},...c}),(0,o.makeAutoObservable)(this)}}},487067:(e,t,i)=>{"use strict";i.d(t,{StoriesSearchList:()=>a});var o=i(327813),r=i(871669),n=i(83833);class a{constructor(e,t,{query:i,placeId:a,prefetch:s,...c}){this.storiesApi=e,this.statLog=t,this.search=new r.StoriesBaseEntity(s?this.storiesApi.searchWithPrefetch:this.storiesApi.search,void 0,this.statLog,{...c,q:i,place_id:a,count:100,fields:n.FEED_STORIES_BLOCK_OWNER_FIELDS,extended:1}),(0,o.makeAutoObservable)(this)}}},877897:(e,t,i)=>{"use strict";i.d(t,{getKeyByParams:()=>o});const o=e=>{const t=Object.keys(e).filter((t=>Boolean(e[t]))).sort();return t.length?JSON.stringify(t.reduce(((t,i)=>(t.push(i,e[i]),t)),[])):"default"}},464527:(e,t,i)=>{"use strict";i.d(t,{ScreenNameResolver:()=>l});var o=i(331635),r=i(132028),n=i(7202),a=i(831454),s=i(782399),c=i(327813);class l{async ensureResolve({screenName:e}){const t=this.data.entityTypes[e];if(t)return t;const i=this.alreadyRequests.get(e);if(i)return await i;const o=this.request({screen_name:e});this.alreadyRequests.set(e,o);try{const t=await o;return this.data.entityTypes[e]=t,t}finally{(0,c.runInAction)((()=>{this.alreadyRequests.delete(e)}))}}async ensureMatch({screenName:e,screenTypes:t}){try{const i=await this.ensureResolve({screenName:e});return i.type&&t.includes(i.type)&&i.object_id?{entityId:i.object_id,screenType:i.type}:void 0}catch(e){if((0,s.isNetworkError)(e))throw e.error;throw e}}constructor(e){this.utilsApi=e,this.data={entityTypes:{}},this.alreadyRequests=new Map,this.request=(0,a.withRetry)(this.utilsApi.resolveScreenName,{retries:2,getDebounceDelay:e=>400*e})}}l=(0,o.__decorate)([r.scope.global(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===n.UtilsApi?Object:n.UtilsApi])],l)},73573:(e,t,i)=>{"use strict";i.d(t,{VideoGroup:()=>s});var o=i(327813),r=i(486831),n=i(800227),a=i(395604);class s{get data(){return this._data}get id(){return this._data.id}get name(){return this._data.name}get isAdmin(){return 1===this._data.is_admin}get isSubscribed(){return Boolean(this.subscription?.isSubscribed)}get isNft(){return Boolean(this._data.is_nft_photo)}get subscribersCount(){return this._data.members_count??0}get isEditorOrAdmin(){return!!this.isAdmin&&this.adminLevel>r.GroupsGroupAdminLevelEnumNames.MODERATOR}toApi(){return{...(0,o.toJS)(this._data),is_member:(0,n.convertToBooleanParam)(this.isSubscribed)}}get adminLevel(){return this._data.admin_level??0}constructor(e,t){this._data=e,this.videoGroupsSubscribeService=t,this.subscription=void 0,this.videoGroupsSubscribeService?.clearOneFromCache(e.id),this.videoGroupsSubscribeService&&(this.subscription=new a.VideoGroupSubscription(this,this.videoGroupsSubscribeService)),(0,o.makeAutoObservable)(this)}}},395604:(e,t,i)=>{"use strict";i.d(t,{VideoGroupSubscription:()=>a});var o=i(327813),r=i(468073),n=i(98710);class a{get isSubscribed(){return this._isSubscribed}setIsSubscribed(e){this._isSubscribed=e}async toggleSubscription(e,t){return this.isSubscribed?this.unsubscribe(e,t):this.subscribe(e,t)}toggleOptimisticSubscribe(e){this.setIsSubscribed(e)}async subscribe(e,t){try{this.toggleOptimisticSubscribe(!0);const i=await this.groupsSubscribeService.join({groupId:r.Ranges.convertOwnerIdToGroupId(this.owner.id),...e&&{trackCode:e},...t&&{source:t}});(0,o.runInAction)((()=>{this.setIsSubscribed(Boolean(i))}))}catch(e){(0,n.isAbortError)(e)||this.setIsSubscribed(!1)}}async unsubscribe(e,t){try{this.toggleOptimisticSubscribe(!1);const i=await this.groupsSubscribeService.leave({groupId:r.Ranges.convertOwnerIdToGroupId(this.owner.id),...e&&{trackCode:e},...t&&{source:t}});(0,o.runInAction)((()=>{this.setIsSubscribed(!Boolean(i))}))}catch(e){(0,n.isAbortError)(e)||this.setIsSubscribed(!0)}}constructor(e,t){this.owner=e,this.groupsSubscribeService=t,this._isSubscribed=this.groupsSubscribeService.getIsMember(this.owner.id)??Boolean(this.owner.data.is_member),(0,o.makeAutoObservable)(this)}}},23893:(e,t,i)=>{"use strict";i.d(t,{VideoOwnerStore:()=>s});var o=i(327813),r=i(468073),n=i(73573),a=i(805373);class s{static isVideoGroup(e){return e instanceof n.VideoGroup}static isVideoUser(e){return e instanceof a.VideoUser}getById(e){if(r.Ranges.isGroupId(e)){const t=r.Ranges.convertOwnerIdToGroupId(e);return this.groupsStore.getById(t)}if(r.Ranges.isUserId(e))return this.usersStore.getById(e)}constructor(e,t){this.groupsStore=e,this.usersStore=t,(0,o.makeAutoObservable)(this)}}},732929:(e,t,i)=>{"use strict";i.d(t,{VideoUpcomingLiveSubscriptionService:()=>c});var o=i(331635),r=i(327813),n=i(873900),a=i(132028),s=i(882044);class c{async subscribe(e,t){const i={owner_id:e.ownerId,video_id:e.videoId,access_key:e.accessKey};await this.videoApi.liveSubscribe(i,t),this.setSubscibed(!0,e.ownerId,e.videoId)}async unsubscribe(e,t){const i={owner_id:e.ownerId,video_id:e.videoId};await this.videoApi.liveUnsubscribe(i,t),this.setSubscibed(!1,e.ownerId,e.videoId)}getMapKey(e,t){return t?(0,n.getIdentityRawId)({id:t,ownerId:e}):e.toString()}setSubscibed(e,t,i){const o=this.getMapKey(t,i);this.videoLiveSubscriptionMap.set(o,e)}isSubscribed(e){return this.videoLiveSubscriptionMap.get(e)}constructor(e){this.videoApi=e,this.videoLiveSubscriptionMap=new Map,(0,r.makeAutoObservable)(this)}}c=(0,o.__decorate)([a.scope.container(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===s.VideoApi?Object:s.VideoApi])],c)},805373:(e,t,i)=>{"use strict";i.d(t,{VideoUser:()=>a});var o=i(327813),r=i(800227),n=i(807564);class a{get data(){return this._data}get name(){return`${this._data.first_name} ${this._data.last_name}`}get isSubscribed(){return Boolean(this.subscription?.isSubscribed)}get isNft(){return Boolean(this._data.is_nft)}get subscribersCount(){return this._data.followers_count??0}toApi(){return{...(0,o.toJS)(this._data),is_subscribed:(0,r.convertToBooleanParam)(this.isSubscribed)}}constructor(e,t){this._data=e,this.videoUserSubscribeService=t,this.subscription=void 0,this.videoUserSubscribeService?.clearOneFromCache(e.id),this.videoUserSubscribeService&&(this.subscription=new n.VideoUserSubscription(this,this.videoUserSubscribeService)),(0,o.makeAutoObservable)(this)}}},807564:(e,t,i)=>{"use strict";i.d(t,{VideoUserSubscription:()=>n});var o=i(327813),r=i(98710);class n{get isSubscribed(){return this._isSubscribed}setIsSubscribed(e){this._isSubscribed=e}async toggleSubscription(e){return this.isSubscribed?this.unsubscribe(e):this.subscribe(e)}toggleOptimisticSubscribe(e){this.setIsSubscribed(e)}async subscribe(e){try{this.toggleOptimisticSubscribe(!0);const t=await this.userSubscribeService.subscribe({userId:this.owner.data.id,...e?{trackCode:e}:{}});(0,o.runInAction)((()=>{this.toggleOptimisticSubscribe(Boolean(t))}))}catch(e){(0,r.isAbortError)(e)||this.toggleOptimisticSubscribe(!1)}}async unsubscribe(e){try{this.toggleOptimisticSubscribe(!1);const{success:t}=await this.userSubscribeService.unsubscribe({userId:this.owner.data.id,...e?{trackCode:e}:{}});(0,o.runInAction)((()=>{this.toggleOptimisticSubscribe(Boolean(t))}))}catch(e){(0,r.isAbortError)(e)||this.toggleOptimisticSubscribe(!0)}}constructor(e,t){this.owner=e,this.userSubscribeService=t,this._isSubscribed=this.userSubscribeService.getIsSubscribed(this.owner.data.id)??Boolean(this.owner.data.is_subscribed),(0,o.makeAutoObservable)(this)}}},800227:(e,t,i)=>{"use strict";i.d(t,{convertToBooleanParam:()=>o});const o=e=>{if(void 0!==e)return e?1:0}},309205:(e,t,i)=>{"use strict";function o(e){if(!e)return"";const t=/^mp4_(\d+)$/,{url:i}=Object.keys(e).reduce(((i,o)=>{const r=o.match(t);if(!r)return i;const n=Number.parseInt(r[1]);return i.quality<n&&(i.quality=n,i.url=String(e[o]??"")),i}),{url:"",quality:0});return i}i.d(t,{getVideoBestQualityUrl:()=>o})},878728:(e,t,i)=>{"use strict";i.d(t,{isAbortApiError:()=>n});var o=i(782399),r=i(285953);const n=e=>(0,o.isNetworkError)(e)&&(0,r.isRequestAbortError)(e.error)},98710:(e,t,i)=>{"use strict";i.d(t,{isAbortError:()=>n});var o=i(804076),r=i(878728);const n=e=>(0,o.isApiNetworkError)(e)&&(0,r.isAbortApiError)(e)},804076:(e,t,i)=>{"use strict";i.d(t,{isApiNetworkError:()=>o});const o=e=>!!e&&"object"==typeof e&&"type"in e&&"network_error"===e.type},285953:(e,t,i)=>{"use strict";i.d(t,{isRequestAbortError:()=>o});const o=e=>e instanceof DOMException&&(20===e.code||"AbortError"===e.name)},595059:(e,t,i)=>{"use strict";i.d(t,{Video:()=>c});var o=i(327813),r=i(873900),n=i(23893),a=i(805373),s=i(576042);class c{static createRawId(e){return(0,r.getIdentityRawId)(e)}get rawId(){const{id:e,owner_id:t}=this.data;return c.createRawId({id:e,ownerId:t})}get data(){return this._data}get owner(){const e=this._data.main_artists?.[0]?.video_owner_id??this._data.owner_id;return this.ownerStore instanceof n.VideoOwnerStore?this.ownerStore.getById(e):this.ownerStore?.getOwner(e)}get mainArtists(){if(this._data.main_artists)return this.transformArtistToOwners(this._data.main_artists)}get featuredArtists(){if(this._data.featured_artists)return this.transformArtistToOwners(this._data.featured_artists)}get secondaryOwner(){if(!this._data?.user_id)return;const e=this.ownerStore instanceof n.VideoOwnerStore?this.ownerStore.getById(this._data.user_id):this.ownerStore?.getOwner(this._data.user_id);return e instanceof a.VideoUser?e:void 0}get isFavorite(){return this.favoriteService?.getIsFavorite(this._data.id)??this._data.is_favorite}get isRestricted(){return Boolean(this._data.restriction?.title)}get canDownload(){return Boolean(2===this._data?.can_download||3===this._data?.can_download&&"interactive"!==this._data.type)}get isDeleted(){return Boolean(this.videoDeletingService?.isDeleted(this.rawId))}get isExternal(){return!!this._data.player&&Boolean(this._data.files?.external||this._data.platform)}toApi(){return{...(0,o.toJS)(this._data),is_favorite:this.isFavorite}}hasOwner(){return void 0!==this.owner}get isUpcomingLive(){return"upcoming"===this._data.live_status}publish(){this._data.is_draft=0}edit(e){this._data.title=e.title,this._data.description=e.description}transformArtistToOwners(e){return e.map((e=>{if(e.video_owner_id)return this.ownerStore instanceof n.VideoOwnerStore?this.ownerStore.getById(e.video_owner_id):this.ownerStore?.getOwner(e.video_owner_id)}))}constructor(e,t,i,r,n,a){this._data=e,this.favoriteService=t,this.likesService=i,this.ownerStore=r,this.videoDeletingService=n,this.userEnv=a,this.likes=new s.VideoVideoLikes(this,this.likesService,this.userEnv),this.favoriteService.setIsFavorite(this._data.id,this._data.is_favorite),(0,o.makeAutoObservable)(this)}}},576042:(e,t,i)=>{"use strict";i.d(t,{VideoVideoLikes:()=>n});var o=i(327813),r=i(98710);class n{get isTriggeredSubscriptionByLikeEnabled(){return Boolean(this.userEnv?.isToggleEnabled("video_trigired_sub_by_like")||this.userEnv?.partConfigEnabled("frontend.video_trigired_sub_by_like_rollout"))}get isLiked(){return Boolean(this.data.likes?.user_likes??0)}toggleLike(e,t=""){const i={type:"video",itemId:this.videoId,ownerId:e,trackCode:this.video.data.track_code,ref:t};if(this.controller?.abort(),this.controller=new AbortController,this.isLiked){if(this.isTriggeredSubscriptionByLikeEnabled)return this.removeLike(i);this.removeLike(i)}else{if(this.isTriggeredSubscriptionByLikeEnabled)return this.addLike(i);this.addLike(i)}}optimisticAddLike(e){const t=this.data?.likes;t&&(t.count=e??(t.count??0)+1,t.user_likes=1)}optimisticRemoveLike(e){const t=this.data?.likes;t&&(t.count=e??Math.max((t.count??0)-1,0),t.user_likes=0)}async addLike(e){try{this.optimisticAddLike();const t=await this.likesService.add(e,{signal:this.controller?.signal});if((0,o.runInAction)((()=>{this.controller=null,this.optimisticAddLike(t.likes)})),this.isTriggeredSubscriptionByLikeEnabled)return t}catch(e){if((0,r.isAbortError)(e)||this.optimisticRemoveLike(),this.isTriggeredSubscriptionByLikeEnabled)return null}}async removeLike(e){try{this.optimisticRemoveLike();const t=await this.likesService.remove(e,{signal:this.controller?.signal});if((0,o.runInAction)((()=>{this.controller=null,this.optimisticRemoveLike(t.likes)})),this.isTriggeredSubscriptionByLikeEnabled)return t}catch(e){if((0,r.isAbortError)(e)||this.optimisticAddLike(),this.isTriggeredSubscriptionByLikeEnabled)return null}}get videoId(){return this.video.data.id}get data(){return this.video.data}constructor(e,t,i){this.video=e,this.likesService=t,this.userEnv=i,this.controller=null,(0,o.makeAutoObservable)(this)}}},501397:(e,t,i)=>{"use strict";i.d(t,{addBreadcrumb:()=>c,logError:()=>s});var o=i(944705),r=i(606979),n=i(890630);function a(e){let t="";return e.timestamp&&(t+=`<${e.timestamp}> `),e.level&&(t+=`[${e.level}] `),t+=[e.type,e.category].join(".")+" ",e.message&&(t+=e.message+" "),e.data&&(t+="\n"+JSON.stringify(e.data)+"\n"),t}function s(e,{breadcrumb:t,environment:i,hasDummyStacktrace:r}={}){r&&e.stack&&delete e.stack,function(e,{breadcrumb:t,environment:i}){const r=(0,o.getClient)();if(r)r.captureException(e,{captureContext:e=>(i&&e.setTags({module:i}),t&&e.addBreadcrumb({message:t.message,category:"custom",data:t.data}),e)})}(e,{breadcrumb:t,environment:i}),function(e,{breadcrumb:t,environment:i}={}){const{log:o,error:r}=(0,n.getTracerModules)();if(!r)return;let s;if(t&&o&&o.log(a(t)),"string"==typeof e)s=new Error(e);else if(e instanceof Error)s=e;else if("object"==typeof e)try{s=new Error(JSON.stringify(e))}catch(e){s=new Error("Unserializable error",{cause:e})}else s=new Error(e?"Unserializable error":"Empty error");r?.error(s,{issueKey:i})}(e,{breadcrumb:t,environment:i})}function c(e){(0,r.addBreadcrumb)(e),(0,n.getTracerModules)().log?.log(a(e))}},44303:(e,t,i)=>{"use strict";i.d(t,{getBackend:()=>u,getEnvironment:()=>n,getModule:()=>c,getPartABSlot:()=>l,getRelease:()=>s,getTestDomainName:()=>a,getUser:()=>d,isStagingOrTestDomain:()=>r});var o=i(766790);function r(){return(0,o.getGlobalObject)().vk?.statsMeta?.st||!1}function n(){return(0,o.getGlobalObject)().vk?.statsMeta?.st?"staging":"production"}function a(){}function s(){n();return(0,o.getGlobalObject)().vk?.rv}function c(){return(0,o.getGlobalObject)().cur?.module||"unknown"}function l(){return(0,o.getGlobalObject)().vk?.pabs}function d(){const e=(0,o.getGlobalObject)().vk?.id;if(e)return{id:String(e)}}function u(){return{backend:(0,o.getGlobalObject)().isBFF??!1?"BFF":"kPHP"}}},766790:(e,t,i)=>{"use strict";function o(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}}i.d(t,{getGlobalObject:()=>o})},814104:(e,t,i)=>{"use strict";function o(e){let t,i=e.split("?")[0];try{const o=new URL(e);i=o.pathname,t=o.host}catch{}const[,o,r,n]=i.match(/^(.*?)\.(.*?)\.(js|css)/)||[];return o&&r?[`${o}.${n}`,t]:[i,t]}i.d(t,{separateSourceAndHash:()=>o})},174275:(e,t,i)=>{"use strict";i.d(t,{CUSTOM_MEASURE_TYPE:()=>c,MINI_APPS_LAYER_NAV_MEASURE:()=>s,MINI_APPS_NAV_MEASURE:()=>a,NAV_CUSTOM_MEASURE_PREFIX:()=>n,PERF_MARK_APP_IN_LAYER:()=>o,PERF_MARK_PAGE_START:()=>r});const o="__navappinlayermark",r="__navpagemark",n="__navcustom_",a="miniapps_navigation",s="miniapps_layer_navigation",c={HARD:"hard",SOFT:"soft",FAIL:"fail"}},920518:(e,t,i)=>{"use strict";i.d(t,{LaunchRecordService:()=>s});var o=i(331635),r=i(327813),n=i(132028),a=i(558137);class s{add(e){const t=this.get(e.id);this.launchRecordMap.set(e.id,t?{...t,...e}:e)}remove(e){this.launchRecordMap.delete(e)}isFullRecordExists(e){return this.isFullLaunchRecord(this.get(e))}isFullLaunchRecord(e){return!!e&&"lifecycle"in e}get(e){return this.launchRecordMap.get(e)??null}hasLayer(){return[...this.launchRecordMap.keys()].some((e=>e.endsWith("_layer")))}constructor(){this.launchRecordMap=(0,a.makeSharedState)("mini_app_launch_record_map",(()=>(0,r.observable)(new Map)),{version:1})()}}s=(0,o.__decorate)([n.scope.global()],s)},759339:(e,t,i)=>{"use strict";i.d(t,{MiniAppLaunchService:()=>f});var o=i(331635),r=i(327813),n=i(444329),a=i(132028),s=i(951652),c=i(590780),l=i(865419),d=i(560158),u=i(577967),_=i(920518),p=i(887866),m=i(771080),g=i(36477),v=i(174275);class f{openInTab(e){const t=`${e.appId}_${(0,n.nanoid)()}`;return this.getLaunchWaiter(t,e,this.makeTabConnection)}openInLayer(e,t={}){this.performance.mark(v.PERF_MARK_APP_IN_LAYER);const i=`${e.appId}_layer`;return this.launchRecordService.add({id:i,options:t}),this.getLaunchWaiter(i,e,this.makeLayerConnection)}getLaunchWaiter(e,t,i){const o=new AbortController,{wait:r,clear:n}=(0,g.waitTimeout)(p.LAUNCH_TIMEOUT,o),a=new Promise((async r=>{o.signal.addEventListener("abort",(()=>r(null))),t&&i&&i({launchId:e,...t},o.signal);const n=await this.waitForConnector(e,o.signal);o.signal.aborted&&n?.close(),r(n)}));return{waitConnect:Promise.race([a,r]).finally(n),abort:()=>o.abort()}}async waitForConnector(e,t){try{return await(0,r.when)((()=>this.launchRecordService.isFullRecordExists(e)),{signal:t}),this.launchRecordService.get(e)}catch{return this.launchRecordService.remove(e),null}}constructor(e,t,i){this.authService=e,this.launchRecordService=t,this.performance=i,this.makeTabConnection=async(e,t)=>{const{appId:i,actorId:o,launchId:r,...n}=e,{origin:a}=window.location,s=(0,m.buildUrl)({...n,appId:i,actorId:o??this.authService.userId,origin:a}),c=window.open(s,"_blank");if(c){const e=new l.MiniAppLifecycle({transform:d.sanitizeMiniAppInfo}),o=new u.TabBridge(c,{lifecycle:e,appId:i}),n=()=>{e.clear(),o.close()};e.hooks.onDestroy.addAfterAll(n),t.addEventListener("abort",n);const a=await o.getHostConnector();this.launchRecordService.add({id:r,...a})}}}}f=(0,o.__decorate)([a.scope.global({abstract:!0}),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===s.AuthService?Object:s.AuthService,void 0===_.LaunchRecordService?Object:_.LaunchRecordService,void 0===c.Performance?Object:c.Performance])],f)},577967:(e,t,i)=>{"use strict";i.d(t,{TabBridge:()=>l});var o=i(862388),r=i(103584),n=i(547065),a=i(679731),s=i(318001),c=i(327354);class l{getHostConnector(){if(!this.hostConnector)throw new c.MiniAppLaunchError("Try to get host connector on the client page");return this.hostConnector}prepareHostConnector(){return{lifecycle:this.lifecycle.getHookSubscriptions(),close:()=>this.source.close(),sendEventToMiniApp:(e,t)=>this.sendMessage({handler:o.TabConnectorBridgeHandlers.SendEventToMiniApp,params:{event:e,data:t}}),sendMessageToMiniApp:e=>this.sendMessage({handler:o.TabConnectorBridgeHandlers.SendMessageToMiniApp,params:e})}}buildClientHandlers({sendEventToMiniApp:e,sendMessageToMiniApp:t}){this.handlers.set(o.TabConnectorBridgeHandlers.SendEventToMiniApp,new r.SendEventToMiniApp(e)),this.handlers.set(o.TabConnectorBridgeHandlers.SendMessageToMiniApp,new n.SendMessageToMiniApp(t)),Object.keys(this.lifecycle.hooks).forEach((e=>{this.lifecycle.hooks[e].add((t=>this.sendMessage({handler:o.TabConnectorBridgeHandlers.Lifecycle,params:{props:t,hook:e}})))})),this.sendMessage({handler:o.TabConnectorBridgeHandlers.TabBridgeConnected,params:{success:!0}})}buildHostHandlers(){this.lifecycle.hooks.onDestroy.addAfterAll((()=>{this.lifecycle.clear(),this.close()})),this.handlers.set(o.TabConnectorBridgeHandlers.Lifecycle,new a.LifecycleHandler(this.lifecycle.hooks)),this.hostConnector=new Promise((e=>{this.handlers.set(o.TabConnectorBridgeHandlers.TabBridgeConnected,{handle:()=>e(this.prepareHostConnector())})}))}sendMessage(e){this.source.postMessage({type:o.TAB_BRIDGE_MESSAGE_TYPE,...e},window.origin)}isValidEvent({data:e,source:t}){return e?.type===o.TAB_BRIDGE_MESSAGE_TYPE&&this.source===t}constructor(e,{lifecycle:t,client:i}){this.handlers=new Map,this.close=()=>{window.removeEventListener("message",this.handleBridgeMessage)},this.handleBridgeMessage=async e=>{if(this.isValidEvent(e)){const{handler:t,params:i}=e.data;try{await(this.handlers.get(t)?.handle(i))}catch{throw new s.MiniAppTabBridgeHandlerError(t)}}},this.source=e,this.lifecycle=t,i?this.buildClientHandlers(i):this.buildHostHandlers(),window.addEventListener("message",this.handleBridgeMessage)}}},862388:(e,t,i)=>{"use strict";i.d(t,{TAB_BRIDGE_MESSAGE_TYPE:()=>r,TabConnectorBridgeHandlers:()=>o});const o={TabBridgeConnected:"TabBridgeConnected",Lifecycle:"Lifecycle",SendEventToMiniApp:"SendEventToMiniApp",SendMessageToMiniApp:"SendMessageToMiniApp"},r="vk-connect-tab"},679731:(e,t,i)=>{"use strict";i.d(t,{LifecycleHandler:()=>o});class o{handle({hook:e,props:t}){this.lifecycle[e].fire(t)}constructor(e){this.lifecycle=e}}},103584:(e,t,i)=>{"use strict";i.d(t,{SendEventToMiniApp:()=>o});class o{handle({event:e,data:t}){this.sendEvent(e,t)}constructor(e){this.sendEvent=e}}},547065:(e,t,i)=>{"use strict";i.d(t,{SendMessageToMiniApp:()=>o});class o{handle(e){this.sendEvent(e)}constructor(e){this.sendEvent=e}}},887866:(e,t,i)=>{"use strict";i.d(t,{GAMES_PATH:()=>r,LAUNCH_TIMEOUT:()=>o});const o=3e4,r="/games"},771080:(e,t,i)=>{"use strict";i.d(t,{buildUrl:()=>n});var o=i(327354),r=i(887866);const n=({location:e,queryParams:t,origin:i,appId:n,actorId:a,isGame:s})=>{try{const o=new URL(`${i}${s?r.GAMES_PATH:""}/app${n}${a?`_${a}`:""}`);if(t)for(const e of Object.keys(t))o.searchParams.set(e,t[e]);return e&&(o.hash=e),o.toString()}catch{throw new o.MiniAppLaunchError("Failed to build mini app URL")}}},560158:(e,t,i)=>{"use strict";i.d(t,{sanitizeMiniAppInfo:()=>o});const o=e=>{const{app:t,config:{scrollTarget:i,...o}={},iframeProps:r,apiVersion:n,host:a}="miniAppInfo"in e?e.miniAppInfo:e,s={app:t,config:o,iframeProps:r,apiVersion:n,host:a};return"miniAppInfo"in e?{...e,miniAppInfo:s}:s}},36477:(e,t,i)=>{"use strict";i.d(t,{waitTimeout:()=>r});var o=i(327354);const r=(e,t)=>{let i;return{clear:()=>clearTimeout(i),wait:new Promise(((r,n)=>{i=setTimeout((()=>{n(new o.MiniAppLaunchError("Timeout error")),t.abort()}),e)}))}}},121783:(e,t,i)=>{"use strict";i.d(t,{MiniAppError:()=>o});class o extends Error{constructor({error_code:e,error_reason:t}){super(t),this.name="MiniAppError",this.errorReason=t,this.errorCode=e}}},327354:(e,t,i)=>{"use strict";i.d(t,{MiniAppLaunchError:()=>n});var o=i(365815),r=i(121783);class n extends r.MiniAppError{constructor(e){super({error_reason:e??"Failed to launch mini app",error_code:o.ERROR_CODES.CUSTOM}),this.name="MiniAppLaunchError"}}},318001:(e,t,i)=>{"use strict";i.d(t,{MiniAppTabBridgeHandlerError:()=>n});var o=i(365815),r=i(121783);class n extends r.MiniAppError{constructor(e){super({error_reason:`Failed to execute handler ${e}`,error_code:o.ERROR_CODES.CUSTOM}),this.name="MiniAppTabBridgeHandlerError"}}},470388:(e,t,i)=>{"use strict";i.d(t,{ReactionsAggregator:()=>l});var o=i(434518),r=i(763812),n=i(327813),a=(0,r._)("_isDestroyed"),s=(0,r._)("_disposers"),c=(0,r._)("_assertNotDestroyed");class l{reaction(e,t,i){(0,o._)(this,c)[c]();const r=(0,n.reaction)(e,t,i);return(0,o._)(this,s)[s].add(r),this}autorun(e,t){(0,o._)(this,c)[c]();const i=(0,n.autorun)(e,t);return(0,o._)(this,s)[s].add(i),this}dispose(){for(const e of(0,o._)(this,s)[s])e();(0,o._)(this,s)[s].clear()}destroy(){this.dispose(),(0,o._)(this,a)[a]=!0}constructor(){Object.defineProperty(this,c,{value:d}),Object.defineProperty(this,a,{writable:!0,value:void 0}),Object.defineProperty(this,s,{writable:!0,value:void 0}),(0,o._)(this,a)[a]=!1,(0,o._)(this,s)[s]=new Set}}function d(){if((0,o._)(this,a)[a])throw new Error("ReactionsAggregator is destroyed")}},70916:(e,t,i)=>{"use strict";i.d(t,{ObservableIdentityMap:()=>u});var o=i(434518),r=i(763812),n=i(331635),a=i(327813),s=(0,r._)("_identities"),c=(0,r._)("_ensureIdentity");let l=Symbol.iterator,d=Symbol.toStringTag;class u{get size(){return this.store.size}has(e){return this.store.has(e.fullId)}get(e){return this.store.get(e.fullId)}set(e,t){return(0,o._)(this,s)[s].set(e.fullId,e),this.store.set(e.fullId,t),this}delete(e){return(0,o._)(this,s)[s].delete(e.fullId),this.store.delete(e.fullId)}clear(){return(0,o._)(this,s)[s].clear(),this.store.clear()}forEach(e,t){this.store.forEach(((i,r)=>{e.call(t,i,(0,o._)(this,c)[c](r),this)}))}*keys(){for(const e of this.store.keys())yield(0,o._)(this,c)[c](e)}values(){return this.store.values()}*entries(){for(const[e,t]of this.store.entries())yield[(0,o._)(this,c)[c](e),t]}[l](){return this.entries()}get[d](){return"ObservableIdentityMap"}constructor(e){Object.defineProperty(this,c,{value:_}),Object.defineProperty(this,s,{writable:!0,value:void 0}),this.store=new Map,(0,o._)(this,s)[s]=new Map,(0,a.makeObservable)(this);for(const[t,i]of e??[])this.set(t,i)}}function _(e){const t=(0,o._)(this,s)[s].get(e);if(!t)throw new Error("IdentityMap inconsistency");return t}(0,n.__decorate)([a.observable.shallow,(0,n.__metadata)("design:type","undefined"==typeof Map?Object:Map)],u.prototype,"store",void 0),(0,n.__decorate)([a.computed,(0,n.__metadata)("design:type",void 0),(0,n.__metadata)("design:paramtypes",[])],u.prototype,"size",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof T?Object:T,"undefined"==typeof V?Object:V]),(0,n.__metadata)("design:returntype",Object)],u.prototype,"set",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",["undefined"==typeof T?Object:T]),(0,n.__metadata)("design:returntype",Boolean)],u.prototype,"delete",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[]),(0,n.__metadata)("design:returntype",void 0)],u.prototype,"clear",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Function,Object]),(0,n.__metadata)("design:returntype",void 0)],u.prototype,"forEach",null)},74270:(e,t,i)=>{"use strict";i.d(t,{ObservableIdentitySet:()=>n});var o=i(331635),r=i(327813);class n{get size(){return this.store.size}has(e){return this.store.has(e.fullId)}add(e){return this.store.set(e.fullId,e),this}delete(e){return this.store.delete(e.fullId)}clear(){return this.store.clear()}forEach(e,t){this.store.forEach((i=>{e.call(t,i,i,this)}))}values(){return this.store.values()}keys(){return this.values()}*entries(){for(const e of this.store.values())yield[e,e]}[Symbol.iterator](){return this.values()}get[Symbol.toStringTag](){return"ObservableIdentitySet"}union(){throw new Error("Not implemented yet!")}intersection(){throw new Error("Not implemented yet!")}difference(){throw new Error("Not implemented yet!")}symmetricDifference(){throw new Error("Not implemented yet!")}isSubsetOf(){throw new Error("Not implemented yet!")}isSupersetOf(){throw new Error("Not implemented yet!")}isDisjointFrom(){throw new Error("Not implemented yet!")}constructor(e){this.store=new Map,(0,r.makeObservable)(this);for(const t of e??[])this.add(t)}}(0,o.__decorate)([r.observable.shallow,(0,o.__metadata)("design:type","undefined"==typeof Map?Object:Map)],n.prototype,"store",void 0),(0,o.__decorate)([r.computed,(0,o.__metadata)("design:type",void 0),(0,o.__metadata)("design:paramtypes",[])],n.prototype,"size",null),(0,o.__decorate)([r.action,(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",["undefined"==typeof T?Object:T]),(0,o.__metadata)("design:returntype",Object)],n.prototype,"add",null),(0,o.__decorate)([r.action,(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",["undefined"==typeof T?Object:T]),(0,o.__metadata)("design:returntype",Boolean)],n.prototype,"delete",null),(0,o.__decorate)([r.action,(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[]),(0,o.__metadata)("design:returntype",void 0)],n.prototype,"clear",null),(0,o.__decorate)([r.action,(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Function,Object]),(0,o.__metadata)("design:returntype",void 0)],n.prototype,"forEach",null)},123980:(e,t,i)=>{"use strict";i.d(t,{APIClient:()=>a});var o=i(331635),r=i(132028),n=i(709390);class a{}a=(0,o.__decorate)([r.scope.global({abstract:!0})],a),r.rootContainer.replace(a,n.APIClientMissingGlobalDeprecatedImpl)},709390:(e,t,i)=>{"use strict";i.d(t,{APIClientMissingGlobalDeprecatedImpl:()=>s});var o=i(331635),r=i(132028),n=i(957994),a=i(738150);class s{request(e,t,i={}){return(0,n.api)(e,t,{...void 0!==i.version?{version:i.version}:{},...void 0!==i.grouping?{grouping:i.grouping}:{},...void 0!==i.accessToken?{accessToken:i.accessToken}:{}},{signal:i?.signal})}fetchWebToken(e,t){return(0,n.login)("web_token",e,t)}fetchConnectExchangeHash(e){return(0,n.login)("connect_exchange_hash",e)}fetchConnectExchangeToken(e){return(0,n.login)("connect_exchange_token",e)}upload(e,t){return(0,a.upload)(e,t)}}s=(0,o.__decorate)([r.scope.global()],s)},295372:(e,t,i)=>{"use strict";i.d(t,{ApiPrefetch:()=>n});var o=i(331635),r=i(132028);class n{}n=(0,o.__decorate)([r.scope.global()],n)},575362:(e,t,i)=>{"use strict";i.d(t,{Appearance:()=>n});var o=i(331635),r=i(132028);class n{}n=(0,o.__decorate)([r.scope.global({abstract:!0})],n)},348847:(e,t,i)=>{"use strict";i.d(t,{AppearanceTheme:()=>o});var o=function(e){return e.Dark="dark",e.Light="light",e}({})},951652:(e,t,i)=>{"use strict";i.d(t,{AuthService:()=>s});var o=i(331635),r=i(327813),n=i(132028),a=i(123980);class s{get isAuthorized(){return!!this.userId}get userId(){return this._userId}get userIdOrAnonim(){return this.userId??0}ensureUserId(){if(!this.userId)throw new Error("AuthService:not authorized user!");return this.userId}setUserId(e){this._userId=e}assertAuthorized(){if(!this.isAuthorized)throw new Error("[AuthService] Not authorized")}async fetchWebToken(){const{access_token:e}=await this.apiClient.fetchWebToken();return e}constructor(e){this.apiClient=e,this._userId=null,(0,r.makeObservable)(this)}}(0,o.__decorate)([r.observable,(0,o.__metadata)("design:type",Object)],s.prototype,"_userId",void 0),(0,o.__decorate)([r.computed,(0,o.__metadata)("design:type",void 0),(0,o.__metadata)("design:paramtypes",[])],s.prototype,"isAuthorized",null),(0,o.__decorate)([r.computed,(0,o.__metadata)("design:type",void 0),(0,o.__metadata)("design:paramtypes",[])],s.prototype,"userId",null),(0,o.__decorate)([r.computed,(0,o.__metadata)("design:type",void 0),(0,o.__metadata)("design:paramtypes",[])],s.prototype,"userIdOrAnonim",null),(0,o.__decorate)([r.action,(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",void 0)],s.prototype,"setUserId",null),s=(0,o.__decorate)([n.scope.global(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===a.APIClient?Object:a.APIClient])],s)},876011:(e,t,i)=>{"use strict";i.d(t,{CaptchaSDK:()=>s});var o=i(331635),r=i(132028),n=i(657472),a=i(784022);class s extends a.CaptchaSDK{load(e){return new Promise(((t,i)=>{this._loaderSrc||i("Loader src is not set");const o=document.createElement("script");o.type="text/javascript",o.src=this._loaderSrc,o.onload=async()=>{const e=await window.vkidCaptchaInit;e?t(e):i("Captcha SDK is undefined")},o.onerror=()=>{i("Failed to load Captcha SDK")},e.append(o)}))}async ensure(){try{return await this.load(document.head)}catch(e){throw e}}async getCaptchaSDK(){try{if(!this._captchaSDK){const e=await this.ensure();this._captchaSDK=new e}}catch(e){}return this._captchaSDK}async handle(e){const t=await this.getCaptchaSDK();if(!t)throw n.CaptchaSDKEvents.NOT_INITIALIZE;if(this._isOpened)throw n.CaptchaSDKEvents.OPENED;return document.activeElement instanceof HTMLElement&&document.activeElement.blur(),this._isOpened=!0,await t.show({container:document.body,iframeSrc:e,view:"popup",onClose:()=>{this._isOpened=!1}})}constructor(...e){super(...e),this._loaderSrc="https://static.vk.com/captchaSDK/loader/0/umd/index.js"}}s=(0,o.__decorate)([r.scope.global()],s)},657472:(e,t,i)=>{"use strict";i.d(t,{CaptchaSDKEvents:()=>o});var o=function(e){return e.CLOSE="close",e.NOT_INITIALIZE="not_initialize",e.OPENED="opened",e}({})},784022:(e,t,i)=>{"use strict";i.d(t,{CaptchaSDK:()=>n});var o=i(331635),r=i(132028);class n{}n=(0,o.__decorate)([r.scope.global({abstract:!0})],n)},550490:(e,t,i)=>{"use strict";i.d(t,{Cookie:()=>n});var o=i(331635),r=i(132028);class n{}n=(0,o.__decorate)([r.scope.platform({abstract:!0})],n)},18992:(e,t,i)=>{"use strict";i.d(t,{DataCache:()=>E});var o=i(331635),r=i(260602),n=i(317764),a=i(132028),s=i(24516),c=i(951652),l=i(627876),d=i(955060);const u="data_cache",_="versions",p="indexeddb_cache_version",m=864e5,g=(e,t)=>{void 0===e&&(e=m);const i=Number(new Date)-Number(new Date(t||0));return 0!==e&&i>e},v=e=>(void 0===e&&(e=m),e>0&&e<=6048e5),f=e=>void 0!==e&&Math.abs((0,n.differenceInDays)(e,new Date))>=7,y=(e,t,i=!1)=>{let o=e?.lastUsed||new Date,r=new Date;return i&&(o=new Date,r=e?.lastUpdate),{created:e?.created||new Date,lastUsed:o,lastUpdate:r,...t}};class E{logError(e,t,i){const o=new Error(e,{cause:i});return this.errorLogger.log(o),this.statLog.send({name:"data_cache_errors",value:1,keys:[t]}),o}isIDBAvailable(){let e=!1;try{indexedDB}catch(t){if(t instanceof Error){const{message:e,name:i}=t;if("SecurityError"!==i)throw this.logError(e,i,t)}e=!0}return"indexedDB"in window.self&&!e}async forceUpdatingStore(e){this.db&&this.db.close();const t=Number(new Date);this.db=await(0,r.openDB)(u,t,{async upgrade(t){!1===t.objectStoreNames.contains(e.name)&&t.createObjectStore(e.name),!1===t.objectStoreNames.contains(_)&&t.createObjectStore(_)}})}async restoreDB(){let e=!1;const t=await(0,r.openDB)(u),i=this.userEnv.getConfigValue(p);if(t.objectStoreNames.contains(_)){const o=t.transaction(_,"readwrite").objectStore(_),r=await o.get("userId"),n=await o.get(p);void 0!==r&&r!==this.authService.userId&&(e=!0),void 0!==n&&n!==i&&(e=!0)}t.close(),e&&(0,r.deleteDB)(u)}async connect(e,t=!1){if(this.isIDBAvailable()){if(!this.db)return t||await this.restoreDB(),this.db=await(0,r.openDB)(u),this}else this.logError("Не удалось создать DataCache","Security Level")}async get(e,t){if(await this.connect(e),!this.db)return;const[i,o]=[e?.storeTTL||m,e?.fieldTTL||m];let r;try{r=this.db.transaction([e.name,_],"readwrite")||{}}catch{return}const n=r.objectStore(_),a=await n.get(e.name);if(!a)return;const s=r.objectStore(e.name);if(a.storeVersion!==e.version)return n.delete(e.name),void s.clear();if(g(i,a.lastUpdate))return n.delete(e.name),void s.clear();const c=await s.get(t);if(null!=c){if(!g(o,c.lastUpdate))return await s.put(y(c,{data:c.data},!0),t),await n.put(y(a,{storeVersion:a.storeVersion},!0),e.name),c.data;s.delete(t)}}async set(e,t,i){const[o,r]=[e?.storeTTL||m,e?.fieldTTL||m];if(!v(o)||!v(r))throw new Error("VKIndexDBSchema: Значение TTL не может быть равно 0 и быть больше 7 дней в миллисекундах");if(await this.connect(e),!this.db)return;let n;try{n=this.db.transaction([e.name,_],"readwrite")}catch(t){await this.forceUpdatingStore(e),n=this.db.transaction([e.name,_],"readwrite")}if(!n)return;const a=n.objectStore(e.name),s=n.objectStore(_),c=await a.get(t),l=await s.get(e.name);await a.put(y(c,{data:i}),t),s.put(this.authService.userId,"userId");void 0===await s.get(p)&&s.put(this.userEnv.getConfigValue(p),p),await s.put(y(l,{storeVersion:e.version}),e.name),f(l?.lastUsed)&&this.statLog.send({name:"data_cache_errors",value:1,keys:[`Store ${e.name} is rarely used`]}),f(c?.lastUsed)&&this.statLog.send({name:"data_cache_errors",value:1,keys:[`Field ${t} is rarely used`]}),await n.done}clearDB(){this.db&&this.db.close(),(0,r.deleteDB)(u)}async clearStore(e){if(!this.db)return;let t;try{t=this.db.transaction([e.name,_],"readwrite")||{}}catch{return}const i=t.objectStore(_),o=t.objectStore(e.name);i.delete(e.name),o.clear()}constructor(e,t,i,o){this.userEnv=e,this.authService=t,this.statLog=i,this.errorLogger=o,this.db=null}}E=(0,o.__decorate)([a.scope.global(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===s.UserEnv?Object:s.UserEnv,void 0===c.AuthService?Object:c.AuthService,void 0===l.Statlog?Object:l.Statlog,void 0===d.ErrorLogger?Object:d.ErrorLogger])],E)},124300:(e,t,i)=>{"use strict";i.d(t,{DoormanPage:()=>a});var o=i(331635),r=i(132028),n=i(584053);class a{on(e,t){return this.emitter.listenable.on(e,t),this}off(e,t){return this.emitter.listenable.off(e,t),this}constructor(){this.emitter=new n.Emitter}}a=(0,o.__decorate)([r.scope.platform({abstract:!0})],a)},26530:(e,t,i)=>{"use strict";i.d(t,{EmitterFactory:()=>d});var o=i(434518),r=i(763812),n=i(331635),a=i(132028),s=i(584053),c=i(955060),l=(0,r._)("_logger");class d{create(e={}){return new s.Emitter({catchListener:e=>{if(!(e instanceof Error))throw e;(0,o._)(this,l)[l].log(e)},...e})}constructor(e){Object.defineProperty(this,l,{writable:!0,value:void 0}),(0,o._)(this,l)[l]=e}}d=(0,n.__decorate)([a.scope.global(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===c.ErrorLogger?Object:c.ErrorLogger])],d)},955060:(e,t,i)=>{"use strict";i.d(t,{ErrorLogger:()=>a});var o=i(331635),r=i(132028),n=i(675659);class a{init(e){if(!this.isFirstInit)throw new Error("ErrorLogger: инит уже был вызван!");this.isFirstInit=!1,this._log=e}log(e,{metaData:t={}}={}){if(!this._log)throw new Error("ErrorLogger: произведите инициализацию");const i=(0,n.unknownToError)(e);return this._log(i,t),i}constructor(){this.isFirstInit=!0}}a=(0,o.__decorate)([r.scope.global()],a)},675659:(e,t,i)=>{"use strict";i.d(t,{unknownToError:()=>r});class o extends Error{constructor(e){super(e),this.name="ErrorLogger-plugin"}}function r(e,t="Unknown error"){if(e instanceof Error)return e;if("string"==typeof e)return new o(e);let i=t;if(function(e){return"object"==typeof e&&!!e}(e)){const t=Object.values(e).find((e=>e instanceof Error));if(t instanceof Error)return t;e&&"message"in e&&"string"==typeof e.message&&(i=e.message)}return new o(i)}},988010:(e,t,i)=>{"use strict";i.d(t,{ExternalEvents:()=>n});var o=i(331635),r=i(132028);class n{}n=(0,o.__decorate)([r.scope.global({abstract:!0})],n)},253145:(e,t,i)=>{"use strict";i.d(t,{FavIconImpl:()=>n});var o=i(331635),r=i(132028);class n{setFavIcon(e){const t=document.getElementsByTagName("head")[0],o=t.querySelector('link[rel="shortcut icon"]');if(!o||o.getAttribute("href")===e)return;const r=document.createElement("link");r.rel="shortcut icon",r.type="image/gif",r.href=e,t.replaceChild(r,o),i._dG("icoNode",r)}}n=(0,o.__decorate)([r.scope.global()],n)},744464:(e,t,i)=>{"use strict";i.d(t,{FavIcon:()=>n});var o=i(331635),r=i(132028);class n{}n=(0,o.__decorate)([r.scope.global({abstract:!0})],n)},270364:(e,t,i)=>{"use strict";i.d(t,{Fingerprint:()=>n});var o=i(331635),r=i(132028);class n{}n=(0,o.__decorate)([r.scope.global({abstract:!0})],n)},712600:(e,t,i)=>{"use strict";i.d(t,{Langs:()=>a});var o=i(331635),r=i(132028),n=i(967982);class a{langReplace(e,t){for(const i in t){if(!t.hasOwnProperty(i))continue;const o=`{${i}}`;e=e.replace(o,t[i])}return e}compactDate(e,t=this.getLang("months_of",!0),i={}){const{excludeTime:o=!1}=i;let{offset:r=0}=i;const n=e.getTime();r*=1e3;const a=Date.now(),s=new Date(a),c=new Date(n+r);return!o&&n>a&&n-a<864e5&&s.getDate()===c.getDate()?this.date(e,"{hour}:{minute} {am_pm}",t,i):c.getFullYear()!==s.getFullYear()||n<a-157248e5?this.date(e,this.getLang("global_date",!0),t,i):this.date(e,this.getLang("global_short_date",!0),t,i)}formatTime(e,{textCase:t="nominative"}={}){return[[n.TIME_UNITS.DAY,this.getLang(n.TIME_UNIT_LANG_CASE_MAP[t][n.TIME_UNITS.DAY],!0)],[n.TIME_UNITS.HOUR,this.getLang(n.TIME_UNIT_LANG_CASE_MAP[t][n.TIME_UNITS.HOUR],!0)],[n.TIME_UNITS.MINUTE,this.getLang(n.TIME_UNIT_LANG_CASE_MAP[t][n.TIME_UNITS.MINUTE],!0)]].reduce(((t,[i,o])=>{const r=Math.floor(e/i),n=r>=1?this.numeric(r,o):"";return e%=i,`${t&&n?`${t} `:t}${n}`}),"")}get isCyrillic(){return["ru","be","ua","uk","kz"].includes(this.locale)}}a=(0,o.__decorate)([r.scope.platform({abstract:!0})],a)},967982:(e,t,i)=>{"use strict";i.d(t,{TIME_UNITS:()=>o,TIME_UNIT_LANG_CASE_MAP:()=>r});const o={SECOND:1,MINUTE:60,HOUR:3600,DAY:86400},r={nominative:{[o.MINUTE]:"global_minutes",[o.HOUR]:"global_hours",[o.DAY]:"global_days_accusative"},accusative:{[o.MINUTE]:"global_minutes_accusative",[o.HOUR]:"global_hours_accusative",[o.DAY]:"global_days_accusative"},nominative_short:{[o.MINUTE]:"global_short_minutes",[o.HOUR]:"global_short_hours",[o.DAY]:"global_short_days"}}},149333:(e,t,i)=>{"use strict";i.d(t,{useLangs:()=>n});var o=i(132028),r=i(712600);function n(){return(0,o.useContainer)().resolve(r.Langs)}},622644:(e,t,i)=>{"use strict";i.d(t,{LoafStats:()=>a,LoafStatsObserveCause:()=>n});var o=i(331635),r=i(132028),n=function(e){return e.SCROLL="scroll",e.TRANSITION="transition",e}({});class a{}a=(0,o.__decorate)([r.scope.global({abstract:!0})],a)},510454:(e,t,i)=>{"use strict";i.d(t,{LocalStorage:()=>n});var o=i(331635),r=i(132028);class n{}n=(0,o.__decorate)([r.scope.global()],n)},804797:(e,t,i)=>{"use strict";i.d(t,{MapsFactoryImpl:()=>a});var o=i(331635),r=i(132028),n=i(77067);class a{createMap(e=!1){return e&&console.log(`[${this.constructor.name}]: createVKMaps`),new n.VKMaps(e)}}a=(0,o.__decorate)([r.scope.global()],a)},999490:(e,t,i)=>{"use strict";i.d(t,{circlePlacemarkIcon:()=>o});const o=e=>`<svg width="64" height="64" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg">\n  <rect data-id="placemark-stroke" x="16" y="12" width="32" height="32" rx="16" fill="currentColor" />\n  <g clip-path="url(#round_clip_mask)">\n    <rect data-id="placemark-base" x="17.5" y="13.5" width="29" height="29" rx="14.5" stroke="inherit" />\n    <rect data-id="placemark-base" x="18" y="14" width="28" height="28" rx="20" fill="${e?"url(#placemark_image_pattern)":"inherit"}" />\n  </g>\n  <defs>\n    <clipPath id="round_clip_mask">\n      <rect x="18" y="14" width="28" height="28" rx="14" />\n    </clipPath>\n    ${e?'<pattern id="placemark_image_pattern" patternContentUnits="objectBoundingBox" width="1" height="1">\n    <use xlink:href="#placemark_image" transform="translate(0 -0.0318182) scale(0.00113636)" />\n  </pattern>':""}\n    ${e?`<image data-id="placemark-image" id="placemark_image" width="880" height="936" xlink:href="${e}" />`:""}\n  </defs>\n</svg>`},985931:(e,t,i)=>{"use strict";i.d(t,{pinIcon:()=>o});const o=()=>'\n<svg width="56" height="61" viewBox="0 0 56 61" xmlns="http://www.w3.org/2000/svg">\n  <ellipse data-id="pin-shadow" cx="28" cy="54" rx="7" ry="4" fill="#000" fill-opacity="0.4" style="filter: blur(2px)" />\n  <path data-id="pin-base" d="M30 38.896C39.5533 37.8966 47 29.8179 47 20C47 9.50659 38.4934 1 28 1C17.5066 1 9 9.50659 9 20C9 29.8179 16.4467 37.8966 26 38.896V52C26 53.1046 26.8954 54 28 54C29.1046 54 30 53.1046 30 52V38.896Z" fill="currentColor" />\n</svg>'},1838:(e,t,i)=>{"use strict";i.d(t,{placemarkIcon:()=>o});const o=e=>`<svg width="68" height="78" viewBox="5 6 68 78" fill="inherit" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <path data-id="placemark-base" fill-rule="evenodd" clip-rule="evenodd" d="M62 31C62 41.0645 55.5356 49.6191 46.5323 52.7383C45.7687 53.1359 45.1693 53.4976 44.5 53.9979C42.8 55.298 40.9618 57.8518 40 59.4979C39.8076 59.8337 39.4764 59.9986 39 60C38.5236 59.9986 38.1924 59.8337 38 59.4979C37.0382 57.8518 35.2 55.298 33.5 53.9979C32.8307 53.4976 32.2313 53.1359 31.4677 52.7383C22.4644 49.6191 16 41.0645 16 31C16 18.2975 26.2975 8 39 8C51.7025 8 62 18.2975 62 31Z" fill="currentColor" />\n    <rect data-id="placemark-point" x="34" y="69" width="10" height="10" rx="5" fill="inherit" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />\n    <g clip-path="url(#rount_clip_mask)">\n      <rect x="19" y="11" width="40" height="40" rx="20" fill="${e?"url(#placemark_image_pattern)":"inherit"}" />\n    </g>\n  <defs>\n    ${e?'<pattern id="placemark_image_pattern" patternContentUnits="objectBoundingBox" width="1" height="1">\n  <use xlink:href="#placemark_image" transform="translate(0 -0.0318182) scale(0.00113636)" />\n</pattern>':""}\n    <clipPath id="rount_clip_mask">\n      <rect x="19" y="11" width="40" height="40" rx="20" />\n    </clipPath>\n    ${e?`<image data-id="placemark-image" id="placemark_image" width="880" height="936" xlink:href="${e}" />`:""}\n  </defs>\n</svg>`},659934:(e,t,i)=>{"use strict";i.d(t,{pointIcon:()=>o});const o=()=>'\n<svg width="8" height="8" viewBox="0 0 8 8" xmlns="http://www.w3.org/2000/svg">\n  <circle cx="4" cy="4" r="4" fill="currentColor"/>\n</svg>'},224650:(e,t,i)=>{"use strict";i.d(t,{ensureVKMapsAdapter:()=>a});var o=i(911786),r=i(544927);class n{async load(){if(!this.isLoaded)try{await this.loadAssets(),this.debugLog("before resolve"),this._readyActions.resolve()}catch(e){this._status="error",this._readyActions.reject(e)}}get ready(){return this._ready}debugLog(e,...t){this.params.debugEnabled&&console.log(`[${this.constructor.name}]: ${e}`,...t)}get api(){return this._api}get isLoaded(){return"loaded"===this.status}get isError(){return"error"===this.status}get status(){return this._status}async loadAssets(){this.debugLog("loadAssets");try{if(!this.params.accessToken)throw new Error("Не указан accessToken");const{default:e}=await Promise.all([i.e(24639),i.e("langs/web/plugins_maps_mmrgl_script_chunk")]).then(i.t.bind(i,192500,23));this.debugLog("after js lib import"),await Promise.all([i.e(30685),i.e("langs/web/plugins_maps_mmrgl_style_chunk")]).then(i.bind(i,204034)),this.debugLog("after css lib import"),this._api=e,this.debugLog("after set api"),this._api.accessToken=this.params.accessToken,this.debugLog("after accessToken"),this._status="loaded",this.debugLog("loaded")}catch{throw new o.MapsLoadError("Не удалось загрузить файлы для работы с картами")}}constructor({accessToken:e,debugEnabled:t}){this._readyActions={resolve:()=>{},reject:()=>{}},this.params={accessToken:r.apiKey,debugEnabled:!1},this._status="loading",this._api=null,this.debugLog("constructor"),e&&(this.params.accessToken=e),t&&(this.params.debugEnabled=t),this._ready=new Promise(((e,t)=>{this._readyActions.resolve=e,this._readyActions.reject=t}))}}const a=((e=!1)=>{let t=null;return()=>(t||(t=new n({debugEnabled:e})),t)})()},77067:(e,t,i)=>{"use strict";i.d(t,{VKMaps:()=>f});var o=i(715263),r=i(911786),n=i(260682),a=i(671014),s=i(18560),c=i(305114),l=i(985931),d=i(659934),u=i(999490),_=i(1838),p=i(224650),m=i(868624);const g="mmr://api/styles/main_style.json",v="mmr://api/styles/dark_style.json";class f{async init(){if("loaded"===this._adapter.status)return this.debugLog("init","loaded"),this;try{this._adapter.load(),await this._adapter.ready,this.debugLog("init","adapter loaded",this._adapter.isLoaded)}catch(e){if(e instanceof Error)throw e}return this}debugLog(e,...t){this.debugEnabled&&console.log(`[${this.constructor.name}]: ${e}`,...t)}get status(){return this._adapter.status}get api(){return this._adapter.api}get adapter(){return this._adapter}get map(){if(null===this._map)throw new o.MapsMapNotFoundError("Карта вероятно не инициализирована");return this._map}get isRendered(){return Boolean(this.map)}triggerGeoControl(){this.debugLog("triggerGeoControl",{showUserLocation:this._geoControl?.options.showUserLocation}),this._geoControl&&this._geoControl?._geolocateButton.click()}toggleDarkTheme(e){this.debugLog("toggleDarkTheme",e),this.map.setStyle(e?v:g,{transformStyle:(e,t)=>{const i=e?.layers.filter((e=>e.id.startsWith(this._prefix))),o=t.layers.concat(i),{sources:r}=t;for(const[t,i]of Object.entries(e?.sources))t.startsWith(this._prefix)&&(r[t]=i);return{...t,sources:r,layers:o}}})}render({container:e,center:t,zoom:i=14,geoParams:{showUserLocation:o=!0,enableHighAccuracy:s=!1,showAccuracyCircle:c=!0,showGeolocationButton:l=!0}={},interactive:d=!0,showZoom:u=!0}){try{const n={container:e,zoom:i,center:[t.lng,t.lat],style:g,hash:!1,interactive:d};if(!this.api)throw new r.MapsLoadError("api карт не был загружен");this._map=new this.api.Map(n),this._geoControl=new this.api.GeolocateControl({showUserLocation:o,showAccuracyCircle:c,positionOptions:{enableHighAccuracy:s}});const a=new this.api.NavigationControl({showCompass:!1,showZoom:u});l&&this._map.addControl(this._geoControl,"bottom-right"),this._map.addControl(a,"bottom-right"),this.map.on("load",(()=>{this._handleMapEvent({eventType:"load"}),this._registerMapEventHandlers()}))}catch(e){if(e instanceof n.MapsError)throw e;if(e instanceof Error)throw new a.MapsRenderError(e.message);throw new n.MapsError("Неизвестная ошибка при отрисовке карты")}return this}onMapMouseEvent(e,t){if(this.debugLog("onMapMouseEvent",e,t),void 0===this._mapMouseEventHandlers[e])throw new n.MapsError(`Обработчик события "${e}" не реализован`);this._mapMouseEventHandlers[e]?.add(t)}onMapLayerMouseEvent(e,t,i){if(this.debugLog("onMapLayerMouseEvent",e,t,i),void 0===this._mapMouseEventHandlers[e])throw new n.MapsError(`Обработчик события "${e}" не реализован`);const o=t.startsWith(this._prefix)?t:this._getId(t);this.map.on(e,o,(i=>{this._handleMapMouseEvent({eventType:e,layerId:t,params:{feature:i.features?.[0],lngLat:{lng:i.lngLat.lng,lat:i.lngLat.lat}}})})),this._mapMouseEventHandlers[e]?.add([t,i])}offMapMouseEvent(e,t){if(this.debugLog("offMapMouseEvent",e,t),void 0===this._mapMouseEventHandlers[e])throw new n.MapsError(`Обработчик события "${e}" не реализован`);this._mapMouseEventHandlers[e]?.delete(t)}offMapLayerMouseEvent(e,t,i){if(this.debugLog("offMapLayerMouseEvent",e,t,i),void 0===this._mapMouseEventHandlers[e])throw new n.MapsError(`Обработчик события "${e}" не реализован`);this.map.off(e,t,i),this._mapMouseEventHandlers[e]?.delete([t,i])}onMapEvent(e,t){if(this.debugLog("onMapEvent",e,t),void 0===this._mapEventHandlers[e])throw new n.MapsError(`Обработчик события "${e}" не реализован`);this._mapEventHandlers[e]?.add(t)}offMapEvent(e,t){if(this.debugLog("offMapEvent",e,t),void 0===this._mapEventHandlers[e])throw new n.MapsError(`Обработчик события "${e}" не реализован`);this._mapEventHandlers[e]?.delete(t)}_isLayerMouseEvent(e){return"layerId"in e}_handleMapMouseEvent(e){const{eventType:t,params:i}=e;this.debugLog("_handleMapMouseEvent",{eventType:t,params:i}),this._mapMouseEventHandlers[t]?.forEach((t=>{if(Array.isArray(t)){const[o,r]=t;if(this._isLayerMouseEvent(e)&&o===e.layerId){const e="feature"in i?i.feature:null;r({...e&&{feature:e},lngLat:i.lngLat})}}else t({lngLat:i.lngLat})}))}_handleMapEvent({eventType:e}){this.debugLog("_handleMapEvent",{eventType:e});const{lng:t,lat:i}=this.map.getCenter();this._mapEventHandlers[e]?.forEach((e=>{e({lngLat:{lng:t,lat:i}})}))}_registerMapEventHandlers(){this.map.on("mouseenter",(e=>{this._handleMapMouseEvent({eventType:"mouseenter",params:{lngLat:{lng:e.lngLat.lng,lat:e.lngLat.lat}}})})),this.map.on("mouseleave",(e=>{this._handleMapMouseEvent({eventType:"mouseleave",params:{lngLat:{lng:e.lngLat.lng,lat:e.lngLat.lat}}})})),this.map.on("mousedown",(e=>{this._handleMapMouseEvent({eventType:"mousedown",params:{lngLat:{lng:e.lngLat.lng,lat:e.lngLat.lat}}})})),this.map.on("mousemove",(e=>{this._handleMapMouseEvent({eventType:"mousemove",params:{lngLat:{lng:e.lngLat.lng,lat:e.lngLat.lat}}})})),this.map.on("mouseup",(e=>{this._handleMapMouseEvent({eventType:"mouseup",params:{lngLat:{lng:e.lngLat.lng,lat:e.lngLat.lat}}})})),this.map.on("drag",(e=>{const t=e.target.getCenter();this._handleMapMouseEvent({eventType:"drag",params:{lngLat:{lng:t.lng,lat:t.lat}}})})),this.map.on("dragstart",(e=>{const t=e.target.getCenter();this._handleMapMouseEvent({eventType:"dragstart",params:{lngLat:{lng:t.lng,lat:t.lat}}})})),this.map.on("dragend",(e=>{const t=e.target.getCenter();this._handleMapMouseEvent({eventType:"dragend",params:{lngLat:{lng:t.lng,lat:t.lat}}})})),this.map.on("click",(e=>{this._handleMapMouseEvent({eventType:"click",params:{lngLat:{lng:e.lngLat.lng,lat:e.lngLat.lat}}})})),this.map.on("zoom",(e=>{const t=e.target.getCenter();this._handleMapMouseEvent({eventType:"zoom",params:{lngLat:{lng:t.lng,lat:t.lat}}})})),this.map.on("zoomend",(e=>{const t=e.target.getCenter();this._handleMapMouseEvent({eventType:"zoomend",params:{lngLat:{lng:t.lng,lat:t.lat}}})})),this.debugLog("_registerMapEventHandlers","registered")}get center(){if(!this.map)return null;const{lng:e,lat:t}=this.map.getCenter();return{lng:e,lat:t}}setCenter(e){const{coords:{lat:t,lng:i}}=e;return e.isAnimated?(this.map.flyTo({center:{lng:i,lat:t}}),this):(this.map.setCenter({lng:i,lat:t}),this)}get zoom(){return this.map.getZoom()}setZoom({value:e}){return this.map.setZoom(e),this}destroy(){this._map?.remove();const e=Object.keys(this._mapMouseEventHandlers),t=Object.keys(this._mapEventHandlers);e.forEach((e=>{this._mapMouseEventHandlers[e]?.clear()})),t.forEach((e=>{this._mapEventHandlers[e]?.clear()})),this._geoJSONSources.clear()}_getPlacemarkDataByDisplayType({displayType:e,imageSrc:t=""}){let i,o,r;const n=10;let a={top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-50],"bottom-left":[25,-65],"bottom-right":[-25,-65],left:[n,-40],right:[-10,-40]};switch(e){case s.MapsPlacemarkDisplayType.pin:i=(0,l.pinIcon)(),o=[0,0],r="";break;case s.MapsPlacemarkDisplayType.dot:i=(0,d.pointIcon)(),o=[0,8],r="";break;case s.MapsPlacemarkDisplayType.circle:i=(0,u.circlePlacemarkIcon)(t),o=[0,15],r="drop-shadow(0 5px 0.75rem rgba(0,0,0,.3))";break;case s.MapsPlacemarkDisplayType.marker:i=(0,_.placemarkIcon)(t),o=[0,15],r="drop-shadow(0 10px 0.75rem rgba(0,0,0,.3))"}const c=document.createElement("div");e===s.MapsPlacemarkDisplayType.pin&&(c.style.zIndex="1");const p=c.attachShadow({mode:"open"}),m=document.createElement("span");return m.setHTMLUnsafe(i),p.appendChild(m),{iconEl:c,iconOffset:o,iconShadow:r,popupOffsets:a}}_getId(e){return`${this._prefix}${e}`}addPlacemark({displayType:e=s.MapsPlacemarkDisplayType.default,noShadow:t=!1,imageSrc:i,color:o,anchorColor:r,...n}){if(this._adapter.isError||!this._adapter.isLoaded||!this._adapter.api)throw new c.MapsPlacemarkError("Невозможно создать метку. Модуль карт не загружен");const a={...n};if(e&&e!==s.MapsPlacemarkDisplayType.default){const{iconEl:c,iconOffset:l,iconShadow:d}=this._getPlacemarkDataByDisplayType({displayType:e,imageSrc:i});c.style.color=o??"#2688eb",e!==s.MapsPlacemarkDisplayType.pin&&(c.style.fill=r??"#99A2AD"),n.onClick&&(c.style.cursor="pointer"),t||""===d||(c.style.filter=d),a.element=c,a.offset=l,a.anchor="bottom"}else a.color=o;const l=new m.VKMapsPlacemark({api:this._adapter.api,map:this.map,params:a,debugEnabled:this.debugEnabled});return l.render(),l}getBoundingBox(){const e=this.map.getBounds(),t=e.getNorthWest(),i=e.getSouthEast();return{nw:{lng:t.lng,lat:t.lat},se:{lng:i.lng,lat:i.lat}}}get isModuleLoaded(){return!(this._adapter.isError||!this._adapter.isLoaded||!this._adapter.api)}get geoJSONSources(){return this._geoJSONSources}removeGeoJSONSource(e){this._geoJSONSources.delete(e),this.map.removeSource(this._getId(e))}addCheckoutPickupPointsData({id:e,features:t,onPointClick:i}){if(!this.isModuleLoaded)throw new n.MapsError("Невозможно нанести кластеры меток. Модуль карт не загружен");if(this._geoJSONSources.has(e))throw new n.MapsError(`Кластер с id: ${e} уже создан`);const o=this._getId(e),r=`${o}_Clusters`,a=`${o}_ClustersCount`,s=`${o}_Unclustered`,c=`${o}_ShadowLevel1`,l=`${o}_ShadowLevel2`;try{this.map.addSource(o,{type:"geojson",data:{type:"FeatureCollection",features:t},cluster:!0,clusterMaxZoom:14,clusterRadius:50})}catch(e){throw new n.MapsError("Ошибка добавления geojson-источника данных")}this._geoJSONSources.add(e);try{this.map.addLayer({id:r,type:"circle",source:o,filter:["has","point_count"],paint:{"circle-color":"#2688EB","circle-stroke-width":2,"circle-stroke-color":"#fff","circle-radius":16}}),this.map.addLayer({id:a,type:"symbol",source:o,filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Semibold"],"text-size":13,"text-allow-overlap":!0},paint:{"text-color":"#fff"}}),this.map.addLayer({id:c,type:"circle",source:o,paint:{"circle-color":"rgba(0, 0, 0, 0.08)","circle-translate":[0,0],"circle-blur":1,"circle-radius":["interpolate",["linear"],["zoom"],12,["case",["boolean",["has","point_count"],!1],24,8],13,24]}},r),this.map.addLayer({id:l,type:"circle",source:o,paint:{"circle-color":"rgba(0, 0, 0, 0.08)","circle-translate":[0,4],"circle-blur":1,"circle-radius":["interpolate",["linear"],["zoom"],12,["case",["boolean",["has","point_count"],!1],32,16],13,24]}},c),this.map.addLayer({id:s,type:"circle",source:o,filter:["!",["has","point_count"]],paint:{"circle-color":["get","color"],"circle-stroke-width":["interpolate",["linear"],["zoom"],12,0,13,2],"circle-stroke-color":"#fff","circle-radius":["interpolate",["linear"],["zoom"],12,4,13,16]}})}catch(e){throw new n.MapsError("Ошибка добавления слоев для кластера")}this.onMapLayerMouseEvent("mouseenter",s,(()=>{this.map.getCanvas().style.cursor="pointer"})),this.onMapLayerMouseEvent("mouseleave",s,(()=>{this.map.getCanvas().style.cursor=""})),this.onMapLayerMouseEvent("click",s,(({feature:e})=>{e?.properties?.id&&i({id:e.properties.id})}))}updateCheckoutPickupPointsData({id:e,features:t}){if(!this._geoJSONSources.has(e))throw new n.MapsError(`Источник данных карты с id: ${e} не существует`);const i=this.map.getSource(this._getId(e));if(!i||"geojson"!==i.type)throw new n.MapsError(`Источник данных карты с id: ${this._getId(e)} не найден на карте`);i?.setData({type:"FeatureCollection",features:t})}constructor(e=!1,t=(0,p.ensureVKMapsAdapter)()){this.debugEnabled=e,this._adapter=t,this._map=null,this._geoControl=null,this._mapMouseEventHandlers={click:new Set,mousedown:new Set,mouseenter:new Set,mouseleave:new Set,mousemove:new Set,mouseup:new Set,drag:new Set,dragstart:new Set,dragend:new Set,zoom:new Set,zoomend:new Set},this._mapEventHandlers={load:new Set},this._prefix="VKMapsPrefix_",this._geoJSONSources=new Set,this.debugLog("constructor")}}},868624:(e,t,i)=>{"use strict";i.d(t,{VKMapsPlacemark:()=>r});var o=i(305114);class r{debugLog(e,...t){this.debugEnabled&&console.log(`[${this.constructor.name}]: ${e}`,...t)}render(){const{coords:e,color:t,element:i,offset:o,anchor:r,onClick:n}=this.params,a={color:t,element:i,offset:o,draggable:!1,anchor:r};this._marker=new this.api.Marker(a),this._marker.setLngLat(e).addTo(this.map),n&&(this.marker.getElement().addEventListener("click",this._clickHandler),this.debugLog("onClick listener added")),this.debugLog("render")}get marker(){if(!this._marker)throw new o.MapsPlacemarkError("Маркер не создан. Возможно нужна инициализация через render");return this._marker}remove(){this.params.onClick&&this.params.element&&(this.marker.getElement().removeEventListener("click",this._clickHandler),this.debugLog("onClick listener removed")),this.marker.remove()}get coords(){const{lng:e,lat:t}=this.marker.getLngLat();return{lng:e,lat:t}}setCoords(e){return this.marker.setLngLat(e),this}focus({isAnimated:e=!1,durationMs:t}={}){return e?this.map.flyTo({center:this.coords,duration:t}):this.map.setCenter(this.coords),this}constructor({api:e,map:t,params:i,debugEnabled:o=!1}){this.debugEnabled=!1,this._marker=null,this._clickHandler=()=>{this.params?.onClick&&this.params.onClick(this.params.coords)},this.api=e,this.map=t,this.params=i,this.debugEnabled=o}}},544927:(e,t,i)=>{"use strict";i.d(t,{apiKey:()=>o});const o="17ae177bfcad1593e4c74328dc7eabb996d1c1a0faab5192a4a4752697213d32"},90526:(e,t,i)=>{"use strict";i.d(t,{MapsFactory:()=>n});var o=i(331635),r=i(132028);class n{}n=(0,o.__decorate)([r.scope.global({abstract:!0})],n)},18560:(e,t,i)=>{"use strict";i.d(t,{MAPS_DEFAULT_MOSCOW_COORDINATES:()=>o,MapsMapEventType:()=>a,MapsMouseEventType:()=>n,MapsPlacemarkDisplayType:()=>r});const o={lat:55.751322,lng:37.617592},r={default:"default",pin:"pin",marker:"marker",circle:"circle",dot:"dot"},n={click:"click",mousedown:"mousedown",mousemove:"mousemove",mouseup:"mouseup",touchstart:"touchstart",touchmove:"touchmove",touchend:"touchend",drag:"drag",dragstart:"dragstart",dragend:"dragend",zoom:"zoom",zoomend:"zoomend"},a={load:"load"}},260682:(e,t,i)=>{"use strict";i.d(t,{MapsError:()=>o});class o extends Error{constructor(e){super(e),this.name=`${this.constructor.name}`}}},911786:(e,t,i)=>{"use strict";i.d(t,{MapsLoadError:()=>r});var o=i(260682);class r extends o.MapsError{}},715263:(e,t,i)=>{"use strict";i.d(t,{MapsMapNotFoundError:()=>r});var o=i(260682);class r extends o.MapsError{}},305114:(e,t,i)=>{"use strict";i.d(t,{MapsPlacemarkError:()=>r});var o=i(260682);class r extends o.MapsError{}},671014:(e,t,i)=>{"use strict";i.d(t,{MapsRenderError:()=>r});var o=i(260682);class r extends o.MapsError{}},230414:(e,t,i)=>{"use strict";i.d(t,{MediaFocus:()=>d});var o=i(331635),r=i(327813),n=i(558137),a=i(235901),s=i(204739);const c=(0,n.makeSharedState)("media-focus",(()=>({instance:null})),{version:1}),l=(0,n.makeSharedState)("media-focus/stuffing",(()=>({mediaSessionController:new a.MediaSessionController,channels:(0,r.observable)(new Map)})),{version:1});class d{static ensure(){const e=c();return e.instance||(e.instance=new d),e.instance}createUncontrolledChannel(e){return this.createChannel(e,{pause:()=>{throw new Error("This channel can not be paused or resumed")},resume:()=>{throw new Error("This channel can not be paused or resumed")}})}createChannel(e,t){if(this.channels.has(e))throw new Error(`MediaFocusChannel id ${e} already registered`);const i=new s.MediaFocusChannel(e,t);return(0,r.runInAction)((()=>{this.channels.set(e,i)})),i.events.on("start",(()=>this.handleChannelStart(i))),i.events.on("stop",(()=>this.handleChannelStop(i))),this.updateGlobals(),i}get activeChannels(){return[...this.channels.values()].filter((e=>e.active))}get lastActiveChannel(){return[...this.activeChannels].sort(((e,t)=>t.activatedAt-e.activatedAt)).at(0)}updateGlobals(){this.updateMediaSession()}pauseLowerPriority(e){for(const t of this.activeChannels)t.id===e.id||t.config.priority<e.config.priority||t.pause()}resumeHighestPriority(e){const t=[...this.channels.values()].filter((t=>t.paused&&t.id!==e.id)).sort(((e,t)=>e.config.priority-t.config.priority)).at(0);t&&t.resume()}updateMediaSession(){const e=this.mediaSessionController,t=this.channels.get("calls"),i=t?.active?t:this.lastActiveChannel;i&&e.current!==i.mediaSession&&e.setCurrent(i.mediaSession)}constructor(){this.handleChannelStart=e=>{this.channels.get(e.id)===e&&(this.pauseLowerPriority(e),this.updateGlobals())},this.handleChannelStop=e=>{this.channels.get(e.id)===e&&(this.resumeHighestPriority(e),this.updateGlobals())};const e=l();this.mediaSessionController=e.mediaSessionController,this.channels=e.channels,(0,r.makeObservable)(this)}}(0,o.__decorate)([r.computed,(0,o.__metadata)("design:type",void 0),(0,o.__metadata)("design:paramtypes",[])],d.prototype,"activeChannels",null),(0,o.__decorate)([r.computed,(0,o.__metadata)("design:type",void 0),(0,o.__metadata)("design:paramtypes",[])],d.prototype,"lastActiveChannel",null)},204739:(e,t,i)=>{"use strict";i.d(t,{MediaFocusChannel:()=>c});var o=i(331635),r=i(327813),n=i(584053),a=i(709282),s=i(460424);class c{get events(){return this.emitter.listenable}createAction(e,t){return(...i)=>{if(this.currentAction)throw new Error(`Unexpected action ${e} call while another action ${this.currentAction} is in progress`);try{this.currentAction=e;const o=(0,r.runInAction)((()=>t(...i)));return this.emitter.emit(e),o}finally{this.currentAction=null}}}constructor(e,t){this.emitter=new n.Emitter,this.currentAction=null,this.mediaSession=new a.MediaSessionObject,this.active=!1,this.paused=!1,this.activatedAt=0,this.start=this.createAction("start",(()=>{this.active||(this.active=!0,this.activatedAt=+new Date,this.paused=!1)})),this.stop=this.createAction("stop",(()=>{this.active&&(this.active=!1,this.paused=!1)})),this.pause=this.createAction("pause",(()=>{if(this.paused)return;const{isAlreadyPaused:e}=this.actions.pause();e||(this.paused=!0)})),this.resume=this.createAction("resume",(()=>{this.paused&&(this.actions.resume(),this.paused=!1)})),this.id=e,this.config=s.CONFIGS[e],this.actions=t,(0,r.makeObservable)(this)}}(0,o.__decorate)([r.observable],c.prototype,"active",void 0),(0,o.__decorate)([r.observable],c.prototype,"paused",void 0),(0,o.__decorate)([r.observable],c.prototype,"activatedAt",void 0)},235901:(e,t,i)=>{"use strict";i.d(t,{MediaSessionController:()=>_});var o=i(434518),r=i(763812),n=(0,r._)("_native"),a=(0,r._)("_supportedActions"),s=(0,r._)("_current"),c=(0,r._)("_unsupportedActions"),l=(0,r._)("_setActionHandler"),d=(0,r._)("_applyNative"),u=(0,r._)("_handleChangeCurrentData");class _{get current(){return(0,o._)(this,s)[s]}setCurrent(e){(0,o._)(this,s)[s]?.events.off("change",(0,o._)(this,u)[u]),(0,o._)(this,s)[s]=e,e.events.on("change",(0,o._)(this,u)[u]),(0,o._)(this,d)[d](e)}constructor(){if(Object.defineProperty(this,l,{value:p}),Object.defineProperty(this,d,{value:m}),Object.defineProperty(this,n,{writable:!0,value:void 0}),Object.defineProperty(this,a,{writable:!0,value:void 0}),Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,u,{writable:!0,value:void 0}),(0,o._)(this,n)[n]=null,(0,o._)(this,a)[a]=["nexttrack","pause","play","previoustrack","seekbackward","seekforward","seekto","skipad","stop","hangup","enterpictureinpicture"],(0,o._)(this,s)[s]=null,(0,o._)(this,c)[c]=new Set,(0,o._)(this,u)[u]=({diff:{metadata:e,playbackState:t,actionHandler:i,positionState:r,cameraActive:a,microphoneActive:s}})=>{const c=(0,o._)(this,n)[n];c&&(void 0!==e&&(c.metadata=e),t&&(c.playbackState=t),i&&(0,o._)(this,l)[l](i[0],i[1]),void 0!==r&&c.setPositionState(r??void 0),void 0!==a&&"setCameraActive"in c&&c.setCameraActive(a),void 0!==s&&"setMicrophoneActive"in c&&c.setMicrophoneActive(s))},"undefined"==typeof window||!("mediaSession"in window.navigator))return;const e=window.navigator.mediaSession;(0,o._)(this,n)[n]=e,"setCameraActive"in e&&(0,o._)(this,a)[a].push("togglecamera"),"setMicrophoneActive"in e&&(0,o._)(this,a)[a].push("togglemicrophone")}}function p(e,t){const i=(0,o._)(this,n)[n];if(i&&!(0,o._)(this,c)[c].has(e))try{i.setActionHandler(e,t)}catch(i){t&&console.warn(i),(0,o._)(this,c)[c].add(e)}}function m(e){const t=(0,o._)(this,n)[n];if(t){t.metadata=e.metadata,t.playbackState=e.playbackState,t.setPositionState(e.positionState),"setCameraActive"in t&&t.setCameraActive(e.cameraActive),"setMicrophoneActive"in t&&t.setMicrophoneActive(e.microphoneActive);for(const t of(0,o._)(this,a)[a]){const i=e.actionHandlers.get(t)??null;(0,o._)(this,l)[l](t,i)}}}},709282:(e,t,i)=>{"use strict";i.d(t,{MediaSessionObject:()=>m});var o=i(434518),r=i(763812),n=i(584053),a=(0,r._)("_emitter"),s=(0,r._)("_actionHandlers"),c=(0,r._)("_positionState"),l=(0,r._)("_metadata"),d=(0,r._)("_playbackState"),u=(0,r._)("_cameraActive"),_=(0,r._)("_microphoneActive"),p=(0,r._)("_emitChange");class m{get events(){return(0,o._)(this,a)[a].listenable}get metadata(){return(0,o._)(this,l)[l]}set metadata(e){(0,o._)(this,l)[l]=e,(0,o._)(this,p)[p]({metadata:e})}get playbackState(){return(0,o._)(this,d)[d]}set playbackState(e){(0,o._)(this,d)[d]=e,(0,o._)(this,p)[p]({playbackState:e})}get actionHandlers(){return(0,o._)(this,s)[s]}get positionState(){return(0,o._)(this,c)[c]}get cameraActive(){return(0,o._)(this,u)[u]}get microphoneActive(){return(0,o._)(this,_)[_]}setPositionState(e){(0,o._)(this,c)[c]=e,(0,o._)(this,p)[p]({positionState:e})}setActionHandler(e,t){this.actionHandlers.set(e,t),(0,o._)(this,p)[p]({actionHandler:[e,t]})}async setCameraActive(e){(0,o._)(this,u)[u]=e,(0,o._)(this,p)[p]({cameraActive:e})}async setMicrophoneActive(e){(0,o._)(this,_)[_]=e,(0,o._)(this,p)[p]({microphoneActive:e})}constructor(){Object.defineProperty(this,p,{value:g}),Object.defineProperty(this,a,{writable:!0,value:void 0}),Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,c,{writable:!0,value:void 0}),Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,u,{writable:!0,value:void 0}),Object.defineProperty(this,_,{writable:!0,value:void 0}),(0,o._)(this,a)[a]=new n.Emitter,(0,o._)(this,s)[s]=new Map,(0,o._)(this,l)[l]=null,(0,o._)(this,d)[d]="none",(0,o._)(this,u)[u]=!1,(0,o._)(this,_)[_]=!1}}function g(e){(0,o._)(this,a)[a].emit("change",{diff:e})}},460424:(e,t,i)=>{"use strict";i.d(t,{CONFIGS:()=>o});const o={calls:{priority:0},video:{priority:1},stories:{priority:1},audio:{priority:2}}},756314:(e,t,i)=>{"use strict";i.d(t,{MediaPlayersSwitch:()=>d});var o=i(434518),r=i(763812),n=i(558137),a=i(26530),s=i(516993);const c=(0,n.makeSharedState)("media-players-switch",(()=>({instance:null})),{version:0});var l=(0,r._)("_resume");class d{static ensure(e){const t=c();return t.instance||(t.instance=new d(e.resolve(a.EmitterFactory))),t.instance}connect(e){const t=new s.MediaPlayersSwitchChannel(e,this.emitterFactory),i=this.handlePlay.bind(this,t),o=this.handleStop.bind(this,t),r=this.handleMute.bind(this,t),n=this.handleUnmute.bind(this,t);t.events.on("play",i),t.events.on("stop",o),t.events.on("mute",r),t.events.on("unmute",n);return{emit:t.emitter.emit.bind(t.emitter),disconnect:()=>{t.events.off("play",i),t.events.off("stop",o),t.events.off("mute",r),t.events.off("unmute",n),this.activeChannel===t&&(this.activeChannel=null),this.mutedChannel===t&&(this.mutedChannel=null)}}}resume(e={reason:"UNKNOWN"}){return(0,o._)(this,l)[l]({...e,reason:e.reason??"UNKNOWN"})}autoResume(e){(0,o._)(this,l)[l]({...e,reason:"CHANNEL_AUTO_RESUME"})}pause(e={}){this.activeChannel&&!this.activeChannel.state.isPaused&&this.mutedChannel&&!this.mutedChannel.state.isPaused&&(e.initiatedByCalls?this.activeChannel.pauseByCalls(e):(this.activeChannel.pause(e),this.mutedChannel.pause(e)))}stop(e={}){this.activeChannel&&(this.activeChannel.stop(e),this.activeChannel=null)}handlePlay(e,t=!1){t?(e!==this.mutedChannel&&this.mutedChannel?.state.isPlaying&&this.mutedChannel.pause({}),this.mutedChannel=e):(e!==this.activeChannel&&this.activeChannel?.state.isPlaying&&this.activeChannel.pause({}),this.activeChannel=e)}handleMute(e){e!==this.mutedChannel&&this.mutedChannel?.state.isPlaying&&this.mutedChannel.pause({}),this.activeChannel===e&&(this.activeChannel=null),this.mutedChannel=e}handleUnmute(e){e!==this.activeChannel&&this.activeChannel?.state.isPlaying&&this.activeChannel.pause({}),this.mutedChannel===e&&(this.mutedChannel=null),this.activeChannel=e}handleStop(e){e===this.activeChannel&&(this.activeChannel=null),e===this.mutedChannel&&(this.mutedChannel=null)}constructor(e){Object.defineProperty(this,l,{value:u}),this.emitterFactory=e,this.activeChannel=null,this.mutedChannel=null}}function u(e){!this.activeChannel||this.activeChannel.state.isPlaying||e.initiatedByCalls&&!this.activeChannel.state.isPausedByCalls||this.activeChannel.resume(e)}},516993:(e,t,i)=>{"use strict";i.d(t,{MediaPlayersSwitchChannel:()=>l});var o=i(434518),r=i(763812),n=(0,r._)("_connectEvents"),a=(0,r._)("_handlePlay"),s=(0,r._)("_handlePause"),c=(0,r._)("_handleStop");class l{get events(){return this.emitter.listenable}get state(){return this._state}set state(e){this._state={...this._state,...e},(this._state.isPlaying||this._state.isPaused||this._state.isPausedByCalls)&&(this._state.isIdle=!1)}pauseByCalls(e){this.state={isPausedByCalls:!0},this.pause(e)}constructor(e,t){Object.defineProperty(this,n,{value:d}),Object.defineProperty(this,a,{writable:!0,value:void 0}),Object.defineProperty(this,s,{writable:!0,value:void 0}),Object.defineProperty(this,c,{writable:!0,value:void 0}),this.emitterFactory=t,this._state={isIdle:!0,isPlaying:!1,isPaused:!1,isPausedByCalls:!1},this.emitter=this.emitterFactory.create(),(0,o._)(this,a)[a]=()=>{this.state={isPlaying:!0,isPaused:!1,isPausedByCalls:!1}},(0,o._)(this,s)[s]=()=>{this.state={isPlaying:!1,isPaused:!0}},(0,o._)(this,c)[c]=()=>{this.state={isPlaying:!1,isPaused:!1,isPausedByCalls:!1}},this.resume=e.resume.bind(this),this.pause=e.pause.bind(this),this.stop=e.stop.bind(this),(0,o._)(this,n)[n]()}}function d(){const{events:e}=this;e.on("play",(0,o._)(this,a)[a]),e.on("pause",(0,o._)(this,s)[s]),e.on("stop",(0,o._)(this,c)[c])}},558576:(e,t,i)=>{"use strict";i.d(t,{BrowserMediascope:()=>s});var o=i(331635),r=i(132028),n=i(287409),a=i(622934);class s extends a.Mediascope{[r.destroy](){for(const e of this.activityCounters.values())e.dispose();this.activityCounters.clear()}createActivityCounter(e){return new n.BrowserMediascopeActivityCounter(e)}}s=(0,o.__decorate)([r.scope.global()],s)},622934:(e,t,i)=>{"use strict";i.d(t,{Mediascope:()=>c});var o=i(434518),r=i(763812),n=i(331635),a=i(132028),s=(0,r._)("_makeKey");class c{ensureActivityCounter(e){const t=(0,o._)(this,s)[s](e);let i=this.activityCounters.get(t);return i||(i=this.createActivityCounter(e),this.activityCounters.set(t,i)),i}constructor(){Object.defineProperty(this,s,{value:l}),this.activityCounters=new Map}}function l(e){const{events:t}=e,i=t.start.code,o=t.stop.code,r=t.heartbeat?.code;return`${e.type}/${i}/${o}/${r}`}c=(0,n.__decorate)([a.scope.global({abstract:!0})],c)},287409:(e,t,i)=>{"use strict";i.d(t,{BrowserMediascopeActivityCounter:()=>E});var o=i(434518),r=i(763812),n=i(331635),a=i(327813),s=i(86909),c=i(939661),l=(0,r._)("_config"),d=(0,r._)("_pageVisibilityObserver"),u=(0,r._)("_isScreenType"),_=(0,r._)("_clearHeartbeatIntervalFn"),p=(0,r._)("_clearHeartbeatInterval"),m=(0,r._)("_startHeartbeat"),g=(0,r._)("_stopHeartbeat"),v=(0,r._)("_send"),f=(0,r._)("_handleVisibilityChange"),y=(0,r._)("_handleUnload");class E{dispose(){this.stop(),window.removeEventListener("unload",(0,o._)(this,y)[y])}start(){if(!(0,o._)(this,u)[u])return void this.startCollecting();const e=(0,o._)(this,d)[d];e.visibility&&this.startCollecting(),e.on("change",(0,o._)(this,f)[f])}stop(){this.stopCollecting(),(0,o._)(this,d)[d].off("change",(0,o._)(this,f)[f])}startCollecting(){this.isActive||((0,o._)(this,v)[v]((0,o._)(this,l)[l].events.start.code),(0,o._)(this,m)[m](),this.isActive=!0)}stopCollecting(){this.isActive&&((0,o._)(this,v)[v]((0,o._)(this,l)[l].events.stop.code),(0,o._)(this,g)[g](),this.isActive=!1)}constructor(e){Object.defineProperty(this,u,{get:A,set:void 0}),Object.defineProperty(this,p,{value:S}),Object.defineProperty(this,m,{value:b}),Object.defineProperty(this,g,{value:T}),Object.defineProperty(this,v,{value:I}),Object.defineProperty(this,l,{writable:!0,value:void 0}),Object.defineProperty(this,d,{writable:!0,value:void 0}),Object.defineProperty(this,_,{writable:!0,value:void 0}),Object.defineProperty(this,f,{writable:!0,value:void 0}),Object.defineProperty(this,y,{writable:!0,value:void 0}),(0,o._)(this,d)[d]=c.PageVisibilityObserver.ensure(),this.isActive=!1,(0,o._)(this,_)[_]=null,(0,o._)(this,f)[f]=e=>{e?this.startCollecting():this.stopCollecting()},(0,o._)(this,y)[y]=()=>{this.isActive&&(0,o._)(this,v)[v]((0,o._)(this,l)[l].events.stop.code,!0)},(0,o._)(this,l)[l]=e,(0,a.makeObservable)(this),window.addEventListener("unload",(0,o._)(this,y)[y])}}function A(){return"screen"===(0,o._)(this,l)[l].type}function S(){(0,o._)(this,_)[_]&&((0,o._)(this,_)[_](),(0,o._)(this,_)[_]=null)}function b(){const e=(0,o._)(this,l)[l].events.heartbeat;if(!e||(0,o._)(this,_)[_])return;const{code:t,msInterval:i}=e;(0,o._)(this,p)[p](),(0,o._)(this,_)[_]=(0,s.setStableInterval)((()=>{(0,o._)(this,v)[v](t)}),i,{name:`MediascopeActivityCounter/heartbeat/${t}`})}function T(){(0,o._)(this,p)[p]()}async function I(e,t=!1){const i=`https://${e}.ms.vk.com`;if("hidden"!==document.visibilityState&&!t||void 0===navigator.sendBeacon)try{await fetch(i,{method:"HEAD",mode:"no-cors"})}catch{}else navigator.sendBeacon(i)}(0,n.__decorate)([a.observable],E.prototype,"isActive",void 0),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[]),(0,n.__metadata)("design:returntype",void 0)],E.prototype,"startCollecting",null),(0,n.__decorate)([a.action,(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[]),(0,n.__metadata)("design:returntype",void 0)],E.prototype,"stopCollecting",null)},809424:(e,t,i)=>{"use strict";i.d(t,{MetaData:()=>n});var o=i(331635),r=i(132028);class n{}n=(0,o.__decorate)([r.scope.global({abstract:!0})],n)},717436:(e,t,i)=>{"use strict";i.d(t,{MiniAppApiWrapper:()=>n});var o=i(331635),r=i(132028);class n{}n=(0,o.__decorate)([r.scope.global({abstract:!0})],n)},749216:(e,t,i)=>{"use strict";i.d(t,{MyTracker:()=>u});var o=i(434518),r=i(763812),n=i(331635),a=i(132028),s=i(951652),c=i(130653),l=i(164865);var d=(0,r._)("_activityCounters");class u{ensureActivityCounter({counterId:e="2579437",activityId:t,timespentType:i="screen",strict:r=!0}){const n=`${e}/${t}`;let a=(0,o._)(this,d)[d].get(n);if(a&&a.timespentType!==i)throw new Error(`ActivityCounter ${n} already registered with another timespentType (created: ${a.timespentType}, given: ${i})`);return a||(a=new l.MyTrackerActivityCounter({tmr:this.tmr,authService:this.authService,counterId:e,activityId:t,timespentType:i,strict:r}),(0,o._)(this,d)[d].set(n,a)),a}constructor(e,t){Object.defineProperty(this,d,{writable:!0,value:void 0}),this.authService=e,this.tmr=t,(0,o._)(this,d)[d]=new Map}}u=(0,n.__decorate)([a.scope.global(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===s.AuthService?Object:s.AuthService,void 0===c.Tmr?Object:c.Tmr])],u)},164865:(e,t,i)=>{"use strict";i.d(t,{MyTrackerActivityCounter:()=>_});var o=i(434518),r=i(763812),n=(0,r._)("_authService"),a=(0,r._)("_tmr"),s=(0,r._)("_isActiveTimespent"),c=(0,r._)("_tmrStartTimespent"),l=(0,r._)("_tmrStopTimespent"),d=(0,r._)("_tmrIncrement"),u=(0,r._)("_userId");class _{get isActiveTimespent(){return(0,o._)(this,s)[s]}startTimespent(){if(this.isActiveTimespent){if(this.strict)throw new Error("ActivityCounter already started")}else(0,o._)(this,c)[c](),(0,o._)(this,s)[s]=!0}stopTimespent(){if(this.isActiveTimespent)(0,o._)(this,l)[l](),(0,o._)(this,s)[s]=!1;else if(this.strict)throw new Error("ActivityCounter is not started")}increment(){(0,o._)(this,d)[d]()}constructor({authService:e,tmr:t,counterId:i,activityId:r,timespentType:_,strict:f}){Object.defineProperty(this,c,{value:p}),Object.defineProperty(this,l,{value:m}),Object.defineProperty(this,d,{value:g}),Object.defineProperty(this,u,{get:v,set:void 0}),Object.defineProperty(this,n,{writable:!0,value:void 0}),Object.defineProperty(this,a,{writable:!0,value:void 0}),Object.defineProperty(this,s,{writable:!0,value:void 0}),(0,o._)(this,s)[s]=!1,(0,o._)(this,n)[n]=e,(0,o._)(this,a)[a]=t,this.counterId=i,this.activityId=r,this.timespentType=_,this.strict=f}}function p(){(0,o._)(this,a)[a].push({id:this.counterId,type:"startTimespent",activity:this.activityId,userId:(0,o._)(this,u)[u],canUseInBackground:"service"===this.timespentType})}function m(){(0,o._)(this,a)[a].push({id:this.counterId,type:"stopTimespent",activity:this.activityId,userId:(0,o._)(this,u)[u],canUseInBackground:"service"===this.timespentType})}function g(){(0,o._)(this,a)[a].push({id:this.counterId,type:"incrementEventTimespent",activity:this.activityId,userId:(0,o._)(this,u)[u]})}function v(){return(0,o._)(this,n)[n].userId??0}},571355:(e,t,i)=>{"use strict";i.d(t,{MyTrackerActivityId:()=>o});var o=function(e){return e[e.FeedScreenTimespent=5]="FeedScreenTimespent",e[e.FeedPostViewEventCount=6]="FeedPostViewEventCount",e[e.MusicTrackListenedDAU=2]="MusicTrackListenedDAU",e[e.CommunitySubscribe=11]="CommunitySubscribe",e[e.MusicScreen=80]="MusicScreen",e[e.MusicListen=85]="MusicListen",e[e.MusicSnippetsListen=86]="MusicSnippetsListen",e[e.AudiobooksListen=87]="AudiobooksListen",e[e.PodcastsListen=88]="PodcastsListen",e[e.RadioListen=89]="RadioListen",e[e.PodcastEpisodeListenedDAU=92]="PodcastEpisodeListenedDAU",e[e.AudiobookListenedDAU=93]="AudiobookListenedDAU",e[e.RadiostationListenedDAU=94]="RadiostationListenedDAU",e[e.MusicSnippetListenedDAU=95]="MusicSnippetListenedDAU",e[e.ClipViewScrollDAU=4]="ClipViewScrollDAU",e[e.ClipViewDAU=18]="ClipViewDAU",e[e.ClipPublishDAU=19]="ClipPublishDAU",e[e.ClipView=96]="ClipView",e[e.ClipSection=98]="ClipSection",e[e.ClipViewFullScreen=97]="ClipViewFullScreen",e[e.MessageSend=26]="MessageSend",e}({})},882543:(e,t,i)=>{"use strict";i.d(t,{BrowserTmr:()=>a});var o=i(331635),r=i(132028),n=i(24516);class a{push(e){this.debugEnabled&&console.log("[tmr] push",e),this.tmrArray.push(e)}get debugEnabled(){return this.userEnv.partConfigEnabled("tmr_debug")}get tmrArray(){return i._dG("_tmr",window._tmr||[]),window._tmr}constructor(e){this.userEnv=e}}a=(0,o.__decorate)([r.scope.platform(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===n.UserEnv?Object:n.UserEnv])],a)},130653:(e,t,i)=>{"use strict";i.d(t,{Tmr:()=>n});var o=i(331635),r=i(132028);class n{}n=(0,o.__decorate)([r.scope.platform({abstract:!0})],n)},474928:(e,t,i)=>{"use strict";i.d(t,{Network:()=>n});var o=i(331635),r=i(132028);class n{}n=(0,o.__decorate)([r.scope.global({abstract:!0})],n)},204754:(e,t,i)=>{"use strict";i.d(t,{Notifier:()=>n});var o=i(331635),r=i(132028);class n{}n=(0,o.__decorate)([r.scope.global({abstract:!0})],n)},590780:(e,t,i)=>{"use strict";i.d(t,{Performance:()=>n});var o=i(331635),r=i(132028);class n{}n=(0,o.__decorate)([r.scope.platform({abstract:!0})],n)},551178:(e,t,i)=>{"use strict";i.d(t,{PerformanceStatsCore:()=>a,PerformanceStatsCoreEventType:()=>n});var o=i(331635),r=i(132028),n=function(e){return e.NAVIGATION_DONE="navigation.done",e.APP_SKELETON_RENDERED="app.skeleton_rendered",e.APP_BUNDLE_LOAD_STARTED="app.bundle_load_started",e.APP_BUNDLE_LOAD_DONE="app.bundle_load_done",e.APP_INIT_STARTED="app.init_started",e.APP_INIT_DONE="app.init_done",e.API_REQUEST="api.request",e.API_RESPONSE="api.response",e.APP_CONTENT_RENDERED="app.content_rendered",e.APP_MEDIA_LOADED="app.media_load_done",e}({});class a{}a=(0,o.__decorate)([r.scope.global({abstract:!0})],a)},223476:(e,t,i)=>{"use strict";i.d(t,{PerformanceStatsProduct:()=>n});var o=i(331635),r=i(132028);class n{}n=(0,o.__decorate)([r.scope.global({abstract:!0})],n)},873548:(e,t,i)=>{"use strict";i.d(t,{PersistentEmbedStorage:()=>n});var o=i(331635),r=i(132028);class n{}n=(0,o.__decorate)([r.scope.global()],n)},842396:(e,t,i)=>{"use strict";i.d(t,{PhotoUtils:()=>n});var o=i(331635),r=i(132028);class n{}n=(0,o.__decorate)([r.scope.platform({abstract:!0})],n)},736780:(e,t,i)=>{"use strict";i.d(t,{PhotoViewer:()=>n});var o=i(331635),r=i(132028);class n{}n=(0,o.__decorate)([r.scope.global({abstract:!0})],n)},569002:(e,t,i)=>{"use strict";i.d(t,{PixelTracker:()=>a});var o=i(331635),r=i(132028),n=i(955060);class a{logError(e,t){const i=new Error(`PixelTracker: ${e}`,{cause:t?.cause});return this.errorLogger?.log(i,{metaData:{breadcrumb:{message:e,data:t?.data}}}),i}constructor(e){this.errorLogger=e}}a=(0,o.__decorate)([r.scope.global({abstract:!0}),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===n.ErrorLogger?Object:n.ErrorLogger])],a)},916992:(e,t,i)=>{"use strict";i.d(t,{PixelTrackerBrowser:()=>u});var o=i(434518),r=i(763812),n=i(331635),a=i(132028),s=i(569002),c=i(955060),l=(0,r._)("_livePixels"),d=(0,r._)("_dispatchPixel");class u extends s.PixelTracker{send(e){for(const t of e)try{(0,o._)(this,d)[d](t)}catch(e){this.logError("ошибка отправки пикселя",{cause:e,data:{url:t}})}}constructor(e){super(e),Object.defineProperty(this,d,{value:_}),Object.defineProperty(this,l,{writable:!0,value:void 0}),(0,o._)(this,l)[l]=new Set}}function _(e){const t=new Image(1,1),i=()=>{t.onload=null,t.onerror=null,(0,o._)(this,l)[l].delete(t)};t.onload=i,t.onerror=i,(0,o._)(this,l)[l].add(t),t.src=e}u=(0,n.__decorate)([a.scope.global(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[void 0===c.ErrorLogger?Object:c.ErrorLogger])],u)},946258:(e,t,i)=>{"use strict";i.d(t,{PushNotifier:()=>n});var o=i(331635),r=i(132028);class n{}n=(0,o.__decorate)([r.scope.global({abstract:!0})],n)},12196:(e,t,i)=>{"use strict";i.d(t,{SessionStorage:()=>n});var o=i(331635),r=i(132028);class n{}n=(0,o.__decorate)([r.scope.global()],n)},670252:(e,t,i)=>{"use strict";i.d(t,{Snackbar:()=>n});var o=i(331635),r=i(132028);class n{}n=(0,o.__decorate)([r.scope.global({abstract:!0})],n)},24516:(e,t,i)=>{"use strict";i.d(t,{UserEnv:()=>n});var o=i(331635),r=i(132028);class n{}n=(0,o.__decorate)([r.scope.global()],n)},60699:(e,t,i)=>{"use strict";i.d(t,{useUserEnv:()=>n});var o=i(132028),r=i(24516);function n(){return(0,o.useContainer)().resolve(r.UserEnv)}},209708:(e,t,i)=>{"use strict";i.d(t,{VKPlayApi:()=>n});var o=i(331635),r=i(132028);class n{makeMethod(e){return(t,i)=>this.request(e,t,i)}constructor(){this.download=this.makeMethod("download")}}n.VK_PLAY_API_BASE="https://api.vkplay.ru/play/vk",n=(0,o.__decorate)([r.scope.global({abstract:!0})],n)},49396:(e,t,i)=>{"use strict";i.d(t,{VideoDownload:()=>n});var o=i(331635),r=i(132028);class n{}n=(0,o.__decorate)([r.scope.global({abstract:!0})],n)},888584:(e,t,i)=>{"use strict";i.d(t,{VkHost:()=>n});var o=i(331635),r=i(132028);class n{get VK_POSSIBLE_SITE_HOSTS(){return["vk.com","vk.ru",this.getHostName()].filter(((e,t,i)=>i.indexOf(e)===t))}get VK_DOMAIN(){return"vk.com"}get VK_HOSTS(){return this.VK_POSSIBLE_SITE_HOSTS.concat(["vkontakte.ru","vk.me","userapi.com"])}get VK_SITE_REGEX_SOURCE_UNSAFE(){return this.escapeRE(this.getHostName())}get VK_SITES_REGEX_SOURCE_UNSAFE(){return this.VK_POSSIBLE_SITE_HOSTS.map(this.escapeRE).join("|")}get VK_HOST_REGEX_UNSAFE(){return new RegExp("("+this.VK_HOSTS.map(this.escapeRE).join("|")+")")}get VK_HOST_REGEX_GROUP_UNSAFE(){return new RegExp(this.VK_HOSTS.map(this.escapeRE).join("|"))}get VK_HOST_REGEX(){return new RegExp("^"+this.VK_HOST_REGEX_UNSAFE.source+"$")}get VK_DOMAIN_REGEX_UNSAFE(){return new RegExp(`([a-zA-Z0-9\\.\\_\\-]+\\.)?${this.VK_HOST_REGEX_UNSAFE.source}`)}get VK_DOMAIN_REGEX(){return new RegExp("^"+this.VK_DOMAIN_REGEX_UNSAFE.source+"$")}get VK_ORIGIN_REGEX(){return new RegExp(`^(https?:\\/\\/)?${this.VK_DOMAIN_REGEX_UNSAFE.source}$`)}get VK_ORIGIN_REGEX_STRICT(){return new RegExp(`^(https?:\\/\\/)${this.VK_DOMAIN_REGEX_UNSAFE.source}$`)}get VK_ORIGIN_PREFIX_REGEX(){return new RegExp(`^(https?:\\/\\/)${this.VK_DOMAIN_REGEX_UNSAFE.source}`)}get VK_URL_REGEX(){return new RegExp(`^(https?:\\/\\/)?${this.VK_DOMAIN_REGEX_UNSAFE.source}($|\\/(.*))`)}get VK_URL_REGEX_STRICT(){return new RegExp(`^(https?:\\/\\/)${this.VK_DOMAIN_REGEX_UNSAFE.source}($|\\/(.*))`)}wrapAwayIfExternal(e,t=!1){return this.checkIfInternal(e)?e:this.wrapAway(e,t)}wrapAway(e,t=!1){let i=e;try{i=decodeURIComponent(e)}catch{}return"/away.php?to="+encodeURIComponent(i)+(t?"&utf=1":"")}constructor(){this.escapeRE=e=>e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1"),this.checkIfInternal=e=>{let t;try{t=decodeURIComponent(e)}catch{return!1}const i=new RegExp(`^(https?:\\/\\/)?([a-z0-9_\\-.]+\\.)?${this.VK_SITE_REGEX_SOURCE_UNSAFE}(\\/.*)?`);return/^\/[^/]/.test(t)||i.test(t)}}}n=(0,o.__decorate)([r.scope.global({abstract:!0})],n)},268688:(e,t,i)=>{"use strict";i.d(t,{Analytics:()=>n});var o=i(331635),r=i(132028);class n{}n=(0,o.__decorate)([r.scope.global({abstract:!0})],n)},422057:(e,t,i)=>{"use strict";i.d(t,{AnalyticsStats:()=>a});var o=i(331635),r=i(132028),n=i(268688);class a{getIntId(){return Math.floor(Math.random()*this.MAX_INT32)}getCurrentTime(){return(1e3*Date.now()).toString(10)}constructor(e){this.analytics=e,this.MAX_INT32=2147483647}}a=(0,o.__decorate)([r.scope.global(),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===n.Analytics?Object:n.Analytics])],a)},397111:(e,t,i)=>{"use strict";i.d(t,{NetworkStats:()=>a});var o=i(331635),r=i(132028),n=i(422057);class a extends n.AnalyticsStats{send(e){this.analytics.sendNetworkStats(e)}}a=(0,o.__decorate)([r.scope.global()],a)},627876:(e,t,i)=>{"use strict";i.d(t,{Statlog:()=>a});var o=i(331635),r=i(132028),n=i(422057);class a extends n.AnalyticsStats{send(e){this.analytics.sendStatlogEvents(e)}}a=(0,o.__decorate)([r.scope.global()],a)},214079:(e,t,i)=>{"use strict";i.d(t,{StatsInfo:()=>n});var o=i(331635),r=i(132028);class n{}n=(0,o.__decorate)([r.scope.global()],n)},71892:(e,t,i)=>{"use strict";i.d(t,{Analytics:()=>n});var o=i(331635),r=i(132028);class n{}n=(0,o.__decorate)([r.scope.global({abstract:!0})],n)},641569:(e,t,i)=>{"use strict";i.d(t,{ApiNamespace:()=>c});var o=i(331635),r=i(146322),n=i(132028),a=i(295372),s=i(123980);class c{makeMethod(e,t){return async(i,o)=>{const n=`${this.namespace}.${e}`;if(t){const e=o?.version??r.API_VERSION;"undefined"!=typeof window&&window.apiPrefetchReadyPromise&&await window.apiPrefetchReadyPromise;try{const t=this.apiPrefetch?.loadPrefetchCache(n,e,i);if(t)return t}catch(e){throw console.error(e),e}}return this.apiClient.request(n,i,o)}}makeMockMethod(e){return(t,i)=>{const o=e(t,i);return new Promise((e=>{setTimeout((()=>{i?.signal?.aborted||e(o)}),1e3+Math.round(2e3*Math.random()))}))}}constructor(e,t){this.apiClient=e,this.apiPrefetch=t}}c=(0,o.__decorate)([n.scope.global({abstract:!0}),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[void 0===s.APIClient?Object:s.APIClient,void 0===a.ApiPrefetch?Object:a.ApiPrefetch])],c)},21632:(e,t,i)=>{"use strict";i.d(t,{AccountApi:()=>a});var o=i(331635),r=i(641569),n=i(132028);class a extends r.ApiNamespace{get namespace(){return"account"}constructor(...e){super(...e),this.getProfileNavigationInfo=this.makeMethod("getProfileNavigationInfo"),this.getContactList=this.makeMethod("getContactList"),this.getInfo=this.makeMethod("getInfo"),this.getInfoWithPrefetch=this.makeMethod("getInfo",!0),this.setInfo=this.makeMethod("setInfo"),this.getProfileInfo=this.makeMethod("getProfileInfo"),this.getProfileShortInfo=this.makeMethod("getProfileShortInfo"),this.getPrivacySettings=this.makeMethod("getPrivacySettings"),this.getPrivacySettingsWithPrefetch=this.makeMethod("getPrivacySettings",!0),this.setPrivacy=this.makeMethod("setPrivacy"),this.saveInfo=this.makeMethod("saveProfileInfo"),this.deactivate=this.makeMethod("deactivate"),this.getBalance=this.makeMethod("getBalance"),this.getBalanceWithPrefetch=this.makeMethod("getBalance",!0),this.hideHelpHint=this.makeMethod("hideHelpHint"),this.getHelpHints=this.makeMethod("getHelpHints"),this.addUniversity=this.makeMethod("addUniversity"),this.addSchool=this.makeMethod("addSchool"),this.getHelpHintsWithPrefetch=this.makeMethod("getHelpHints",!0),this.getBanned=this.makeMethod("getBanned"),this.getBannedWithPrefetch=this.makeMethod("getBanned",!0),this.getCounters=this.makeMethod("getCounters"),this.getCountersWithPrefetch=this.makeMethod("getCounters",!0),this.ban=this.makeMethod("ban"),this.unban=this.makeMethod("unban"),this.getAdsAcceptance=this.makeMethod("getAdsAcceptance"),this.setAdsAcceptance=this.makeMethod("setAdsAcceptance"),this.getSilentModeStatus=this.makeMethod("getSilentModeStatus"),this.getSilentModeStatusWithPrefetch=this.makeMethod("getSilentModeStatus",!0),this.startSilentMode=this.makeMethod("startSilentMode"),this.stopSilentMode=this.makeMethod("stopSilentMode"),this.getProfileDataLegacy=this.makeMethod("getProfileDataLegacy",!0),this.getProfileType=this.makeMethod("getProfileType",!0),this.setOnline=this.makeMethod("setOnline"),this.setOffline=this.makeMethod("setOffline"),this.getLeftAds=this.makeMethod("getLeftAds",!0),this.getProfileMenuData=this.makeMethod("getProfileMenuData",!0),this.getCommentGroups=this.makeMethod("getCommentGroups",!0),this.markActualizePhone=this.makeMethod("markActualizePhone"),this.unmarkActualizePhone=this.makeMethod("unmarkActualizePhone")}}a=(0,o.__decorate)([n.scope.global()],a)},750633:(e,t,i)=>{"use strict";i.d(t,{AudioAdsApi:()=>a});var o=i(331635),r=i(132028),n=i(641569);class a extends n.ApiNamespace{get namespace(){return"audioAds"}constructor(...e){super(...e),this.acknowledgeView=this.makeMethod("acknowledgeView"),this.updateUserStatistic=this.makeMethod("updateUserStatistic")}}a=(0,o.__decorate)([r.scope.global()],a)},346675:(e,t,i)=>{"use strict";i.d(t,{AudioApi:()=>a});var o=i(331635),r=i(132028),n=i(641569);class a extends n.ApiNamespace{get namespace(){return"audio"}constructor(...e){super(...e),this.add=this.makeMethod("add"),this.delete=this.makeMethod("delete"),this.restore=this.makeMethod("restore"),this.createPlaylist=this.makeMethod("createPlaylist"),this.followPlaylist=this.makeMethod("followPlaylist"),this.deletePlaylist=this.makeMethod("deletePlaylist"),this.savePlaylistAsCopy=this.makeMethod("savePlaylistAsCopy"),this.addToPlaylist=this.makeMethod("addToPlaylist"),this.removeFromPlaylist=this.makeMethod("removeFromPlaylist"),this.get=this.makeMethod("get"),this.getById=this.makeMethod("getById"),this.getPlaylistById=this.makeMethod("getPlaylistById"),this.getPlaylists=this.makeMethod("getPlaylists"),this.searchPlaylists=this.makeMethod("searchPlaylists"),this.getPlaylistByIdExtended=this.makeMethod("getPlaylistById"),this.editPlaylist=this.makeMethod("editPlaylist"),this.searchAlbums=this.makeMethod("searchAlbums"),this.getIdsBySource=this.makeMethod("getIdsBySource"),this.setPlaylistCoverPhoto=this.makeMethod("setPlaylistCoverPhoto"),this.deletePlaylistCoverPhoto=this.makeMethod("setPlaylistCoverPhoto"),this.getAudioPreviewUrl=this.makeMethod("getAudioPreviewUrl"),this.getSnippets=this.makeMethod("getSnippets"),this.getSearchSuggestions=this.makeMethod("getSearchSuggestions"),this.getStreamMixAudios=this.makeMethod("getStreamMixAudios"),this.search=this.makeMethod("search"),this.addDislike=this.makeMethod("addDislike"),this.removeDislike=this.makeMethod("removeDislike"),this.followRadioStation=this.makeMethod("followRadioStation"),this.unfollowRadioStation=this.makeMethod("unfollowRadioStation"),this.getEditableGroups=this.makeMethod("getEditableGroups"),this.getLyrics=this.makeMethod("getLyrics"),this.getFullscreenBanner=this.makeMethod("getFullscreenBanner"),this.searchArtists=this.makeMethod("searchArtists"),this.recommendationsOnboarding=this.makeMethod("recommendationsOnboarding"),this.finishRecomsOnboarding=this.makeMethod("finishRecomsOnboarding"),this.getRelatedArtistsById=this.makeMethod("getRelatedArtistsById"),this.consumeFullscreenBanner=this.makeMethod("consumeFullscreenBanner"),this.getSpecialProject=this.makeMethod("getSpecialProject"),this.consumeSpecialProject=this.makeMethod("consumeSpecialProject"),this.getRestrictionPopup=this.makeMethod("getRestrictionPopup"),this.getEventArtists=this.makeMethod("getEventArtists",!0),this.getArtistsById=this.makeMethod("getArtistsById"),this.followArtist=this.makeMethod("followArtist"),this.unfollowArtist=this.makeMethod("unfollowArtist"),this.getAudiosByArtist=this.makeMethod("getAudiosByArtist"),this.getRecommendations=this.makeMethod("getRecommendations"),this.setBroadcast=this.makeMethod("setBroadcast")}}a=(0,o.__decorate)([r.scope.global()],a)},972573:(e,t,i)=>{"use strict";i.d(t,{FaveApi:()=>a});var o=i(331635),r=i(641569),n=i(132028);class a extends r.ApiNamespace{get namespace(){return"fave"}constructor(...e){super(...e),this.addArticle=this.makeMethod("addArticle"),this.addApp=this.makeMethod("addApp"),this.addClip=this.makeMethod("addClip"),this.addGroup=this.makeMethod("addGroup"),this.addLink=this.makeMethod("addLink"),this.addNarrative=this.makeMethod("addNarrative"),this.addPage=this.makeMethod("addPage"),this.addPodcastEpisode=this.makeMethod("addPodcastEpisode"),this.addPost=this.makeMethod("addPost"),this.addProduct=this.makeMethod("addProduct"),this.addTag=this.makeMethod("addTag"),this.addUser=this.makeMethod("addUser"),this.addVideo=this.makeMethod("addVideo"),this.checkLink=this.makeMethod("checkLink"),this.editTag=this.makeMethod("editTag"),this.get=this.makeMethod("get"),this.getPages=this.makeMethod("getPages"),this.getTags=this.makeMethod("getTags"),this.removeArticle=this.makeMethod("removeArticle"),this.removeClip=this.makeMethod("removeClip"),this.removeGroup=this.makeMethod("removeGroup"),this.removeLink=this.makeMethod("removeLink"),this.removeNarrative=this.makeMethod("removeNarrative"),this.removePage=this.makeMethod("removePage"),this.removePodcastEpisode=this.makeMethod("removePodcastEpisode"),this.removePost=this.makeMethod("removePost"),this.removeProduct=this.makeMethod("removeProduct"),this.removeTag=this.makeMethod("removeTag"),this.removeUser=this.makeMethod("removeUser"),this.removeVideo=this.makeMethod("removeVideo"),this.removeApp=this.makeMethod("removeApp"),this.reorderTags=this.makeMethod("reorderTags"),this.setPageTags=this.makeMethod("setPageTags"),this.setTags=this.makeMethod("setTags"),this.getPhotos=this.makeMethod("getPhotos")}}a=(0,o.__decorate)([n.scope.global()],a)},415836:(e,t,i)=>{"use strict";i.d(t,{NarrativesApi:()=>a});var o=i(331635),r=i(132028),n=i(641569);class a extends n.ApiNamespace{get namespace(){return"narratives"}constructor(...e){super(...e),this.create=this.makeMethod("create"),this.edit=this.makeMethod("edit"),this.getCustomCoverUploadServer=this.makeMethod("getCustomCoverUploadServer"),this.saveCustomCover=this.makeMethod("saveCustomCover"),this.delete=this.makeMethod("delete"),this.reorder=this.makeMethod("reorder"),this.getFromOwner=this.makeMethod("getFromOwner"),this.getFromOwnerWithPrefetch=this.makeMethod("getFromOwner",!0),this.getById=this.makeMethod("getById"),this.getByIdWithPrefetch=this.makeMethod("getById",!0),this.batchEdit=this.makeMethod("batchEdit")}}a=(0,o.__decorate)([r.scope.global()],a)},6962:(e,t,i)=>{"use strict";i.d(t,{PhotosApi:()=>a});var o=i(331635),r=i(132028),n=i(641569);class a extends n.ApiNamespace{get namespace(){return"photos"}constructor(...e){super(...e),this.getAll=this.makeMethod("getAll"),this.agreeBlurRestriction=this.makeMethod("agreeBlurRestriction"),this.getCommunityReviewsUploadServer=this.makeMethod("getCommunityReviewsUploadServer"),this.saveCommunityReviewsPhotos=this.makeMethod("saveCommunityReviewsPhotos"),this.getMarketAlbumUploadServer=this.makeMethod("getMarketAlbumUploadServer"),this.saveMarketAlbumPhoto=this.makeMethod("saveMarketAlbumPhoto"),this.getOwnerPhotoUploadServer=this.makeMethod("getOwnerPhotoUploadServer"),this.saveOwnerPhoto=this.makeMethod("saveOwnerPhoto"),this.getWallUploadServer=this.makeMethod("getWallUploadServer"),this.saveWallPhoto=this.makeMethod("saveWallPhoto"),this.getItemsReviewsUploadServer=this.makeMethod("getItemsReviewsUploadServer"),this.saveItemsReviewsPhotos=this.makeMethod("saveItemsReviewsPhotos"),this.search=this.makeMethod("search"),this.get=this.makeMethod("get"),this.getAlbums=this.makeMethod("getAlbums"),this.getById=this.makeMethod("getById"),this.delete=this.makeMethod("delete"),this.getAlbumsCount=this.makeMethod("getAlbumsCount"),this.getPhotoEditorUploadServer=this.makeMethod("getPhotoEditorUploadServer"),this.savePhotoEditor=this.makeMethod("savePhotoEditor"),this.enhancePhoto=this.makeMethod("enhancePhoto"),this.getEditor=this.makeMethod("getEditor"),this.getEditorData=this.makeMethod("getEditorData"),this.peSaveAnalytics=this.makeMethod("peSaveAnalytics"),this.restoreOriginal=this.makeMethod("restoreOriginal"),this.getAudioPlaylistCoverUploadServer=this.makeMethod("getAudioPlaylistCoverUploadServer"),this.saveAudioPlaylistCover=this.makeMethod("saveAudioPlaylistCover")}}a=(0,o.__decorate)([r.scope.global()],a)},746310:(e,t,i)=>{"use strict";i.d(t,{StoriesApi:()=>a});var o=i(331635),r=i(641569),n=i(132028);class a extends r.ApiNamespace{get namespace(){return"stories"}constructor(...e){super(...e),this.getWithPrefetch=this.makeMethod("get",!0),this.get=this.makeMethod("get"),this.getArchiveWithPrefetch=this.makeMethod("getArchive",!0),this.getArchive=this.makeMethod("getArchive"),this.getByAdsWithPrefetch=this.makeMethod("getByAds",!0),this.getByAds=this.makeMethod("getByAds"),this.getById=this.makeMethod("getById"),this.getByIdWithPrefetch=this.makeMethod("getById",!0),this.replies=this.makeMethod("getReplies"),this.repliesWithPrefetch=this.makeMethod("getReplies",!0),this.search=this.makeMethod("search"),this.searchWithPrefetch=this.makeMethod("search",!0),this.getDiscover=this.makeMethod("getDiscover"),this.getPhotoUploadServer=this.makeMethod("getPhotoUploadServer"),this.getVideoUploadServer=this.makeMethod("getVideoUploadServer"),this.getBackgrounds=this.makeMethod("getBackgrounds"),this.getWebConfig=this.makeMethod("getWebConfig"),this.markSeen=this.makeMethod("markSeen"),this.markSkipped=this.makeMethod("markSkipped"),this.save=this.makeMethod("save"),this.delete=this.makeMethod("delete"),this.hideReply=this.makeMethod("hideReply"),this.hideAllReplies=this.makeMethod("hideAllReplies"),this.banOwner=this.makeMethod("banOwner"),this.unbanOwner=this.makeMethod("unbanOwner"),this.markNotInterested=this.makeMethod("markNotInterested"),this.getViewers=this.makeMethod("getViewers"),this.getQuestions=this.makeMethod("getQuestions"),this.getBanned=this.makeMethod("getBanned"),this.getDetailedStats=this.makeMethod("getDetailedStats"),this.seenReplies=this.makeMethod("seenReplies"),this.deleteQuestion=this.makeMethod("deleteQuestion"),this.banQuestionAuthor=this.makeMethod("banQuestionAuthor"),this.unbanQuestionAuthor=this.makeMethod("unbanQuestionAuthor"),this.askQuestion=this.makeMethod("askQuestion"),this.setDiscoverVisible=this.makeMethod("setDiscoverVisible")}}a=(0,o.__decorate)([n.scope.global()],a)},7202:(e,t,i)=>{"use strict";i.d(t,{UtilsApi:()=>a});var o=i(331635),r=i(641569),n=i(132028);class a extends r.ApiNamespace{get namespace(){return"utils"}constructor(...e){super(...e),this.checkScreenName=this.makeMethod("checkScreenName"),this.resolveScreenName=this.makeMethod("resolveScreenName",!0)}}a=(0,o.__decorate)([n.scope.global()],a)},882044:(e,t,i)=>{"use strict";i.d(t,{VideoApi:()=>a});var o=i(331635),r=i(132028),n=i(641569);class a extends n.ApiNamespace{get namespace(){return"video"}constructor(...e){super(...e),this.get=this.makeMethod("get"),this.getVideoForEdit=this.makeMethod("getVideoForEdit"),this.getByIds=this.makeMethod("getByIds"),this.getOldWebAds=this.makeMethod("getOldWebAds",!0),this.getCatalogBlockItems=this.makeMethod("getCatalogBlockItems"),this.search=this.makeMethod("search"),this.edit=this.makeMethod("edit"),this.save=this.makeMethod("save"),this.delete=this.makeMethod("delete"),this.add=this.makeMethod("add"),this.getMusicMix=this.makeMethod("getMusicMix"),this.getVideoDiscover=this.makeMethod("getVideoDiscover"),this.getVideoMusicDiscover=this.makeMethod("getVideoMusicDiscover"),this.getAlbums=this.makeMethod("getAlbums"),this.getAlbumById=this.makeMethod("getAlbumById"),this.getFromAlbum=this.makeMethod("getFromAlbum"),this.getAlbumsByVideo=this.makeMethod("getAlbumsByVideo"),this.addToAlbum=this.makeMethod("addToAlbum"),this.addVideosToPlaylist=this.makeMethod("addVideosToPlaylist"),this.getRelatedAudios=this.makeMethod("getRelatedAudios"),this.deleteVideosFromPlaylist=this.makeMethod("deleteVideosFromPlaylist"),this.addRelatedAudioToFavoritePlaylist=this.makeMethod("addRelatedAudioToFavoritePlaylist"),this.removeRelatedAudioFromFavoritePlaylist=this.makeMethod("removeRelatedAudioFromFavoritePlaylist"),this.addAlbum=this.makeMethod("addAlbum"),this.editAlbum=this.makeMethod("editAlbum"),this.deleteAlbum=this.makeMethod("deleteAlbum"),this.removeFromAlbum=this.makeMethod("removeFromAlbum"),this.reorderVideos=this.makeMethod("reorderVideos"),this.getGroupsForUploading=this.makeMethod("getGroupsForUploading"),this.encodeProgress=this.makeMethod("encodeProgress"),this.getPrivacyDictionary=this.makeMethod("getPrivacyDictionary"),this.reportComment=this.makeMethod("reportComment"),this.getPlaylistUpdateInfo=this.makeMethod("getPlaylistUpdateInfo"),this.getPlaylistThumbUploadUrl=this.makeMethod("getPlaylistThumbUploadUrl"),this.savePlaylistThumb=this.makeMethod("savePlaylistThumb"),this.savePlaylistAdditionalThumb=this.makeMethod("savePlaylistAdditionalThumb"),this.getGroupSettings=this.makeMethod("getGroupSettings"),this.publish=this.makeMethod("publish"),this.reorderAlbums=this.makeMethod("reorderAlbums"),this.restore=this.makeMethod("restore"),this.stopStreaming=this.makeMethod("stopStreaming"),this.getLiveStats=this.makeMethod("getLiveStats"),this.getComments=this.makeMethod("getComments"),this.feedVideosForYouBlockItems=this.makeMethod("feedVideosForYouBlockItems"),this.getComment=this.makeMethod("getComment"),this.agreeDisclaimer=this.makeMethod("agreeDisclaimer"),this.saveGroupSettings=this.makeMethod("saveGroupSettings"),this.pinComment=this.makeMethod("pinComment"),this.unpinComment=this.makeMethod("unpinComment"),this.deleteComment=this.makeMethod("deleteComment"),this.restoreComment=this.makeMethod("restoreComment"),this.editComment=this.makeMethod("editComment"),this.createComment=this.makeMethod("createComment"),this.deleteThread=this.makeMethod("deleteThread"),this.restoreThread=this.makeMethod("restoreThread"),this.getStatsTokenWithPrefetch=this.makeMethod("getStatsToken",!0),this.getStatsToken=this.makeMethod("getStatsToken"),this.getPlayerConfigWithPrefetch=this.makeMethod("getPlayerConfig",!0),this.getPlayerConfig=this.makeMethod("getPlayerConfig"),this.saveUploadedThumb=this.makeMethod("saveUploadedThumb"),this.subscribeChooseRelevantAuthors=this.makeMethod("subscribeChooseRelevantAuthors"),this.subscribeGetRelevantAuthors=this.makeMethod("subscribeGetRelevantAuthors"),this.getThumbUploadUrl=this.makeMethod("getThumbUploadUrl"),this.viewSegments=this.makeMethod("viewSegments"),this.subscribeToAlbum=this.makeMethod("subscribeToAlbum"),this.unsubscribeFromAlbum=this.makeMethod("unsubscribeFromAlbum"),this.moderAction=this.makeMethod("moderAction"),this.updateMovieInfo=this.makeMethod("updateMovieInfo"),this.getMovieInfo=this.makeMethod("getMovieInfo"),this.getMovieInfoDropdownData=this.makeMethod("getMovieInfoDropdownData"),this.getModerationLog=this.makeMethod("getModerationLog"),this.getCountriesForGeoBlockSection=this.makeMethod("getCountriesForGeoBlockSection"),this.geoBlockSection=this.makeMethod("geoBlockSection"),this.unblockSection=this.makeMethod("unblockSection"),this.getGeoBlockSectionInfo=this.makeMethod("getGeoBlockSectionInfo"),this.removeViewingHistoryRecords=this.makeMethod("removeViewingHistoryRecords"),this.clearViewingHistoryRecords=this.makeMethod("clearViewingHistoryRecords"),this.getExternalVideoHash=this.makeMethod("getExternalVideoHash"),this.liveSubscribe=this.makeMethod("liveSubscribe"),this.liveUnsubscribe=this.makeMethod("liveUnsubscribe"),this.liveHeartbeat=this.makeMethod("liveHeartbeat"),this.liveStopHeartbeat=this.makeMethod("liveStopHeartbeat"),this.getLiveStatus=this.makeMethod("getLiveStatus"),this.longPolling=this.makeMethod("getLongPollServer"),this.bulkEdit=this.makeMethod("bulkEdit"),this.bulkOperationRedo=this.makeMethod("bulkEditRedo"),this.bulkEditCancel=this.makeMethod("bulkEditCancel"),this.bulkEditGetTasks=this.makeMethod("bulkEditGetTasks"),this.notInterested=this.makeMethod("notInterested"),this.notRecommendOwner=this.makeMethod("notRecommendOwner"),this.checkLink=this.makeMethod("checkActionLink"),this.getHashes=this.makeMethod("getHashes"),this.getUserInfo=this.makeMethod("getUserInfo"),this.getSnackBarInfo=this.makeMethod("getSnackBarInfo"),this.trackSnackBarEvent=this.makeMethod("trackSnackBarEvent"),this.getForPlay=this.makeMethod("getForPlay"),this.getEmbed=this.makeMethod("getEmbed")}}a=(0,o.__decorate)([r.scope.global()],a)},697157:(e,t,i)=>{"use strict";i.d(t,{useExternRef:()=>r});var o=i(296540);function r(...e){const t=(0,o.useRef)(null);return(0,o.useMemo)((()=>({get current(){return t.current},set current(i){t.current=i,e.forEach((e=>{e&&function(e,t){t&&("function"==typeof t?t(e):t.current=e)}(i,e)}))}})),e)}},939660:(e,t,i)=>{"use strict";i.d(t,{useHasBeenTrue:()=>r});var o=i(296540);function r(e){var t;const i=(0,o.useRef)(e);return(t=i).current||(t.current=e),i.current}},488826:(e,t,i)=>{"use strict";i.d(t,{useMountEffect:()=>r});var o=i(296540);function r(e){(0,o.useEffect)(e,[])}},840741:(e,t,i)=>{"use strict";i.d(t,{useObjectMemo:()=>n});var o=i(296540),r=i(351118);const n=e=>{const[t,i]=(0,o.useState)(e);return(0,r.isEqual)(e,t)||i(e),t}},382010:(e,t,i)=>{"use strict";i.d(t,{usePatchChildrenRef:()=>a});var o=i(296540),r=i(697157);const n=e=>"string"==typeof e.type,a=e=>{const t=(0,o.isValidElement)(e)&&(n(e)?e.ref:e.props.getRootRef),i=(0,r.useExternRef)(t);return(0,o.useEffect)((()=>{i.current||console.error("Кажется, в children передан компонент, который не поддерживает свойство getRootRef. Мы не можем получить ссылку на корневой dom-элемент этого компонента")}),[e?.type,i]),[i,(0,o.isValidElement)(e)?(0,o.cloneElement)(e,{[n(e)?"ref":"getRootRef"]:i}):e]}},634444:(e,t,i)=>{"use strict";i.d(t,{useStableCallback:()=>r});var o=i(296540);function r(e){const t=(0,o.useRef)(e);return(0,o.useLayoutEffect)((()=>{t.current=e})),(0,o.useCallback)(((...e)=>t.current?.(...e)),[t])}},913157:(e,t,i)=>{"use strict";i.d(t,{DefaultLoading:()=>r});var o=i(474848);const r=()=>(0,o.jsx)("h2",{children:"Loading..."})},636683:(e,t,i)=>{"use strict";i.d(t,{DefaultLoadingError:()=>r});var o=i(474848);const r=()=>(0,o.jsx)("h2",{children:"Cannot load component..."})},733230:(e,t,i)=>{"use strict";i.d(t,{ErrorBoundary:()=>n});var o=i(296540),r=i(156051);class n extends o.Component{componentDidCatch(e){this.props.onDidCatch?this.props.onDidCatch(e):(0,r.logError)(e),this.setState({hasError:!0})}render(){const{fallback:e,children:t}=this.props,{hasError:i}=this.state;return i?e:t}constructor(...e){super(...e),this.state={hasError:!1}}}},837293:(e,t,i)=>{"use strict";i.d(t,{lazyModule:()=>l});var o=i(474848),r=i(296540),n=i(913157),a=i(636683),s=i(733230),c=i(156051);function l({loader:e,name:t,DefaultLoading:i=n.DefaultLoading,DefaultLoadingError:l=a.DefaultLoadingError,options:d={hasError:!1,logError:c.logError},onLazyModuleLoadStarted:u=()=>{},onLazyModuleLoaded:_=()=>{},isSuspenseDisabled:p}){const m=n=>{const{loading:a=(0,o.jsx)(i,{}),loadingError:c=(0,o.jsx)(l,{})}=n,[m,g]=(0,r.useState)(d.hasError),v=(0,r.useMemo)((()=>(0,r.lazy)((()=>(u(),e().then((e=>(_(),{default:e})),(e=>(d.logError(e),g(!0),{default:()=>null}))))))),[e]);return p?(0,o.jsx)(o.Fragment,{children:a}):(0,o.jsx)(s.ErrorBoundary,{fallback:c,moduleName:t,onDidCatch:d.onDidCatch,children:m?c:(0,o.jsx)(r.Suspense,{fallback:a,children:(0,o.jsx)(v,{...n})})})};return m.displayName=`lazyModule(${t})`,m.preload=e,m}},156051:(e,t,i)=>{"use strict";function o(e){console.error(e)}i.d(t,{logError:()=>o})},960126:(e,t,i)=>{"use strict";i.d(t,{getLottieManager:()=>o});const o=(0,i(351118).asyncImportLoader)((async()=>{const{LottieManager:e}=await Promise.all([i.e(23666),i.e("langs/web/rlottie")]).then(i.bind(i,535130));return e}))},415855:(e,t,i)=>{"use strict";i.d(t,{isOffscreenCanvasSupported:()=>o});const o="undefined"!=typeof OffscreenCanvas},41719:(e,t,i)=>{"use strict";i.d(t,{isSupportedByBrowser:()=>r});var o=i(415855);function r(){return o.isOffscreenCanvasSupported}},880259:(e,t,i)=>{"use strict";i.d(t,{RouterContext:()=>r,useRouterContext:()=>n});var o=i(296540);const r=(0,o.createContext)(null);function n(){const e=(0,o.useContext)(r);if(!e)throw new Error("@vkontakte-internal/router: Empty RouterContext");return e}},899631:(e,t,i)=>{"use strict";i.d(t,{useLocation:()=>a});var o=i(296540),r=i(880259);function n(e,t){if(t)return{key:t.key,url:e.createHref(t)}}function a(){const{router:e}=(0,r.useRouterContext)();return(0,o.useMemo)((()=>{const{beforeHistoryLocation:t,location:i}=e;return{...i,from:n(e,t)}}),[e.location,e.historyLocations])}},864175:(e,t,i)=>{"use strict";i.d(t,{useNavigate:()=>n});var o=i(296540),r=i(880259);function n(){const{router:e}=(0,r.useRouterContext)();return(0,o.useMemo)((()=>({navigate:(t,i)=>{if("string"==typeof t){const o=t,{replace:r,state:n}=i||{};r?e.replace(o,n):e.push(o,n)}else{const i=t;e.go(i)}},back:(t=1)=>e.go(-t),forward:(t=1)=>e.go(t),reload:()=>window.location.reload()})),[e])}},263290:(e,t,i)=>{"use strict";i.d(t,{useQuery:()=>r});var o=i(880259);function r(){const{router:e}=(0,o.useRouterContext)();return e.query}},456961:(e,t,i)=>{"use strict";i.d(t,{Router:()=>s});var o=i(686663),r=i(954605),n=i(503155),a=i(725);class s{static parseSearch(e){return o.parse(e)}static stringifyQuery(e){return o.stringify(e)}init(){if(this._isInitialized)throw new Error("ROUTER_RE_INITIALIZATION");return this._isInitialized=!0,this.process?.promise||this.matchRoutesConfig()}get isInitialized(){return this._isInitialized}get activeRoute(){return this.data.activeRoute}get activeRouteKey(){return this.data.activeRouteKey}get routesConfig(){return this.config.routes}get action(){return this.data.action}get location(){return this.data.location}get query(){return this.data.query}get params(){return this.data.params}get metadata(){return this.data.metadata}get historyLocations(){return this.data.historyLocations}get beforeHistoryLocation(){const e=this.historyLocations.findIndex((e=>e.key===this.location.key));return this.historyLocations[e-1]||void 0}push(e,t=null){this.config.history.push(this.createHref(e),t)}replace(e,t=null){this.config.history.replace(this.createHref(e),t)}go(e){return this.config.history.go(e)}replaceState(e){this.config.history.replace(this.location,e)}listen(e){return this.listeners.add(e),()=>{this.listeners.delete(e)}}createHref(e){return"string"==typeof e?this.config.history.createHref(e):"query"in e&&e.query?this.config.history.createHref({pathname:e.pathname,hash:e.hash,search:this.stringifyQuery(e.query)}):this.config.history.createHref(e)}isActiveRoute(e){return Array.isArray(e)&&this.activeRoute?e.includes(this.activeRoute):e===this.activeRoute}parseQuery(e){return o.parse(e)}stringifyQuery(e){return o.stringify(e)}sendEvent(e){this.listeners.forEach((t=>t(e)))}updateHistory(e){const t=(0,n.updateHistoryLocations)(e);return t.length>100?t.slice(-Math.ceil(50)):t}matchRoutesConfig(){return this.process=this.process||Promise.withResolvers(),(async()=>{const{location:e}=this.config.history,t=()=>e===this.config.history.location,{data:i,error:o}=await(async()=>{try{return{data:await s.matchRoutesConfig({routesConfig:this.config.routes,pathname:e.pathname,path:this.createHref(e),search:e.search,partConfigEnabled:this.config.partConfigEnabled||(()=>!1),isToggleEnabled:this.config.isToggleEnabled||(()=>!1),dynamicMatch:this.config.dynamicMatch}),error:null}}catch(t){const i=t instanceof Error?t:void 0;return{data:null,error:new a.RouterError("[Router]: error match",{cause:i,metadata:{cause:JSON.stringify(t),location:e}})}}})(),{process:r}=this;if(!t())return;if(!r)throw new Error("[Router]: process cannot be empty!");const n={action:this.config.history.action,location:this.config.history.location,activeRoute:i?.route||null,activeRouteKey:i?.key||null,params:i?.routeParams||null,query:this.parseQuery(this.config.history.location.search),metadata:i?.metadata||null,historyLocations:this._historyLocations},c={...this.data},l=await(this.config.beforeRouteChange?.(n,c))??!0;if(t()){if(this.process=null,this._isInitialized=!0,!l){const e={type:"invalid",payload:{data:n,prevData:c}};return this.sendEvent(e),void r.resolve(e)}if(this.data=n,i){const e={type:"changed",payload:{data:n,prevData:c}};this.sendEvent(e),r.resolve(e)}else{const e={type:"error",payload:{error:o}};this.sendEvent(e),r.resolve(e)}}})(),this.process.promise}constructor(e){this.config=e,this.listeners=new Set,this._isInitialized=!1,this.process=null;const{history:t,state:i}=e;let o=t.location;this._historyLocations=[t.location],i&&(this._isInitialized=!0),this.data={action:t.action,location:t.location,historyLocations:[...this._historyLocations],activeRoute:i?.route||null,activeRouteKey:i?.routeKey||null,params:i?.data.params||null,query:{},metadata:i?.data.metadata||null},this.config.history.listen((()=>{this._historyLocations=this.updateHistory({action:t.action,oldHistory:this._historyLocations,oldLocation:o,newLocation:t.location}),o=t.location,this.matchRoutesConfig()}))}}s.matchRoutesConfig=async({routesConfig:e,pathname:t,search:i,path:o,partConfigEnabled:n,isToggleEnabled:a,dynamicMatch:c})=>await(0,r.matchRoutesConfig)({routesConfig:e,pathname:t,path:o,query:s.parseSearch(i),partConfigEnabled:n,isToggleEnabled:a,dynamicMatch:c}),s.syncMatchRoutesConfig=({routesConfig:e,pathname:t,search:i,path:o,partConfigEnabled:n,isToggleEnabled:a})=>(0,r.syncMatchRoutesConfig)({routesConfig:e,pathname:t,path:o,query:s.parseSearch(i),partConfigEnabled:n,isToggleEnabled:a})},725:(e,t,i)=>{"use strict";i.d(t,{RouterError:()=>o});class o extends Error{constructor(e,{cause:t,metadata:i}){super(e,{cause:t}),this.metadata=i,this.name="RouterError",Error.captureStackTrace?Error.captureStackTrace(this,o):this.stack=(new Error).stack}}},794662:(e,t,i)=>{"use strict";i.d(t,{matchPath:()=>a});var o=i(905867);const r={};function n(e,t={}){const i=function(e={}){const t=Object.keys(e).sort().map((t=>`${t}:${e[t]}`)).join();return r[t]||(r[t]={}),r[t]}(t);if(!i[e]){const r=[],n=(0,o.pathToRegexp)(e,r,t);i[e]={keys:r,regExp:n}}return i[e]}function a(e,t,{exact:i}={}){if("string"==typeof e||Array.isArray(e))for(let o of[e].flat()){const{regExp:e,keys:r}=n(o,{strict:!0,sensitive:!0,end:Boolean(i)}),a=e.exec(t);if(a)return[!0,Object.fromEntries(r.map((({name:e},t)=>[e,a[t+1]])))]}else{const{regExp:i}=e;if(new RegExp(i).exec(t))return[!0,{}]}return[!1,null]}},954605:(e,t,i)=>{"use strict";i.d(t,{matchRoutesConfig:()=>s,syncMatchRoutesConfig:()=>c});var o=i(794662);const r=e=>e?Array.isArray(e)?e:[e]:[];function n(e,t){return Object.keys(e).every((i=>{const o=t[i]||"",r=e[i];return o===r||(!(!Array.isArray(r)||"string"!=typeof o||!r.includes(o))||"object"==typeof r&&"test"in r&&"string"==typeof o&&new RegExp(r.test).test(o))}))}function a(e,{partConfigEnabled:t,isToggleEnabled:i}){return!(!e.disabledKey||!r(e.disabledKey).some((e=>t(e))))||!(!e.enabledKey&&!e.enabledToggleKey)&&!(r(e.enabledKey).some((e=>t(e)))||r(e.enabledToggleKey).some((e=>i(e))))}function s(e){return async function({routesConfig:e,pathname:t,path:i,query:r,partConfigEnabled:s,isToggleEnabled:c,dynamicMatch:l}){for await(const d of Object.keys(e)){const u=e[d];let _;const[p,m]=(0,o.matchPath)(u.path,u.isLegacyConfig?i:t,{exact:u.exact});if(p&&(!u.query||n(u.query,r)))if(a(u,{partConfigEnabled:s,isToggleEnabled:c})){if(!u.dynamic)break}else if(!u.dynamic||!l||(_=await l({config:u,params:m}),_))return{route:u,routeParams:m,metadata:_,key:d}}return{}}(e)}function c(e){return function({routesConfig:e,path:t,pathname:i,query:r,partConfigEnabled:s,isToggleEnabled:c}){for(const l of Object.keys(e)){const d=e[l];if(d.dynamic)continue;if(a(d,{partConfigEnabled:s,isToggleEnabled:c}))continue;const[u,_]=(0,o.matchPath)(d.path,d.isLegacyConfig?t:i,{exact:d.exact});if(u&&(!d.query||n(d.query,r)))return{route:d,routeParams:_}}return{}}(e)}},916480:(e,t,i)=>{"use strict";i.d(t,{patternToPath:()=>n});var o=i(905867);const r={};function n(e,t){r[e]||(r[e]=(0,o.compile)(e));return(0,r[e])(t)}},503155:(e,t,i)=>{"use strict";i.d(t,{updateHistoryLocations:()=>r});var o=i(773444);function r({oldHistory:e,action:t,oldLocation:i,newLocation:r}){let n=[...e];const a=n.findIndex((e=>e.key===i.key));if(-1===a)return[r];switch(t){case o.Action.Replace:return n=n.slice(0,a),n[a]=r,n;case o.Action.Push:return n=n.slice(0,a+1),n.push(r),n;case o.Action.Pop:return-1===n.findIndex((e=>e.key===r.key))?[r]:n}}},687741:(e,t,i)=>{"use strict";i.d(t,{createAccountGetHelpHintsFx:()=>l,createAccountGetInfoFx:()=>n,createAccountGetPrivacySettingsFx:()=>_,createAccountGetProfileInfoFx:()=>c,createAccountHideHelpHintFx:()=>d,createAccountSetInfoFx:()=>a,createAccountShowHelpHintFx:()=>u,createAccountUnbanFx:()=>p});var o=i(32489),r=i(412554);const n=e=>(0,r.createApiEffect)("account.getInfo",e),a=e=>(0,o.attach)({effect:(0,r.createApiEffect)("account.setInfo",e),mapParams:({query:e,...t})=>({...t,query:{...e,value:s(e.value)}})});function s(e){return"boolean"==typeof e?e?"1":"0":"number"==typeof e?String(e):e}const c=e=>(0,r.createApiEffect)("account.getProfileInfo",e),l=e=>(0,r.createApiEffect)("account.getHelpHints",e),d=e=>(0,r.createApiEffect)("account.hideHelpHint",e),u=e=>(0,r.createApiEffect)("account.showHelpHint",e),_=e=>(0,r.createApiEffect)("account.getPrivacySettings",e),p=e=>(0,r.createApiEffect)("account.unban",e)},580352:(e,t,i)=>{"use strict";i.d(t,{createAudioAddToPlaylistFx:()=>p,createAudioCreatePlaylistFx:()=>a,createAudioDeletePlaylistFx:()=>s,createAudioFollowRadioStationFx:()=>u,createAudioGetIdsBySourceFx:()=>n,createAudioGetPlaylistByIdFx:()=>r,createAudioGetSearchSuggestionsFx:()=>l,createAudioGetSnippetsFx:()=>c,createAudioGetStreamMixAudiosFx:()=>d,createAudioRemoveFromPlaylistFx:()=>m,createAudioUnfollowRadioStationFx:()=>_});var o=i(412554);const r=e=>(0,o.createApiEffect)("audio.getPlaylistById",e),n=e=>(0,o.createApiEffect)("audio.getIdsBySource",e),a=e=>(0,o.createApiEffect)("audio.createPlaylist",e),s=e=>(0,o.createApiEffect)("audio.deletePlaylist",e),c=e=>(0,o.createApiEffect)("audio.getSnippets",e),l=e=>(0,o.createApiEffect)("audio.getSearchSuggestions",e),d=e=>(0,o.createApiEffect)("audio.getStreamMixAudios",e),u=e=>(0,o.createApiEffect)("audio.followRadioStation",e),_=e=>(0,o.createApiEffect)("audio.unfollowRadioStation",e),p=e=>(0,o.createApiEffect)("audio.addToPlaylist",e),m=e=>(0,o.createApiEffect)("audio.removeFromPlaylist",e)},335797:(e,t,i)=>{"use strict";i.d(t,{useEntitiesStore:()=>r,useNotNullEntitiesStore:()=>n});var o=i(293721);const r=(e,t)=>(0,o.useStoreMap)({store:e,keys:[t],fn:(e,[t])=>e[t],defaultValue:null}),n=(e,t)=>(0,o.useStoreMap)({store:e,keys:[t],fn:(e,[t])=>{const i=e[t];if(null==i)throw new Error("Empty value entity store");return i}})},503505:(e,t,i)=>{"use strict";i.d(t,{ensureAudioPlaylistsService:()=>a});var o=i(32489),r=i(558137),n=i(990996);const a=(0,r.makeSharedState)("global/audio/playlists",(()=>(0,n.createAudioPlaylistsService)({domain:(0,o.createDomain)("global/audio/playlists"),name:"global/audio/playlists"})),{version:1})},30899:(e,t,i)=>{"use strict";i.d(t,{ensureMyAudioPlaylistsService:()=>s});var o=i(32489),r=i(558137),n=i(131084),a=i(503505);const s=(0,r.makeSharedState)("global/audio/myPlaylists",(()=>(0,n.createMyAudioPlaylistsService)({config:{domain:(0,o.createDomain)("global/audio/myPlaylists"),name:"global/audio/myPlaylists"},audioPlaylistsService:(0,a.ensureAudioPlaylistsService)()})),{version:2})},797612:(e,t,i)=>{"use strict";i.d(t,{ensureMyAudioRadioStationsService:()=>a});var o=i(32489),r=i(558137),n=i(197796);const a=(0,r.makeSharedState)("global/audio/myRadioStations",(()=>(0,n.createMyAudioRadioStationsService)({domain:(0,o.createDomain)("global/audio/myRadioStations"),name:"global/audio/myRadioStations"})),{version:1})},984745:(e,t,i)=>{"use strict";i.d(t,{ensureAccountHelpHintsService:()=>d});var o=i(32489),r=i(558137),n=i(687741),a=i(746573),s=i(782399),c=i(603025),l=i(679005);const d=(0,r.makeSharedState)("global/account/helpHints",(()=>(e=>{const t=(0,a.getEffectorServiceDomain)(e),i=t.createStore({}),r=t.createStore({viewerId:0}),d=t.createEvent("helpHints/initialize"),u=t.createEvent("helpHints/reload"),_=t.createEvent("helpHints/logError"),p=t.createEvent("helpHints/hide"),m=t.createEvent("helpHints/show"),g=(0,n.createAccountGetHelpHintsFx)({domain:t});let v=null;const f=async()=>{const{items:e}=await g({query:{}});return e.reduce(((e,t)=>(e[t.id]=t,e)),{})},y=(0,o.attach)({name:"helpHints/getHelpHintsFx",source:i,effect:t.createEffect((e=>Object.keys(e).length?Promise.resolve(e):v||(v=f().finally((()=>{v=null})),v)))}),E=t.createEffect("helpHints/reloadHelpHintsFx");E.use((()=>f()));const A=(0,o.attach)({name:"helpHints/hideHelpHintFx",effect:(0,n.createAccountHideHelpHintFx)({domain:t}),mapParams:({hintId:e})=>({query:{hint_id:e}})}),S=(0,o.attach)({name:"helpHints/showHelpHintFx",effect:(0,n.createAccountShowHelpHintFx)({domain:t}),mapParams:e=>({query:{hint_id:e}})}),b=t.createEffect("helpHints/logErrorFx");return b.use((({error:e,logErrorFn:t})=>{let i=null;t?(i=(0,s.isNetworkError)(e)?e.error:(0,c.isApiError)(e)?new Error(e.error.error_msg||e.type):e,i&&t(i,{environment:"global/account/helpHints"})):console.error(e)})),(0,o.sample)({clock:d,target:r}),(0,o.sample)({clock:d,source:y.pending,filter:e=>!e,target:y}),(0,o.sample)({clock:u,target:E}),(0,o.sample)({clock:[y.doneData,E.doneData],target:i}),(0,o.sample)({clock:p,target:A}),(0,o.sample)({clock:p,source:i,filter:(e,{isOptimistic:t})=>Boolean(t),fn:(e,{hintId:t})=>(0,l.produce)(e,(e=>{delete e[t]})),target:i}),(0,o.sample)({clock:m,target:S}),(0,o.sample)({clock:A.done,source:i,filter:(e,{params:{isOptimistic:t}})=>!t,fn:(e,{params:{hintId:t}})=>(0,l.produce)(e,(e=>{delete e[t]})),target:i}),(0,o.sample)({clock:S.done,target:u}),(0,o.sample)({clock:_,source:r,fn:({logErrorFn:e},t)=>({error:t,logErrorFn:e}),target:b}),(0,o.sample)({clock:[y.failData,E.failData,S.failData,A.failData],target:_}),{initialize:d,canShow:e=>Boolean(i.getState()[e]),getHelpHintsFx:y,$helpHints:i,hideHelpHint:p,showHelpHint:m}})({domain:(0,o.createDomain)("global/account/helpHints"),name:"global/account/helpHints"})),{version:1})},848040:(e,t,i)=>{"use strict";function o({id:e,ownerId:t,accessKey:i}){return`${t}_${e}${i?`_${i}`:""}`}i.d(t,{getAudioAccessId:()=>o})},478455:(e,t,i)=>{"use strict";function o({id:e,ownerId:t}){return`${t}_${e}`}i.d(t,{getAudioFullId:()=>o})},680033:(e,t,i)=>{"use strict";function o(e){const t={id:e.id,ownerId:e.owner_id,accessKey:e.access_key,releaseAudioId:e.release_audio_id};return{...t,identity:t,title:e.title,author:s(e),artwork:a(e.album?.thumb),duration:e.duration,url:e.url||null,isExplicit:e.is_explicit}}function r(e){if(!e.track_code)throw new Error("track_code is not defined");return{...o(e),trackCode:e.track_code}}i.d(t,{mapAPIAudioArtistToAudioDataArtistInfo:()=>c,mapAPIAudioToAudioData:()=>o,mapAPIAudioToAudioDataAuthor:()=>s,mapAPIAudioToTrackedAudioData:()=>r});const n=[["photo_34",34],["photo_68",68],["photo_135",135],["photo_270",270],["photo_300",300],["photo_600",600],["photo_1200",1200]];function a(e){const t=[];if(!e)return t;for(const[i,o]of n){const r=e[i];r&&t.push({src:r,size:o})}return t}function s(e){return{main:e?.main_artists?.map(l)??[],feat:e?.featured_artists?.map(l)??[],raw:e.artist}}function c(e){return{id:e.id,name:e.name}}function l(e){return{name:e.name}}},139612:(e,t,i)=>{"use strict";function o(e){const[t,i,o]=e.split("_");if(!i||!t)throw new Error(`Invalid audio_id: ${e}`);return{id:parseInt(i,10),ownerId:parseInt(t,10),accessKey:o}}i.d(t,{mapAPIRawIdToAudioIdentity:()=>o})},234386:(e,t,i)=>{"use strict";i.d(t,{mapAPIRawIdTrackedToTrackedAudioIdentity:()=>r});var o=i(139612);function r(e){return{...(0,o.mapAPIRawIdToAudioIdentity)(e.audio_id),trackCode:e.track_code}}},488150:(e,t,i)=>{"use strict";i.d(t,{AudioType:()=>o});var o=function(e){return e.MusicTrack="music_track",e.MusicSnippet="music_snippet",e.PodcastEpisode="podcast_episode",e.Radio="radio",e}({})},346127:(e,t,i)=>{"use strict";i.d(t,{mapAPIAudioToMusicAudioData:()=>n,mapAPIAudioToTrackedMusicAudioData:()=>a});var o=i(680033),r=i(796674);function n(e,t){return{...(0,o.mapAPIAudioToAudioData)(t),...s(e,t),...(0,r.mapAPIAudioToTrackedMusicAudioState)(t)}}function a(e,t){return{...(0,o.mapAPIAudioToTrackedAudioData)(t),...s(e,t),...(0,r.mapAPIAudioToTrackedMusicAudioState)(t)}}function s(e,t){return{type:e,hasLyrics:t.has_lyrics??!1,author:(i=t,{...(0,o.mapAPIAudioToAudioDataAuthor)(i),main:i?.main_artists?.map(c)??[],feat:i?.featured_artists?.map(c)??[]})};var i}function c(e){return{name:e.name,id:e.id}}},796674:(e,t,i)=>{"use strict";function o(e){return{disliked:e.dislike??!1}}i.d(t,{mapAPIAudioToTrackedMusicAudioState:()=>o})},280481:(e,t,i)=>{"use strict";function o({id:e,ownerId:t,podcastId:i}){return`${t}_${Number.isFinite(i)?i:e}`}i.d(t,{getPodcastAudioFullId:()=>o})},990996:(e,t,i)=>{"use strict";i.d(t,{createAudioPlaylistsService:()=>g});var o=i(32489),r=i(580352),n=i(594241),a=i(46201),s=i(786979),c=i(865409),l=i(234386),d=i(393344),u=i(121574),_=i(169134),p=i(836222),m=i(746573);function g(e){const t=(0,m.getEffectorServiceDomain)(e),i=(0,r.createAudioGetPlaylistByIdFx)({domain:t}),g=(0,r.createAudioGetIdsBySourceFx)({domain:t}),v=(0,d.createAudioPlaylistsCreateFx)({domain:t}),f=(0,u.createAudioPlaylistsDeleteFx)({domain:t}),y=(0,_.createAddAudioFx)({domain:t}),E=(0,p.createDeleteAudioFx)({domain:t}),A=t.createStore({}),S=t.createStore({}),b=t.createEffect((async({id:e,ownerId:t})=>{const o=await i({query:{playlist_id:e,owner_id:t}});return(0,c.mapAPIPlaylistToAudioPlaylistData)(o)})),T=(0,o.attach)({source:A,async effect(e,t){const i=e[(0,n.getAudioPlaylistFullId)(t)];return i||b(t)}}),I=t.createEffect((async e=>((await g({query:{source:"playlist",entity_id:(0,n.getAudioPlaylistFullId)(e)}})).audios??[]).map(l.mapAPIRawIdTrackedToTrackedAudioIdentity))),C=(0,o.attach)({source:S,async effect(e,t){const i=e[(0,n.getAudioPlaylistFullId)(t)];return i||I(t)}});return A.on(b.done,((e,{result:t})=>({...e,[(0,n.getAudioPlaylistFullId)(t)]:t}))),S.on(I.done,((e,{params:t,result:i})=>({...e,[(0,n.getAudioPlaylistFullId)(t)]:i}))),A.on(v.done,((e,{result:t})=>(0,a.addPairToMap)(e,{key:(0,n.getAudioPlaylistFullId)(t),value:t}))),A.on(f.done,((e,{params:t})=>(0,s.removePairFromMap)(e,(0,n.getAudioPlaylistFullId)({id:t.id,ownerId:t.ownerId})))),{$playlistDataEntities:A,$playlistAudioIdsEntities:S,createFx:v,deleteFx:f,addAudioFx:y,deleteAudioFx:E,fetchPlaylistFx:b,ensurePlaylistFx:T,fetchPlaylistAudioIdsFx:I,ensurePlaylistAudioIdsFx:C}}},169134:(e,t,i)=>{"use strict";i.d(t,{createAddAudioFx:()=>n});var o=i(580352),r=i(848040);function n({domain:e}){const t=(0,o.createAudioAddToPlaylistFx)({domain:e});return e.createEffect((async({ownerId:e,playlistId:i,audioIdentity:o})=>{const n=await t({query:{owner_id:e,playlist_id:i,audio_ids:(0,r.getAudioAccessId)(o)}}),a=n?.[0]?.audio_id;if(!a)throw new Error("Error when trying to add audio to a playlist");return{id:a,ownerId:e}}))}},393344:(e,t,i)=>{"use strict";i.d(t,{createAudioPlaylistsCreateFx:()=>a});var o=i(580352),r=i(865409),n=i(478455);function a({domain:e}){const t=(0,o.createAudioCreatePlaylistFx)({domain:e});return e.createEffect((async({ownerId:e,audios:i,title:o,description:a})=>{const s=i.map(n.getAudioFullId).join(","),c=await t({query:{owner_id:e,audio_ids:s,title:o,description:a}});return(0,r.mapAPIPlaylistToAudioPlaylistData)(c)}))}},121574:(e,t,i)=>{"use strict";i.d(t,{createAudioPlaylistsDeleteFx:()=>r});var o=i(580352);function r({domain:e}){const t=(0,o.createAudioDeletePlaylistFx)({domain:e});return e.createEffect((async({ownerId:e,id:i})=>{await t({query:{owner_id:e,playlist_id:i}})}))}},836222:(e,t,i)=>{"use strict";i.d(t,{createDeleteAudioFx:()=>n});var o=i(580352),r=i(478455);function n({domain:e}){const t=(0,o.createAudioRemoveFromPlaylistFx)({domain:e});return e.createEffect((async({ownerId:e,playlistId:i,audioIdentity:o})=>{await t({query:{owner_id:e,playlist_id:i,audio_ids:(0,r.getAudioFullId)(o)}})}))}},241024:(e,t,i)=>{"use strict";i.d(t,{createAudioVkMixService:()=>r});var o=i(399452);function r(e){const t=e.createStore([]),i=(0,o.createAudioVkMixFetchNextFx)(e);return t.on(i.doneData,((e,t)=>t.length?[...e,...t]:e)),{$lists:t,fetchNextFx:i}}},399452:(e,t,i)=>{"use strict";i.d(t,{createAudioVkMixFetchNextFx:()=>r});var o=i(580352);function r(e){const t=(0,o.createAudioGetStreamMixAudiosFx)({domain:e});return e.createEffect((async({id:e,blockId:i,count:o=1,isSessionLaunched:r=!1,isSessionFeatureEnabled:n=!1})=>await t({query:{mix_id:e,ref:i,count:o,...n?{append:r?1:0}:{}}})))}},205337:(e,t,i)=>{"use strict";i.d(t,{convertToGroupMusicId:()=>r});var o=i(468073);function r(e){return o.Ranges.isGroupId(e)?e:o.Ranges.convertGroupIdToOwnerId(e)}},97295:(e,t,i)=>{"use strict";i.d(t,{getGroupAudioFullId:()=>n});var o=i(478455),r=i(205337);function n({id:e,ownerId:t},i){return`${(0,r.convertToGroupMusicId)(i)}_${(0,o.getAudioFullId)({id:e,ownerId:t})}`}},131084:(e,t,i)=>{"use strict";i.d(t,{createMyAudioPlaylistsService:()=>c});var o=i(32489),r=i(615955),n=i(746573),a=i(178246),s=i(163374);function c({config:e,audioPlaylistsService:t}){const i=(0,n.getEffectorServiceDomain)(e),{$addedAudiosMap:c,addedAudiosMapApi:l}=(0,a.createAddedAudiosMap)(i),d=i.createEvent(),u=(0,o.restore)(d,null),_=i.createStore({},{updateFilter:(e,t)=>!(0,r.shallowEqual)(e,t),serialize:"ignore"}),p=(0,o.attach)({source:u,async effect(e,i){if(!e)throw new Error("[MyAudioPlaylistsService] UserId not set. To create a playlist, set the userId using setUserId.");return t.createFx({...i,ownerId:e})}}),m=(0,o.attach)({source:u,async effect(e,i){if(!e)throw new Error("[MyAudioPlaylistsService] UserId not set. To delete a playlist, set the userId using setUserId.");return t.deleteFx({...i,ownerId:e})}}),g=(0,o.attach)({source:u,async effect(e,i){if(!e)throw new Error("[MyAudioPlaylistsService] UserId not set. To add audio to playlist, set the userId using setUserId.");return t.addAudioFx({...i,ownerId:e})}}),v=(0,o.attach)({source:u,async effect(e,i){if(!e)throw new Error("[MyAudioPlaylistsService] UserId not set. To delete audio from playlist, set the userId using setUserId.");return t.deleteAudioFx({...i,ownerId:e})}});return(0,o.sample)({clock:(0,o.combine)({playlistDataEntities:t.$playlistDataEntities,userId:u}),fn:({playlistDataEntities:e,userId:t})=>t?Object.entries(e).reduce(((e,[i,o])=>(o.ownerId===t&&(e[i]=o),e)),{}):{},target:_}),(0,o.sample)({clock:g.done,source:u,fn:(e,{params:t,result:i})=>({originalPlaylistAudioFullId:(0,s.getPlaylistAudioFullId)({originalAudio:t.audioIdentity,playlist:{id:t.playlistId,ownerId:e}}),addedIdentity:i}),target:l.add}),(0,o.sample)({clock:v.done,source:u,fn:(e,{params:t})=>(0,s.getPlaylistAudioFullId)({originalAudio:t.originalAudioIdentity,playlist:{id:t.playlistId,ownerId:e}}),target:l.remove}),{createFx:p,deleteFx:m,addAudioFx:g,deleteAudioFx:v,setUserId:d,$myAudioPlaylistsIdentitiesMap:_,$addedAudiosMap:c}}},178246:(e,t,i)=>{"use strict";i.d(t,{createAddedAudiosMap:()=>a});var o=i(32489),r=i(46201),n=i(786979);function a(e){const t=e.createStore({});return{$addedAudiosMap:t,addedAudiosMapApi:(0,o.createApi)(t,{add:(e,{originalPlaylistAudioFullId:t,addedIdentity:i})=>(0,r.addPairToMap)(e,{key:t,value:i}),remove:(e,t)=>(0,n.removePairFromMap)(e,t)})}}},163374:(e,t,i)=>{"use strict";i.d(t,{getPlaylistAudioFullId:()=>n});var o=i(848040),r=i(594241);function n({playlist:e,originalAudio:t}){return`PLAYLIST_${(0,r.getAudioPlaylistFullId)(e)}AUDIO_${(0,o.getAudioAccessId)(t)}`}},197796:(e,t,i)=>{"use strict";i.d(t,{createMyAudioRadioStationsService:()=>l});var o=i(746573),r=i(294219),n=i(685065),a=i(32489),s=i(478455),c=i(586049);function l(e){const t=(0,o.getEffectorServiceDomain)(e),i=(0,r.createFollowFx)({domain:t}),l=(0,n.creatUnfollowFx)({domain:t}),{fullIdsMapApi:d,$fullIdsMap:u}=(0,c.createFullIdsMap)(t);return(0,a.sample)({clock:i.done,fn:({params:{identity:e}})=>(0,s.getAudioFullId)(e),target:d.add}),(0,a.sample)({clock:l.done,fn:({params:{identity:e}})=>(0,s.getAudioFullId)(e),target:d.remove}),{followFx:i,unfollowFx:l,$identitiesMap:u}}},294219:(e,t,i)=>{"use strict";i.d(t,{createFollowFx:()=>r});var o=i(580352);function r({domain:e}){const t=(0,o.createAudioFollowRadioStationFx)({domain:e});return e.createEffect((async({identity:e})=>{await t({query:{station_id:e.id}})}))}},685065:(e,t,i)=>{"use strict";i.d(t,{creatUnfollowFx:()=>r});var o=i(580352);function r({domain:e}){const t=(0,o.createAudioUnfollowRadioStationFx)({domain:e});return e.createEffect((async({identity:e})=>{await t({query:{station_id:e.id}})}))}},182464:(e,t,i)=>{"use strict";i.d(t,{createIdentitiesMaps:()=>c});var o=i(32489),r=i(478455),n=i(810780),a=i(46201),s=i(786979);const c=({domain:e})=>{const t=e.createStore({}),i=e.createStore({}),c=(0,o.createEvent)(),l=(0,o.createEvent)(),d=(0,o.createEvent)(),u=(0,o.combine)(t,i,((e,t)=>Object.entries(e).reduce(((e,[i,o])=>((0,r.getAudioFullId)(o)in t||(e[i]=o),e)),{}))),_=(0,o.createApi)(t,{add:(e,{fullId:t,identity:i})=>(0,a.addPairToMap)(e,{key:t,value:i}),remove:(e,t)=>(0,s.removePairFromMap)(e,t)}),p=(0,o.createApi)(i,{add:(e,t)=>(0,a.addPairToMap)(e,{key:t,value:!0}),remove:(e,t)=>(0,s.removePairFromMap)(e,t)});return(0,o.sample)({clock:c,source:t,fn:(e,{oldIdentity:t,newIdentity:i})=>{const o=(0,r.getAudioFullId)(t),n=(0,r.getAudioFullId)(i);return{addToStoreParams:{identity:i,fullId:o},removeFromStoreFullId:e[o]?(0,r.getAudioFullId)(e[o]):n}},target:(0,n.spread)({targets:{addToStoreParams:_.add,removeFromStoreFullId:p.remove}})}),(0,o.sample)({clock:l,filter:({newIdentity:e})=>Boolean(e),target:(0,n.spread)({targets:{oldIdentity:_.remove.prepend((e=>(0,r.getAudioFullId)(e))),newIdentity:p.remove.prepend((e=>(0,r.getAudioFullId)(e)))}})}),(0,o.sample)({clock:d,target:(0,n.spread)({targets:{addedFullId:_.remove,removedFullId:p.remove}})}),{$addedIdentitiesMap:t,$removedIdentitiesMap:i,$identitiesMap:u,addedIdentitiesMapApi:_,removedIdentitiesMapApi:p,addToStore:c,removeFromStore:l,removeFromAllIdentitiesMaps:d}}},586049:(e,t,i)=>{"use strict";i.d(t,{createFullIdsMap:()=>a});var o=i(32489),r=i(46201),n=i(786979);function a(e){const t=e.createStore({});return{$fullIdsMap:t,fullIdsMapApi:(0,o.createApi)(t,{add:(e,t)=>(0,r.addPairToMap)(e,{key:t,value:!0}),remove:(e,t)=>(0,n.removePairFromMap)(e,t)})}}},46201:(e,t,i)=>{"use strict";function o(e,t){return t.key in e?e:{...e,[t.key]:t.value}}i.d(t,{addPairToMap:()=>o})},594241:(e,t,i)=>{"use strict";function o({id:e,ownerId:t}){return`${t}_${e}`}i.d(t,{getAudioPlaylistFullId:()=>o})},786979:(e,t,i)=>{"use strict";function o(e,t){if(!(t in e))return e;const{[t]:i,...o}=e;return o}i.d(t,{removePairFromMap:()=>o})},865409:(e,t,i)=>{"use strict";function o(e){return{id:e.id,ownerId:e.owner_id,title:e.title,description:e.description,length:e.count}}i.d(t,{mapAPIPlaylistToAudioPlaylistData:()=>o})},412554:(e,t,i)=>{"use strict";i.d(t,{createApiEffect:()=>r,createPrefetchEffect:()=>n});var o=i(957994);const r=(e,{domain:t},i)=>t.createEffect((({query:t,controller:r,config:n,options:a})=>{const s=r?.signal;return(0,o.api)(e,t,i?{...n,grouping:!1}:n,{signal:s,...a})})),n=(e,{domain:t,apiWithPrefetch:i=o.api})=>t.createEffect((({query:t,controller:o,config:r,options:n})=>{const a=o?.signal;return i(e,t,r,{signal:a,...n})}))},603025:(e,t,i)=>{"use strict";i.d(t,{isApiError:()=>o});const o=e=>!!e&&"object"==typeof e&&"type"in e&&"error"in e&&"api_error"===e.type},782399:(e,t,i)=>{"use strict";i.d(t,{isNetworkError:()=>o});const o=e=>"network_error"===e?.type},632731:(e,t,i)=>{"use strict";i.d(t,{AvailableHelpHints:()=>o});var o=function(e){return e.ACCOUNT_HINT_MINI_APPS_BUTTON_MVK_PROFILE="mini_apps:button_mvk_profile",e.ACCOUNT_HINT_MINI_APPS_BUTTON_MVK_APP_MENU="mini_apps:button_mvk_app_menu",e.ACCOUNT_HINT_MINI_APPS_COUNTER_TOGGLE_IN_ACTION_MENU="mini_apps:counter_toggle_in_action_menu",e.ACCOUNT_HINT_MINI_APPS_COUNTER_TOGGLE_IN_ACTION_MENU_INTRO="mini_apps:counter_toggle_in_action_menu_intro",e.ACCOUNT_HINT_MINI_APPS_COUNTER_TOGGLE_IN_ACTION_MENU_WEB="mini_apps:counter_toggle_in_action_menu_web",e.ACCOUNT_HINT_MINI_APPS_COUNTER_TOGGLE_IN_ACTION_MENU_INTRO_WEB="mini_apps:counter_toggle_in_action_menu_intro_web",e.ACCOUNT_HINT_MINI_APPS_OPEN_CATALOG_WITH_BADGES="mini_apps:open_catalog_with_badges",e.ACCOUNT_HINT_MINI_APPS_CATALOG_SECTION_WITH_BADGES="mini_apps:catalog_section_with_badges",e.ACCOUNT_HINT_SUPERAPP_RECOMMEND_ACTION_IN_MENU="superapp:recommend_action_in_menu",e.ACCOUNT_HINT_SUPERAPP_SHOW_RECOMMEND_ACTION="superapp:show_recommend_action",e.ACCOUNT_HINT_MINI_APPS_NAV_BUTTONS_THIRD_PARTY_BUTTONS="mini_apps:nav_buttons_third_party_buttons",e.ACCOUNT_HINT_POSTING_EDITOR_ONLINE_BOOKING="posting:editor_online_booking",e.ACCOUNT_HINT_PROFILE_SERVICES_MENU_BANNER="profile:services_menu_banner",e.ACCOUNT_HINT_PROFILE_SERVICES_ONBOARDING="profile:services_onboarding",e.ACCOUNT_HINT_MVK_PWA_TABBAR="mvk:pwa_tabbar",e.ACCOUNT_HINT_SUPERAPP_MVK_SHOWCASE="superapp:mvk_showcase",e.ACCOUNT_HINT_IM_INTEGRATION_APPS_TOOLTIP_ON_PICKER="superapp:im_integration_apps_tooltip_on_picker",e.ACCOUNT_HINT_IM_INTEGRATION_PICKER_APPS_BANNER="superapp:im_integration_picker_apps_banner",e.ACCOUNT_HINT_IM_INTEGRATION_PICKER_GAMES_BANNER="superapp:im_integration_picker_games_banner",e.ACCOUNT_HINT_FRIENDS_FOLLOWERS_MODE_FORCIBLY_ENABLED_ONBOARDING="friends:followers_mode_forcibly_enabled_onboarding",e.ACCOUNT_HINT_FRIENDS_FOLLOWERS_MODE_CAN_BE_ENABLED_ONBOARDING="friends:followers_mode_can_be_enabled_onboarding",e.ACCOUNT_HINT_FRIENDS_FOLLOWERS_MODE_ABOUT_MODAL_IMAGES="friends:followers_mode_about_modal_images",e.ACCOUNT_HINT_IM_INTEGRATION_CATALOG_ONBOARDING="superapp:im_integration_catalog_onboarding",e.ACCOUNT_HINT_PROFILE_PASSKEY_ONBOARDING_WEB="profile:passkey_onboarding_web",e.ACCOUNT_HINT_VIDEO_INTERACTIVE_VIDEO_ONBOARDING="video:interactive_video_onboarding",e.ACCOUNT_HINT_VIDEO_INTERACTIVE_INTERACTIVE_TIME_INDICATOR="video:interactive_time_indicator",e.ACCOUNT_HINT_CLIPS_WEB_UPLOAD_VIDEO_AS_CLIP="clips:upload_video_as_clip_web",e.AUTHOR_LIKE_ONBOARDING_HINT="feed:author_like_onboarding",e.GROUP_LIKE_ONBOARDING_HINT="feed:group_like_onboarding",e.ACCOUNT_HINT_COMMUNITY_REVIEW_TOOLTIP="community:review:tooltip",e.ACCOUNT_HINT_COMMUNITY_REVIEW_TOOLTIP_MVK="community:review:tooltip_mvk",e.ACCOUNT_HINT_COMMUNITY_REVIEW_PIN_ONBOARDING_WEB="community:review:pin_onboarding_web",e.ACCOUNT_HINT_COMMUNITY_REVIEW_MANAGE_PIN_SUBSCRIPTION_ONBOARDING_WEB="community:review:manage_pin_subscription_onboarding_web",e.ACCOUNT_HINT_COMMUNITY_STORY_AVATAR_ONBOARDING="community:story_avatar_onboarding",e.ACCOUNT_HINT_COMMUNITY_STORY_AVATAR_ONBOARDING_DROPDOWN="community:story_avatar_onboarding_dropdown",e.ACCOUNT_HINT_COMMUNITY_STORY_AVATAR_ONBOARDING_MVK="community:story_avatar_onboarding_mvk",e.ACCOUNT_HINT_COMMUNITY_STORY_AVATAR_ONBOARDING_MVK_DROPDOWN="community:story_avatar_onboarding_mvk_dropdown",e.ACCOUNT_HINT_COMMUNITY_ONBOARDING_CREATE_BUTTON="community:create_button",e.ACCOUNT_HINT_PROFILE_STORY_AVATAR_ONBOARDING_WEB="profile:story_avatar_onboarding_web",e.ACCOUNT_HINT_PROFILE_STORY_AVATAR_ONBOARDING_WEB_DROPDOWN="profile:story_avatar_onboarding_web_dropdown",e.ACCOUNT_HINT_PROFILE_STORY_AVATAR_ONBOARDING_MVK="profile:story_avatar_onboarding_mvk",e.ACCOUNT_HINT_PROFILE_STORY_AVATAR_ONBOARDING_MVK_DROPDOWN="profile:story_avatar_onboarding_mvk_dropdown",e.ACCOUNT_HINT_GROUPS_EDIT_MARKET_EXTRACTED_SETTINGS_HINT="groups:edit:market_extracted_settings_checkbox_hint",e.ACCOUNT_HINT_GROUPS_MAIN_MARKET_ACTION_EXTRACTED_SETTINGS_HINT="groups:main:market_action_extracted_settings_hint",e.ACCOUNT_HINT_GROUPS_REDESIGN_ONBOARDING="group:redesign_onboarding_mvk",e.ACCOUNT_HINT_GROUPS_TABS_ORDER_ONBOARDING="group:onboarding_tab_order",e.ACCOUNT_HINT_BUSINESS_GROUPS_WEB_ADS_MAIN_BANNER="business_groups_web:ads_main_banner",e.ACCOUNT_HINT_BUSINESS_GROUPS_WEB_MENU_BUSINESS_TOOLS_ONBOARDING_HINT="business_groups:web:menu:business_tools_onboarding_hint",e.ACCOUNT_HINT_VIDEO_PIN="video:pin",e.ACCOUNT_HINT_VIDEO_WATCH_LATER_BUTTON="video:watch_later_button",e.ACCOUNT_HINT_VIDEO_WATCH_LATER_ACTION="video:watch_later_action",e.ACCOUNT_HINT_VIDEO_WATCH_LATER_MENU="video:watch_later_menu",e.ACCOUNT_HINT_VIDEO_GROUP_CROP_COVER="video:group_crop_cover",e.ACCOUNT_HINT_VIDEO_ADDED_VIDEOS_MOVED_WEB="video:added_videos_moved_web",e.ACCOUNT_HINT_VIDEO_MULTIPLE_VOLUME="video:multiple_volume",e.ACCOUNT_HINT_VIDEO_SUBTITLES_KAZ_LANG="video:subtitles_kaz_lang",e.ACCOUNT_HINT_VIDEO_PROFILE_UPLOAD_ONBOARDING="video:profile_upload_onboarding",e.ACCOUNT_HINT_VIDEO_CREATORS_NEW_FUNCTIONAL="video:creators_dashboard_new_functional",e.ACCOUNT_HINT_MVK_VIDEO_FILTERS="mvk:video_filters",e.ACCOUNT_HINT_PROFILE_PHOTO_FLOW_ONBOARDING_BANNER_PROFILE_MVK="profile:photo_flow_onboarding_banner_profile_mvk",e.ACCOUNT_HINT_PROFILE_PHOTO_FLOW_ONBOARDING_BANNER_SHOW_ALL_MVK="profile:photo_flow_onboarding_banner_show_all_mvk",e.ACCOUNT_HINT_PROFILE_PHOTO_FLOW_ONBOARDING_BANNER_PHOTO__MVK="profile:photo_flow_onboarding_banner_photo__mvk",e.ACCOUNT_HINT_PROFILE_PHOTO_FLOW_ONBOARDING_BANNER_MOBILE_QUESTION_MVK="profile:photo_flow_onboarding_banner_mobile_question_mvk",e.ACCOUNT_HINT_PROFILE_OWNER_CONTENT_TABS_SETTINGS="profile:redesign_owner_content_tabs_settings",e.ACCOUNT_HINT_PROFILE_SERVICES_ONBOARDING_WEB="profile:services_onboarding_web",e.ACCOUNT_HINT_PROFILE_PHOTO_FLOW_ONBOARDING_BANNER_PROFILE_WEB="profile:photo_flow_onboarding_banner_profile_web",e.ACCOUNT_HINT_PROFILE_PHOTO_FLOW_ONBOARDING_BANNER_SHOW_ALL_WEB="profile:photo_flow_onboarding_banner_show_all_web",e.ACCOUNT_HINT_PROFILE_PHOTO_FLOW_ONBOARDING_BANNER_PHOTO__WEB="profile:photo_flow_onboarding_banner_photo__web",e.ACCOUNT_HINT_PROFILE_PHOTO_FLOW_ONBOARDING_BANNER_MOBILE_QUESTION_WEB="profile:photo_flow_onboarding_banner_mobile_question_web",e.ACCOUNT_HINT_PROFILE_PHOTO_FLOW_ONBOARDING_TOOLTIP_MOVE_PHOTO="profile:photo_flow_onboarding_tooltip_move_photo",e.ACCOUNT_HINT_ARTICLES_MOBILE_EDITOR="articles:mobile_editor",e.ACCOUNT_HINT_ADSEDIT_SITE_REMOVAL_POPUP="adsedit:site_removal_popup",e.ACCOUNT_HINT_ADSEDIT_COMMUNITY_REMOVAL_POPUP="adsedit:community_removal_popup",e.ACCOUNT_HINT_ADSEDIT_COMMUNITY_AND_SITE_REMOVAL_POPUP="adsedit:community_and_site_removal_popup",e.ACCOUNT_HINT_STICKERS_UGC_SETTINGS_UNSEEN="stickers:ugc_settings_unseen",e.ACCOUNT_HINT_VIDEO_NEW_CREATORS_MENU_ONBOARDING="video:new_creators_menu_onboarding",e.ACCOUNT_HINT_VIDEO_OLD_CREATORS_MENU_ONBOARDING="video:old_creators_menu_onboarding",e.ACCOUNT_HINT_AUDIO_STUDIO_SHOW_PRESENT_MINIAPP_MODAL="audio_studio:show_present_miniapp_modal",e.ACCOUNT_HINT_AUDIO_STUDIO_SHOW_ANNUAL_RESULT_BANNER="audio_studio:show_annual_result_banner",e.ACCOUNT_HINT_AUDIO_LONG_TAP_PREVIEW_WEB="audio:longtap_preview_web",e.ACCOUNT_HINT_BANNED_RESET_SESSIONS="banned:can_not_reset_sessions",e.ACCOUNT_HINT_CLIPS_FORCE_UPLOAD_VIDEO_AS_CLIP="clips:force_upload_video_as_clip",e.ACCOUNT_HINT_POSTING_EDITOR_PHOTO_ATTACHMENTS_CROP="posting:editor_photo_attachements_crop",e.ACCOUNT_HINT_POSTING_EDITOR_PHOTO_ATTACHMENTS_CROP_ZOOM="posting:editor_photo_attachements_crop_zoom",e.ACCOUNT_HINT_SMB_YCLIENTS_ONLINE_BOOKING="smb:yclients:online_booking",e.UNBAN_SECURITY_RECOMMENDATION_HINT="feed:after_auth:unban_security_recommendation",e.ACCOUNT_HINT_SETTINGS_BOOKING="smb:yclients:group_settings_online_booking",e.ACCOUNT_HINT_SMB_COMMUNITY_BUSINESS_STATISTIC_CITY_FILTER="smb:community_business_statistics_city_filter",e.ACCOUNT_HINT_SMB_COMMUNITY_BUSINESS_STATISTIC_SUBSCRIBERS_FILTER="smb:community_business_statistics_subscribers_filter",e.ACCOUNT_HINT_SMB_COMMUNITY_BUSINESS_STATISTIC_USERS_LIST="smb:community_business_statistics_users_list",e.ACCOUNT_HINT_SMB_COMMUNITY_BUSINESS_STATISTIC_POSTS="smb:community_business_statistics_posts",e.ACCOUNT_HINT_SMB_COMMUNITY_BUSINESS_STATISTIC_COMPETITORS_POSTS="smb:community_business_statistics_competitors_posts",e.ACCOUNT_HINT_SMB_COMMUNITY_BUSINESS_STATISTIC_RECOMMENDATIONS="smb:community_business_statistics_recommendations",e.ACCOUNT_HINT_VIDEO_ATTACH_SHORT_VIDEO="video:attach_short_video",e.ACCOUNT_HINT_STORIES_EDITOR_TEXT_CREATING_WEB="stories:editor_text_creating_web",e.ACCOUNT_HINT_STORIES_GROUP_STATS="stories:groups_stats",e.ACCOUNT_HINT_STORIES_GROUP_STATS_EXP="stories:groups_stats_exp",e.ACCOUNT_HINT_VIDEO_SMART_CROP="video:smart_crop",e.ACCOUNT_HINT_GROUP_SETTINGS_MONETIZATION_ADBLOGGER="group_settings:monetization_adblogger",e.ACCOUNT_HINT_GROUP_SETTINGS_MONETIZATION_A_PLUS_BANNER="group_settings:monetization_a_plus_banner",e.ACCOUNT_HINT_CLIPS_VIDEO_TO_CLIPS_APP_ENTRYPOINT_WEB="clips:video_to_clips_app_entrypoint_web",e.ACCOUNT_HINT_VIDEO_ONBOARDING_CHANNEL_COVER="video:onboarding_channel_cover",e.ACCOUNT_HINT_VIDEO_UPLOADER_EDITOR_ONBOARDING_TOOLTIP="video:uploader_editor_onboarding_tooltip",e.ACCOUNT_HINT_VIDEO_EDIT_EDITOR_ONBOARDING_TOOLTIP="video:edit_editor_onboarding_tooltip",e.ACCOUNT_HINT_PRIVACY_FOLLOWERS_MODE_MODAL_PIC="privacy:followers_mode_modal_pic",e.ACCOUNT_HINT_FEED_POSTING_NEXT_BUTTON_WEB="feed:posting_next_button_web",e.ACCOUNT_HINT_FEED_POSTING_NEXT_BUTTON_MVK="feed:posting_next_button_mvk",e.ACCOUNT_HINT_FEED_POSTING_CREATE_ONBOARDING_WEB="feed:posting_create_onboarding_web",e.ACCOUNT_HINT_FEED_POSTING_PHOTO_WITH_MARKET_ON_GRID_WEB="feed:posting_photo_with_market_on_grid_web",e.ACCOUNT_HINT_FEED_POSTING_AUDIO_SNIPPET_WEB="feed:audio_snippets_web",e.ACCOUNT_HINT_FEED_POSTING_AUDIO_SNIPPET_MVK="feed:audio_snippets_mvk",e.ACCOUNT_HINT_VIDEO_GROUP_OWNER_SJM_MONETIZATION_BANNER_ONBOARDING="video:group_owner_cjm_monetization_banner_onboarding",e.ACCOUNT_HINT_VIDEO_GROUP_OWNER_CJM_GROUPS_ONBOARDING_CTA="video:group_owner_cjm_groups_onboarding_cta",e.ACCOUNT_HINT_GROUPS_POSTING_DONUT_GOALS_ONBOARDING="groups:posting_donut_goals_onboarding",e.ACCOUNT_HINT_VIDEO_PUBLISH_MENU_ONBOARDING_WEB="video:publish_menu_onboarding_web",e.ACCOUNT_HINT_FEED_POSTING_COAUTHORS_ONBOARDING_WEB="feed:posting_coauthors_onboarding_web",e.ACCOUNT_HINT_FEED_POSTING_COAUTHORS_ONBOARDING_MVK="feed:posting_coauthors_onboarding_mvk",e.ACCOUNT_HINT_FEED_POSTING_ACTION_BUTTONS_HINT_WEB="feed:posting_action_buttons_hint_web",e.ACCOUNT_HINT_FEED_POSTING_CROP_ZOOM_WEB="feed:posting_crop_zoom_web",e.ACCOUNT_HINT_FEED_POSTING_CROP_ZOOM_MVK="feed:posting_crop_zoom_mvk",e.ACCOUNT_HINT_POSTING_REMOTE_DRAFTS_ONBOARDING="feed:posting_remote_drafts_onboarding",e.ACCOUNT_HINT_VIDEO_DRAFT_CHANNEL="video:authors_draft_channel",e.ACCOUNT_HINT_VIDEO_DRAFT_DASHBOARD="video:authors_draft_dashboard",e.ACCOUNT_HINT_GROUPS_OZON_ADBLOG_ONBOARDING_ENABLED="groups:ozon_adblog_onboarding_enabled",e.ACCOUNT_HINT_FEED_POSTING_PHOTO_EDITOR_ONBOARDING_WEB="feed:posting_photo_editor_onboarding_web",e.ACCOUNT_HINT_STORIES_CREATOR_FEED_WEB="stories:creator_feed_web",e.ACCOUNT_HINT_STORIES_CREATOR_CHANGE_AUTHOR_WEB="stories:creator_change_author_web",e.ACCOUNT_HINT_STORIES_CREATOR_STICKER_NATIVE_LINK_WEB="stories:creator_sticker_native_link_web",e.ACCOUNT_HINT_DONUT_CUSTOM_TEASER_TEXT="donut:custom_teaser_text",e.ACCOUNT_HINT_STORIES_CREATOR_FEED_MVK="stories:creator_feed_mvk",e.ACCOUNT_HINT_VIDEO_ONBOARDING_CHANNEL="video:onboarding_channel",e.ACCOUNT_HINT_PLAYLIST_EASY_CHANGE_ORDER="video:playlist_easy_change_order",e.ACCOUNT_HINT_VIDEO_MENU_MOVIES_AND_SERIALS_WITH_LABEL="video:select_menu_movies_and_serials_with_label",e.ACCOUNT_HINT_VIDEO_MENU_MOVIES_AND_SERIALS="video:select_menu_movies_and_serials",e.ACCOUNT_HINT_VIDEO_ANIMATE_HEADLINE_MOVIES="video:animate_headline_movies",e.ACCOUNT_HINT_VIDEO_MENU_CHILD_WITH_LABEL="video:select_menu_child_with_label",e.ACCOUNT_HINT_VIDEO_MENU_CHILD="video:select_menu_child",e.ACCOUNT_HINT_VIDEO_ANIMATE_HEADLINE_CHILD="video:animate_headline_child",e.ACCOUNT_HINT_VIDEO_MENU_SPORT="video:select_menu_sport",e.ACCOUNT_HINT_VIDEO_ANIMATE_SPORT="video:animate_menu_sport",e.ACCOUNT_HINT_VIDEO_ANIMATE_HEADLINE_SPORT="video:animate_headline_sport",e.ACCOUNT_HINT_VIDEO_SELECT_HEADLINE_SPORT="video:select_headline_sport",e.ACCOUNT_HINT_VIDEO_SELECT_HEADLINE_CHILD_RED_CHALK="video:select_headline_child_red_chalk",e.ACCOUNT_HINT_VIDEO_COMMENTS_BY_CHANNELS_PROMO="video:comments_by_channels_promo",e.ACCOUNT_HINT_IM_CHANNELS_FIRST_ENTRY="im:channels_first_entry",e.ACCOUNT_HINT_SHARE_BOX_STORIES_NEW_REPOSTS_POSTS="stories:share_box_new_reposts_posts",e.ACCOUNT_HINT_SHARE_BOX_STORIES_NEW_REPOSTS_PHOTO="stories:share_box_new_reposts_photo",e.ACCOUNT_HINT_SHARE_BOX_STORIES_NEW_REPOSTS_VIDEO="stories:share_box_new_reposts_video",e.ACCOUNT_HINT_SHARE_BOX_STORIES_NEW_REPOSTS_STORY="stories:share_box_new_reposts_story",e.ACCOUNT_HINT_SHARE_BOX_STORIES_NEW_REPOSTS_CLIP="stories:share_box_new_reposts_clip",e.ACCOUNT_HINT_MARKET_MARKET_ITEM_WISHLISTS_ONBOARDING="market:market_item_wishlists_onboarding",e.ACCOUNT_HINT_MARKET_MARKET_ITEM_OZON_ONBOARDING="market:ozon_onboarding_modal_show",e.ACCOUNT_HINT_VIDEO_CHANNEL_DONUT_BUTTON_ONBOARDING="video:channel_donut_button_onboarding",e.ACCOUNT_HINT_GROUPS_CHANNEL_BANER="groups:channel_banner",e.ACCOUNT_HINT_GROUPS_CHANNEL_POST_BUTTON="groups:channel_post_button",e.ACCOUNT_HINT_CLIPS_PROMOTE_FROM_PUBLISHED="clips:promote_from_published",e.ACCOUNT_HINT_CLIPS_OTHER_TRENDING_CLIPS_CAN_BE_VIEWED_HERE="clips:other_trending_clips_can_be_viewed_here",e.ACCOUNT_HINT_CLIPS_TRACK_IS_TRENDING_NOW_MORE_CLIPS_WITH_IT_HERE="clips:track_is_trending_now_more_clips_with_it_here",e.ACCOUNT_HINT_VIDEO_UPLOAD_THUMB="video:authors_upload_thumb",e.ACCOUNT_HINT_VIDEO_EDIT_THUMB="video:authors_edit_thumb",e.ACCOUNT_HINT_GAMES_INSTALLED_GAMES="games:installed_games",e.ACCOUNT_HINT_COMMUNITY_PRIMARY_BLOCK_ADMIN_ONBOARDING="community:primary_block:admin_onboarding",e.ACCOUNT_HINT_COMMUNITY_PRIMARY_BLOCK_ADMIN_ONBOARDING_SETTINGS="community:primary_block:admin_onboarding_settings",e.ACCOUNT_HINT_VIDEO_LIVE_ONBOARDING_STREAM_START="video:live_onboarding_stream_start",e.ACCOUNT_HINT_VIDEO_LIVE_ONBOARDING_STREAM_START_MODAL_SHOW="video:live_onboarding_stream_start_modal_show",e.ACCOUNT_HINT_VIDEO_LIVE_ONBOARDING_STREAM_START_SELECT_CHANNEL="video:live_onboarding_stream_start_select_channel",e.ACCOUNT_HINT_VIDEO_LIVE_ONBOARDING_STREAM_START_ADD_COVER="video:live_onboarding_stream_start_add_cover",e.ACCOUNT_HINT_VIDEO_LIVE_ONBOARDING_STREAM_START_SELECT_CATEGORY="video:live_onboarding_stream_start_select_category",e.ACCOUNT_HINT_VIDEO_LIVE_ONBOARDING_STREAM_EDITING="video:live_onboarding_stream_editing",e.ACCOUNT_HINT_VIDEO_LIVE_CATALOG_ONBOARDING_MODAL="video:live_catalog_onboarding_modal",e.ACCOUNT_HINT_CLIPS_CONVERT_VIDEO_TO_CLIP_FROM_POST="clips:convert_clip_from_post",e.ACCOUNT_HINT_POSTING_SHOW_PRODUCTS_ACTION_BUTTON_COMMUNITY="posting:show_products_action_button_community",e}({})},359042:(e,t,i)=>{"use strict";function o(e){return new Promise(((t,i)=>{const o=new FileReader;o.onload=function(){t(String(o.result))},o.onerror=function(e){i(e)},o.readAsDataURL(e)}))}i.d(t,{fileToBase64:()=>o})},746573:(e,t,i)=>{"use strict";i.d(t,{getEffectorServiceDomain:()=>n});var o=i(32489),r=i(418562);const n=e=>{const t=e?.name||(0,r.default)();return e?.domain?e.domain.createDomain(t):(0,o.createDomain)(t)}},140462:(e,t,i)=>{"use strict";function o(e,t){return t<0?e+t:t}i.d(t,{indexAbs:()=>o})},793384:(e,t,i)=>{"use strict";function o(e){return/^-?\d+$/.test(e)}i.d(t,{isIntAsString:()=>o})},35215:(e,t,i)=>{"use strict";function o(e){return"number"==typeof e&&!Number.isNaN(e)}i.d(t,{isNumber:()=>o})},538522:(e,t,i)=>{"use strict";i.d(t,{joinFullId:()=>o,joinRawId:()=>r});const o=(e,t)=>`${e}_${t}`,r=({ownerId:e,itemId:t,externalId:i})=>[e,t,i].filter(Boolean).join("_")},361121:(e,t,i)=>{"use strict";i.d(t,{splitRawId:()=>o});const o=e=>{const[t,i,o]=e.split("_");return{ownerId:Number(t),itemId:Number(i),externalId:void 0!==o?o:null}}},22421:(e,t,i)=>{"use strict";i.d(t,{isValidUrl:()=>n,makeUrl:()=>r});var o=i(35215);function r(e,t,i=!0){if(!t)return e;const[r,n]=e.split("?"),a={},s=[];return n&&n.split("&").map((e=>{const[i,o]=e.split("=");i in t||(t[i]=o)})),Object.keys(t).forEach((e=>{const i=t[e];var r;("string"==typeof(r=i)&&r||(0,o.isNumber)(i))&&(a[e]=i)})),Object.keys(a).forEach((e=>{const t=i?encodeURIComponent(a[e]):a[e];s.push(`${e}=${t}`)})),0===s.length?r:`${r}?${s.join("&")}`}const n=e=>{try{return new URL(e),!0}catch{}return!1}},584053:(e,t,i)=>{"use strict";i.d(t,{Emitter:()=>s});var o=i(434518),r=i(763812),n=(0,r._)("_catchListener"),a=(0,r._)("_listeners");class s{emit(e,...t){const i=(0,o._)(this,n)[n],r=(0,o._)(this,a)[a].get(e);if(!r||!r.length)return!1;for(const e of[...r])try{e(...t)}catch(e){if(!i)throw e;i(e)}return!0}on(e,t){return this.listenable.on(e,t),this}once(e,t){return this.listenable.once(e,t),this}off(e,t){return this.listenable.off(e,t),this}createAggregator(){return this.listenable.createAggregator()}constructor({catchListener:e}={}){Object.defineProperty(this,n,{writable:!0,value:void 0}),Object.defineProperty(this,a,{writable:!0,value:void 0}),(0,o._)(this,a)[a]=new Map,(0,o._)(this,n)[n]=e,this.listenable=new u((0,o._)(this,a)[a])}}var c=(0,r._)("_listeners"),l=(0,r._)("_wrapListener"),d=(0,r._)("_ensureListeners");class u{on(e,t,i={}){return(0,o._)(this,d)[d](e).push((0,o._)(this,l)[l](e,t,i,!1)),this}once(e,t,i={}){return(0,o._)(this,d)[d](e).push((0,o._)(this,l)[l](e,t,i,!0)),this}off(e,t){let i=(0,o._)(this,c)[c].get(e);if(!i)return this;for(let e=i.length-1;e>=0;e--){const o=i[e];if(o.fn===t){i.splice(e,1);try{o.onUnlistened?.()}finally{break}}}return i.length||(0,o._)(this,c)[c].delete(e),this}createAggregator(){return new f(this)}constructor(e){Object.defineProperty(this,l,{value:_}),Object.defineProperty(this,d,{value:p}),Object.defineProperty(this,c,{writable:!0,value:void 0}),(0,o._)(this,c)[c]=e}}function _(e,t,i,o){let r=!1;const n=(...i)=>{o&&r||(o&&this.off(e,t),r=!0,t(...i))};return n.fn=t,n.onUnlistened=i.onUnlistened??null,n}function p(e){let t=(0,o._)(this,c)[c].get(e);return t||(t=[],(0,o._)(this,c)[c].set(e,t)),t}var m=(0,r._)("_disposers"),g=(0,r._)("_emitter"),v=(0,r._)("_registerDisposer");class f{on(e,t){const i=(0,o._)(this,v)[v](e,t);return(0,o._)(this,g)[g].on(e,t,{onUnlistened:()=>{(0,o._)(this,m)[m].delete(i)}}),this}once(e,t){const i=(0,o._)(this,v)[v](e,t);return(0,o._)(this,g)[g].once(e,t,{onUnlistened:()=>{(0,o._)(this,m)[m].delete(i)}}),this}off(e,t){return(0,o._)(this,g)[g].off(e,t),this}dispose(){for(const e of(0,o._)(this,m)[m])e();(0,o._)(this,m)[m].clear()}createAggregator(){return(0,o._)(this,g)[g].createAggregator()}constructor(e){Object.defineProperty(this,v,{value:y}),Object.defineProperty(this,m,{writable:!0,value:void 0}),Object.defineProperty(this,g,{writable:!0,value:void 0}),(0,o._)(this,m)[m]=new Set,(0,o._)(this,g)[g]=e}}function y(e,t){const i=()=>(0,o._)(this,g)[g].off(e,t);return(0,o._)(this,m)[m].add(i),i}},787661:(e,t,i)=>{"use strict";function o(e){let t=e.length;for(;t>0;){const i=Math.floor(Math.random()*t);t--;const o=e[t];e[t]=e[i],e[i]=o}return e}i.d(t,{shuffle:()=>o})},108440:(e,t,i)=>{"use strict";i.d(t,{wait:()=>o});const o=e=>new Promise((t=>setTimeout(t,e)))},831454:(e,t,i)=>{"use strict";i.d(t,{withRetry:()=>r});var o=i(108440);function r(e,{retries:t,shouldRetry:i,getDebounceDelay:r}){return async(...n)=>{let a;t<0&&(t=0);for(let s=0;s<=t;s++)try{return await e(...n)}catch(e){if(a=e,i&&!i(a,s+1,n))throw e;if(s<t){const e=r(s+1,n);e>0&&await(0,o.wait)(e)}}throw a??new Error("[withRetry]: default error")}}},507380:(e,t,i)=>{"use strict";i.d(t,{isRequestAbortError:()=>o});const o=e=>e instanceof DOMException&&(e.code===DOMException.ABORT_ERR||"AbortError"===e.name)},558137:(e,t,i)=>{"use strict";i.d(t,{makeSharedState:()=>s});const o="__SHARED_STATE_KEY";"undefined"!=typeof self&&(()=>{const e=self.hasOwnProperty(o)?self[o]:Object.create(null);Object.defineProperty(self,o,{configurable:!0,value:e})})();const r=()=>self[o],n=e=>r()[e],a=(e,t)=>{r()[e]=t};function s(e,t,i){if("undefined"==typeof self){const e=t();return()=>e}const o=function(e,t){let i=e.replace(/[^a-zA-Z0-9-]/gi,"_").toLowerCase();0!==t&&(i+=`__${t}`);return i}(e,i.version);return o in r()||a(o,t()),()=>n(o)}},86909:(e,t,i)=>{"use strict";function o(e,t,i={}){if("undefined"==typeof window||!window.Worker)return r(e,t);try{return function(e,t,{name:i}){const o=new Blob([`\n    let id;\n    onmessage = function(e) {\n      if (e.data == 'start') {\n        clearInterval(id);\n        id = setInterval(() => { postMessage({}); }, ${t});\n      }\n    }\n  `]),r=new Worker(window.URL.createObjectURL(o),{name:[`utils/setStableInterval(${t})`,i].filter(Boolean).join("#")});return r.onmessage=function(){e()},r.postMessage("start"),()=>{r.terminate()}}(e,t,i)}catch(i){return r(e,t)}}function r(e,t){const i=setInterval(e,t);return()=>{clearInterval(i)}}i.d(t,{setStableInterval:()=>o})},615955:(e,t,i)=>{"use strict";function o(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(let o=0;o<i.length;o++)if(!Object.prototype.hasOwnProperty.call(t,i[o])||e[i[o]]!==t[i[o]])return!1;return!0}i.d(t,{shallowEqual:()=>o})},996361:(e,t,i)=>{"use strict";function o(e,t){return new Promise(((i,o)=>{const r=setTimeout((()=>{i()}),e);t&&t.addEventListener("abort",(()=>{clearTimeout(r),o(new Error("Sleep aborted"))}))}))}i.d(t,{sleep:()=>o})},694603:(e,t,i)=>{"use strict";function o(e){const t="number"==typeof e||"string"==typeof e?new Date(e):e;return t instanceof Date&&!isNaN(t.valueOf())}i.d(t,{validateDate:()=>o})},229820:(e,t,i)=>{"use strict";i.d(t,{AudioNetworkType:()=>r,NetworkStatEventTypes:()=>o});var o=function(e){return e.TYPE_NETWORK_AUDIO_ITEM="type_network_audio_item",e.TYPE_MODULE_NAVIGATION_STATS_ITEM="type_module_navigation_stats_item",e}({}),r=function(e){return e.FRAGMENT_STALLED="fragment_stalled",e}({})},70148:(e,t,i)=>{"use strict";i.d(t,{OwnedIdentity:()=>n});var o=i(768035),r=i(873900);class n{static fromRawId(e){const t=(0,o.parseRawId)(e);return new n(t)}get rawId(){return(0,r.getIdentityRawId)(this)}get accessRawId(){return(0,r.getIdentityAccessRawId)(this)}get fullId(){return this.rawId}constructor(e){this.id=e.id,this.ownerId=e.ownerId,this.accessKey=e.accessKey}}},843161:(e,t,i)=>{"use strict";i.d(t,{SingleIdentity:()=>o});class o{get fullId(){return this.id}constructor(e){this.id=e.id}}},391751:(e,t,i)=>{"use strict";function o(...e){if(e.length<2)return!0;const t=e[0].fullId;return e.every((e=>e.fullId===t))}i.d(t,{compareIdentities:()=>o})},873900:(e,t,i)=>{"use strict";function o({id:e,ownerId:t}){return`${t}_${e}`}function r({id:e,ownerId:t}){if(void 0!==e&&void 0!==t)return`${t}_${e}`}function n(e){const{accessKey:t}=e,i=o(e);return t?`${i}_${t}`:i}i.d(t,{getIdentityAccessRawId:()=>n,getIdentityRawId:()=>o,getIdentityRawIdOrUndefined:()=>r})},768035:(e,t,i)=>{"use strict";i.d(t,{parseRawId:()=>n});var o=i(351118),r=i(187966);function n(e){let t,i,n;if(!(0,r.isAnyRawId)(e))throw a(e);if(t=e.split("_"),i=t[0]&&parseInt(t[0],10),n=t[1]&&parseInt(t[1],10),!(0,o.isNumber)(n)||!(0,o.isNumber)(i))throw a(e);return{id:n,ownerId:i,accessKey:t[2]}}function a(e){return new Error("Invalid rawId",{cause:`Source: ${e}`})}},468073:(e,t,i)=>{"use strict";i.d(t,{Ranges:()=>r});var o=i(109680);const r=Object.freeze({getAutotestGroupIdRand:()=>s(o.RANGES_IDS.AUTOTEST_GROUP_ID_MIN,o.RANGES_IDS.AUTOTEST_GROUP_ID_MAX),isAutotestGroup:e=>e>=o.RANGES_IDS.AUTOTEST_GROUP_ID_MIN&&e<=o.RANGES_IDS.AUTOTEST_GROUP_ID_MAX,isGroupId:e=>e<=o.RANGES_IDS.GROUPS_UPPER_BOUND&&e>o.RANGES_IDS.GROUPS_LOWER_BOUND,isUserId:e=>e>=o.RANGES_IDS.USERS_LOWER_BOUND&&e<o.RANGES_IDS.USERS_UPPER_BOUND||e>=o.RANGES_IDS.USERS_LOWER_BOUND_LONG&&e<o.RANGES_IDS.USERS_UPPER_BOUND_LONG,isUserIdTransitional(e){r.isUserId(e);const t=n(e,0,o.RANGES_IDS.CONTACTS_UPPER_BOUND);return t},isRealOwner:e=>r.isGroupId(e)||r.isUserId(e),isAudioOwner:e=>r.isRealOwner(e)||r.isUMA(e)||r.isFakeWallAudioOwner(e),isPlaylistOwner:e=>r.isRealOwner(e)||r.isUMA(e)||r.isChatOrChannelPeer(e),isOfficialPlaylist:e=>r.isUMAReleaseOwner(e)||r.isUMAAlbumOwner(e),isFakeWallAudioOwner:e=>a(e,o.RANGES_IDS.AUDIO_FAKE_WALL_OWNER_MIN,o.RANGES_IDS.AUDIO_FAKE_WALL_OWNER_MAX),isUMA:e=>r.isUMAReleaseOwner(e)||r.isUMAAlbumOwner(e),isUMAAlbumOwner:e=>a(e,o.RANGES_IDS.AUDIO_FAKE_UMA_ALBUM_OWNER_MIN,o.RANGES_IDS.AUDIO_FAKE_UMA_ALBUM_OWNER_MAX),getUMAAlbumOwnerByShift:e=>o.RANGES_IDS.AUDIO_FAKE_UMA_ALBUM_OWNER_MAX-Math.abs(e%o.RANGES_IDS.AUDIO_FAKE_UMA_OWNERS_COUNT),isUMAReleaseOwner:e=>a(e,o.RANGES_IDS.AUDIO_FAKE_UMA_RELEASE_OWNER_MIN,o.RANGES_IDS.AUDIO_FAKE_UMA_RELEASE_OWNER_MAX),getUMAReleaseOwnerByShift:e=>o.RANGES_IDS.AUDIO_FAKE_UMA_RELEASE_OWNER_MAX-Math.abs(e%o.RANGES_IDS.AUDIO_FAKE_UMA_OWNERS_COUNT),isEmailId:e=>e<o.RANGES_IDS.EMAIL_UPPER_BOUND,isOwnerId:e=>e>=o.RANGES_IDS.USERS_LOWER_BOUND?r.isUserId(e):r.isGroupId(e),isContactId:e=>e>=o.RANGES_IDS.CONTACTS_LOWER_BOUND&&e<o.RANGES_IDS.CONTACTS_UPPER_BOUND,convertContactIdToPeerId:e=>e+o.RANGES_IDS.USERS_UPPER_BOUND,convertPeerIdToContactId:e=>e-o.RANGES_IDS.USERS_UPPER_BOUND,isChatOrChannelPeer:e=>e>=o.RANGES_IDS.CHAT_OR_CHANNEL_LOWER_BOUND&&e<=o.RANGES_IDS.CHAT_OR_CHANNEL_UPPER_BOUND,isChatId:e=>e>o.RANGES_IDS.MIN_CHAT_ID&&e<=o.RANGES_IDS.MAX_CHAT_ID,convertChatPeerIdToChatId:e=>e-o.RANGES_IDS.CONTACTS_UPPER_BOUND,convertChatIdToChatPeerId:e=>e+o.RANGES_IDS.CONTACTS_UPPER_BOUND,isAppDomain:e=>e>=o.RANGES_IDS.APP_LOWER_BOUND&&e<o.RANGES_IDS.APP_UPPER_BOUND,convertPeerIdToAppId:e=>-e+o.RANGES_IDS.APP_UPPER_BOUND,convertAppIdToPeerId:e=>o.RANGES_IDS.APP_UPPER_BOUND-e,isUnauthLongId:e=>a(e,o.RANGES_IDS.UNAUTH_LONG_ID_MIN,o.RANGES_IDS.UNAUTH_LONG_ID_MAX),isUnauthLongIdOld:e=>a(e,o.RANGES_IDS.UNAUTH_LONG_ID_MIN_OLD,o.RANGES_IDS.UNAUTH_LONG_ID_MAX_OLD),isMarusyaUploadOwner:e=>o.RANGES_IDS.MARUSYA_UPLOAD_OWNER_MIN<=e&&e<=o.RANGES_IDS.MARUSYA_UPLOAD_OWNER_MAX,getRandomMarusyaUploadOwnerId:()=>s(o.RANGES_IDS.MARUSYA_UPLOAD_OWNER_MIN,o.RANGES_IDS.MARUSYA_UPLOAD_OWNER_MAX),isFakeDocOwner:e=>a(e,o.RANGES_IDS.FAKE_DOC_OWNER_MIN,o.RANGES_IDS.FAKE_DOC_OWNER_MAX),getFirstFakeOwnerId:()=>o.RANGES_IDS.FAKE_DOC_OWNER_MIN,getRandomFirstFakeOwnerId:()=>s(o.RANGES_IDS.FAKE_DOC_OWNER_MIN,o.RANGES_IDS.FAKE_DOC_OWNER_MIN+64e3),getRandomFakeOwnerId:()=>o.RANGES_IDS.FAKE_DOC_OWNER_MIN+(Math.floor(Date.now()/1e3)/173+s(0,999))%64e3,isAdsVideoOwner:e=>a(e,o.RANGES_IDS.ADS_VIDEO_OWNER_MIN,o.RANGES_IDS.ADS_VIDEO_OWNER_MAX),getRandomAdsVideoOwner:()=>s(o.RANGES_IDS.ADS_VIDEO_OWNER_MIN,o.RANGES_IDS.ADS_VIDEO_OWNER_MAX),isAdsPhotoOwner:e=>a(e,o.RANGES_IDS.ADS_PHOTO_OWNER_MIN,o.RANGES_IDS.ADS_PHOTO_OWNER_MAX),getRandomAdsPhotoOwner:()=>s(o.RANGES_IDS.ADS_PHOTO_OWNER_MIN,o.RANGES_IDS.ADS_PHOTO_OWNER_MAX),isZeroOwner:e=>0===e,convertEmailIdToEmailPeerId:e=>r.isEmailId(e)?-e+o.RANGES_IDS.EMAIL_UPPER_BOUND:0,isZeroOwnerDeprecated:e=>!!e||r.isZeroOwner(e),isExternalUser:e=>n(e,o.RANGES_IDS.EMAIL_UPPER_BOUND,o.RANGES_IDS.EXTERNAL_USER_ID_OFFSET),isExternalUserDeprecated(e){r.isExternalUser(e);const t=n(e,o.RANGES_IDS.EMAIL_UPPER_BOUND,o.RANGES_IDS.APP_DOMAIN_ID_OFFSET);return t},isAnonymousCallPeerId:e=>e>=o.RANGES_IDS.CALLS_PEER_LOWER_BOUND&&e<o.RANGES_IDS.CALLS_PEER_UPPER_BOUND,isAnonymousUserPeerId:e=>e>=o.RANGES_IDS.ANONYMOUS_USER_PEER_ID_LOWER_BOUND&&e<o.RANGES_IDS.ANONYMOUS_USER_PEER_ID_UPPER_BOUND,getAnonymousCallUserByShift(e){const t=o.RANGES_IDS.CALLS_PEER_UPPER_BOUND-o.RANGES_IDS.CALLS_PEER_LOWER_BOUND,i=(e%t+t)%t;return o.RANGES_IDS.CALLS_PEER_UPPER_BOUND-1-i},isValidAliExpressOrderUserId:e=>!(e<o.RANGES_IDS.ALIEXPRESS_USER_ID_RANGE_START)&&!(e>o.RANGES_IDS.ALIEXPRESS_USER_ID_RANGE_START+o.RANGES_IDS.ALIEXPRESS_USER_ID_RANGE_LENGTH),generateAliexpressOrderUserId:()=>s(o.RANGES_IDS.ALIEXPRESS_USER_ID_RANGE_START,o.RANGES_IDS.ALIEXPRESS_USER_ID_RANGE_LENGTH),isADBot:e=>e>=o.RANGES_IDS.AD_BOT_ID_RANGE_START&&e<=o.RANGES_IDS.AD_BOT_ID_RANGE_END,getMarusiaAudioFakeId(e){const t=o.RANGES_IDS.MARUSIA_AUDIO_FAKE_ID_MAX-o.RANGES_IDS.MARUSIA_AUDIO_FAKE_ID_MIN;return o.RANGES_IDS.MARUSIA_AUDIO_FAKE_ID_MIN+e%t},isMarusiaAudioFakeId:e=>e>=o.RANGES_IDS.MARUSIA_AUDIO_FAKE_ID_MIN&&e<o.RANGES_IDS.MARUSIA_AUDIO_FAKE_ID_MAX,isOwnerIdTransitional:e=>e>o.RANGES_IDS.USERS_LOWER_BOUND?r.isUserIdTransitional(e):r.isGroupId(e),convertGroupIdToOwnerId:e=>-e,convertGroupIdToOwnerIdStrict:e=>-Math.abs(e),convertOwnerIdToGroupId:e=>Math.abs(e)});function n(e,t,i){return t<e&&e<i}function a(e,t,i){return t<=e&&e<=i}function s(e,t){return e+Math.floor(Math.random()*(t-e))}},109680:(e,t,i)=>{"use strict";i.d(t,{RANGES_IDS:()=>s});const o=1e8,r=5e16,n=2**56-1,a=2000000001,s=Object.freeze({MIN_CHAT_ID:0,MAX_CHAT_ID:o,UNAUTH_LONG_ID_SUBRANGE_WITH_DEVICE_ID_SIZE:r,UNAUTH_LONG_ID_SUBRANGE_WITHOUT_DEVICE_ID_SIZE:n,UNAUTH_LONG_ID_MIN:9e18,UNAUTH_LONG_ID_MAX:0x7e980f0d11490000,MARUSYA_UPLOAD_OWNER_MIN:593139650,MARUSYA_UPLOAD_OWNER_MAX:593139654,UNAUTH_LONG_ID_MIN_OLD:10000000001,UNAUTH_LONG_ID_MAX_OLD:11e10,FAKE_DOC_OWNER_MIN:2e9,FAKE_DOC_OWNER_MAX:2000063999,ADS_VIDEO_OWNER_MIN:16e6,ADS_VIDEO_OWNER_MAX:16000599,ADS_PHOTO_OWNER_MIN:1698e4,ADS_PHOTO_OWNER_MAX:16999999,AUDIO_FAKE_UMA_RELEASE_OWNER_MIN:-2002e6,AUDIO_FAKE_UMA_RELEASE_OWNER_MAX:-2001e6,AUDIO_FAKE_UMA_ALBUM_OWNER_MIN:-2000999999,AUDIO_FAKE_UMA_ALBUM_OWNER_MAX:-2e9,AUDIO_FAKE_UMA_OWNERS_COUNT:1e6,AUDIO_FAKE_WALL_OWNER_MIN:2e9,AUDIO_FAKE_WALL_OWNER_MAX:2000512e3,USERS_LOWER_BOUND:1,USERS_UPPER_BOUND:19e8,USERS_LOWER_BOUND_LONG:2e11,USERS_UPPER_BOUND_LONG:1e12,EMAIL_UPPER_BOUND:-2e9,CONTACTS_LOWER_BOUND:1900000001,CONTACTS_UPPER_BOUND:2e9,CALLS_PEER_LOWER_BOUND:-1899999999,CALLS_PEER_UPPER_BOUND:-189e7,ANONYMOUS_USER_PEER_ID_LOWER_BOUND:10000000001,ANONYMOUS_USER_PEER_ID_UPPER_BOUND:11e10,CHAT_OR_CHANNEL_LOWER_BOUND:a,CHAT_OR_CHANNEL_UPPER_BOUND:21e8,GROUPS_LOWER_BOUND:-1e9,GROUPS_UPPER_BOUND:-1,APP_LOWER_BOUND:-1999999999,APP_UPPER_BOUND:-1e9,ALIEXPRESS_USER_ID_RANGE_START:2e9,ALIEXPRESS_USER_ID_RANGE_LENGTH:150,AD_BOT_ID_RANGE_START:2e9,AD_BOT_ID_RANGE_END:2000064e3,MARUSIA_AUDIO_FAKE_ID_MIN:2000512001,MARUSIA_AUDIO_FAKE_ID_MAX:2000512051,AUTOTEST_GROUP_ID_MIN:216720807,AUTOTEST_GROUP_ID_MAX:216820807,EXTERNAL_USER_ID_OFFSET:-19e8,APP_DOMAIN_ID_OFFSET:-1e9})},724913:(e,t,i)=>{"use strict";i.d(t,{ACCESS_RAW_ID_REGEXP:()=>p,ANY_RAW_ID_INCLUDABLE_PATTERN:()=>a,ANY_RAW_ID_INCLUDABLE_REGEXP:()=>d,ANY_RAW_ID_REGEXP:()=>u,RAW_ID_REGEXP:()=>_});const o="_[a-z0-9]+",r="(-?\\d+)_(-?\\d+)",n=`${r}(${o})`,a=`${r}(${o})?`,s=m(r),c=m(n),l=m(a),d=new RegExp(a),u=new RegExp(l),_=new RegExp(s),p=new RegExp(c);function m(e){return`^${e}$`}},187966:(e,t,i)=>{"use strict";i.d(t,{isAnyRawId:()=>r});var o=i(724913);function r(e){return o.ANY_RAW_ID_REGEXP.test(e)}},649632:(e,t,i)=>{"use strict";i.d(t,{emojiRegex:()=>o});const o=()=>/\u{1F3F4}(?:\u{E0067}\u{E0062}(?:\u{E0065}\u{E006E}\u{E0067}|\u{E0077}\u{E006C}\u{E0073}|\u{E0073}\u{E0063}\u{E0074})\u{E007F}|\u{200D}\u{2620}\u{FE0F}?)|\u{1F469}\u{200D}\u{1F469}\u{200D}(?:\u{1F466}\u{200D}\u{1F466}|\u{1F467}\u{200D}[\u{1F466}\u{1F467}])|\u{1F468}(?:\u{200D}(?:\u{2764}\u{FE0F}?\u{200D}(?:\u{1F48B}\u{200D})?\u{1F468}|[\u{1F468}\u{1F469}]\u{200D}(?:\u{1F466}\u{200D}\u{1F466}|\u{1F467}\u{200D}[\u{1F466}\u{1F467}])|\u{1F466}\u{200D}\u{1F466}|\u{1F467}\u{200D}[\u{1F466}\u{1F467}]|[\u{1F33E}\u{1F373}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9B0}-\u{1F9B3}])|[\u{1F3FB}-\u{1F3FF}]\u{200D}[\u{1F33E}\u{1F373}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9B0}-\u{1F9B3}])|\u{1F469}\u{200D}(?:\u{2764}\u{FE0F}?\u{200D}(?:\u{1F48B}\u{200D}[\u{1F468}\u{1F469}]|[\u{1F468}\u{1F469}])|[\u{1F33E}\u{1F373}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9B0}-\u{1F9B3}])|\u{1F469}\u{200D}\u{1F466}\u{200D}\u{1F466}|(?:\u{1F441}\u{FE0F}?\u{200D}\u{1F5E8}|\u{1F469}[\u{1F3FB}-\u{1F3FF}]\u{200D}[\u{2695}\u{2696}\u{2708}]|\u{1F468}(?:[\u{1F3FB}-\u{1F3FF}]\u{200D}[\u{2695}\u{2696}\u{2708}]|\u{200D}[\u{2695}\u{2696}\u{2708}])|(?:[\u{26F9}\u{1F3CB}\u{1F3CC}\u{1F575}]\u{FE0F}?|[\u{1F46F}\u{1F93C}\u{1F9DE}\u{1F9DF}])\u{200D}[\u{2640}\u{2642}]|[\u{26F9}\u{1F3CB}\u{1F3CC}\u{1F575}][\u{1F3FB}-\u{1F3FF}]\u{200D}[\u{2640}\u{2642}]|[\u{1F3C3}\u{1F3C4}\u{1F3CA}\u{1F46E}\u{1F471}\u{1F473}\u{1F477}\u{1F481}\u{1F482}\u{1F486}\u{1F487}\u{1F645}-\u{1F647}\u{1F64B}\u{1F64D}\u{1F64E}\u{1F6A3}\u{1F6B4}-\u{1F6B6}\u{1F926}\u{1F937}-\u{1F939}\u{1F93D}\u{1F93E}\u{1F9B8}\u{1F9B9}\u{1F9D6}-\u{1F9DD}](?:[\u{1F3FB}-\u{1F3FF}]\u{200D}[\u{2640}\u{2642}]|\u{200D}[\u{2640}\u{2642}])|\u{1F469}\u{200D}[\u{2695}\u{2696}\u{2708}])\u{FE0F}?|\u{1F469}\u{200D}\u{1F467}\u{200D}[\u{1F466}\u{1F467}]|\u{1F469}\u{200D}\u{1F469}\u{200D}[\u{1F466}\u{1F467}]|\u{1F468}(?:\u{200D}(?:[\u{1F468}\u{1F469}]\u{200D}[\u{1F466}\u{1F467}]|[\u{1F466}\u{1F467}])|[\u{1F3FB}-\u{1F3FF}])|\u{1F3F3}\u{FE0F}?\u{200D}\u{1F308}|\u{1F469}\u{200D}\u{1F467}|\u{1F469}[\u{1F3FB}-\u{1F3FF}]\u{200D}[\u{1F33E}\u{1F373}\u{1F393}\u{1F3A4}\u{1F3A8}\u{1F3EB}\u{1F3ED}\u{1F4BB}\u{1F4BC}\u{1F527}\u{1F52C}\u{1F680}\u{1F692}\u{1F9B0}-\u{1F9B3}]|\u{1F469}\u{200D}\u{1F466}|\u{1F1F6}\u{1F1E6}|\u{1F1FD}\u{1F1F0}|\u{1F1F4}\u{1F1F2}|\u{1F469}[\u{1F3FB}-\u{1F3FF}]|\u{1F1ED}[\u{1F1F0}\u{1F1F2}\u{1F1F3}\u{1F1F7}\u{1F1F9}\u{1F1FA}]|\u{1F1EC}[\u{1F1E6}\u{1F1E7}\u{1F1E9}-\u{1F1EE}\u{1F1F1}-\u{1F1F3}\u{1F1F5}-\u{1F1FA}\u{1F1FC}\u{1F1FE}]|\u{1F1EA}[\u{1F1E6}\u{1F1E8}\u{1F1EA}\u{1F1EC}\u{1F1ED}\u{1F1F7}-\u{1F1FA}]|\u{1F1E8}[\u{1F1E6}\u{1F1E8}\u{1F1E9}\u{1F1EB}-\u{1F1EE}\u{1F1F0}-\u{1F1F5}\u{1F1F7}\u{1F1FA}-\u{1F1FF}]|\u{1F1F2}[\u{1F1E6}\u{1F1E8}-\u{1F1ED}\u{1F1F0}-\u{1F1FF}]|\u{1F1F3}[\u{1F1E6}\u{1F1E8}\u{1F1EA}-\u{1F1EC}\u{1F1EE}\u{1F1F1}\u{1F1F4}\u{1F1F5}\u{1F1F7}\u{1F1FA}\u{1F1FF}]|\u{1F1FC}[\u{1F1EB}\u{1F1F8}]|\u{1F1FA}[\u{1F1E6}\u{1F1EC}\u{1F1F2}\u{1F1F3}\u{1F1F8}\u{1F1FE}\u{1F1FF}]|\u{1F1F0}[\u{1F1EA}\u{1F1EC}-\u{1F1EE}\u{1F1F2}\u{1F1F3}\u{1F1F5}\u{1F1F7}\u{1F1FC}\u{1F1FE}\u{1F1FF}]|\u{1F1EF}[\u{1F1EA}\u{1F1F2}\u{1F1F4}\u{1F1F5}]|\u{1F1F8}[\u{1F1E6}-\u{1F1EA}\u{1F1EC}-\u{1F1F4}\u{1F1F7}-\u{1F1F9}\u{1F1FB}\u{1F1FD}-\u{1F1FF}]|\u{1F1EE}[\u{1F1E8}-\u{1F1EA}\u{1F1F1}-\u{1F1F4}\u{1F1F6}-\u{1F1F9}]|\u{1F1FF}[\u{1F1E6}\u{1F1F2}\u{1F1FC}]|\u{1F1EB}[\u{1F1EE}-\u{1F1F0}\u{1F1F2}\u{1F1F4}\u{1F1F7}]|\u{1F1F5}[\u{1F1E6}\u{1F1EA}-\u{1F1ED}\u{1F1F0}-\u{1F1F3}\u{1F1F7}-\u{1F1F9}\u{1F1FC}\u{1F1FE}]|\u{1F1E9}[\u{1F1EA}\u{1F1EC}\u{1F1EF}\u{1F1F0}\u{1F1F2}\u{1F1F4}\u{1F1FF}]|\u{1F1F9}[\u{1F1E6}\u{1F1E8}\u{1F1E9}\u{1F1EB}-\u{1F1ED}\u{1F1EF}-\u{1F1F4}\u{1F1F7}\u{1F1F9}\u{1F1FB}\u{1F1FC}\u{1F1FF}]|\u{1F1E7}[\u{1F1E6}\u{1F1E7}\u{1F1E9}-\u{1F1EF}\u{1F1F1}-\u{1F1F4}\u{1F1F6}-\u{1F1F9}\u{1F1FB}\u{1F1FC}\u{1F1FE}\u{1F1FF}]|[#\*0-9]\u{FE0F}?\u{20E3}|\u{1F1F1}[\u{1F1E6}-\u{1F1E8}\u{1F1EE}\u{1F1F0}\u{1F1F7}-\u{1F1FB}\u{1F1FE}]|\u{1F1E6}[\u{1F1E8}-\u{1F1EC}\u{1F1EE}\u{1F1F1}\u{1F1F2}\u{1F1F4}\u{1F1F6}-\u{1F1FA}\u{1F1FC}\u{1F1FD}\u{1F1FF}]|\u{1F1F7}[\u{1F1EA}\u{1F1F4}\u{1F1F8}\u{1F1FA}\u{1F1FC}]|\u{1F1FB}[\u{1F1E6}\u{1F1E8}\u{1F1EA}\u{1F1EC}\u{1F1EE}\u{1F1F3}\u{1F1FA}]|\u{1F1FE}[\u{1F1EA}\u{1F1F9}]|[\u{1F3C3}\u{1F3C4}\u{1F3CA}\u{1F46E}\u{1F471}\u{1F473}\u{1F477}\u{1F481}\u{1F482}\u{1F486}\u{1F487}\u{1F645}-\u{1F647}\u{1F64B}\u{1F64D}\u{1F64E}\u{1F6A3}\u{1F6B4}-\u{1F6B6}\u{1F926}\u{1F937}-\u{1F939}\u{1F93D}\u{1F93E}\u{1F9B8}\u{1F9B9}\u{1F9D6}-\u{1F9DD}][\u{1F3FB}-\u{1F3FF}]|[\u{26F9}\u{1F3CB}\u{1F3CC}\u{1F575}][\u{1F3FB}-\u{1F3FF}]|[\u{261D}\u{270A}-\u{270D}\u{1F385}\u{1F3C2}\u{1F3C7}\u{1F442}\u{1F443}\u{1F446}-\u{1F450}\u{1F466}\u{1F467}\u{1F470}\u{1F472}\u{1F474}-\u{1F476}\u{1F478}\u{1F47C}\u{1F483}\u{1F485}\u{1F4AA}\u{1F574}\u{1F57A}\u{1F590}\u{1F595}\u{1F596}\u{1F64C}\u{1F64F}\u{1F6C0}\u{1F6CC}\u{1F918}-\u{1F91C}\u{1F91D}\u{1F91E}\u{1F91F}\u{1F930}-\u{1F936}\u{1F9B5}\u{1F9B6}\u{1F9D1}-\u{1F9D5}][\u{1F3FB}-\u{1F3FF}]|[\u{231A}\u{231B}\u{23E9}-\u{23EC}\u{23F0}\u{23F3}\u{25FD}\u{25FE}\u{2614}\u{2615}\u{2648}-\u{2653}\u{267F}\u{2693}\u{26A1}\u{26AA}\u{26AB}\u{26BD}\u{26BE}\u{26C4}\u{26C5}\u{26CE}\u{26D4}\u{26EA}\u{26F2}\u{26F3}\u{26F5}\u{26FA}\u{26FD}\u{2705}\u{270A}\u{270B}\u{2728}\u{274C}\u{274E}\u{2753}-\u{2755}\u{2757}\u{2795}-\u{2797}\u{27B0}\u{27BF}\u{2B1B}\u{2B1C}\u{2B50}\u{2B55}\u{1F004}\u{1F0CF}\u{1F18E}\u{1F191}-\u{1F19A}\u{1F1E6}-\u{1F1FF}\u{1F201}\u{1F21A}\u{1F22F}\u{1F232}-\u{1F236}\u{1F238}-\u{1F23A}\u{1F250}\u{1F251}\u{1F300}-\u{1F320}\u{1F32D}-\u{1F335}\u{1F337}-\u{1F37C}\u{1F37E}-\u{1F393}\u{1F3A0}-\u{1F3CA}\u{1F3CF}-\u{1F3D3}\u{1F3E0}-\u{1F3F0}\u{1F3F4}\u{1F3F8}-\u{1F43E}\u{1F440}\u{1F442}-\u{1F4FC}\u{1F4FF}-\u{1F53D}\u{1F54B}-\u{1F54E}\u{1F550}-\u{1F567}\u{1F57A}\u{1F595}\u{1F596}\u{1F5A4}\u{1F5FB}-\u{1F64F}\u{1F680}-\u{1F6C5}\u{1F6CC}\u{1F6D0}-\u{1F6D2}\u{1F6EB}\u{1F6EC}\u{1F6F4}-\u{1F6F9}\u{1F910}-\u{1F93A}\u{1F93C}-\u{1F93E}\u{1F940}-\u{1F945}\u{1F947}-\u{1F970}\u{1F973}-\u{1F976}\u{1F97A}\u{1F97C}-\u{1F9A2}\u{1F9B0}-\u{1F9B9}\u{1F9C0}-\u{1F9C2}\u{1F9D0}-\u{1F9FF}]|[\xA9\xAE\u{203C}\u{2049}\u{2122}\u{2139}\u{2194}-\u{2199}\u{21A9}\u{21AA}\u{231A}\u{231B}\u{2328}\u{23CF}\u{23E9}-\u{23F3}\u{23F8}-\u{23FA}\u{24C2}\u{25AA}\u{25AB}\u{25B6}\u{25C0}\u{25FB}-\u{25FE}\u{2600}-\u{2604}\u{260E}\u{2611}\u{2614}\u{2615}\u{2618}\u{261D}\u{2620}\u{2622}\u{2623}\u{2626}\u{262A}\u{262E}\u{262F}\u{2638}-\u{263A}\u{2648}-\u{2653}\u{265F}\u{2660}\u{2663}\u{2665}\u{2666}\u{2668}\u{267B}\u{267E}\u{267F}\u{2692}-\u{2697}\u{2699}\u{269B}\u{269C}\u{26A0}\u{26A1}\u{26AA}\u{26AB}\u{26B0}\u{26B1}\u{26BD}\u{26BE}\u{26C4}\u{26C5}\u{26C8}\u{26CE}\u{26CF}\u{26D1}\u{26D3}\u{26D4}\u{26E9}\u{26EA}\u{26F0}-\u{26F5}\u{26F7}-\u{26FA}\u{26FD}\u{2702}\u{2705}\u{2708}-\u{270D}\u{270F}\u{2712}\u{2714}\u{2716}\u{271D}\u{2721}\u{2728}\u{2733}\u{2734}\u{2744}\u{2747}\u{274C}\u{274E}\u{2753}-\u{2755}\u{2757}\u{2763}\u{2764}\u{2795}-\u{2797}\u{27A1}\u{27B0}\u{27BF}\u{2934}\u{2935}\u{2B05}-\u{2B07}\u{2B1B}\u{2B1C}\u{2B50}\u{2B55}\u{3030}\u{303D}\u{3297}\u{3299}\u{1F004}\u{1F0CF}\u{1F170}\u{1F171}\u{1F17E}\u{1F17F}\u{1F18E}\u{1F191}-\u{1F19A}\u{1F1E6}-\u{1F1FF}\u{1F201}\u{1F202}\u{1F21A}\u{1F22F}\u{1F232}-\u{1F23A}\u{1F250}\u{1F251}\u{1F300}-\u{1F321}\u{1F324}-\u{1F393}\u{1F396}\u{1F397}\u{1F399}-\u{1F39B}\u{1F39E}-\u{1F3F0}\u{1F3F3}-\u{1F3F5}\u{1F3F7}-\u{1F4FD}\u{1F4FF}-\u{1F53D}\u{1F549}-\u{1F54E}\u{1F550}-\u{1F567}\u{1F56F}\u{1F570}\u{1F573}-\u{1F57A}\u{1F587}\u{1F58A}-\u{1F58D}\u{1F590}\u{1F595}\u{1F596}\u{1F5A4}\u{1F5A5}\u{1F5A8}\u{1F5B1}\u{1F5B2}\u{1F5BC}\u{1F5C2}-\u{1F5C4}\u{1F5D1}-\u{1F5D3}\u{1F5DC}-\u{1F5DE}\u{1F5E1}\u{1F5E3}\u{1F5E8}\u{1F5EF}\u{1F5F3}\u{1F5FA}-\u{1F64F}\u{1F680}-\u{1F6C5}\u{1F6CB}-\u{1F6D2}\u{1F6E0}-\u{1F6E5}\u{1F6E9}\u{1F6EB}\u{1F6EC}\u{1F6F0}\u{1F6F3}-\u{1F6F9}\u{1F910}-\u{1F93A}\u{1F93C}-\u{1F93E}\u{1F940}-\u{1F945}\u{1F947}-\u{1F970}\u{1F973}-\u{1F976}\u{1F97A}\u{1F97C}-\u{1F9A2}\u{1F9B0}-\u{1F9B9}\u{1F9C0}-\u{1F9C2}\u{1F9D0}-\u{1F9FF}]\u{FE0F}?|[\u{261D}\u{26F9}\u{270A}-\u{270D}\u{1F385}\u{1F3C2}-\u{1F3C4}\u{1F3C7}\u{1F3CA}-\u{1F3CC}\u{1F442}\u{1F443}\u{1F446}-\u{1F450}\u{1F466}-\u{1F469}\u{1F46E}\u{1F470}-\u{1F478}\u{1F47C}\u{1F481}-\u{1F483}\u{1F485}-\u{1F487}\u{1F4AA}\u{1F574}\u{1F575}\u{1F57A}\u{1F590}\u{1F595}\u{1F596}\u{1F645}-\u{1F647}\u{1F64B}-\u{1F64F}\u{1F6A3}\u{1F6B4}-\u{1F6B6}\u{1F6C0}\u{1F6CC}\u{1F918}-\u{1F91C}\u{1F91E}\u{1F91F}\u{1F926}\u{1F930}-\u{1F939}\u{1F93D}\u{1F93E}\u{1F9B5}\u{1F9B6}\u{1F9B8}\u{1F9B9}\u{1F9D1}-\u{1F9DD}]/gu},979640:(e,t,i)=>{"use strict";function o(e){return encodeURIComponent(e.replace(/\uFE0F/giu,"")).replace(/%/gi,"").toLowerCase()}function r(e){const t=e.length%2==1,i=t?e.slice(0,1):"",o=t?e.slice(1):e;let r="";try{r=decodeURIComponent("%"+(n=o,n.split("").reduce(((e,t,i)=>e+t+((i+1)%2==0?" ":"")),"").trim().split(/\s+/)).join("%"))}catch(e){}var n;return i+r}i.d(t,{emojiByteHexToSymbol:()=>r,emojiSymbolToByteHex:()=>o})},33305:(e,t,i)=>{"use strict";i.d(t,{getOwnerFullName:()=>s,getOwnerHref:()=>a,getOwnerShortName:()=>c,isOwnerGroup:()=>n,isOwnerUser:()=>r});var o=i(216497);const r=e=>!!e&&"first_name"in e,n=e=>!!e&&"name"in e;function a(e,t=!1,i="/"){let o=i;return e&&(n(e)?o+=e.screen_name||`club${e.id}`:o+=e.screen_name||e.domain||`id${e.id}`),t?window.location.origin+o:o}function s(e){let t="";return e?(e.first_name&&(t+=e.first_name.trim()),e.last_name&&(t+=` ${e.last_name.trim()}`),e.maiden_name&&e.sex===o.BaseSexEnumNames.FEMALE&&(t+=` (${e.maiden_name.trim()})`),t):t}function c(e){let t="";return e.first_name&&(t+=e.first_name.trim()),e.last_name&&(t+=` ${e.last_name.trim().slice(0,1)}.`),t}},241448:(e,t,i)=>{"use strict";i.d(t,{WebStats:()=>l});var o=i(887184),r=i(968344),n=i(930497),a=i(268443),s=i(705082),c=i(670315);class l{sendWebStats(e,t){return this.api.sendWebStats(e,t)}writeAndSendWebStats(e,t,i,o){return this.api.writeAndSendWebStats(e,t,i,o)}saveStatlogEvents(e){return this.api.saveStatlogEvents(e)}saveProductionStats(e,t){return this.api.saveProductionStats(e,t)}saveNetworkStats(e){return this.api.saveNetworkStats(e)}saveStoryViewBaseStats(e){return this.api.saveStoryViewBaseStats(e)}saveStoryViewStats(e){return this.api.saveStoryViewStats(e)}saveWebPerfStats(e){return this.api.saveWebPerfStats(e)}saveBenchmarkMainStats(e){return this.api.saveBenchmarkMainStats(e)}saveVkResStats(e){return this.api.saveVkResStats(e)}constructor({options:e,statsMeta:t,hostName:i,statlogsValueEvent:l,getBrowserFingerprint:d,generateReservedUrl:u,sessionStorage:_,localStorage:p,smallerChunks:m,apiParams:g,createUrl:v}){this.saveCustomStats=e=>this.api.saveCustomStats(e),this.debug=new r.Debug({options:e}),this.webStatsStorage=new n.WebStatsStorage({statsMeta:t,debug:this.debug,sessionStorage:_,localStorage:p}),this.maxBodyChunkSize=m?o.MAX_BODY_SIZE_SMALL_CHUNK:o.MAX_BODY_SIZE_NORMAL_CHUNK,this.batchers=new a.Batchers({statsMeta:t,statlogsValueEvent:l,webStatsStorage:this.webStatsStorage,maxBodyChunkSize:this.maxBodyChunkSize}),this.batchedWebStatsTransport=new s.BatchedWebStatsTransport({options:e,statsMeta:t,hostName:i,debug:this.debug,statlogsValueEvent:l,getBrowserFingerprint:d,batchers:this.batchers,webStatsStorage:this.webStatsStorage,maxBodyChunkSize:this.maxBodyChunkSize,apiParams:g,createUrl:v,generateReservedUrl:u}),this.api=new c.Api({webStatsStorage:this.webStatsStorage,debug:this.debug,webStatsBatchedTransport:this.batchedWebStatsTransport,options:e,localStorage:p})}}},887184:(e,t,i)=>{"use strict";i.d(t,{AVAILABLE_STATS:()=>m,BOOST_COOLDOWN_MS:()=>c,BOOST_DEBOUNCE_LIMIT_MS:()=>s,BOOST_DEBOUNCE_MS:()=>a,BOOST_DURATION:()=>d,COOLDOWN_MS:()=>n,DEBOUNCE_LIMIT_MS:()=>r,DEBOUNCE_MS:()=>o,MAX_BODY_SIZE_NORMAL_CHUNK:()=>_,MAX_BODY_SIZE_SMALL_CHUNK:()=>u,PROCESSING_LIMIT:()=>l,Stats:()=>p});const o=1e4,r=2e4,n=2e4,a=1e3,s=2e3,c=5e3,l=500,d=3e4,u=.5*Math.pow(10,6),_=1.8*Math.pow(10,6),p={BenchmarkMainStats:"benchmarkMainStats",CustomStats:"customStats",NetworkStats:"networkStats",ProductionStats:"productionStats",StatlogEvents:"statlogEvents",StoryViewStats:"storyViewStats",WebPerfStats:"webPerfStats",VkResStats:"vkResStats"},m=[p.BenchmarkMainStats,p.CustomStats,p.NetworkStats,p.ProductionStats,p.StatlogEvents,p.StoryViewStats,p.WebPerfStats,p.VkResStats]},670315:(e,t,i)=>{"use strict";i.d(t,{Api:()=>a});var o=i(510794),r=i(216520),n=i(887184);class a{pushToWebStats(e,t){const i=this.webStatsStorage.getWebStatsStringValue(e);return this.webStatsStorage.getWebStatDataLs().replace(`"${e}":${i}`,`"${e}":${i.replace(/]$/,`${"[]"===i?"":","}${JSON.stringify(t)}]`)}`)}transformStatlogEvent({name:e,value:t,keys:i=[]}){const o=[Math.round(Number(Date.now())/1e3),e,t,...i];return this.options?.isDebuggerMode&&console.log("Data was transformed!"),o}sendWebStats(e,t){e===n.Stats.StatlogEvents&&(t=this.transformStatlogEvent(t));const i=(0,r.getEmptyStatsData)();i[e]=[t];const o=JSON.stringify(i);return new Promise(((e,i)=>{this.webStatsBatchedTransport.sendStat(o,(()=>e()),i),this.debug.logWebStatsEvent("sendWebStatsEvent",t)}))}writeAndSendWebStats(e,t,i,o){const r=this.pushToWebStats(t,i);this.webStatsStorage.writeLocked((()=>{this.localStorage.setItem(this.webStatsStorage.lsDataKey,r),this.webStatsBatchedTransport.saveAndSendStats(r,o)})),this.debug.logWebStatsEvent(e,i)}saveStatlogEvents(e){const t=this.transformStatlogEvent(e);return this.writeAndSendWebStats("saveStatlogEvents",n.Stats.StatlogEvents,t)}saveNetworkStats(e){return this.writeAndSendWebStats("saveNetworkStats",n.Stats.NetworkStats,e)}saveStoryViewBaseStats(e){return this.writeAndSendWebStats("saveStoryViewStats",n.Stats.StoryViewStats,e)}saveStoryViewStats(e){return this.saveStoryViewBaseStats(e)}saveWebPerfStats(e){return this.writeAndSendWebStats("saveWebPerfStats",n.Stats.WebPerfStats,e)}saveBenchmarkMainStats(e){return this.writeAndSendWebStats("saveBenchmarkMainStats",n.Stats.BenchmarkMainStats,e)}saveVkResStats(e){return this.writeAndSendWebStats("saveVkResStats",n.Stats.VkResStats,[...e.details])}constructor({webStatsStorage:e,debug:t,options:i,localStorage:r,webStatsBatchedTransport:a}){this.saveProductionStats=(e,t)=>this.writeAndSendWebStats("saveProductionStats",n.Stats.ProductionStats,e,t),this.saveCustomStats=e=>this.writeAndSendWebStats("saveCustomStats",n.Stats.CustomStats,e),this.webStatsStorage=e,this.debug=t,this.options=i,this.localStorage=r||o.localStorage,this.webStatsBatchedTransport=a}}},705082:(e,t,i)=>{"use strict";i.d(t,{BatchedWebStatsTransport:()=>a});var o=i(957994),r=i(216520),n=i(887184);class a{isBatchBoostRequired(){const e=this.statsMeta.started||Date.now();return Date.now()-e<=n.BOOST_DURATION}debounceMs(){return this.isBatchBoostRequired()?n.BOOST_DEBOUNCE_MS:n.DEBOUNCE_MS}limitMs(){return this.isBatchBoostRequired()?n.BOOST_DEBOUNCE_LIMIT_MS:n.DEBOUNCE_LIMIT_MS}cooldownMs(){return this.isBatchBoostRequired()?n.BOOST_COOLDOWN_MS:n.COOLDOWN_MS}penaltyMs(){return this.debounceMs()*this.sendAttempt**.5}onCooldown(){return!(Date.now()-this.webStatsStorage.getLastSendTime()>this.cooldownMs()+this.penaltyMs())}tillCooldownMs(){return Math.max(0,this.webStatsStorage.getLastSendTime()+this.cooldownMs()-Date.now()+this.penaltyMs())}tillLimitMs(){return Math.max(0,this.webStatsStorage.getLastSendTime()+this.limitMs()-Date.now())}checkWebStatsLater(){this.isSendingWebStats||this.timeoutID||(this.timeoutID=(0,r.getWindow)()?.setTimeout((()=>{const e=this.webStatsStorage.getWebStatDataLs();this.timeoutID=void 0,e.length>r.emptyStatsDataLs.length&&this.saveAndSendStats(e)}),Math.max(Math.min(this.tillLimitMs(),this.debounceMs()),this.tillCooldownMs())))}sendStatsWithBatching(e){const t=e.length>this.maxBodyChunkSize;let i=t?this.batchers.getMaximumWebStats(e):e,o=!1;if(!i)return this.isSendingWebStats=!1,this.webStatsStorage.clearLsData();i=(0,r.appendStatsMeta)(++this.sendAttempt,i,this.statsMeta),this.sendStats(i,(n=>{const a=Date.now();this.isSendingWebStats=!1,n<500&&(t&&200===n?Object.keys((0,r.getEmptyStatsData)()).forEach((e=>this.webStatsStorage.pullFromWebStats(e,i))):this.webStatsStorage.clearLsData(),this.sendAttempt=0,o=!0),(t||400===n)&&(0,r.logProcessingTime)(Date.now()-a,`${t?"prune":"clean"}${400===n?"-fail":""}`,this.statsMeta,this.statlogsValueEvent,`${e.length>>>20}M ${i.length>>>20}M`),this.checkWebStatsLater()}),(()=>{this.isSendingWebStats=!1,!o&&this.webStatsStorage.clearLsData()}))}idlizeCall(e,t){const i=t=>setTimeout((()=>e()),t);return t?.force?i(0):(0,r.getWindow)()?.requestIdleCallback?window.requestIdleCallback((()=>i(this.debounceMs())),{timeout:this.debounceMs()/2}):i(this.debounceMs())}async sendStats(e,t,i){const o=new URLSearchParams,n=await this.getBrowserFingerprint();n&&o.set("device_id",n);const a=o.toString(),s=this.generateReservedUrl();let c=this.createUrl(this.statsMeta,a);const l=(e,o)=>{if(o)return void this.sendApi(e,t,i,o);const r=new XMLHttpRequest;r.withCredentials=c.includes(`tau.${this.hostName}`),r.onreadystatechange=()=>{r.readyState===XMLHttpRequest.DONE&&t(r.status)},r.onerror=this.options.useReservedUrls?()=>{this.reportedUrls.has(c)||(this.reportedUrls.add(c),this.statlogsValueEvent?.("web_stats_request_error",1,c.split("?")[0],this.hasAdblock,r.status));const{value:t,done:n}=s.next();n?i():(c=t,l(e,o))}:i,r.open("POST",c,!0),r.setRequestHeader("Content-Type","application/json;charset=UTF-8"),r.send(e)},[d,u]=await Promise.all([(0,r.getApiConfig)(this.apiParams),this.checkAdblock(this.statsMeta.wsTransport)]);if((0,r.canSendBeacon)(this.hostName,this.statsMeta)&&!u)try{await(0,r.sendBeacon)(c,e,d),t(200)}catch{l(e,d)}else l(e,d)}sendStat(e,t,i){e=(0,r.appendStatsMeta)(1,e,this.statsMeta),this.sendStats(e,t,i)}saveAndSendStats(e,t){return this.options?.isNewQueue?this.saveAndSendStatsNew(e,t):this.saveAndSendStatsOld(e,t)}saveAndSendStatsOld(e,t){const i=e.length>=this.maxBodyChunkSize,o=t?.force||i;if(e.length<=r.emptyStatsDataLs.length)this.debug.logWebStatsEvent("WebStats empty data.","");else{if(!this.isSendingWebStats)return o||this.timeoutID||!this.onCooldown()?(this.isSendingWebStats=!0,this.idlizeCall((()=>{const e=this.webStatsStorage.getWebStatDataLs();if(e.length>r.emptyStatsDataLs.length&&(o||!this.onCooldown()))return this.webStatsStorage.setLastSendTime(),this.sendStatsWithBatching(e);clearTimeout(this.timeoutID),this.isSendingWebStats=!1,this.timeoutID=void 0}),{...t,force:o})):(this.debug.logWebStatsEvent("WebStats delayed.",this.timeoutID),this.checkWebStatsLater());this.debug.logWebStatsEvent("WebStats sending.",this.isSendingWebStats)}}saveAndSendStatsNew(e,t){const i=e.length>=this.maxBodyChunkSize,o=t?.force||i;if(e.length<=r.emptyStatsDataLs.length)this.debug.logWebStatsEvent("WebStats empty data.","");else{if(!this.isSendingWebStats)return!o&&this.onCooldown()?(this.checkWebStatsLater(),void this.debug.logWebStatsEvent("WebStats delayed.",this.timeoutID)):(this.isSendingWebStats=!0,this.idlizeCall((()=>{const e=this.webStatsStorage.getWebStatDataLs();if(e.length>r.emptyStatsDataLs.length&&(!this.onCooldown()||o))return clearTimeout(this.timeoutID),this.timeoutID=void 0,this.webStatsStorage.setLastSendTime(),this.sendStatsWithBatching(e);this.isSendingWebStats=!1}),{...t,force:o}));this.debug.logWebStatsEvent("WebStats sending.",this.isSendingWebStats)}}async checkAdblock(e){if(!this.options.useReservedUrls)return!1;if(void 0!==this.hasAdblock)return this.hasAdblock;try{await fetch(e,{method:"GET",mode:"no-cors"}),this.hasAdblock=!1}catch{this.hasAdblock=!0}return this.hasAdblock}constructor({options:e,statsMeta:t,hostName:i,debug:n,statlogsValueEvent:a,getBrowserFingerprint:s,batchers:c,webStatsStorage:l,maxBodyChunkSize:d,apiParams:u,createUrl:_,generateReservedUrl:p}){this.sendAttempt=0,this.isSendingWebStats=!1,this.reportedUrls=new Set,this.sendApi=async(e,t,i,n)=>{try{const i=JSON.stringify((0,r.transformEventsToArray)(e));await(0,o.api)(n.method,{events:i,...n.body},n.overrideApiConfig),t(200)}catch{i()}},this.options=e,this.statsMeta=t,this.hostName=i,this.debug=n,this.statlogsValueEvent=a,this.getBrowserFingerprint=s,this.batchers=c,this.webStatsStorage=l,this.maxBodyChunkSize=d,this.apiParams=u,this.createUrl=_,this.generateReservedUrl=p??function*(){}}}},268443:(e,t,i)=>{"use strict";i.d(t,{Batchers:()=>n});var o=i(887184),r=i(216520);class n{batchStaleWebStats(e,t){const[i,o]=t,n=`{"${i}":[${JSON.parse(o).reduce(((t,i,o)=>t.length<this.maxBodyChunkSize-e.length?`${t}${0===o?"":","}${JSON.stringify(i)}`:t),"")}]}`;return"{}"===e?n:(0,r.concatJSONS)(e,n)||e}getMaximumWebStats(e){const t=Date.now(),i=e=>`{${e?.map((([e,t])=>`"${e}":${t}`)).join(",")}}`,[n,a]=Object.keys((0,r.getEmptyStatsData)()).reduce(((t,i)=>{const o=this.webStatsStorage.getWebStatsStringValue(i,e);return"[]"===o?t:[...t,[i,o]]}),[]).sort((([,e],[,t])=>t.length-e.length)).reduce((([e,t],[o,r])=>{const n=[[o,r]];return r.length+i(e).length<this.maxBodyChunkSize?[e.concat(n),t]:[e,t.concat(n)]}),[[],[]]),s=i(n);if((0,r.logProcessingTime)(Date.now()-t,"chunk",this.statsMeta,this.statlogsValueEvent),Date.now()-t<o.PROCESSING_LIMIT&&a[0]&&s.length<.1*this.maxBodyChunkSize){const e=Date.now();try{const t=this.batchStaleWebStats(s,a.reverse()[0]);return(0,r.logProcessingTime)(Date.now()-e,"batch",this.statsMeta,this.statlogsValueEvent),t}catch(t){return(0,r.logProcessingTime)(Date.now()-e,"batch-fail",this.statsMeta,this.statlogsValueEvent),""}}return s}constructor({statsMeta:e,statlogsValueEvent:t,webStatsStorage:i,maxBodyChunkSize:o}){this.statsMeta=e,this.statlogsValueEvent=t,this.webStatsStorage=i,this.maxBodyChunkSize=o}}},968344:(e,t,i)=>{"use strict";i.d(t,{Debug:()=>o});class o{logWebStatsEvent(e,t){this.options?.isDebuggerMode&&console.log(`[new transport debug] ${e}`,t)}constructor({options:e}){this.options=e}}},930497:(e,t,i)=>{"use strict";i.d(t,{WebStatsStorage:()=>n});var o=i(510794),r=i(216520);class n{writeLocked(e){if("locked"!==this.sessionStorage.getItem(this.lockName)){this.debug.logWebStatsEvent("writeLocked","lock"),this.sessionStorage.setItem(this.lockName,"locked");try{e()}catch(e){}return this.debug.logWebStatsEvent("writeLocked","free"),void this.sessionStorage.setItem(this.lockName,"free")}setTimeout((()=>this.writeLocked(e)),100)}getWebStatDataLs(){return this.localStorage.getItem(this.lsDataKey)||r.emptyStatsDataLs}serializeDataToLs(e){return this.localStorage.setItem(this.lsDataKey,JSON.stringify(e))}getWebStatsStringValue(e,t=this.getWebStatDataLs()){const i=Object.keys((0,r.getEmptyStatsData)()).filter((t=>t!==e)).join("|"),o=t?.match(new RegExp(`"${e}":(\\[.*?\\])(?:,"(${i})":\\[|}$)`))?.[1]||"";return(0,r.isArrayLike)(o)?o:"[]"}fetchDataFromLs(){let e,t=!0;try{const i=this.getWebStatDataLs();if(!i)throw new Error("empty data");e=(0,r.getEmptyStatsData)();const o=JSON.parse(i);Object.keys(e).forEach((i=>{Array.isArray(o[i])&&(t=!1,e[i]=o[i])}))}catch(t){e=(0,r.getEmptyStatsData)()}return{webStatsData:e,isEmpty:t}}clearLsData(e){e&&this.debug.logWebStatsEvent("WebStats cleared. "+(e?"Reason: LS is broken.":""),e),this.writeLocked((()=>this.localStorage.setItem(this.lsDataKey,"")))}setLastSendTime(e=Number(new Date)){this.sessionStorage.setItem(this.lsMetaKey,e.toString())}getLastSendTime(){return parseInt(`${this.sessionStorage.getItem(this.lsMetaKey)||0}`)}getWebStatsItemsCount(e){return Object.values(e).reduce(((e,t)=>e+=t.length),0)}pullFromWebStats(e,t){const i=this.getWebStatsStringValue(e,t);if("[]"!==i){const e=this.getWebStatDataLs().replace(i.slice(1,-1),"").replace(/\[\,/,"[");this.writeLocked((()=>this.localStorage.setItem(this.lsDataKey,e)))}}constructor({statsMeta:e,debug:t,localStorage:i,sessionStorage:r}){this.lsDataKey=`XHR_STATS_TRANSPORT_DATA_${e.platform}`,this.lsMetaKey=`XHR_STATS_TRANSPORT_META_${e.platform}`,this.lockName=`XHR_STATS_TRANSPORT_DATA_LOCK_${e.platform}`,this.debug=t,this.localStorage=i||o.localStorage,this.sessionStorage=r||o.sessionStorage}}},510794:(e,t,i)=>{"use strict";i.d(t,{CustomStorage:()=>r,localStorage:()=>u,sessionStorage:()=>m});var o=i(216520);class r{setItem(e,t){this.data[e]=String(t)}getItem(e){return this.data.hasOwnProperty(e)?this.data[e]:null}removeItem(e){delete this.data[e]}clear(){this.data={}}get length(){return Object.keys(this.data).length}key(e){return Object.keys(this.data)[e]}constructor(){this.data={},this.keys=()=>Object.keys(this.data)}}const n="vk-ls-dummy",a=Math.random().toString(),s={localStorage:null,sessionStorage:null};function c(e){if(null===s[e])try{const t=(0,o.getWindow)()?.[e];t?.setItem(n,a),s[e]=a===t?.getItem(n),t?.removeItem(n)}catch(t){s[e]=!1}return s[e]}let l;function d(){return l||(l=c("localStorage")?window.localStorage:new r,l)}const u={setItem:(e,t)=>d().setItem(e,t),getItem:e=>d().getItem(e),removeItem:e=>d().removeItem(e),clear:()=>d().clear(),get length(){return d().length},key:e=>d().key(e),keys(){const e=d();return e instanceof r?e.keys():Object.keys(e)},getPrefixedKeys:e=>u.keys().filter((t=>t.startsWith(e)))};let _;function p(){return _||(_=c("sessionStorage")?window.sessionStorage:new r,_)}const m={setItem:(e,t)=>p().setItem(e,t),getItem:e=>p().getItem(e),removeItem:e=>p().removeItem(e),clear:()=>p().clear(),get length(){return p().length},key:e=>p().key(e),keys(){const e=p();return e instanceof r?e.keys():Object.keys(e)},getPrefixedKeys:e=>m.keys().filter((t=>t.startsWith(e)))}},216520:(e,t,i)=>{"use strict";i.d(t,{appendStatsMeta:()=>d,canSendBeacon:()=>u,concatJSONS:()=>s,emptyStatsDataLs:()=>m,getApiConfig:()=>v,getEmptyStatsData:()=>p,getWindow:()=>g,isArrayLike:()=>a,logProcessingTime:()=>_,sendBeacon:()=>l,transformEventsToArray:()=>c});var o=i(738150),r=i(887184);const n=e=>e.startsWith("{")&&e.endsWith("}"),a=e=>e.startsWith("[")&&e.endsWith("]"),s=(e,t)=>[e,t].every(n)?`${e.slice(0,-1)},${t.substring(1)}`:"{}",c=e=>{try{const t=JSON.parse(e),i=Object.entries(t),o=[];return i.forEach((e=>{const[t,i]=e;r.AVAILABLE_STATS.includes(t)&&Array.isArray(i)&&o.push(...i)})),o}catch{return[]}};function l(e,t,i){try{if(!(i?(0,o.apiBeacon)(i.method,{events:c(t),...i.body},i.overrideApiConfig):navigator.sendBeacon(e,t)))return Promise.reject(new Error("Beacon not sent"))}catch(e){return Promise.reject(new Error("Beacon fail"))}return Promise.resolve()}const d=(e,t,i)=>{const{userId:o,st:r,platform:a,appId:c,time:l,hash:d,itemId:u,itemOwnerId:_,itemType:p}=i;return s(JSON.stringify({id:o,st:r,platform:a,appId:c,attempt:e,signTime:l,sign:d,...u&&{itemId:u},...p&&{itemType:p},..._&&{itemOwnerId:_}}),n(t)?t:"{}")};function u(e,t){return"sendBeacon"in navigator&&!t.wsTransport.includes(`tau.${e}`)}function _(e,t,i,o,r){o?.("web_stats_batching_time",e,i.platform,t,r)}const p=()=>({statlogEvents:[],productionStats:[],storyViewStats:[],networkStats:[],customStats:[],webPerfStats:[],benchmarkMainStats:[],vkResStats:[]}),m=JSON.stringify(p()),g=()=>"undefined"!=typeof window?window:void 0,v=async e=>{if(!e)return;const{additionalBody:t,method:i,domain:o,version:r,appId:n,getToken:a}=e;return{body:t,overrideApiConfig:{domain:o,version:r,appId:n,accessToken:await a()},method:i}}},365815:(e,t,i)=>{"use strict";var o,r;i.d(t,{CommonErrorReasons:()=>n,ERROR_CODES:()=>o,ERROR_DESCRIPTIONS:()=>a,getReadableMessage:()=>c,isAPIError:()=>s,parseError:()=>l}),(r=o||(o={}))[r.UNKNOWN=1]="UNKNOWN",r[r.MISSING_PARAM=2]="MISSING_PARAM",r[r.CONNECTION_LOST=3]="CONNECTION_LOST",r[r.USER_DENIED=4]="USER_DENIED",r[r.INVALID_PARAMS=5]="INVALID_PARAMS",r[r.UNSUPPORTED_PLATFORM=6]="UNSUPPORTED_PLATFORM",r[r.REQUEST_LIMIT_REACHED=10]="REQUEST_LIMIT_REACHED",r[r.ACCESS_DENIED=11]="ACCESS_DENIED",r[r.CUSTOM=13]="CUSTOM",r[r.CAPTCHA_ERROR=14]="CAPTCHA_ERROR",r[r.NO_ADS=20]="NO_ADS",r[r.OLD_MISSING_PARAM=100]="OLD_MISSING_PARAM",r[r.ANONYMOUS_ACCESS_UNSUPPORTED=30]="ANONYMOUS_ACCESS_UNSUPPORTED",r[r.CRYPTO_UNSUPPORTED=31]="CRYPTO_UNSUPPORTED",r[r.MISSING_CRYPTO_KEY=32]="MISSING_CRYPTO_KEY",r[r.CREATE_GOOD_ORDER=40]="CREATE_GOOD_ORDER",r[r.GET_GOOD_ORDER=41]="GET_GOOD_ORDER",r[r.FAILURE_GOOD_ORDER_PAYMENT=42]="FAILURE_GOOD_ORDER_PAYMENT";const n={missingParam:e=>`Missing required param "${e}".`,invalidParam:(e,t)=>e&&t?`Param "${e}" should be a ${t}`:"Invalid params",greaterThanZero:e=>`Param ${e} must be greater than zero`,lessThanZero:e=>`Param ${e} must be less than zero`,wrongType:(e,t)=>`Param "${e}" should be a ${t}`,unsupportedPlatform:(e,t="")=>`${e}. Unsupported platform. ${t}`,unsupportedPlatformNoModal:e=>`${e}. Unsupported platform. No modal provided for the bridge method`,userDenied:()=>"User denied",unknown:()=>"Unknown error",scrollSubscriberAlreadyExist:()=>"Scroll subscriber already exist",bannerAdAlreadyShown:()=>"Banner ad already shown",nativeAdAlreadyShown:()=>"Native ad already shown",requestsLimitReached:()=>"Requests limit reached",wrongAppId:()=>"Wrong app id",customError:()=>"Custom error",noAds:()=>"No ads",missingOrWrongTypeParam:()=>"Missing required params or wrong type of param",userIsBanned:()=>"User is banned",anonymousAccessUnsupported:e=>`${e}. Anonymous access unsupported`,invalidAdConfig:()=>"Invalid ad config",cryptoUnsupported:()=>"Window crypto unsupported",missingCryptoKey:()=>"Missing crypto key",appIsInFullscreen:()=>"App is in fullscreen mode",goodOrder:e=>`${e} order error`,parsingMessageError:()=>"Parsing message error"};var a;!function(e){e.BANNER_IN_INTERNAL_APP="Banner Ad is prohibited for internal Apps",e.BANNER_TOP_IN_DIRECT_GAMES='Parameter "banner_location" can not be set to "top" on mobile applications other than direct games with thin controls'}(a||(a={}));const s=e=>e&&e.error_msg,c=e=>`MiniAppSDK ${s(e)?e.error_msg:e.error_reason}`,l=e=>e?.error||e},338577:(e,t,i)=>{"use strict";i.d(t,{Hook:()=>r});var o=i(42032);class r{invoke(e,{handler:t,options:i}){const o=this.isInvocable(e,{handler:t,options:i});o&&t(e),(o&&i.once||!this.isHandler(t))&&this.remove(t)}withPredicate(e){return{...this,add:(t,i)=>this.add(t,{predicate:e,...i}),clear:()=>{this.handlers.forEach((t=>{t.options.predicate===e&&this.remove(t.handler)}))}}}isHandler(e){return"function"==typeof e}isInvocable(e,{handler:t,options:i}){return this.isHandler(t)&&((i.predicate??this.predicate)?.(e)??!0)}constructor(e,{transform:t,predicate:i}={}){this.add=(e,t={})=>(this.handlers.set(e,{handler:e,options:t}),(0,o.debugLogger)(`Hook(${this.name}): add handler, new length ${this.handlers.size}`,e,t),()=>this.remove(e)),this.addAfterAll=(e,t={})=>(this.afterAllHandler={handler:e,options:t},(0,o.debugLogger)(`Hook(${this.name}): add handler after all`,e,t),()=>delete this.afterAllHandler),this.fire=e=>{const t=this.transform?.(e)||e;(0,o.debugLogger)(`Hook(${this.name}>): fire(transformed: ${!!this.transform})`,t),this.handlers.forEach((e=>this.invoke(t,e))),this.afterAllHandler&&this.invoke(t,this.afterAllHandler)},this.remove=e=>{const t=this.handlers.delete(e);(0,o.debugLogger)(`Hook(${this.name}): remove handler`,e,t)},this.clear=()=>{(0,o.debugLogger)(`Hook(${this.name}): clear all handlers`),this.handlers.clear()},this.transform=t,this.predicate=i,this.handlers=new Map,this.name=e||""}}},865419:(e,t,i)=>{"use strict";i.d(t,{MiniAppLifecycle:()=>r});var o=i(338577);class r{get hooks(){return this._hooks}getHookFireHandler(e){return this.hooks[e].fire}wrap(e){const t=Object.keys(e.hooks).map((t=>e.hooks[t].add(this.getHookFireHandler(t))));return this.setFireHandler(e.fire),()=>{t.forEach((e=>e())),this.removeFireHandler()}}getHookSubscriptions(){return Object.keys(this.hooks).reduce(((e,t)=>{const{add:i,remove:o}=this.hooks[t];return e[t]={add:i,remove:o},e}),{})}clear(){Object.values(this.hooks).forEach((e=>e.clear()))}getBridgeMethodTransformer(e){return e&&(t=>{const{miniAppInfo:i,...o}=t;return{...o,miniAppInfo:e(i)}})}getOnMountTransformer(e){return e&&(t=>e(t))}constructor({predicate:e,transform:t}={}){this.setFireHandler=e=>{this.fireHandler=e},this.removeFireHandler=()=>{delete this.fireHandler},this.fire=(e,t)=>{this.fireHandler?this.fireHandler(e,t):this.getHookFireHandler(e)(t)},this._hooks={onBeforeMount:new o.Hook("onBeforeMount",{predicate:e,transform:t}),onMount:new o.Hook("onMount",{predicate:e,transform:this.getOnMountTransformer(t)}),onDestroy:new o.Hook("onDestroy",{predicate:e,transform:t}),onBridgeMethod:new o.Hook("onBridgeMethod",{predicate:({miniAppInfo:t})=>e?.(t)??!0,transform:this.getBridgeMethodTransformer(t)}),onInit:new o.Hook("onInit",{predicate:e,transform:t}),onIframeTimeoutError:new o.Hook("onIframeTimeoutError",{predicate:e,transform:t})}}}},42032:(e,t,i)=>{"use strict";i.d(t,{debugLogger:()=>a,errorLogger:()=>r,infoLogger:()=>o,warnLogger:()=>n});const o=(...e)=>{},r=(...e)=>{},n=(...e)=>{},a=(...e)=>{}},926505:(e,t,i)=>{"use strict";i.r(t),i.d(t,{Embedded:()=>o});var o=function(){function e(e){var t=this;this.receiver=!1,this._requestId=1,this._requests={},this._onMessage=function(e){if(e.origin===t.origin&&e.data&&e.data.embeddedName===t.name){t.target=e.source;var i=e.data,o=i.response;if(o){var r=t._requests[o];r&&r(i.data),t._requests[o]=null}else i.request&&i.action&&Promise.resolve(t.onMessage(i.action,i.data)).then((function(e){t._sendResponse(i.request,i.action,e)}))}},this.name=e.name,this.target=e.target,this.origin=e.origin||"https://"+e.host,this.receiver=e.receiver||!1,this.onMessage=e.onMessage,window.addEventListener("message",this._onMessage,!1)}return e.prototype._sendResponse=function(e,t,i){this.target&&this.target.postMessage({embeddedName:this.name,action:t,response:e,data:i},this.origin)},e.prototype.sendMessage=function(e,t){var i=this;if(void 0===t&&(t={}),!this.target)return Promise.reject();var o=this._requestId,r=new Promise((function(e){i._requestId++,i._requests[o]=e}));return this.target.postMessage({embeddedName:this.name,action:e,data:t,request:o},this.origin),r},e.prototype.destroy=function(){window.removeEventListener("message",this._onMessage,!1),this.target=void 0},e}()},126645:function(e){e.exports=function(){"use strict";var e=function(){return e=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},e.apply(this,arguments)},t=1,i=7,o=96*t,r=96*t,n=25,a=function(e,t,o,r,a){if(e<i&&t<i)return!1;if(e>=o-i&&t<i)return!1;if(e<i&&t>=o-i)return!1;if(a){var s=i+2;o<=n&&s--;var c=(o-2*i-s)/2-1;return o<=n&&c++,!(e>i+c&&e<o-i-c-1&&t>i+c&&t<o-i-c-1)&&0<=e&&e<o&&0<=t&&t<o&&r[t][e]}return r[t]&&r[t][e]},s=function(e,t,i,o,r){return void 0===r&&(r=!0),{l:a(e-1,t,i,o,r),r:a(e+1,t,i,o,r),t:a(e,t-1,i,o,r),b:a(e,t+1,i,o,r),current:a(e,t,i,o,r)}},c=function(e,r){if("number"!=typeof r.qrSize)throw new Error("Size should be a number");if("string"!=typeof r.className)throw new Error("Classname should be a string");for(var c=2*t,l=12.7*t,d=12.8*t,u=14.7*t,_=14.8*t,p=15.9*t,m=28.6*t,g=30.5*t,v=84.7776815*t,f=87.3*t,y=71.4*t,E=42.9*t,A=87.2*t,S=85.2*t,b=85.3*t,T=69.5*t,I=98*t,C=100*t,k=[],P=0,O=0,M=0,L=0,D=0;D<e.size;D++){P=0;for(var R=0;R<e.size;R++){M=R+P,P+=o,L=D+O;var N=s(R,D,e.size,e.modules,r.isShowLogo),x="",F="";N.current?(F=!(F=F||N.l||N.r||N.t||N.b?"":"empty")&&N.l&&N.r||N.t&&N.b?"rect":"")||(F+=N.l?"l":N.r?"r":"",(F+=N.t?"t":N.b?"b":"")||(F="empty")):F=!(F=!(F=!(F=!F&&N.l&&N.t&&a(R-1,D-1,e.size,e.modules,r.isShowLogo)?"n_lt":"")&&N.l&&N.b&&a(R-1,D+1,e.size,e.modules,r.isShowLogo)?"n_lb":"")&&N.r&&N.t&&a(R+1,D-1,e.size,e.modules,r.isShowLogo)?"n_rt":"")&&N.r&&N.b&&a(R+1,D+1,e.size,e.modules,r.isShowLogo)?"n_rb":"",F&&(x='<use xlink:href="#'+F+"-"+r.suffix+'"/>',k.push('<g transform="translate('+M+","+L+')">'+x+"</g>"))}O+=o}var U="",B=(e.size-3*i)/2*o+o*i-10;e.size<=n&&(U="scale(0.85)",B+=50);var V=(e.size-i)*r.incTileSize;k.push('<use fill-rule="evenodd" transform="translate(0,0)" xlink:href="#point-'+r.suffix+'"/>'),k.push('<use fill-rule="evenodd" transform="translate('+V+',0)" xlink:href="#point-'+r.suffix+'"/>'),k.push('<use fill-rule="evenodd" transform="translate(0,'+V+')" xlink:href="#point-'+r.suffix+'"/>'),r.isShowLogo&&(r.logoData?k.push('\n        <image\n          preserveAspectRatio="xMidYMid slice" clip-path="url(#logo-mask-'+r.suffix+')"\n          style="width: 750px; height: 750px;" width="750" height="750"\n          transform="translate('+B+","+B+") "+U+'"\n          xlink:href="'+r.logoData+'"\n        />\n      '):k.push('\n        <use style="width: 750px; height: 750px;" width="750" height="750"\n          fill="none"\n          fill-rule="evenodd"\n          transform="translate('+B+","+B+") "+U+'" xlink:href="#vk_logo-'+r.suffix+'"\n        />\n      '));var H=99*e.size,j="",W="translate(0,0)";if(r.isShowBackground){var G=(r.qrSize-40)/r.qrSize,z=H/r.qrSize*21;j='\n      <rect\n        x="0"\n        width="'+H+'"\n        height="'+H+'"\n        rx="'+Math.ceil(H/(r.qrSize/36))+'"\n        fill="'+r.backgroundColor+'"\n      />',W="translate("+z+", "+z+") scale("+G+")"}var K="M0,0 L66,0 C"+v+",-3.44940413e-15 "+C+",15.2223185 "+C+",34 L"+C+",66 C"+C+","+v+" "+v+","+C+" 66,"+C+" L0,"+C+" L0,0 Z",Y="M0,0 L"+C+",0 L"+C+",66 C"+C+","+v+" "+v+","+C+" 66,"+C+" L0,"+C+" L0,0 Z";return'\n  <svg\n    version="1.1"\n    viewBox="0 0 '+H+" "+H+'"\n    width="'+r.qrSize+'px"\n    height="'+r.qrSize+'px"\n    '+(r.className?'class="'+r.className+'"':"")+'\n    xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n  >\n    <defs>\n      <rect id="rect-'+r.suffix+'" width="100" height="100" fill="'+r.foregroundColor+'"/>\n      <path\n        id="empty-'+r.suffix+'"\n        d="M0,'+m+"v"+E+"C0,"+f+","+d+","+C+","+m+","+C+"h"+E+"c"+p+",0,"+m+"-"+d+","+m+"-"+m+"V"+m+"C"+C+","+l+","+A+",0,"+y+",0H"+m+" C"+d+",0,0,"+d+",0,"+m+'z"\n        fill="'+r.foregroundColor+'"\n      />\n      <path id="b-'+r.suffix+'" d="'+K+'" transform="rotate(-90 50 50)" fill="'+r.foregroundColor+'"/>\n      <path id="r-'+r.suffix+'" d="'+K+'" transform="rotate(-180 50 50)" fill="'+r.foregroundColor+'"/>\n      <path id="l-'+r.suffix+'" d="'+K+'" fill="'+r.foregroundColor+'"/>\n      <path id="t-'+r.suffix+'" d="'+K+'" transform="rotate(90 50 50)" fill="'+r.foregroundColor+'"/>\n      <path id="l-'+r.suffix+'" d="'+Y+'" transform="rotate(-90 50 50)" fill="'+r.foregroundColor+'"/>\n      <path id="lt-'+r.suffix+'" d="'+Y+'" fill="'+r.foregroundColor+'"/>\n      <path id="lb-'+r.suffix+'" d="'+Y+'" transform="rotate(-90 50 50)" fill="'+r.foregroundColor+'"/>\n      <path id="rb-'+r.suffix+'" d="'+Y+'" transform="rotate(-180 50 50)" fill="'+r.foregroundColor+'"/>\n      <path id="rt-'+r.suffix+'" d="'+Y+'" transform="rotate(90 50 50)" fill="'+r.foregroundColor+'"/>\n      <path\n        id="n_lt-'+r.suffix+'"\n        d="M'+g+","+c+"V0H0v"+g+"h"+c+"C"+c+","+u+","+_+","+c+","+g+","+c+'z"\n        fill="'+r.foregroundColor+'"\n      />\n      <path\n        id="n_lb-'+r.suffix+'"\n        d="M'+c+","+T+"H0V"+C+"h"+g+"v-"+c+"C"+u+","+I+","+c+","+S+","+c+","+T+'z"\n        fill="'+r.foregroundColor+'"\n      />\n      <path\n        id="n_rt-'+r.suffix+'"\n        d="M'+I+","+g+"h"+c+"V0H"+T+"v"+c+"C"+b+","+c+","+I+","+_+","+I+","+g+'z"\n        fill="'+r.foregroundColor+'"\n      />\n      <path id="n_rb-'+r.suffix+'"\n        d="M'+T+","+I+"v"+c+"H"+C+"V"+T+"h-"+c+"C"+I+","+b+","+S+","+I+","+T+","+I+'z"\n        fill="'+r.foregroundColor+'"\n      />\n      <path\n        id="point-'+r.suffix+'"\n        fill="'+r.foregroundColor+'"\n        d="M600.001786,457.329333 L600.001786,242.658167 C600.001786,147.372368 587.039517,124.122784 581.464617,118.535383 C575.877216,112.960483 552.627632,99.9982143 457.329333,99.9982143 L242.670667,99.9982143 C147.372368,99.9982143 124.122784,112.960483 118.547883,118.535383 C112.972983,124.122784 99.9982143,147.372368 99.9982143,242.658167 L99.9982143,457.329333 C99.9982143,552.627632 112.972983,575.877216 118.547883,581.464617 C124.122784,587.027017 147.372368,600.001786 242.670667,600.001786 L457.329333,600.001786 C552.627632,600.001786 575.877216,587.027017 581.464617,581.464617 C587.039517,575.877216 600.001786,552.627632 600.001786,457.329333 Z M457.329333,0 C653.338333,0 700,46.6616668 700,242.658167 C700,438.667167 700,261.332833 700,457.329333 C700,653.338333 653.338333,700 457.329333,700 C261.332833,700 438.667167,700 242.670667,700 C46.6616668,700 0,653.338333 0,457.329333 C0,261.332833 0,352.118712 0,242.658167 C0,46.6616668 46.6616668,0 242.670667,0 C438.667167,0 261.332833,0 457.329333,0 Z M395.996667,200 C480.004166,200 500,220.008332 500,303.990835 C500,387.998334 500,312.001666 500,395.996667 C500,479.991668 480.004166,500 395.996667,500 C312.001666,500 387.998334,500 304.003333,500 C220.008332,500 200,479.991668 200,395.996667 C200,312.001666 200,350.906061 200,303.990835 C200,220.008332 220.008332,200 304.003333,200 C387.998334,200 312.001666,200 395.996667,200 Z"\n      />\n      <g id="vk_logo-'+r.suffix+'">\n        <path\n          fill="'+r.logoColor+'"\n          d="M83.3334 363.333C83.3334 231.34 83.3334 165.343 124.338 124.338C165.343 83.3333 231.34              83.3333 363.333 83.3333H386.667C518.66 83.3333 584.657 83.3333 625.662 124.338C666.667 165.343              666.667 231.34 666.667 363.333V386.667C666.667 518.66 666.667 584.657 625.662 625.662C584.657              666.667 518.66 666.667 386.667 666.667H363.333C231.34 666.667 165.343 666.667 124.338 625.662C83.3334              584.657 83.3334 518.66 83.3334 386.667V363.333Z"\n        />\n        <path\n          fill="#FFF"\n          d="M394.907 508.681C263.293 508.681 183.442 417.365 180.313 265.625H246.972C249.05 377.09              299.763 424.323 338.638 434.036V265.625H402.519V361.82C440.016 357.664 479.264 313.909              492.456 265.625H555.333C545.27 325 502.543 368.754 472.353 386.803C502.566 401.395 551.177              439.593 569.926 508.681H500.815C486.222 462.498 450.476 426.728 402.542 421.872V508.681H394.907Z"\n        />\n      </g>\n      <clipPath id="logo-mask-'+r.suffix+'">\n        <rect x="0" y="0" width="750" height="750" />\n      </clipPath>\n    </defs>\n\n    '+j+'\n\n    <g transform="'+W+'">\n      '+k.join("\n")+"\n    </g>\n  </svg>"},l=function(){function e(t,i,o,r){if(this.version=t,this.errorCorrectionLevel=i,this.mask=r,this.modules=[],this.isFunction=[],t<e.MIN_VERSION||t>e.MAX_VERSION)throw"Version value out of range";if(r<-1||r>7)throw"Mask value out of range";this.size=4*t+17;for(var n=[],a=0;a<this.size;a++)n.push(!1);for(a=0;a<this.size;a++)this.modules.push(n.slice()),this.isFunction.push(n.slice());this.drawFunctionPatterns();var s=this.addEccAndInterleave(o);if(this.drawCodewords(s),-1==r){var c=1e9;for(a=0;a<8;a++){this.applyMask(a),this.drawFormatBits(a);var l=this.getPenaltyScore();l<c&&(r=a,c=l),this.applyMask(a)}}if(r<0||r>7)throw"Assertion error";this.mask=r,this.applyMask(r),this.drawFormatBits(r),this.isFunction=[]}return e.encodeText=function(t,i){var o=u.makeSegments(t);return e.encodeSegments(o,i)},e.encodeBinary=function(t,i){var o=u.makeBytes(t);return e.encodeSegments([o],i)},e.encodeSegments=function(t,i,o,r,n,a){if(void 0===o&&(o=1),void 0===r&&(r=40),void 0===n&&(n=-1),void 0===a&&(a=!0),!(e.MIN_VERSION<=o&&o<=r&&r<=e.MAX_VERSION)||n<-1||n>7)throw"Invalid value";var s,c;for(s=o;;s++){var l=8*e.getNumDataCodewords(s,i),d=u.getTotalBits(t,s);if(d<=l){c=d;break}if(s>=r)throw"Data too long"}for(var _=0,m=[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH];_<m.length;_++){var g=m[_];a&&c<=8*e.getNumDataCodewords(s,g)&&(i=g)}for(var v=new p,f=0,y=t;f<y.length;f++){var E=y[f];v.appendBits(E.mode.modeBits,4),v.appendBits(E.numChars,E.mode.numCharCountBits(s));for(var A=0,S=E.getData();A<S.length;A++){var b=S[A];v.array.push(b)}}if(v.array.length!=c)throw"Assertion error";var T=8*e.getNumDataCodewords(s,i);if(v.array.length>T)throw"Assertion error";if(v.appendBits(0,Math.min(4,T-v.array.length)),v.appendBits(0,(8-v.array.length%8)%8),v.array.length%8!=0)throw"Assertion error";for(var I=236;v.array.length<T;I^=253)v.appendBits(I,8);for(var C=[];8*C.length<v.array.length;)C.push(0);return v.array.forEach((function(e,t){return C[t>>>3]|=e<<7-(7&t)})),new e(s,i,C,n)},e.prototype.getModule=function(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]},e.prototype.drawCanvas=function(e,t,i){if(e<=0||t<0)throw"Value out of range";var o=(this.size+2*t)*e;i.width=o,i.height=o;for(var r=i.getContext("2d"),n=-t;n<this.size+t;n++)for(var a=-t;a<this.size+t;a++)r.fillStyle=this.getModule(a,n)?"#000000":"#FFFFFF",r.fillRect((a+t)*e,(n+t)*e,e,e)},e.prototype.toSvgString=function(e){if(e<0)throw"Border must be non-negative";for(var t=[],i=0;i<this.size;i++)for(var o=0;o<this.size;o++)this.getModule(o,i)&&t.push("M"+(o+e)+","+(i+e)+"h1v1h-1z");return'<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+(this.size+2*e)+" "+(this.size+2*e)+'" stroke="none">\n\t<rect width="100%" height="100%" fill="#FFFFFF"/>\n\t<path d="'+t.join(" ")+'" fill="#000000"/>\n</svg>\n'},e.prototype.drawFunctionPatterns=function(){for(var e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2==0),this.setFunctionModule(e,6,e%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);var t=this.getAlignmentPatternPositions(),i=t.length;for(e=0;e<i;e++)for(var o=0;o<i;o++)0==e&&0==o||0==e&&o==i-1||e==i-1&&0==o||this.drawAlignmentPattern(t[e],t[o]);this.drawFormatBits(0),this.drawVersion()},e.prototype.drawFormatBits=function(e){for(var t=this.errorCorrectionLevel.formatBits<<3|e,i=t,o=0;o<10;o++)i=i<<1^1335*(i>>>9);var r=21522^(t<<10|i);if(r>>>15!=0)throw"Assertion error";for(o=0;o<=5;o++)this.setFunctionModule(8,o,d(r,o));for(this.setFunctionModule(8,7,d(r,6)),this.setFunctionModule(8,8,d(r,7)),this.setFunctionModule(7,8,d(r,8)),o=9;o<15;o++)this.setFunctionModule(14-o,8,d(r,o));for(o=0;o<8;o++)this.setFunctionModule(this.size-1-o,8,d(r,o));for(o=8;o<15;o++)this.setFunctionModule(8,this.size-15+o,d(r,o));this.setFunctionModule(8,this.size-8,!0)},e.prototype.drawVersion=function(){if(!(this.version<7)){for(var e=this.version,t=0;t<12;t++)e=e<<1^7973*(e>>>11);var i=this.version<<12|e;if(i>>>18!=0)throw"Assertion error";for(t=0;t<18;t++){var o=d(i,t),r=this.size-11+t%3,n=Math.floor(t/3);this.setFunctionModule(r,n,o),this.setFunctionModule(n,r,o)}}},e.prototype.drawFinderPattern=function(e,t){for(var i=-4;i<=4;i++)for(var o=-4;o<=4;o++){var r=Math.max(Math.abs(o),Math.abs(i)),n=e+o,a=t+i;0<=n&&n<this.size&&0<=a&&a<this.size&&this.setFunctionModule(n,a,2!=r&&4!=r)}},e.prototype.drawAlignmentPattern=function(e,t){for(var i=-2;i<=2;i++)for(var o=-2;o<=2;o++)this.setFunctionModule(e+o,t+i,1!=Math.max(Math.abs(o),Math.abs(i)))},e.prototype.setFunctionModule=function(e,t,i){this.modules[t][e]=i,this.isFunction[t][e]=!0},e.prototype.addEccAndInterleave=function(t){var i=this.version,o=this.errorCorrectionLevel;if(t.length!=e.getNumDataCodewords(i,o))throw"Invalid argument";for(var r=e.NUM_ERROR_CORRECTION_BLOCKS[o.ordinal][i],n=e.ECC_CODEWORDS_PER_BLOCK[o.ordinal][i],a=Math.floor(e.getNumRawDataModules(i)/8),s=r-a%r,c=Math.floor(a/r),l=[],d=new _(n),u=0,p=0;u<r;u++){var m=t.slice(p,p+c-n+(u<s?0:1));p+=m.length;var g=d.getRemainder(m);u<s&&m.push(0),l.push(m.concat(g))}var v=[];for(u=0;u<l[0].length;u++)for(var f=0;f<l.length;f++)(u!=c-n||f>=s)&&v.push(l[f][u]);if(v.length!=a)throw"Assertion error";return v},e.prototype.drawCodewords=function(t){if(t.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw"Invalid argument";for(var i=0,o=this.size-1;o>=1;o-=2){6==o&&(o=5);for(var r=0;r<this.size;r++)for(var n=0;n<2;n++){var a=o-n,s=o+1&2?r:this.size-1-r;!this.isFunction[s][a]&&i<8*t.length&&(this.modules[s][a]=d(t[i>>>3],7-(7&i)),i++)}}if(i!=8*t.length)throw"Assertion error"},e.prototype.applyMask=function(e){if(e<0||e>7)throw"Mask value out of range";for(var t=0;t<this.size;t++)for(var i=0;i<this.size;i++){var o=void 0;switch(e){case 0:o=(i+t)%2==0;break;case 1:o=t%2==0;break;case 2:o=i%3==0;break;case 3:o=(i+t)%3==0;break;case 4:o=(Math.floor(i/3)+Math.floor(t/2))%2==0;break;case 5:o=i*t%2+i*t%3==0;break;case 6:o=(i*t%2+i*t%3)%2==0;break;case 7:o=((i+t)%2+i*t%3)%2==0;break;default:throw"Assertion error"}!this.isFunction[t][i]&&o&&(this.modules[t][i]=!this.modules[t][i])}},e.prototype.getPenaltyScore=function(){for(var t=0,i=0;i<this.size;i++){for(var o=[0,0,0,0,0,0,0],r=!1,n=0,a=0;a<this.size;a++)this.modules[i][a]==r?5==++n?t+=e.PENALTY_N1:n>5&&t++:(e.addRunToHistory(n,o),!r&&e.hasFinderLikePattern(o)&&(t+=e.PENALTY_N3),r=this.modules[i][a],n=1);e.addRunToHistory(n,o),r&&e.addRunToHistory(0,o),e.hasFinderLikePattern(o)&&(t+=e.PENALTY_N3)}for(a=0;a<this.size;a++){o=[0,0,0,0,0,0,0],r=!1;var s=0;for(i=0;i<this.size;i++)this.modules[i][a]==r?5==++s?t+=e.PENALTY_N1:s>5&&t++:(e.addRunToHistory(s,o),!r&&e.hasFinderLikePattern(o)&&(t+=e.PENALTY_N3),r=this.modules[i][a],s=1);e.addRunToHistory(s,o),r&&e.addRunToHistory(0,o),e.hasFinderLikePattern(o)&&(t+=e.PENALTY_N3)}for(i=0;i<this.size-1;i++)for(a=0;a<this.size-1;a++)(r=this.modules[i][a])==this.modules[i][a+1]&&r==this.modules[i+1][a]&&r==this.modules[i+1][a+1]&&(t+=e.PENALTY_N2);for(var c=0,l=0,d=this.modules;l<d.length;l++)for(var u=0,_=d[l];u<_.length;u++)(r=_[u])&&c++;var p=this.size*this.size;return t+=(Math.ceil(Math.abs(20*c-10*p)/p)-1)*e.PENALTY_N4},e.prototype.getAlignmentPatternPositions=function(){if(1==this.version)return[];for(var e=Math.floor(this.version/7)+2,t=32==this.version?26:2*Math.ceil((this.size-13)/(2*e-2)),i=[6],o=this.size-7;i.length<e;o-=t)i.splice(1,0,o);return i},e.getNumRawDataModules=function(t){if(t<e.MIN_VERSION||t>e.MAX_VERSION)throw"Version number out of range";var i=(16*t+128)*t+64;if(t>=2){var o=Math.floor(t/7)+2;i-=(25*o-10)*o-55,t>=7&&(i-=36)}return i},e.getNumDataCodewords=function(t,i){return Math.floor(e.getNumRawDataModules(t)/8)-e.ECC_CODEWORDS_PER_BLOCK[i.ordinal][t]*e.NUM_ERROR_CORRECTION_BLOCKS[i.ordinal][t]},e.addRunToHistory=function(e,t){t.pop(),t.unshift(e)},e.hasFinderLikePattern=function(e){var t=e[1];return t>0&&e[2]==t&&e[4]==t&&e[5]==t&&e[3]==3*t&&Math.max(e[0],e[6])>=4*t},e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e}();function d(e,t){return!!(e>>>t&1)}var u=function(){function e(e,t,i){if(this.mode=e,this.numChars=t,this.bitData=i,t<0)throw"Invalid argument";this.bitData=i.slice()}return e.makeBytes=function(t){for(var i=new p,o=0,r=t;o<r.length;o++){var n=r[o];i.appendBits(n,8)}return new e(e.Mode.BYTE,t.length,i.array)},e.makeNumeric=function(t){if(!this.NUMERIC_REGEX.test(t))throw"String contains non-numeric characters";for(var i=new p,o=0;o<t.length;){var r=Math.min(t.length-o,3);i.appendBits(parseInt(t.substr(o,r),10),3*r+1),o+=r}return new e(e.Mode.NUMERIC,t.length,i.array)},e.makeAlphanumeric=function(t){if(!this.ALPHANUMERIC_REGEX.test(t))throw"String contains unencodable characters in alphanumeric mode";var i,o=new p;for(i=0;i+2<=t.length;i+=2){var r=45*e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(i));r+=e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(i+1)),o.appendBits(r,11)}return i<t.length&&o.appendBits(e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(i)),6),new e(e.Mode.ALPHANUMERIC,t.length,o.array)},e.makeSegments=function(t){return""==t?[]:this.NUMERIC_REGEX.test(t)?[e.makeNumeric(t)]:this.ALPHANUMERIC_REGEX.test(t)?[e.makeAlphanumeric(t)]:[e.makeBytes(e.toUtf8ByteArray(t))]},e.makeEci=function(t){var i=new p;if(t<0)throw"ECI assignment value out of range";if(t<128)i.appendBits(t,8);else if(t<16384)i.appendBits(2,2),i.appendBits(t,14);else{if(!(t<1e6))throw"ECI assignment value out of range";i.appendBits(6,3),i.appendBits(t,21)}return new e(e.Mode.ECI,0,i.array)},e.prototype.getData=function(){return this.bitData.slice()},e.getTotalBits=function(e,t){for(var i=0,o=0,r=e;o<r.length;o++){var n=r[o],a=n.mode.numCharCountBits(t);if(n.numChars>=1<<a)return 1/0;i+=4+a+n.bitData.length}return i},e.toUtf8ByteArray=function(e){e=encodeURI(e);for(var t=[],i=0;i<e.length;i++)"%"!=e.charAt(i)?t.push(e.charCodeAt(i)):(t.push(parseInt(e.substr(i+1,2),16)),i+=2);return t},e.NUMERIC_REGEX=/^[0-9]*$/,e.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,e.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e}(),_=function(){function e(t){if(this.coefficients=[],t<1||t>255)throw"Degree out of range";for(var i=this.coefficients,o=0;o<t-1;o++)i.push(0);i.push(1);var r=1;for(o=0;o<t;o++){for(var n=0;n<i.length;n++)i[n]=e.multiply(i[n],r),n+1<i.length&&(i[n]^=i[n+1]);r=e.multiply(r,2)}}return e.prototype.getRemainder=function(t){for(var i=this.coefficients.map((function(e){return 0})),o=function(t){var o=t^i.shift();i.push(0),r.coefficients.forEach((function(t,r){return i[r]^=e.multiply(t,o)}))},r=this,n=0,a=t;n<a.length;n++)o(a[n]);return i},e.multiply=function(e,t){if(e>>>8!=0||t>>>8!=0)throw"Byte out of range";for(var i=0,o=7;o>=0;o--)i=i<<1^285*(i>>>7),i^=(t>>>o&1)*e;if(i>>>8!=0)throw"Assertion error";return i},e}(),p=function(){function e(){this.array=[]}return e.prototype.appendBits=function(e,t){if(t<0||t>31||e>>>t!=0)throw"Value out of range";for(var i=t-1;i>=0;i--)this.array.push(e>>>i&1)},e}();(function(e){var t=function(){function e(e,t){this.ordinal=e,this.formatBits=t}return e.LOW=new e(0,1),e.MEDIUM=new e(1,0),e.QUARTILE=new e(2,3),e.HIGH=new e(3,2),e}();e.Ecc=t})(l||(l={})),function(e){var t=function(){function e(e,t){this.modeBits=e,this.numBitsCharCount=t}return e.prototype.numCharCountBits=function(e){return this.numBitsCharCount[Math.floor((e+7)/17)]},e.NUMERIC=new e(1,[10,12,14]),e.ALPHANUMERIC=new e(2,[9,11,13]),e.BYTE=new e(4,[8,16,16]),e.KANJI=new e(8,[8,10,12]),e.ECI=new e(7,[0,0,0]),e}();e.Mode=t}(u||(u={}));var m=128,g="#ffffff",v="#000000",f="#07f";function y(t,i,o,n){if("string"!=typeof t)throw new TypeError("Enter text for encoding");var a=e(e(e({},"object"==typeof i&&null!==i?i:{}),"object"==typeof n&&null!==n?n:{}),{qrSize:"object"==typeof i&&null!==i&&"number"==typeof i.qrSize?i.qrSize:i,className:"object"==typeof i&&null!==i&&"string"==typeof i.className?i.className:o}),s=[l.Ecc.LOW,l.Ecc.MEDIUM,l.Ecc.QUARTILE,l.Ecc.HIGH],d={qrSize:"number"==typeof a.qrSize?a.qrSize:m,className:"string"==typeof a.className?a.className:o||"",isShowLogo:!!a.isShowLogo||!1,isShowBackground:!!a.isShowBackground||!1,foregroundColor:"string"==typeof a.foregroundColor?a.foregroundColor:v,backgroundColor:"string"==typeof a.backgroundColor?a.backgroundColor:g,logoColor:"string"==typeof a.logoColor?a.logoColor:f,suffix:a.suffix?a.suffix.toString():"0",logoData:"string"==typeof a.logoData?a.logoData:null,ecc:"number"==typeof a.ecc&&s[a.ecc]?a.ecc:3,incTileSize:"number"==typeof a.incTileSize?a.incTileSize:r},_=u.makeSegments(t),p=l.encodeSegments(_,s[d.ecc],1,40,-1,!0);return c(p,d)}return{createQR:y}}()},377803:(e,t)=>{"use strict";t.default={themeName:{name:"--vkui--theme_name",value:"var(--vkui--theme_name, vkBase)"},themeNameBase:{name:"--vkui--theme_name_base",value:"var(--vkui--theme_name_base, vkBase)"},gradientBlack:{name:"--vkui--gradient_black",value:"var(--vkui--gradient_black, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.02) 15%, rgba(0, 0, 0, 0.08) 30%, rgba(0, 0, 0, 0.32) 70%, rgba(0, 0, 0, 0.38) 85%, rgba(0, 0, 0, 0.4) 100%)"},gradientWhite:{name:"--vkui--gradient_white",value:"var(--vkui--gradient_white, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.05) 15%, rgba(255, 255, 255, 0.2) 30%, rgba(255, 255, 255, 0.8) 70%, rgba(255, 255, 255, 0.95) 85%, rgba(255, 255, 255, 1) 100%)"},gradientTint:{name:"--vkui--gradient_tint",value:"var(--vkui--gradient_tint, rgba(249, 249, 249, 0) 0%, rgba(249, 249, 249, 0.05) 15%, rgba(249, 249, 249, 0.2) 30%, rgba(249, 249, 249, 0.8) 70%, rgba(249, 249, 249, 0.95) 85%, rgba(249, 249, 249, 1) 100%)"},gradient:{name:"--vkui--gradient",value:"var(--vkui--gradient, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.05) 15%, rgba(255, 255, 255, 0.2) 30%, rgba(255, 255, 255, 0.8) 70%, rgba(255, 255, 255, 0.95) 85%, rgba(255, 255, 255, 1) 100%)"},elevation1:{name:"--vkui--elevation1",value:"var(--vkui--elevation1, 0px 0px 2px rgba(0, 0, 0, 0.03), 0px 2px 2px rgba(0, 0, 0, 0.06))"},elevation1InvertY:{name:"--vkui--elevation1_invert_y",value:"var(--vkui--elevation1_invert_y, 0px 0px 2px rgba(0, 0, 0, 0.03), 0px -2px 2px rgba(0, 0, 0, 0.06))"},elevation2:{name:"--vkui--elevation2",value:"var(--vkui--elevation2, 0px 4px 8px rgba(0, 0, 0, 0.04), 0px 0px 4px rgba(0, 0, 0, 0.06))"},elevation3:{name:"--vkui--elevation3",value:"var(--vkui--elevation3, 0px 0px 2px rgba(0, 0, 0, 0.08), 0px 4px 16px rgba(0, 0, 0, 0.08))"},elevation4:{name:"--vkui--elevation4",value:"var(--vkui--elevation4, 0px 0px 8px rgba(0, 0, 0, 0.12), 0px 16px 16px rgba(0, 0, 0, 0.16))"},fontFamilyFallbacks:{name:"--vkui--font_family_fallbacks",value:'var(--vkui--font_family_fallbacks, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontFamilyAccent:{name:"--vkui--font_family_accent",value:'var(--vkui--font_family_accent, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontFamilyBase:{name:"--vkui--font_family_base",value:'var(--vkui--font_family_base, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeightAccent1:{name:"--vkui--font_weight_accent1",value:"var(--vkui--font_weight_accent1, 600)"},fontWeightAccent2:{name:"--vkui--font_weight_accent2",value:"var(--vkui--font_weight_accent2, 500)"},fontWeightAccent3:{name:"--vkui--font_weight_accent3",value:"var(--vkui--font_weight_accent3, 400)"},fontWeightBase1:{name:"--vkui--font_weight_base1",value:"var(--vkui--font_weight_base1, 600)"},fontWeightBase2:{name:"--vkui--font_weight_base2",value:"var(--vkui--font_weight_base2, 500)"},fontWeightBase3:{name:"--vkui--font_weight_base3",value:"var(--vkui--font_weight_base3, 400)"},fontDisplayTitle1:{auto:{fontSize:{name:"--vkui--font_display_title1--font_size",value:"var(--vkui--font_display_title1--font_size)"},lineHeight:{name:"--vkui--font_display_title1--line_height",value:"var(--vkui--font_display_title1--line_height)"},fontFamily:{name:"--vkui--font_display_title1--font_family",value:"var(--vkui--font_display_title1--font_family)"},fontWeight:{name:"--vkui--font_display_title1--font_weight",value:"var(--vkui--font_display_title1--font_weight)"}},regular:{fontSize:{name:"--vkui--font_display_title1--font_size--regular",value:"var(--vkui--font_display_title1--font_size--regular, 23px)"},lineHeight:{name:"--vkui--font_display_title1--line_height--regular",value:"var(--vkui--font_display_title1--line_height--regular, 28px)"},fontFamily:{name:"--vkui--font_display_title1--font_family--regular",value:'var(--vkui--font_display_title1--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_display_title1--font_weight--regular",value:"var(--vkui--font_display_title1--font_weight--regular, 600)"}}},fontDisplayTitle2:{auto:{fontSize:{name:"--vkui--font_display_title2--font_size",value:"var(--vkui--font_display_title2--font_size)"},lineHeight:{name:"--vkui--font_display_title2--line_height",value:"var(--vkui--font_display_title2--line_height)"},fontFamily:{name:"--vkui--font_display_title2--font_family",value:"var(--vkui--font_display_title2--font_family)"},fontWeight:{name:"--vkui--font_display_title2--font_weight",value:"var(--vkui--font_display_title2--font_weight)"}},regular:{fontSize:{name:"--vkui--font_display_title2--font_size--regular",value:"var(--vkui--font_display_title2--font_size--regular, 21px)"},lineHeight:{name:"--vkui--font_display_title2--line_height--regular",value:"var(--vkui--font_display_title2--line_height--regular, 26px)"},fontFamily:{name:"--vkui--font_display_title2--font_family--regular",value:'var(--vkui--font_display_title2--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_display_title2--font_weight--regular",value:"var(--vkui--font_display_title2--font_weight--regular, 600)"}},compact:{fontSize:{name:"--vkui--font_display_title2--font_size--compact",value:"var(--vkui--font_display_title2--font_size--compact, 22px)"},lineHeight:{name:"--vkui--font_display_title2--line_height--compact",value:"var(--vkui--font_display_title2--line_height--compact, 24px)"},fontFamily:{name:"--vkui--font_display_title2--font_family--compact",value:'var(--vkui--font_display_title2--font_family--compact, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_display_title2--font_weight--compact",value:"var(--vkui--font_display_title2--font_weight--compact, 600)"}}},fontDisplayTitle3:{auto:{fontSize:{name:"--vkui--font_display_title3--font_size",value:"var(--vkui--font_display_title3--font_size)"},lineHeight:{name:"--vkui--font_display_title3--line_height",value:"var(--vkui--font_display_title3--line_height)"},fontFamily:{name:"--vkui--font_display_title3--font_family",value:"var(--vkui--font_display_title3--font_family)"},fontWeight:{name:"--vkui--font_display_title3--font_weight",value:"var(--vkui--font_display_title3--font_weight)"}},regular:{fontSize:{name:"--vkui--font_display_title3--font_size--regular",value:"var(--vkui--font_display_title3--font_size--regular, 19px)"},lineHeight:{name:"--vkui--font_display_title3--line_height--regular",value:"var(--vkui--font_display_title3--line_height--regular, 24px)"},fontFamily:{name:"--vkui--font_display_title3--font_family--regular",value:'var(--vkui--font_display_title3--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_display_title3--font_weight--regular",value:"var(--vkui--font_display_title3--font_weight--regular, 600)"}}},fontDisplayTitle4:{auto:{fontSize:{name:"--vkui--font_display_title4--font_size",value:"var(--vkui--font_display_title4--font_size)"},lineHeight:{name:"--vkui--font_display_title4--line_height",value:"var(--vkui--font_display_title4--line_height)"},fontFamily:{name:"--vkui--font_display_title4--font_family",value:"var(--vkui--font_display_title4--font_family)"},fontWeight:{name:"--vkui--font_display_title4--font_weight",value:"var(--vkui--font_display_title4--font_weight)"}},regular:{fontSize:{name:"--vkui--font_display_title4--font_size--regular",value:"var(--vkui--font_display_title4--font_size--regular, 17px)"},lineHeight:{name:"--vkui--font_display_title4--line_height--regular",value:"var(--vkui--font_display_title4--line_height--regular, 22px)"},fontFamily:{name:"--vkui--font_display_title4--font_family--regular",value:'var(--vkui--font_display_title4--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_display_title4--font_weight--regular",value:"var(--vkui--font_display_title4--font_weight--regular, 600)"}}},fontTitle1:{auto:{fontSize:{name:"--vkui--font_title1--font_size",value:"var(--vkui--font_title1--font_size)"},lineHeight:{name:"--vkui--font_title1--line_height",value:"var(--vkui--font_title1--line_height)"},fontFamily:{name:"--vkui--font_title1--font_family",value:"var(--vkui--font_title1--font_family)"},fontWeight:{name:"--vkui--font_title1--font_weight",value:"var(--vkui--font_title1--font_weight)"}},regular:{fontSize:{name:"--vkui--font_title1--font_size--regular",value:"var(--vkui--font_title1--font_size--regular, 24px)"},lineHeight:{name:"--vkui--font_title1--line_height--regular",value:"var(--vkui--font_title1--line_height--regular, 28px)"},fontFamily:{name:"--vkui--font_title1--font_family--regular",value:'var(--vkui--font_title1--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_title1--font_weight--regular",value:"var(--vkui--font_title1--font_weight--regular, 600)"}}},fontTitle2:{auto:{fontSize:{name:"--vkui--font_title2--font_size",value:"var(--vkui--font_title2--font_size)"},lineHeight:{name:"--vkui--font_title2--line_height",value:"var(--vkui--font_title2--line_height)"},fontFamily:{name:"--vkui--font_title2--font_family",value:"var(--vkui--font_title2--font_family)"},fontWeight:{name:"--vkui--font_title2--font_weight",value:"var(--vkui--font_title2--font_weight)"}},regular:{fontSize:{name:"--vkui--font_title2--font_size--regular",value:"var(--vkui--font_title2--font_size--regular, 20px)"},lineHeight:{name:"--vkui--font_title2--line_height--regular",value:"var(--vkui--font_title2--line_height--regular, 24px)"},fontFamily:{name:"--vkui--font_title2--font_family--regular",value:'var(--vkui--font_title2--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_title2--font_weight--regular",value:"var(--vkui--font_title2--font_weight--regular, 600)"}}},fontTitle3:{auto:{fontSize:{name:"--vkui--font_title3--font_size",value:"var(--vkui--font_title3--font_size)"},lineHeight:{name:"--vkui--font_title3--line_height",value:"var(--vkui--font_title3--line_height)"},fontFamily:{name:"--vkui--font_title3--font_family",value:"var(--vkui--font_title3--font_family)"},fontWeight:{name:"--vkui--font_title3--font_weight",value:"var(--vkui--font_title3--font_weight)"}},regular:{fontSize:{name:"--vkui--font_title3--font_size--regular",value:"var(--vkui--font_title3--font_size--regular, 17px)"},lineHeight:{name:"--vkui--font_title3--line_height--regular",value:"var(--vkui--font_title3--line_height--regular, 22px)"},fontFamily:{name:"--vkui--font_title3--font_family--regular",value:'var(--vkui--font_title3--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_title3--font_weight--regular",value:"var(--vkui--font_title3--font_weight--regular, 600)"}}},fontHeadline1:{auto:{fontSize:{name:"--vkui--font_headline1--font_size",value:"var(--vkui--font_headline1--font_size)"},lineHeight:{name:"--vkui--font_headline1--line_height",value:"var(--vkui--font_headline1--line_height)"},fontFamily:{name:"--vkui--font_headline1--font_family",value:"var(--vkui--font_headline1--font_family)"},fontWeight:{name:"--vkui--font_headline1--font_weight",value:"var(--vkui--font_headline1--font_weight)"}},regular:{fontSize:{name:"--vkui--font_headline1--font_size--regular",value:"var(--vkui--font_headline1--font_size--regular, 16px)"},lineHeight:{name:"--vkui--font_headline1--line_height--regular",value:"var(--vkui--font_headline1--line_height--regular, 20px)"},fontFamily:{name:"--vkui--font_headline1--font_family--regular",value:'var(--vkui--font_headline1--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_headline1--font_weight--regular",value:"var(--vkui--font_headline1--font_weight--regular, 500)"}},compact:{fontSize:{name:"--vkui--font_headline1--font_size--compact",value:"var(--vkui--font_headline1--font_size--compact, 15px)"},lineHeight:{name:"--vkui--font_headline1--line_height--compact",value:"var(--vkui--font_headline1--line_height--compact, 20px)"}}},fontHeadline2:{auto:{fontSize:{name:"--vkui--font_headline2--font_size",value:"var(--vkui--font_headline2--font_size)"},lineHeight:{name:"--vkui--font_headline2--line_height",value:"var(--vkui--font_headline2--line_height)"},fontFamily:{name:"--vkui--font_headline2--font_family",value:"var(--vkui--font_headline2--font_family)"},fontWeight:{name:"--vkui--font_headline2--font_weight",value:"var(--vkui--font_headline2--font_weight)"}},regular:{fontSize:{name:"--vkui--font_headline2--font_size--regular",value:"var(--vkui--font_headline2--font_size--regular, 15px)"},lineHeight:{name:"--vkui--font_headline2--line_height--regular",value:"var(--vkui--font_headline2--line_height--regular, 20px)"},fontFamily:{name:"--vkui--font_headline2--font_family--regular",value:'var(--vkui--font_headline2--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_headline2--font_weight--regular",value:"var(--vkui--font_headline2--font_weight--regular, 500)"}},compact:{fontSize:{name:"--vkui--font_headline2--font_size--compact",value:"var(--vkui--font_headline2--font_size--compact, 14px)"},lineHeight:{name:"--vkui--font_headline2--line_height--compact",value:"var(--vkui--font_headline2--line_height--compact, 20px)"}}},fontText:{auto:{fontSize:{name:"--vkui--font_text--font_size",value:"var(--vkui--font_text--font_size)"},lineHeight:{name:"--vkui--font_text--line_height",value:"var(--vkui--font_text--line_height)"},fontFamily:{name:"--vkui--font_text--font_family",value:"var(--vkui--font_text--font_family)"},fontWeight:{name:"--vkui--font_text--font_weight",value:"var(--vkui--font_text--font_weight)"}},regular:{fontSize:{name:"--vkui--font_text--font_size--regular",value:"var(--vkui--font_text--font_size--regular, 16px)"},lineHeight:{name:"--vkui--font_text--line_height--regular",value:"var(--vkui--font_text--line_height--regular, 20px)"},fontFamily:{name:"--vkui--font_text--font_family--regular",value:'var(--vkui--font_text--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_text--font_weight--regular",value:"var(--vkui--font_text--font_weight--regular, 400)"}},compact:{fontSize:{name:"--vkui--font_text--font_size--compact",value:"var(--vkui--font_text--font_size--compact, 15px)"},lineHeight:{name:"--vkui--font_text--line_height--compact",value:"var(--vkui--font_text--line_height--compact, 20px)"}}},fontParagraph:{auto:{fontSize:{name:"--vkui--font_paragraph--font_size",value:"var(--vkui--font_paragraph--font_size)"},lineHeight:{name:"--vkui--font_paragraph--line_height",value:"var(--vkui--font_paragraph--line_height)"},fontFamily:{name:"--vkui--font_paragraph--font_family",value:"var(--vkui--font_paragraph--font_family)"},fontWeight:{name:"--vkui--font_paragraph--font_weight",value:"var(--vkui--font_paragraph--font_weight)"}},regular:{fontSize:{name:"--vkui--font_paragraph--font_size--regular",value:"var(--vkui--font_paragraph--font_size--regular, 15px)"},lineHeight:{name:"--vkui--font_paragraph--line_height--regular",value:"var(--vkui--font_paragraph--line_height--regular, 20px)"},fontFamily:{name:"--vkui--font_paragraph--font_family--regular",value:'var(--vkui--font_paragraph--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_paragraph--font_weight--regular",value:"var(--vkui--font_paragraph--font_weight--regular, 400)"}}},fontSubhead:{auto:{fontSize:{name:"--vkui--font_subhead--font_size",value:"var(--vkui--font_subhead--font_size)"},lineHeight:{name:"--vkui--font_subhead--line_height",value:"var(--vkui--font_subhead--line_height)"},fontFamily:{name:"--vkui--font_subhead--font_family",value:"var(--vkui--font_subhead--font_family)"},fontWeight:{name:"--vkui--font_subhead--font_weight",value:"var(--vkui--font_subhead--font_weight)"}},regular:{fontSize:{name:"--vkui--font_subhead--font_size--regular",value:"var(--vkui--font_subhead--font_size--regular, 14px)"},lineHeight:{name:"--vkui--font_subhead--line_height--regular",value:"var(--vkui--font_subhead--line_height--regular, 18px)"},fontFamily:{name:"--vkui--font_subhead--font_family--regular",value:'var(--vkui--font_subhead--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_subhead--font_weight--regular",value:"var(--vkui--font_subhead--font_weight--regular, 400)"}},compact:{fontSize:{name:"--vkui--font_subhead--font_size--compact",value:"var(--vkui--font_subhead--font_size--compact, 13px)"},lineHeight:{name:"--vkui--font_subhead--line_height--compact",value:"var(--vkui--font_subhead--line_height--compact, 16px)"}}},fontFootnote:{auto:{fontSize:{name:"--vkui--font_footnote--font_size",value:"var(--vkui--font_footnote--font_size)"},lineHeight:{name:"--vkui--font_footnote--line_height",value:"var(--vkui--font_footnote--line_height)"},fontFamily:{name:"--vkui--font_footnote--font_family",value:"var(--vkui--font_footnote--font_family)"},fontWeight:{name:"--vkui--font_footnote--font_weight",value:"var(--vkui--font_footnote--font_weight)"}},regular:{fontSize:{name:"--vkui--font_footnote--font_size--regular",value:"var(--vkui--font_footnote--font_size--regular, 13px)"},lineHeight:{name:"--vkui--font_footnote--line_height--regular",value:"var(--vkui--font_footnote--line_height--regular, 16px)"},fontFamily:{name:"--vkui--font_footnote--font_family--regular",value:'var(--vkui--font_footnote--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_footnote--font_weight--regular",value:"var(--vkui--font_footnote--font_weight--regular, 400)"}}},fontFootnoteCaps:{auto:{fontSize:{name:"--vkui--font_footnote_caps--font_size",value:"var(--vkui--font_footnote_caps--font_size)"},lineHeight:{name:"--vkui--font_footnote_caps--line_height",value:"var(--vkui--font_footnote_caps--line_height)"},fontFamily:{name:"--vkui--font_footnote_caps--font_family",value:"var(--vkui--font_footnote_caps--font_family)"},fontWeight:{name:"--vkui--font_footnote_caps--font_weight",value:"var(--vkui--font_footnote_caps--font_weight)"},textTransform:{name:"--vkui--font_footnote_caps--text_transform",value:"var(--vkui--font_footnote_caps--text_transform)"}},regular:{fontSize:{name:"--vkui--font_footnote_caps--font_size--regular",value:"var(--vkui--font_footnote_caps--font_size--regular, 13px)"},lineHeight:{name:"--vkui--font_footnote_caps--line_height--regular",value:"var(--vkui--font_footnote_caps--line_height--regular, 16px)"},fontFamily:{name:"--vkui--font_footnote_caps--font_family--regular",value:'var(--vkui--font_footnote_caps--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_footnote_caps--font_weight--regular",value:"var(--vkui--font_footnote_caps--font_weight--regular, 400)"},textTransform:{name:"--vkui--font_footnote_caps--text_transform--regular",value:"var(--vkui--font_footnote_caps--text_transform--regular, uppercase)"}}},fontCaption1:{auto:{fontSize:{name:"--vkui--font_caption1--font_size",value:"var(--vkui--font_caption1--font_size)"},lineHeight:{name:"--vkui--font_caption1--line_height",value:"var(--vkui--font_caption1--line_height)"},fontFamily:{name:"--vkui--font_caption1--font_family",value:"var(--vkui--font_caption1--font_family)"},fontWeight:{name:"--vkui--font_caption1--font_weight",value:"var(--vkui--font_caption1--font_weight)"}},regular:{fontSize:{name:"--vkui--font_caption1--font_size--regular",value:"var(--vkui--font_caption1--font_size--regular, 12px)"},lineHeight:{name:"--vkui--font_caption1--line_height--regular",value:"var(--vkui--font_caption1--line_height--regular, 14px)"},fontFamily:{name:"--vkui--font_caption1--font_family--regular",value:'var(--vkui--font_caption1--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_caption1--font_weight--regular",value:"var(--vkui--font_caption1--font_weight--regular, 400)"}}},fontCaption1Caps:{auto:{fontSize:{name:"--vkui--font_caption1_caps--font_size",value:"var(--vkui--font_caption1_caps--font_size)"},lineHeight:{name:"--vkui--font_caption1_caps--line_height",value:"var(--vkui--font_caption1_caps--line_height)"},fontFamily:{name:"--vkui--font_caption1_caps--font_family",value:"var(--vkui--font_caption1_caps--font_family)"},fontWeight:{name:"--vkui--font_caption1_caps--font_weight",value:"var(--vkui--font_caption1_caps--font_weight)"},textTransform:{name:"--vkui--font_caption1_caps--text_transform",value:"var(--vkui--font_caption1_caps--text_transform)"}},regular:{fontSize:{name:"--vkui--font_caption1_caps--font_size--regular",value:"var(--vkui--font_caption1_caps--font_size--regular, 12px)"},lineHeight:{name:"--vkui--font_caption1_caps--line_height--regular",value:"var(--vkui--font_caption1_caps--line_height--regular, 14px)"},fontFamily:{name:"--vkui--font_caption1_caps--font_family--regular",value:'var(--vkui--font_caption1_caps--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_caption1_caps--font_weight--regular",value:"var(--vkui--font_caption1_caps--font_weight--regular, 600)"},textTransform:{name:"--vkui--font_caption1_caps--text_transform--regular",value:"var(--vkui--font_caption1_caps--text_transform--regular, uppercase)"}}},fontCaption2:{auto:{fontSize:{name:"--vkui--font_caption2--font_size",value:"var(--vkui--font_caption2--font_size)"},lineHeight:{name:"--vkui--font_caption2--line_height",value:"var(--vkui--font_caption2--line_height)"},fontFamily:{name:"--vkui--font_caption2--font_family",value:"var(--vkui--font_caption2--font_family)"},fontWeight:{name:"--vkui--font_caption2--font_weight",value:"var(--vkui--font_caption2--font_weight)"}},regular:{fontSize:{name:"--vkui--font_caption2--font_size--regular",value:"var(--vkui--font_caption2--font_size--regular, 11px)"},lineHeight:{name:"--vkui--font_caption2--line_height--regular",value:"var(--vkui--font_caption2--line_height--regular, 14px)"},fontFamily:{name:"--vkui--font_caption2--font_family--regular",value:'var(--vkui--font_caption2--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_caption2--font_weight--regular",value:"var(--vkui--font_caption2--font_weight--regular, 400)"}}},fontCaption2Caps:{auto:{fontSize:{name:"--vkui--font_caption2_caps--font_size",value:"var(--vkui--font_caption2_caps--font_size)"},lineHeight:{name:"--vkui--font_caption2_caps--line_height",value:"var(--vkui--font_caption2_caps--line_height)"},fontFamily:{name:"--vkui--font_caption2_caps--font_family",value:"var(--vkui--font_caption2_caps--font_family)"},fontWeight:{name:"--vkui--font_caption2_caps--font_weight",value:"var(--vkui--font_caption2_caps--font_weight)"},textTransform:{name:"--vkui--font_caption2_caps--text_transform",value:"var(--vkui--font_caption2_caps--text_transform)"}},regular:{fontSize:{name:"--vkui--font_caption2_caps--font_size--regular",value:"var(--vkui--font_caption2_caps--font_size--regular, 11px)"},lineHeight:{name:"--vkui--font_caption2_caps--line_height--regular",value:"var(--vkui--font_caption2_caps--line_height--regular, 14px)"},fontFamily:{name:"--vkui--font_caption2_caps--font_family--regular",value:'var(--vkui--font_caption2_caps--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_caption2_caps--font_weight--regular",value:"var(--vkui--font_caption2_caps--font_weight--regular, 600)"},textTransform:{name:"--vkui--font_caption2_caps--text_transform--regular",value:"var(--vkui--font_caption2_caps--text_transform--regular, uppercase)"}}},fontCaption3:{auto:{fontSize:{name:"--vkui--font_caption3--font_size",value:"var(--vkui--font_caption3--font_size)"},lineHeight:{name:"--vkui--font_caption3--line_height",value:"var(--vkui--font_caption3--line_height)"},fontFamily:{name:"--vkui--font_caption3--font_family",value:"var(--vkui--font_caption3--font_family)"},fontWeight:{name:"--vkui--font_caption3--font_weight",value:"var(--vkui--font_caption3--font_weight)"}},regular:{fontSize:{name:"--vkui--font_caption3--font_size--regular",value:"var(--vkui--font_caption3--font_size--regular, 9px)"},lineHeight:{name:"--vkui--font_caption3--line_height--regular",value:"var(--vkui--font_caption3--line_height--regular, 12px)"},fontFamily:{name:"--vkui--font_caption3--font_family--regular",value:'var(--vkui--font_caption3--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_caption3--font_weight--regular",value:"var(--vkui--font_caption3--font_weight--regular, 400)"}}},fontCaption3Caps:{auto:{fontSize:{name:"--vkui--font_caption3_caps--font_size",value:"var(--vkui--font_caption3_caps--font_size)"},lineHeight:{name:"--vkui--font_caption3_caps--line_height",value:"var(--vkui--font_caption3_caps--line_height)"},fontFamily:{name:"--vkui--font_caption3_caps--font_family",value:"var(--vkui--font_caption3_caps--font_family)"},fontWeight:{name:"--vkui--font_caption3_caps--font_weight",value:"var(--vkui--font_caption3_caps--font_weight)"},textTransform:{name:"--vkui--font_caption3_caps--text_transform",value:"var(--vkui--font_caption3_caps--text_transform)"}},regular:{fontSize:{name:"--vkui--font_caption3_caps--font_size--regular",value:"var(--vkui--font_caption3_caps--font_size--regular, 9px)"},lineHeight:{name:"--vkui--font_caption3_caps--line_height--regular",value:"var(--vkui--font_caption3_caps--line_height--regular, 12px)"},fontFamily:{name:"--vkui--font_caption3_caps--font_family--regular",value:'var(--vkui--font_caption3_caps--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_caption3_caps--font_weight--regular",value:"var(--vkui--font_caption3_caps--font_weight--regular, 600)"},textTransform:{name:"--vkui--font_caption3_caps--text_transform--regular",value:"var(--vkui--font_caption3_caps--text_transform--regular, uppercase)"}}},sizeSelectIconPadding:{auto:{name:"--vkui--size_select_icon_padding",value:"var(--vkui--size_select_icon_padding)"},regular:{name:"--vkui--size_select_icon_padding--regular",value:"var(--vkui--size_select_icon_padding--regular, 6px)"},compact:{name:"--vkui--size_select_icon_padding--compact",value:"var(--vkui--size_select_icon_padding--compact, 7px)"}},sizePopupBasePadding:{auto:{name:"--vkui--size_popup_base_padding",value:"var(--vkui--size_popup_base_padding)"},regular:{name:"--vkui--size_popup_base_padding--regular",value:"var(--vkui--size_popup_base_padding--regular, 32px)"},compact:{name:"--vkui--size_popup_base_padding--compact",value:"var(--vkui--size_popup_base_padding--compact, 20px)"}},sizePopupHeaderPadding:{auto:{name:"--vkui--size_popup_header_padding",value:"var(--vkui--size_popup_header_padding)"},regular:{name:"--vkui--size_popup_header_padding--regular",value:"var(--vkui--size_popup_header_padding--regular, 24px)"},compact:{name:"--vkui--size_popup_header_padding--compact",value:"var(--vkui--size_popup_header_padding--compact, 16px)"}},sizeLabelHorizontalMargin:{auto:{name:"--vkui--size_label_horizontal_margin",value:"var(--vkui--size_label_horizontal_margin)"},regular:{name:"--vkui--size_label_horizontal_margin--regular",value:"var(--vkui--size_label_horizontal_margin--regular, 16px)"}},sizeBorderRadius:{auto:{name:"--vkui--size_border_radius",value:"var(--vkui--size_border_radius)"},regular:{name:"--vkui--size_border_radius--regular",value:"var(--vkui--size_border_radius--regular, 8px)"}},sizeBorderRadiusRounded:{auto:{name:"--vkui--size_border_radius_rounded",value:"var(--vkui--size_border_radius_rounded)"},regular:{name:"--vkui--size_border_radius_rounded--regular",value:"var(--vkui--size_border_radius_rounded--regular, 48px)"}},sizeCheckBorderRadius:{auto:{name:"--vkui--size_check_border_radius",value:"var(--vkui--size_check_border_radius)"},regular:{name:"--vkui--size_check_border_radius--regular",value:"var(--vkui--size_check_border_radius--regular, 4px)"}},sizeBorderRadiusPaper:{auto:{name:"--vkui--size_border_radius_paper",value:"var(--vkui--size_border_radius_paper)"},regular:{name:"--vkui--size_border_radius_paper--regular",value:"var(--vkui--size_border_radius_paper--regular, 12px)"}},sizeBorderRadiusPromo:{auto:{name:"--vkui--size_border_radius_promo",value:"var(--vkui--size_border_radius_promo)"},regular:{name:"--vkui--size_border_radius_promo--regular",value:"var(--vkui--size_border_radius_promo--regular, 20px)"}},sizeCellHeight:{auto:{name:"--vkui--size_cell_height",value:"var(--vkui--size_cell_height)"},regular:{name:"--vkui--size_cell_height--regular",value:"var(--vkui--size_cell_height--regular, 48px)"},compact:{name:"--vkui--size_cell_height--compact",value:"var(--vkui--size_cell_height--compact, 44px)"}},sizeFieldHeight:{auto:{name:"--vkui--size_field_height",value:"var(--vkui--size_field_height)"},regular:{name:"--vkui--size_field_height--regular",value:"var(--vkui--size_field_height--regular, 44px)"},compact:{name:"--vkui--size_field_height--compact",value:"var(--vkui--size_field_height--compact, 36px)"}},sizeSearchHeight:{auto:{name:"--vkui--size_search_height",value:"var(--vkui--size_search_height)"},regular:{name:"--vkui--size_search_height--regular",value:"var(--vkui--size_search_height--regular, 36px)"},compact:{name:"--vkui--size_search_height--compact",value:"var(--vkui--size_search_height--compact, 32px)"}},sizeButtonExtraSmallHeight:{auto:{name:"--vkui--size_button_extra_small_height",value:"var(--vkui--size_button_extra_small_height)"},regular:{name:"--vkui--size_button_extra_small_height--regular",value:"var(--vkui--size_button_extra_small_height--regular, 24px)"},compact:{name:"--vkui--size_button_extra_small_height--compact",value:"var(--vkui--size_button_extra_small_height--compact, 22px)"}},sizeButtonSmallHeight:{auto:{name:"--vkui--size_button_small_height",value:"var(--vkui--size_button_small_height)"},regular:{name:"--vkui--size_button_small_height--regular",value:"var(--vkui--size_button_small_height--regular, 30px)"},compact:{name:"--vkui--size_button_small_height--compact",value:"var(--vkui--size_button_small_height--compact, 28px)"}},sizeButtonMediumHeight:{auto:{name:"--vkui--size_button_medium_height",value:"var(--vkui--size_button_medium_height)"},regular:{name:"--vkui--size_button_medium_height--regular",value:"var(--vkui--size_button_medium_height--regular, 36px)"},compact:{name:"--vkui--size_button_medium_height--compact",value:"var(--vkui--size_button_medium_height--compact, 32px)"}},sizeButtonLargeHeight:{auto:{name:"--vkui--size_button_large_height",value:"var(--vkui--size_button_large_height)"},regular:{name:"--vkui--size_button_large_height--regular",value:"var(--vkui--size_button_large_height--regular, 44px)"},compact:{name:"--vkui--size_button_large_height--compact",value:"var(--vkui--size_button_large_height--compact, 36px)"}},sizeCheckbox:{auto:{name:"--vkui--size_checkbox",value:"var(--vkui--size_checkbox)"},regular:{name:"--vkui--size_checkbox--regular",value:"var(--vkui--size_checkbox--regular, 16px)"}},sizeArrow:{auto:{name:"--vkui--size_arrow",value:"var(--vkui--size_arrow)"},regular:{name:"--vkui--size_arrow--regular",value:"var(--vkui--size_arrow--regular, 8px)"}},sizeArrowPromo:{auto:{name:"--vkui--size_arrow_promo",value:"var(--vkui--size_arrow_promo)"},regular:{name:"--vkui--size_arrow_promo--regular",value:"var(--vkui--size_arrow_promo--regular, 40px)"}},sizePopupSmall:{auto:{name:"--vkui--size_popup_small",value:"var(--vkui--size_popup_small)"},regular:{name:"--vkui--size_popup_small--regular",value:"var(--vkui--size_popup_small--regular, 430px)"}},sizePopupMedium:{auto:{name:"--vkui--size_popup_medium",value:"var(--vkui--size_popup_medium)"},regular:{name:"--vkui--size_popup_medium--regular",value:"var(--vkui--size_popup_medium--regular, 680px)"}},sizePopupLarge:{auto:{name:"--vkui--size_popup_large",value:"var(--vkui--size_popup_large)"},regular:{name:"--vkui--size_popup_large--regular",value:"var(--vkui--size_popup_large--regular, 880px)"}},sizeFieldHorizontalPadding:{auto:{name:"--vkui--size_field_horizontal_padding",value:"var(--vkui--size_field_horizontal_padding)"},regular:{name:"--vkui--size_field_horizontal_padding--regular",value:"var(--vkui--size_field_horizontal_padding--regular, 12px)"}},sizeButtonPaddingHorizontal:{auto:{name:"--vkui--size_button_padding_horizontal",value:"var(--vkui--size_button_padding_horizontal)"},regular:{name:"--vkui--size_button_padding_horizontal--regular",value:"var(--vkui--size_button_padding_horizontal--regular, 12px)"}},sizeArrowPadding:{auto:{name:"--vkui--size_arrow_padding",value:"var(--vkui--size_arrow_padding)"},regular:{name:"--vkui--size_arrow_padding--regular",value:"var(--vkui--size_arrow_padding--regular, 12px)"}},sizeTooltipMargin:{auto:{name:"--vkui--size_tooltip_margin",value:"var(--vkui--size_tooltip_margin)"},regular:{name:"--vkui--size_tooltip_margin--regular",value:"var(--vkui--size_tooltip_margin--regular, 8px)"}},sizeIconUI:{auto:{name:"--vkui--size_icon_u_i",value:"var(--vkui--size_icon_u_i)"},regular:{name:"--vkui--size_icon_u_i--regular",value:"var(--vkui--size_icon_u_i--regular, 16px)"}},sizeAvatarXS:{auto:{name:"--vkui--size_avatar_x_s",value:"var(--vkui--size_avatar_x_s)"},regular:{name:"--vkui--size_avatar_x_s--regular",value:"var(--vkui--size_avatar_x_s--regular, 24px)"}},sizeAvatarS:{auto:{name:"--vkui--size_avatar_s",value:"var(--vkui--size_avatar_s)"},regular:{name:"--vkui--size_avatar_s--regular",value:"var(--vkui--size_avatar_s--regular, 32px)"}},sizeAvatarM:{auto:{name:"--vkui--size_avatar_m",value:"var(--vkui--size_avatar_m)"},regular:{name:"--vkui--size_avatar_m--regular",value:"var(--vkui--size_avatar_m--regular, 48px)"}},sizeAvatarL:{auto:{name:"--vkui--size_avatar_l",value:"var(--vkui--size_avatar_l)"},regular:{name:"--vkui--size_avatar_l--regular",value:"var(--vkui--size_avatar_l--regular, 96px)"}},sizeAvatarXL:{auto:{name:"--vkui--size_avatar_x_l",value:"var(--vkui--size_avatar_x_l)"},regular:{name:"--vkui--size_avatar_x_l--regular",value:"var(--vkui--size_avatar_x_l--regular, 128px)"}},sizeBadgeXS:{auto:{name:"--vkui--size_badge_x_s",value:"var(--vkui--size_badge_x_s)"},regular:{name:"--vkui--size_badge_x_s--regular",value:"var(--vkui--size_badge_x_s--regular, 12px)"}},sizeBadgeS:{auto:{name:"--vkui--size_badge_s",value:"var(--vkui--size_badge_s)"},regular:{name:"--vkui--size_badge_s--regular",value:"var(--vkui--size_badge_s--regular, 16px)"}},sizeBadgeM:{auto:{name:"--vkui--size_badge_m",value:"var(--vkui--size_badge_m)"},regular:{name:"--vkui--size_badge_m--regular",value:"var(--vkui--size_badge_m--regular, 24px)"}},sizeBadgeL:{auto:{name:"--vkui--size_badge_l",value:"var(--vkui--size_badge_l)"},regular:{name:"--vkui--size_badge_l--regular",value:"var(--vkui--size_badge_l--regular, 44px)"}},sizeBadgeXL:{auto:{name:"--vkui--size_badge_x_l",value:"var(--vkui--size_badge_x_l)"},regular:{name:"--vkui--size_badge_x_l--regular",value:"var(--vkui--size_badge_x_l--regular, 56px)"}},sizeCardgridPadding:{auto:{name:"--vkui--size_cardgrid_padding",value:"var(--vkui--size_cardgrid_padding)"},regular:{name:"--vkui--size_cardgrid_padding--regular",value:"var(--vkui--size_cardgrid_padding--regular, 8px)"}},sizeCardBorderRadius:{auto:{name:"--vkui--size_card_border_radius",value:"var(--vkui--size_card_border_radius)"},regular:{name:"--vkui--size_card_border_radius--regular",value:"var(--vkui--size_card_border_radius--regular, 8px)"}},sizeCardgridPaddingVertical:{auto:{name:"--vkui--size_cardgrid_padding_vertical",value:"var(--vkui--size_cardgrid_padding_vertical)"},regular:{name:"--vkui--size_cardgrid_padding_vertical--regular",value:"var(--vkui--size_cardgrid_padding_vertical--regular, 8px)"}},sizeBasePaddingHorizontal:{auto:{name:"--vkui--size_base_padding_horizontal",value:"var(--vkui--size_base_padding_horizontal)"},regular:{name:"--vkui--size_base_padding_horizontal--regular",value:"var(--vkui--size_base_padding_horizontal--regular, 16px)"}},sizeBasePaddingVertical:{auto:{name:"--vkui--size_base_padding_vertical",value:"var(--vkui--size_base_padding_vertical)"},regular:{name:"--vkui--size_base_padding_vertical--regular",value:"var(--vkui--size_base_padding_vertical--regular, 12px)"}},sizeButtonGroupGapSpace:{auto:{name:"--vkui--size_button_group_gap_space",value:"var(--vkui--size_button_group_gap_space)"},regular:{name:"--vkui--size_button_group_gap_space--regular",value:"var(--vkui--size_button_group_gap_space--regular, 1px)"}},sizeButtonGroupGapSmall:{auto:{name:"--vkui--size_button_group_gap_small",value:"var(--vkui--size_button_group_gap_small)"},regular:{name:"--vkui--size_button_group_gap_small--regular",value:"var(--vkui--size_button_group_gap_small--regular, 8px)"}},sizeButtonGroupGapMedium:{auto:{name:"--vkui--size_button_group_gap_medium",value:"var(--vkui--size_button_group_gap_medium)"},regular:{name:"--vkui--size_button_group_gap_medium--regular",value:"var(--vkui--size_button_group_gap_medium--regular, 12px)"}},sizeOptionHierarchy:{auto:{name:"--vkui--size_option_hierarchy",value:"var(--vkui--size_option_hierarchy)"},regular:{name:"--vkui--size_option_hierarchy--regular",value:"var(--vkui--size_option_hierarchy--regular, 32px)"}},sizeSwitchHeight:{auto:{name:"--vkui--size_switch_height",value:"var(--vkui--size_switch_height)"},regular:{name:"--vkui--size_switch_height--regular",value:"var(--vkui--size_switch_height--regular, 14px)"},compact:{name:"--vkui--size_switch_height--compact",value:"var(--vkui--size_switch_height--compact, 12px)"}},sizeSwitchWidth:{auto:{name:"--vkui--size_switch_width",value:"var(--vkui--size_switch_width)"},regular:{name:"--vkui--size_switch_width--regular",value:"var(--vkui--size_switch_width--regular, 34px)"},compact:{name:"--vkui--size_switch_width--compact",value:"var(--vkui--size_switch_width--compact, 32px)"}},sizeSwitchPin:{auto:{name:"--vkui--size_switch_pin",value:"var(--vkui--size_switch_pin)"},regular:{name:"--vkui--size_switch_pin--regular",value:"var(--vkui--size_switch_pin--regular, 20px)"},compact:{name:"--vkui--size_switch_pin--compact",value:"var(--vkui--size_switch_pin--compact, 18px)"}},sizePanelHeaderHeight:{auto:{name:"--vkui--size_panel_header_height",value:"var(--vkui--size_panel_header_height)"},compact:{name:"--vkui--size_panel_header_height--compact",value:"var(--vkui--size_panel_header_height--compact, 48px)"},regular:{name:"--vkui--size_panel_header_height--regular",value:"var(--vkui--size_panel_header_height--regular, 56px)"}},sizeButtonBaseSmallPaddingHorizontal:{auto:{name:"--vkui--size_button_base_small_padding_horizontal",value:"var(--vkui--size_button_base_small_padding_horizontal)"},regular:{name:"--vkui--size_button_base_small_padding_horizontal--regular",value:"var(--vkui--size_button_base_small_padding_horizontal--regular, 16px)"}},sizeButtonBaseMediumPaddingHorizontal:{auto:{name:"--vkui--size_button_base_medium_padding_horizontal",value:"var(--vkui--size_button_base_medium_padding_horizontal)"},regular:{name:"--vkui--size_button_base_medium_padding_horizontal--regular",value:"var(--vkui--size_button_base_medium_padding_horizontal--regular, 16px)"}},sizeButtonBaseLargePaddingHorizontal:{auto:{name:"--vkui--size_button_base_large_padding_horizontal",value:"var(--vkui--size_button_base_large_padding_horizontal)"},regular:{name:"--vkui--size_button_base_large_padding_horizontal--regular",value:"var(--vkui--size_button_base_large_padding_horizontal--regular, 20px)"}},sizeButtonBaseSmallPaddingHorizontalIcon:{auto:{name:"--vkui--size_button_base_small_padding_horizontal_icon",value:"var(--vkui--size_button_base_small_padding_horizontal_icon)"},regular:{name:"--vkui--size_button_base_small_padding_horizontal_icon--regular",value:"var(--vkui--size_button_base_small_padding_horizontal_icon--regular, 12px)"}},sizeButtonBaseMediumPaddingHorizontalIcon:{auto:{name:"--vkui--size_button_base_medium_padding_horizontal_icon",value:"var(--vkui--size_button_base_medium_padding_horizontal_icon)"},regular:{name:"--vkui--size_button_base_medium_padding_horizontal_icon--regular",value:"var(--vkui--size_button_base_medium_padding_horizontal_icon--regular, 12px)"}},sizeButtonBaseLargePaddingHorizontalIcon:{auto:{name:"--vkui--size_button_base_large_padding_horizontal_icon",value:"var(--vkui--size_button_base_large_padding_horizontal_icon)"},regular:{name:"--vkui--size_button_base_large_padding_horizontal_icon--regular",value:"var(--vkui--size_button_base_large_padding_horizontal_icon--regular, 16px)"}},sizeButtonTertiarySmallPaddingHorizontal:{auto:{name:"--vkui--size_button_tertiary_small_padding_horizontal",value:"var(--vkui--size_button_tertiary_small_padding_horizontal)"},regular:{name:"--vkui--size_button_tertiary_small_padding_horizontal--regular",value:"var(--vkui--size_button_tertiary_small_padding_horizontal--regular, 12px)"}},sizeButtonTertiaryMediumPaddingHorizontal:{auto:{name:"--vkui--size_button_tertiary_medium_padding_horizontal",value:"var(--vkui--size_button_tertiary_medium_padding_horizontal)"},regular:{name:"--vkui--size_button_tertiary_medium_padding_horizontal--regular",value:"var(--vkui--size_button_tertiary_medium_padding_horizontal--regular, 12px)"}},sizeButtonTertiaryLargePaddingHorizontal:{auto:{name:"--vkui--size_button_tertiary_large_padding_horizontal",value:"var(--vkui--size_button_tertiary_large_padding_horizontal)"},regular:{name:"--vkui--size_button_tertiary_large_padding_horizontal--regular",value:"var(--vkui--size_button_tertiary_large_padding_horizontal--regular, 16px)"}},sizeButtonTertiarySmallPaddingHorizontalIcon:{auto:{name:"--vkui--size_button_tertiary_small_padding_horizontal_icon",value:"var(--vkui--size_button_tertiary_small_padding_horizontal_icon)"},regular:{name:"--vkui--size_button_tertiary_small_padding_horizontal_icon--regular",value:"var(--vkui--size_button_tertiary_small_padding_horizontal_icon--regular, 8px)"}},sizeButtonTertiaryMediumPaddingHorizontalIcon:{auto:{name:"--vkui--size_button_tertiary_medium_padding_horizontal_icon",value:"var(--vkui--size_button_tertiary_medium_padding_horizontal_icon)"},regular:{name:"--vkui--size_button_tertiary_medium_padding_horizontal_icon--regular",value:"var(--vkui--size_button_tertiary_medium_padding_horizontal_icon--regular, 8px)"}},sizeButtonTertiaryLargePaddingHorizontalIcon:{auto:{name:"--vkui--size_button_tertiary_large_padding_horizontal_icon",value:"var(--vkui--size_button_tertiary_large_padding_horizontal_icon)"},regular:{name:"--vkui--size_button_tertiary_large_padding_horizontal_icon--regular",value:"var(--vkui--size_button_tertiary_large_padding_horizontal_icon--regular, 12px)"}},sizeButtonMinimumWidth:{auto:{name:"--vkui--size_button_minimum_width",value:"var(--vkui--size_button_minimum_width)"},regular:{name:"--vkui--size_button_minimum_width--regular",value:"var(--vkui--size_button_minimum_width--regular, 80px)"}},sizeFormItemPaddingVertical:{auto:{name:"--vkui--size_form_item_padding_vertical",value:"var(--vkui--size_form_item_padding_vertical)"},regular:{name:"--vkui--size_form_item_padding_vertical--regular",value:"var(--vkui--size_form_item_padding_vertical--regular, 12px)"}},sizeSplitColPaddingHorizontal:{auto:{name:"--vkui--size_split_col_padding_horizontal",value:"var(--vkui--size_split_col_padding_horizontal)"},regular:{name:"--vkui--size_split_col_padding_horizontal--regular",value:"var(--vkui--size_split_col_padding_horizontal--regular, 16px)"}},sizeSubnavigationBarGap:{auto:{name:"--vkui--size_subnavigation_bar_gap",value:"var(--vkui--size_subnavigation_bar_gap)"},regular:{name:"--vkui--size_subnavigation_bar_gap--regular",value:"var(--vkui--size_subnavigation_bar_gap--regular, 8px)"}},sizeSubnavigationBarPaddingVertical:{auto:{name:"--vkui--size_subnavigation_bar_padding_vertical",value:"var(--vkui--size_subnavigation_bar_padding_vertical)"},regular:{name:"--vkui--size_subnavigation_bar_padding_vertical--regular",value:"var(--vkui--size_subnavigation_bar_padding_vertical--regular, 12px)"}},sizeBorder1x:{auto:{name:"--vkui--size_border1x",value:"var(--vkui--size_border1x)"},regular:{name:"--vkui--size_border1x--regular",value:"var(--vkui--size_border1x--regular, 1px)"}},sizeBorder2x:{auto:{name:"--vkui--size_border2x",value:"var(--vkui--size_border2x)"},regular:{name:"--vkui--size_border2x--regular",value:"var(--vkui--size_border2x--regular, 0.5px)"}},sizeBorder3x:{auto:{name:"--vkui--size_border3x",value:"var(--vkui--size_border3x)"},regular:{name:"--vkui--size_border3x--regular",value:"var(--vkui--size_border3x--regular, 0.33px)"}},spacingSize3Xs:{name:"--vkui--spacing_size_3xs",value:"var(--vkui--spacing_size_3xs, 2px)"},spacingSize2Xs:{name:"--vkui--spacing_size_2xs",value:"var(--vkui--spacing_size_2xs, 2px)"},spacingSizeXs:{name:"--vkui--spacing_size_xs",value:"var(--vkui--spacing_size_xs, 4px)"},spacingSizeS:{name:"--vkui--spacing_size_s",value:"var(--vkui--spacing_size_s, 6px)"},spacingSizeM:{name:"--vkui--spacing_size_m",value:"var(--vkui--spacing_size_m, 8px)"},spacingSizeL:{name:"--vkui--spacing_size_l",value:"var(--vkui--spacing_size_l, 10px)"},spacingSizeXl:{name:"--vkui--spacing_size_xl",value:"var(--vkui--spacing_size_xl, 12px)"},spacingSize2Xl:{name:"--vkui--spacing_size_2xl",value:"var(--vkui--spacing_size_2xl, 16px)"},spacingSize3Xl:{name:"--vkui--spacing_size_3xl",value:"var(--vkui--spacing_size_3xl, 20px)"},spacingSize4Xl:{name:"--vkui--spacing_size_4xl",value:"var(--vkui--spacing_size_4xl, 24px)"},animationDurationL:{name:"--vkui--animation_duration_l",value:"var(--vkui--animation_duration_l, 0.4s)"},animationDurationM:{name:"--vkui--animation_duration_m",value:"var(--vkui--animation_duration_m, 0.2s)"},animationDurationS:{name:"--vkui--animation_duration_s",value:"var(--vkui--animation_duration_s, 0.1s)"},animationEasingDefault:{name:"--vkui--animation_easing_default",value:"var(--vkui--animation_easing_default, cubic-bezier(0.3, 0.3, 0.5, 1))"},animationEasingPlatform:{name:"--vkui--animation_easing_platform",value:"var(--vkui--animation_easing_platform, cubic-bezier(0.4, 0, 0.2, 1))"},opacityDisable:{name:"--vkui--opacity_disable",value:"var(--vkui--opacity_disable, 0.4)"},opacityDisableAccessibility:{name:"--vkui--opacity_disable_accessibility",value:"var(--vkui--opacity_disable_accessibility, 0.64)"},zIndexModal:{name:"--vkui--z_index_modal",value:"var(--vkui--z_index_modal, 99)"},zIndexPopout:{name:"--vkui--z_index_popout",value:"var(--vkui--z_index_popout, 100)"},fontHeadline:{auto:{fontSize:{name:"--vkui--font_headline--font_size",value:"var(--vkui--font_headline--font_size)"},lineHeight:{name:"--vkui--font_headline--line_height",value:"var(--vkui--font_headline--line_height)"},fontFamily:{name:"--vkui--font_headline--font_family",value:"var(--vkui--font_headline--font_family)"},fontWeight:{name:"--vkui--font_headline--font_weight",value:"var(--vkui--font_headline--font_weight)"}},regular:{fontSize:{name:"--vkui--font_headline--font_size--regular",value:"var(--vkui--font_headline--font_size--regular, 16px)"},lineHeight:{name:"--vkui--font_headline--line_height--regular",value:"var(--vkui--font_headline--line_height--regular, 20px)"},fontFamily:{name:"--vkui--font_headline--font_family--regular",value:'var(--vkui--font_headline--font_family--regular, -apple-system, system-ui, "Helvetica Neue", Roboto, sans-serif)'},fontWeight:{name:"--vkui--font_headline--font_weight--regular",value:"var(--vkui--font_headline--font_weight--regular, 500)"}},compact:{fontSize:{name:"--vkui--font_headline--font_size--compact",value:"var(--vkui--font_headline--font_size--compact, 15px)"},lineHeight:{name:"--vkui--font_headline--line_height--compact",value:"var(--vkui--font_headline--line_height--compact, 20px)"}}},colorsScheme:{name:"--vkui--colors_scheme",value:"var(--vkui--colors_scheme, light)"},colorBackgroundAccent:{normal:{name:"--vkui--color_background_accent",value:"var(--vkui--color_background_accent, #2688eb)"},hover:{name:"--vkui--color_background_accent--hover",value:"var(--vkui--color_background_accent--hover, #2483E4)"},active:{name:"--vkui--color_background_accent--active",value:"var(--vkui--color_background_accent--active, #237EDD)"}},colorBackgroundAccentThemed:{normal:{name:"--vkui--color_background_accent_themed",value:"var(--vkui--color_background_accent_themed, #2688eb)"},hover:{name:"--vkui--color_background_accent_themed--hover",value:"var(--vkui--color_background_accent_themed--hover, #2483E4)"},active:{name:"--vkui--color_background_accent_themed--active",value:"var(--vkui--color_background_accent_themed--active, #237EDD)"}},colorBackgroundAccentThemedAlpha:{normal:{name:"--vkui--color_background_accent_themed_alpha",value:"var(--vkui--color_background_accent_themed_alpha, rgba(38, 136, 235, 0.2))"},hover:{name:"--vkui--color_background_accent_themed_alpha--hover",value:"var(--vkui--color_background_accent_themed_alpha--hover, rgba(38, 136, 235, 0.24))"},active:{name:"--vkui--color_background_accent_themed_alpha--active",value:"var(--vkui--color_background_accent_themed_alpha--active, rgba(38, 136, 235, 0.28))"}},colorBackgroundAccentTint:{normal:{name:"--vkui--color_background_accent_tint",value:"var(--vkui--color_background_accent_tint, #5a9eff)"},hover:{name:"--vkui--color_background_accent_tint--hover",value:"var(--vkui--color_background_accent_tint--hover, #5698F7)"},active:{name:"--vkui--color_background_accent_tint--active",value:"var(--vkui--color_background_accent_tint--active, #5393EF)"}},colorBackgroundAccentAlternative:{normal:{name:"--vkui--color_background_accent_alternative",value:"var(--vkui--color_background_accent_alternative, #2688EB)"},hover:{name:"--vkui--color_background_accent_alternative--hover",value:"var(--vkui--color_background_accent_alternative--hover, #2483E4)"},active:{name:"--vkui--color_background_accent_alternative--active",value:"var(--vkui--color_background_accent_alternative--active, #237EDD)"}},colorBackground:{normal:{name:"--vkui--color_background",value:"var(--vkui--color_background, #ebedf0)"},hover:{name:"--vkui--color_background--hover",value:"var(--vkui--color_background--hover, #E2E4E9)"},active:{name:"--vkui--color_background--active",value:"var(--vkui--color_background--active, #D8DBE2)"}},colorBackgroundContent:{normal:{name:"--vkui--color_background_content",value:"var(--vkui--color_background_content, #ffffff)"},hover:{name:"--vkui--color_background_content--hover",value:"var(--vkui--color_background_content--hover, #F5F5F7)"},active:{name:"--vkui--color_background_content--active",value:"var(--vkui--color_background_content--active, #EBECEF)"}},colorBackgroundContentAlpha:{normal:{name:"--vkui--color_background_content_alpha",value:"var(--vkui--color_background_content_alpha, rgba(255, 255, 255, 0.8))"},hover:{name:"--vkui--color_background_content_alpha--hover",value:"var(--vkui--color_background_content_alpha--hover, rgba(255, 255, 255, 0.84))"},active:{name:"--vkui--color_background_content_alpha--active",value:"var(--vkui--color_background_content_alpha--active, rgba(255, 255, 255, 0.88))"}},colorBackgroundContentInverse:{normal:{name:"--vkui--color_background_content_inverse",value:"var(--vkui--color_background_content_inverse, #19191A)"},hover:{name:"--vkui--color_background_content_inverse--hover",value:"var(--vkui--color_background_content_inverse--hover, #18191B)"},active:{name:"--vkui--color_background_content_inverse--active",value:"var(--vkui--color_background_content_inverse--active, #17181D)"}},colorBackgroundSecondary:{normal:{name:"--vkui--color_background_secondary",value:"var(--vkui--color_background_secondary, #f5f5f5)"},hover:{name:"--vkui--color_background_secondary--hover",value:"var(--vkui--color_background_secondary--hover, #EBECEE)"},active:{name:"--vkui--color_background_secondary--active",value:"var(--vkui--color_background_secondary--active, #E1E3E6)"}},colorBackgroundSecondaryAlpha:{normal:{name:"--vkui--color_background_secondary_alpha",value:"var(--vkui--color_background_secondary_alpha, rgba(0, 0, 0, 0.04))"},hover:{name:"--vkui--color_background_secondary_alpha--hover",value:"var(--vkui--color_background_secondary_alpha--hover, rgba(0, 0, 0, 0.08))"},active:{name:"--vkui--color_background_secondary_alpha--active",value:"var(--vkui--color_background_secondary_alpha--active, rgba(0, 0, 0, 0.12))"}},colorBackgroundTertiary:{normal:{name:"--vkui--color_background_tertiary",value:"var(--vkui--color_background_tertiary, #f9f9f9)"},hover:{name:"--vkui--color_background_tertiary--hover",value:"var(--vkui--color_background_tertiary--hover, #EFF0F1)"},active:{name:"--vkui--color_background_tertiary--active",value:"var(--vkui--color_background_tertiary--active, #E5E6EA)"}},colorBackgroundTertiaryAlpha:{normal:{name:"--vkui--color_background_tertiary_alpha",value:"var(--vkui--color_background_tertiary_alpha, rgba(0, 0, 0, 0.03))"},hover:{name:"--vkui--color_background_tertiary_alpha--hover",value:"var(--vkui--color_background_tertiary_alpha--hover, rgba(0, 0, 0, 0.07))"},active:{name:"--vkui--color_background_tertiary_alpha--active",value:"var(--vkui--color_background_tertiary_alpha--active, rgba(0, 0, 0, 0.11))"}},colorBackgroundContrast:{normal:{name:"--vkui--color_background_contrast",value:"var(--vkui--color_background_contrast, #ffffff)"},hover:{name:"--vkui--color_background_contrast--hover",value:"var(--vkui--color_background_contrast--hover, #F5F5F7)"},active:{name:"--vkui--color_background_contrast--active",value:"var(--vkui--color_background_contrast--active, #EBECEF)"}},colorBackgroundContrastSecondaryAlpha:{normal:{name:"--vkui--color_background_contrast_secondary_alpha",value:"var(--vkui--color_background_contrast_secondary_alpha, rgba(255, 255, 255, 0.20))"},hover:{name:"--vkui--color_background_contrast_secondary_alpha--hover",value:"var(--vkui--color_background_contrast_secondary_alpha--hover, rgba(255, 255, 255, 0.24))"},active:{name:"--vkui--color_background_contrast_secondary_alpha--active",value:"var(--vkui--color_background_contrast_secondary_alpha--active, rgba(255, 255, 255, 0.28))"}},colorBackgroundContrastInverse:{normal:{name:"--vkui--color_background_contrast_inverse",value:"var(--vkui--color_background_contrast_inverse, #2c2d2e)"},hover:{name:"--vkui--color_background_contrast_inverse--hover",value:"var(--vkui--color_background_contrast_inverse--hover, #2A2C2F)"},active:{name:"--vkui--color_background_contrast_inverse--active",value:"var(--vkui--color_background_contrast_inverse--active, #282B2F)"}},colorBackgroundContrastThemed:{normal:{name:"--vkui--color_background_contrast_themed",value:"var(--vkui--color_background_contrast_themed, #FFFFFF)"},hover:{name:"--vkui--color_background_contrast_themed--hover",value:"var(--vkui--color_background_contrast_themed--hover, #F5F5F7)"},active:{name:"--vkui--color_background_contrast_themed--active",value:"var(--vkui--color_background_contrast_themed--active, #EBECEF)"}},colorBackgroundModal:{normal:{name:"--vkui--color_background_modal",value:"var(--vkui--color_background_modal, #FFFFFF)"},hover:{name:"--vkui--color_background_modal--hover",value:"var(--vkui--color_background_modal--hover, #F5F5F7)"},active:{name:"--vkui--color_background_modal--active",value:"var(--vkui--color_background_modal--active, #EBECEF)"}},colorBackgroundModalInverse:{normal:{name:"--vkui--color_background_modal_inverse",value:"var(--vkui--color_background_modal_inverse, #1C1D1E)"},hover:{name:"--vkui--color_background_modal_inverse--hover",value:"var(--vkui--color_background_modal_inverse--hover, #1B1C1F)"},active:{name:"--vkui--color_background_modal_inverse--active",value:"var(--vkui--color_background_modal_inverse--active, #1A1C20)"}},colorBackgroundPositive:{normal:{name:"--vkui--color_background_positive",value:"var(--vkui--color_background_positive, #4bb34b)"},hover:{name:"--vkui--color_background_positive--hover",value:"var(--vkui--color_background_positive--hover, #48AC4A)"},active:{name:"--vkui--color_background_positive--active",value:"var(--vkui--color_background_positive--active, #45A64A)"}},colorBackgroundPositiveTint:{normal:{name:"--vkui--color_background_positive_tint",value:"var(--vkui--color_background_positive_tint, #E8F9E8)"},hover:{name:"--vkui--color_background_positive_tint--hover",value:"var(--vkui--color_background_positive_tint--hover, #DFF0E1)"},active:{name:"--vkui--color_background_positive_tint--active",value:"var(--vkui--color_background_positive_tint--active, #D5E6DA)"}},colorBackgroundWarning:{normal:{name:"--vkui--color_background_warning",value:"var(--vkui--color_background_warning, #FFF2D6)"},hover:{name:"--vkui--color_background_warning--hover",value:"var(--vkui--color_background_warning--hover, #F5E9D0)"},active:{name:"--vkui--color_background_warning--active",value:"var(--vkui--color_background_warning--active, #EBE0CA)"}},colorBackgroundNegative:{normal:{name:"--vkui--color_background_negative",value:"var(--vkui--color_background_negative, #e64646)"},hover:{name:"--vkui--color_background_negative--hover",value:"var(--vkui--color_background_negative--hover, #DD4446)"},active:{name:"--vkui--color_background_negative--active",value:"var(--vkui--color_background_negative--active, #D44245)"}},colorBackgroundNegativeTint:{normal:{name:"--vkui--color_background_negative_tint",value:"var(--vkui--color_background_negative_tint, #FFE9E9)"},hover:{name:"--vkui--color_background_negative_tint--hover",value:"var(--vkui--color_background_negative_tint--hover, #F5E0E2)"},active:{name:"--vkui--color_background_negative_tint--active",value:"var(--vkui--color_background_negative_tint--active, #EBD8DB)"}},colorBackgroundInfoTint:{normal:{name:"--vkui--color_background_info_tint",value:"var(--vkui--color_background_info_tint, #DEEEFF)"},hover:{name:"--vkui--color_background_info_tint--hover",value:"var(--vkui--color_background_info_tint--hover, #D5E5F7)"},active:{name:"--vkui--color_background_info_tint--active",value:"var(--vkui--color_background_info_tint--active, #CCDCEF)"}},colorFieldBackground:{normal:{name:"--vkui--color_field_background",value:"var(--vkui--color_field_background, #f2f3f5)"},hover:{name:"--vkui--color_field_background--hover",value:"var(--vkui--color_field_background--hover, #E8EAEE)"},active:{name:"--vkui--color_field_background--active",value:"var(--vkui--color_field_background--active, #DFE1E6)"}},colorHeaderBackground:{normal:{name:"--vkui--color_header_background",value:"var(--vkui--color_header_background, #ffffff)"},hover:{name:"--vkui--color_header_background--hover",value:"var(--vkui--color_header_background--hover, #F5F5F7)"},active:{name:"--vkui--color_header_background--active",value:"var(--vkui--color_header_background--active, #EBECEF)"}},colorTextAccent:{normal:{name:"--vkui--color_text_accent",value:"var(--vkui--color_text_accent, #2688eb)"},hover:{name:"--vkui--color_text_accent--hover",value:"var(--vkui--color_text_accent--hover, #2483E4)"},active:{name:"--vkui--color_text_accent--active",value:"var(--vkui--color_text_accent--active, #237EDD)"}},colorTextAccentThemed:{normal:{name:"--vkui--color_text_accent_themed",value:"var(--vkui--color_text_accent_themed, #2688eb)"},hover:{name:"--vkui--color_text_accent_themed--hover",value:"var(--vkui--color_text_accent_themed--hover, #2483E4)"},active:{name:"--vkui--color_text_accent_themed--active",value:"var(--vkui--color_text_accent_themed--active, #237EDD)"}},colorTextPrimary:{normal:{name:"--vkui--color_text_primary",value:"var(--vkui--color_text_primary, #000000)"},hover:{name:"--vkui--color_text_primary--hover",value:"var(--vkui--color_text_primary--hover, #000102)"},active:{name:"--vkui--color_text_primary--active",value:"var(--vkui--color_text_primary--active, #000105)"}},colorTextPrimaryAlpha:{normal:{name:"--vkui--color_text_primary_alpha",value:"var(--vkui--color_text_primary_alpha, rgba(37, 41, 46, 0.84))"},hover:{name:"--vkui--color_text_primary_alpha--hover",value:"var(--vkui--color_text_primary_alpha--hover, rgba(37, 41, 46, 0.88))"},active:{name:"--vkui--color_text_primary_alpha--active",value:"var(--vkui--color_text_primary_alpha--active, rgba(37, 41, 46, 0.92))"}},colorTextPrimaryInvariably:{normal:{name:"--vkui--color_text_primary_invariably",value:"var(--vkui--color_text_primary_invariably, #000000)"},hover:{name:"--vkui--color_text_primary_invariably--hover",value:"var(--vkui--color_text_primary_invariably--hover, #000102)"},active:{name:"--vkui--color_text_primary_invariably--active",value:"var(--vkui--color_text_primary_invariably--active, #000105)"}},colorTextSecondary:{normal:{name:"--vkui--color_text_secondary",value:"var(--vkui--color_text_secondary, #818c99)"},hover:{name:"--vkui--color_text_secondary--hover",value:"var(--vkui--color_text_secondary--hover, #7C8795)"},active:{name:"--vkui--color_text_secondary--active",value:"var(--vkui--color_text_secondary--active, #778292)"}},colorTextSecondaryAlpha:{normal:{name:"--vkui--color_text_secondary_alpha",value:"var(--vkui--color_text_secondary_alpha, rgba(37, 41, 46, 0.55))"},hover:{name:"--vkui--color_text_secondary_alpha--hover",value:"var(--vkui--color_text_secondary_alpha--hover, rgba(37, 41, 46, 0.59))"},active:{name:"--vkui--color_text_secondary_alpha--active",value:"var(--vkui--color_text_secondary_alpha--active, rgba(37, 41, 46, 0.63))"}},colorTextSubhead:{normal:{name:"--vkui--color_text_subhead",value:"var(--vkui--color_text_subhead, #6d7885)"},hover:{name:"--vkui--color_text_subhead--hover",value:"var(--vkui--color_text_subhead--hover, #697482)"},active:{name:"--vkui--color_text_subhead--active",value:"var(--vkui--color_text_subhead--active, #64707F)"}},colorTextTertiary:{normal:{name:"--vkui--color_text_tertiary",value:"var(--vkui--color_text_tertiary, #99a2ad)"},hover:{name:"--vkui--color_text_tertiary--hover",value:"var(--vkui--color_text_tertiary--hover, #939CA9)"},active:{name:"--vkui--color_text_tertiary--active",value:"var(--vkui--color_text_tertiary--active, #8D96A4)"}},colorTextContrast:{normal:{name:"--vkui--color_text_contrast",value:"var(--vkui--color_text_contrast, #ffffff)"},hover:{name:"--vkui--color_text_contrast--hover",value:"var(--vkui--color_text_contrast--hover, #F5F5F7)"},active:{name:"--vkui--color_text_contrast--active",value:"var(--vkui--color_text_contrast--active, #EBECEF)"}},colorTextContrastThemed:{normal:{name:"--vkui--color_text_contrast_themed",value:"var(--vkui--color_text_contrast_themed, #ffffff)"},hover:{name:"--vkui--color_text_contrast_themed--hover",value:"var(--vkui--color_text_contrast_themed--hover, #F5F5F7)"},active:{name:"--vkui--color_text_contrast_themed--active",value:"var(--vkui--color_text_contrast_themed--active, #EBECEF)"}},colorTextPositive:{normal:{name:"--vkui--color_text_positive",value:"var(--vkui--color_text_positive, #4bb34b)"},hover:{name:"--vkui--color_text_positive--hover",value:"var(--vkui--color_text_positive--hover, #48AC4A)"},active:{name:"--vkui--color_text_positive--active",value:"var(--vkui--color_text_positive--active, #45A64A)"}},colorTextNegative:{normal:{name:"--vkui--color_text_negative",value:"var(--vkui--color_text_negative, #e64646)"},hover:{name:"--vkui--color_text_negative--hover",value:"var(--vkui--color_text_negative--hover, #DD4446)"},active:{name:"--vkui--color_text_negative--active",value:"var(--vkui--color_text_negative--active, #D44245)"}},colorTextLink:{normal:{name:"--vkui--color_text_link",value:"var(--vkui--color_text_link, #2d81e0)"},hover:{name:"--vkui--color_text_link--hover",value:"var(--vkui--color_text_link--hover, #2B7CD9)"},active:{name:"--vkui--color_text_link--active",value:"var(--vkui--color_text_link--active, #2978D3)"}},colorTextLinkThemed:{normal:{name:"--vkui--color_text_link_themed",value:"var(--vkui--color_text_link_themed, #2d81e0)"},hover:{name:"--vkui--color_text_link_themed--hover",value:"var(--vkui--color_text_link_themed--hover, #2B7CD9)"},active:{name:"--vkui--color_text_link_themed--active",value:"var(--vkui--color_text_link_themed--active, #2978D3)"}},colorTextLinkTint:{normal:{name:"--vkui--color_text_link_tint",value:"var(--vkui--color_text_link_tint, #71aaeb)"},hover:{name:"--vkui--color_text_link_tint--hover",value:"var(--vkui--color_text_link_tint--hover, #6CA4E4)"},active:{name:"--vkui--color_text_link_tint--active",value:"var(--vkui--color_text_link_tint--active, #689EDD)"}},colorTextLinkVisited:{normal:{name:"--vkui--color_text_link_visited",value:"var(--vkui--color_text_link_visited, #4986cc)"},hover:{name:"--vkui--color_text_link_visited--hover",value:"var(--vkui--color_text_link_visited--hover, #4681C6)"},active:{name:"--vkui--color_text_link_visited--active",value:"var(--vkui--color_text_link_visited--active, #437DC1)"}},colorTextMuted:{normal:{name:"--vkui--color_text_muted",value:"var(--vkui--color_text_muted, #2c2d2e)"},hover:{name:"--vkui--color_text_muted--hover",value:"var(--vkui--color_text_muted--hover, #2A2C2F)"},active:{name:"--vkui--color_text_muted--active",value:"var(--vkui--color_text_muted--active, #282B2F)"}},colorLinkContrast:{normal:{name:"--vkui--color_link_contrast",value:"var(--vkui--color_link_contrast, #ffffff)"},hover:{name:"--vkui--color_link_contrast--hover",value:"var(--vkui--color_link_contrast--hover, #F5F5F7)"},active:{name:"--vkui--color_link_contrast--active",value:"var(--vkui--color_link_contrast--active, #EBECEF)"}},colorIconAccent:{normal:{name:"--vkui--color_icon_accent",value:"var(--vkui--color_icon_accent, #2688eb)"},hover:{name:"--vkui--color_icon_accent--hover",value:"var(--vkui--color_icon_accent--hover, #2483E4)"},active:{name:"--vkui--color_icon_accent--active",value:"var(--vkui--color_icon_accent--active, #237EDD)"}},colorIconAccentThemed:{normal:{name:"--vkui--color_icon_accent_themed",value:"var(--vkui--color_icon_accent_themed, #2688eb)"},hover:{name:"--vkui--color_icon_accent_themed--hover",value:"var(--vkui--color_icon_accent_themed--hover, #2483E4)"},active:{name:"--vkui--color_icon_accent_themed--active",value:"var(--vkui--color_icon_accent_themed--active, #237EDD)"}},colorIconPrimary:{normal:{name:"--vkui--color_icon_primary",value:"var(--vkui--color_icon_primary, #2c2d2e)"},hover:{name:"--vkui--color_icon_primary--hover",value:"var(--vkui--color_icon_primary--hover, #2A2C2F)"},active:{name:"--vkui--color_icon_primary--active",value:"var(--vkui--color_icon_primary--active, #282B2F)"}},colorIconPrimaryInvariably:{normal:{name:"--vkui--color_icon_primary_invariably",value:"var(--vkui--color_icon_primary_invariably, #2c2d2e)"},hover:{name:"--vkui--color_icon_primary_invariably--hover",value:"var(--vkui--color_icon_primary_invariably--hover, #2A2C2F)"},active:{name:"--vkui--color_icon_primary_invariably--active",value:"var(--vkui--color_icon_primary_invariably--active, #282B2F)"}},colorIconMedium:{normal:{name:"--vkui--color_icon_medium",value:"var(--vkui--color_icon_medium, #818c99)"},hover:{name:"--vkui--color_icon_medium--hover",value:"var(--vkui--color_icon_medium--hover, #7C8795)"},active:{name:"--vkui--color_icon_medium--active",value:"var(--vkui--color_icon_medium--active, #778292)"}},colorIconMediumAlpha:{normal:{name:"--vkui--color_icon_medium_alpha",value:"var(--vkui--color_icon_medium_alpha, rgba(0, 0, 0, 0.48))"},hover:{name:"--vkui--color_icon_medium_alpha--hover",value:"var(--vkui--color_icon_medium_alpha--hover, rgba(0, 0, 0, 0.52))"},active:{name:"--vkui--color_icon_medium_alpha--active",value:"var(--vkui--color_icon_medium_alpha--active, rgba(0, 0, 0, 0.56))"}},colorIconSecondary:{normal:{name:"--vkui--color_icon_secondary",value:"var(--vkui--color_icon_secondary, #99a2ad)"},hover:{name:"--vkui--color_icon_secondary--hover",value:"var(--vkui--color_icon_secondary--hover, #939CA9)"},active:{name:"--vkui--color_icon_secondary--active",value:"var(--vkui--color_icon_secondary--active, #8D96A4)"}},colorIconSecondaryAlpha:{normal:{name:"--vkui--color_icon_secondary_alpha",value:"var(--vkui--color_icon_secondary_alpha, rgba(0, 0, 0, 0.36))"},hover:{name:"--vkui--color_icon_secondary_alpha--hover",value:"var(--vkui--color_icon_secondary_alpha--hover, rgba(0, 0, 0, 0.4))"},active:{name:"--vkui--color_icon_secondary_alpha--active",value:"var(--vkui--color_icon_secondary_alpha--active, rgba(0, 0, 0, 0.44))"}},colorIconTertiary:{normal:{name:"--vkui--color_icon_tertiary",value:"var(--vkui--color_icon_tertiary, #b8c1cc)"},hover:{name:"--vkui--color_icon_tertiary--hover",value:"var(--vkui--color_icon_tertiary--hover, #B1BAC6)"},active:{name:"--vkui--color_icon_tertiary--active",value:"var(--vkui--color_icon_tertiary--active, #A9B3C1)"}},colorIconTertiaryAlpha:{normal:{name:"--vkui--color_icon_tertiary_alpha",value:"var(--vkui--color_icon_tertiary_alpha, rgba(0, 0, 0, 0.24))"},hover:{name:"--vkui--color_icon_tertiary_alpha--hover",value:"var(--vkui--color_icon_tertiary_alpha--hover, rgba(0, 0, 0, 0.28))"},active:{name:"--vkui--color_icon_tertiary_alpha--active",value:"var(--vkui--color_icon_tertiary_alpha--active, rgba(0, 0, 0, 0.32))"}},colorIconContrast:{normal:{name:"--vkui--color_icon_contrast",value:"var(--vkui--color_icon_contrast, #ffffff)"},hover:{name:"--vkui--color_icon_contrast--hover",value:"var(--vkui--color_icon_contrast--hover, #F5F5F7)"},active:{name:"--vkui--color_icon_contrast--active",value:"var(--vkui--color_icon_contrast--active, #EBECEF)"}},colorIconContrastThemed:{normal:{name:"--vkui--color_icon_contrast_themed",value:"var(--vkui--color_icon_contrast_themed, #ffffff)"},hover:{name:"--vkui--color_icon_contrast_themed--hover",value:"var(--vkui--color_icon_contrast_themed--hover, #F5F5F7)"},active:{name:"--vkui--color_icon_contrast_themed--active",value:"var(--vkui--color_icon_contrast_themed--active, #EBECEF)"}},colorIconContrastSecondary:{normal:{name:"--vkui--color_icon_contrast_secondary",value:"var(--vkui--color_icon_contrast_secondary, #f2f3f5)"},hover:{name:"--vkui--color_icon_contrast_secondary--hover",value:"var(--vkui--color_icon_contrast_secondary--hover, #E8EAEE)"},active:{name:"--vkui--color_icon_contrast_secondary--active",value:"var(--vkui--color_icon_contrast_secondary--active, #DFE1E6)"}},colorIconPositive:{normal:{name:"--vkui--color_icon_positive",value:"var(--vkui--color_icon_positive, #4bb34b)"},hover:{name:"--vkui--color_icon_positive--hover",value:"var(--vkui--color_icon_positive--hover, #48AC4A)"},active:{name:"--vkui--color_icon_positive--active",value:"var(--vkui--color_icon_positive--active, #45A64A)"}},colorIconWarning:{normal:{name:"--vkui--color_icon_warning",value:"var(--vkui--color_icon_warning, #F8A01C)"},hover:{name:"--vkui--color_icon_warning--hover",value:"var(--vkui--color_icon_warning--hover, #EE9A1D)"},active:{name:"--vkui--color_icon_warning--active",value:"var(--vkui--color_icon_warning--active, #E4941F)"}},colorIconNegative:{normal:{name:"--vkui--color_icon_negative",value:"var(--vkui--color_icon_negative, #e64646)"},hover:{name:"--vkui--color_icon_negative--hover",value:"var(--vkui--color_icon_negative--hover, #DD4446)"},active:{name:"--vkui--color_icon_negative--active",value:"var(--vkui--color_icon_negative--active, #D44245)"}},colorStrokeAccent:{normal:{name:"--vkui--color_stroke_accent",value:"var(--vkui--color_stroke_accent, #2688eb)"},hover:{name:"--vkui--color_stroke_accent--hover",value:"var(--vkui--color_stroke_accent--hover, #2483E4)"},active:{name:"--vkui--color_stroke_accent--active",value:"var(--vkui--color_stroke_accent--active, #237EDD)"}},colorStrokeAccentThemed:{normal:{name:"--vkui--color_stroke_accent_themed",value:"var(--vkui--color_stroke_accent_themed, #2688eb)"},hover:{name:"--vkui--color_stroke_accent_themed--hover",value:"var(--vkui--color_stroke_accent_themed--hover, #2483E4)"},active:{name:"--vkui--color_stroke_accent_themed--active",value:"var(--vkui--color_stroke_accent_themed--active, #237EDD)"}},colorSeparatorPrimary:{normal:{name:"--vkui--color_separator_primary",value:"var(--vkui--color_separator_primary, #d7d8d9)"},hover:{name:"--vkui--color_separator_primary--hover",value:"var(--vkui--color_separator_primary--hover, #CED0D3)"},active:{name:"--vkui--color_separator_primary--active",value:"var(--vkui--color_separator_primary--active, #C6C8CD)"}},colorSeparatorPrimary2x:{normal:{name:"--vkui--color_separator_primary2x",value:"var(--vkui--color_separator_primary2x, #cbcccd)"},hover:{name:"--vkui--color_separator_primary2x--hover",value:"var(--vkui--color_separator_primary2x--hover, #C3C4C7)"},active:{name:"--vkui--color_separator_primary2x--active",value:"var(--vkui--color_separator_primary2x--active, #BBBDC1)"}},colorSeparatorPrimary3x:{normal:{name:"--vkui--color_separator_primary3x",value:"var(--vkui--color_separator_primary3x, #bebfc1)"},hover:{name:"--vkui--color_separator_primary3x--hover",value:"var(--vkui--color_separator_primary3x--hover, #B6B8BC)"},active:{name:"--vkui--color_separator_primary3x--active",value:"var(--vkui--color_separator_primary3x--active, #AFB1B6)"}},colorSeparatorPrimaryAlpha:{normal:{name:"--vkui--color_separator_primary_alpha",value:"var(--vkui--color_separator_primary_alpha, rgba(0, 0, 0, 0.12))"},hover:{name:"--vkui--color_separator_primary_alpha--hover",value:"var(--vkui--color_separator_primary_alpha--hover, rgba(0, 0, 0, 0.16))"},active:{name:"--vkui--color_separator_primary_alpha--active",value:"var(--vkui--color_separator_primary_alpha--active, rgba(0, 0, 0, 0.2))"}},colorSeparatorSecondary:{normal:{name:"--vkui--color_separator_secondary",value:"var(--vkui--color_separator_secondary, #e1e3e6)"},hover:{name:"--vkui--color_separator_secondary--hover",value:"var(--vkui--color_separator_secondary--hover, #D8DBDF)"},active:{name:"--vkui--color_separator_secondary--active",value:"var(--vkui--color_separator_secondary--active, #CFD2D8)"}},colorStrokePositive:{normal:{name:"--vkui--color_stroke_positive",value:"var(--vkui--color_stroke_positive, #4bb34b)"},hover:{name:"--vkui--color_stroke_positive--hover",value:"var(--vkui--color_stroke_positive--hover, #48AC4A)"},active:{name:"--vkui--color_stroke_positive--active",value:"var(--vkui--color_stroke_positive--active, #45A64A)"}},colorStrokeNegative:{normal:{name:"--vkui--color_stroke_negative",value:"var(--vkui--color_stroke_negative, #e64646)"},hover:{name:"--vkui--color_stroke_negative--hover",value:"var(--vkui--color_stroke_negative--hover, #DD4446)"},active:{name:"--vkui--color_stroke_negative--active",value:"var(--vkui--color_stroke_negative--active, #D44245)"}},colorStrokeContrast:{normal:{name:"--vkui--color_stroke_contrast",value:"var(--vkui--color_stroke_contrast, #ffffff)"},hover:{name:"--vkui--color_stroke_contrast--hover",value:"var(--vkui--color_stroke_contrast--hover, #F5F5F7)"},active:{name:"--vkui--color_stroke_contrast--active",value:"var(--vkui--color_stroke_contrast--active, #EBECEF)"}},colorStrokePrimary:{normal:{name:"--vkui--color_stroke_primary",value:"var(--vkui--color_stroke_primary, #2C2D2E)"},hover:{name:"--vkui--color_stroke_primary--hover",value:"var(--vkui--color_stroke_primary--hover, #2A2C2F)"},active:{name:"--vkui--color_stroke_primary--active",value:"var(--vkui--color_stroke_primary--active, #282B2F)"}},colorImageBorderAlpha:{normal:{name:"--vkui--color_image_border_alpha",value:"var(--vkui--color_image_border_alpha, rgba(0, 0, 0, 0.08))"},hover:{name:"--vkui--color_image_border_alpha--hover",value:"var(--vkui--color_image_border_alpha--hover, rgba(0, 0, 0, 0.12))"},active:{name:"--vkui--color_image_border_alpha--active",value:"var(--vkui--color_image_border_alpha--active, rgba(0, 0, 0, 0.16))"}},colorFieldBorderAlpha:{normal:{name:"--vkui--color_field_border_alpha",value:"var(--vkui--color_field_border_alpha, rgba(0, 0, 0, 0.12))"},hover:{name:"--vkui--color_field_border_alpha--hover",value:"var(--vkui--color_field_border_alpha--hover, rgba(0, 0, 0, 0.24))"},active:{name:"--vkui--color_field_border_alpha--active",value:"var(--vkui--color_field_border_alpha--active, rgba(0, 0, 0, 0.36))"}},colorAccentBlue:{normal:{name:"--vkui--color_accent_blue",value:"var(--vkui--color_accent_blue, #2688eb)"},hover:{name:"--vkui--color_accent_blue--hover",value:"var(--vkui--color_accent_blue--hover, #2483E4)"},active:{name:"--vkui--color_accent_blue--active",value:"var(--vkui--color_accent_blue--active, #237EDD)"}},colorAccentGray:{normal:{name:"--vkui--color_accent_gray",value:"var(--vkui--color_accent_gray, #a3adb8)"},hover:{name:"--vkui--color_accent_gray--hover",value:"var(--vkui--color_accent_gray--hover, #9CA7B3)"},active:{name:"--vkui--color_accent_gray--active",value:"var(--vkui--color_accent_gray--active, #96A0AE)"}},colorAccentRed:{normal:{name:"--vkui--color_accent_red",value:"var(--vkui--color_accent_red, #ff3347)"},hover:{name:"--vkui--color_accent_red--hover",value:"var(--vkui--color_accent_red--hover, #F53247)"},active:{name:"--vkui--color_accent_red--active",value:"var(--vkui--color_accent_red--active, #EB3046)"}},colorAccentOrangeFire:{normal:{name:"--vkui--color_accent_orange_fire",value:"var(--vkui--color_accent_orange_fire, #f05c44)"},hover:{name:"--vkui--color_accent_orange_fire--hover",value:"var(--vkui--color_accent_orange_fire--hover, #E65944)"},active:{name:"--vkui--color_accent_orange_fire--active",value:"var(--vkui--color_accent_orange_fire--active, #DD5643)"}},colorAccentOrange:{normal:{name:"--vkui--color_accent_orange",value:"var(--vkui--color_accent_orange, #ffa000)"},hover:{name:"--vkui--color_accent_orange--hover",value:"var(--vkui--color_accent_orange--hover, #F59A02)"},active:{name:"--vkui--color_accent_orange--active",value:"var(--vkui--color_accent_orange--active, #EB9405)"}},colorAccentOrangePeach:{normal:{name:"--vkui--color_accent_orange_peach",value:"var(--vkui--color_accent_orange_peach, #F9B54F)"},hover:{name:"--vkui--color_accent_orange_peach--hover",value:"var(--vkui--color_accent_orange_peach--hover, #EFAE4E)"},active:{name:"--vkui--color_accent_orange_peach--active",value:"var(--vkui--color_accent_orange_peach--active, #E5A84E)"}},colorAccentLime:{normal:{name:"--vkui--color_accent_lime",value:"var(--vkui--color_accent_lime, #AFF70D)"},hover:{name:"--vkui--color_accent_lime--hover",value:"var(--vkui--color_accent_lime--hover, #A8EE0F)"},active:{name:"--vkui--color_accent_lime--active",value:"var(--vkui--color_accent_lime--active, #A1E511)"}},colorAccentGreen:{normal:{name:"--vkui--color_accent_green",value:"var(--vkui--color_accent_green, #4bb34b)"},hover:{name:"--vkui--color_accent_green--hover",value:"var(--vkui--color_accent_green--hover, #48AC4A)"},active:{name:"--vkui--color_accent_green--active",value:"var(--vkui--color_accent_green--active, #45A64A)"}},colorAccentCyan:{normal:{name:"--vkui--color_accent_cyan",value:"var(--vkui--color_accent_cyan, #13FFD0)"},hover:{name:"--vkui--color_accent_cyan--hover",value:"var(--vkui--color_accent_cyan--hover, #12F5CA)"},active:{name:"--vkui--color_accent_cyan--active",value:"var(--vkui--color_accent_cyan--active, #11ECC4)"}},colorAccentAzure:{normal:{name:"--vkui--color_accent_azure",value:"var(--vkui--color_accent_azure, #0077FF)"},hover:{name:"--vkui--color_accent_azure--hover",value:"var(--vkui--color_accent_azure--hover, #0073F7)"},active:{name:"--vkui--color_accent_azure--active",value:"var(--vkui--color_accent_azure--active, #006FEF)"}},colorAccentPurple:{normal:{name:"--vkui--color_accent_purple",value:"var(--vkui--color_accent_purple, #735ce6)"},hover:{name:"--vkui--color_accent_purple--hover",value:"var(--vkui--color_accent_purple--hover, #6E59DF)"},active:{name:"--vkui--color_accent_purple--active",value:"var(--vkui--color_accent_purple--active, #6A56D8)"}},colorAccentViolet:{normal:{name:"--vkui--color_accent_violet",value:"var(--vkui--color_accent_violet, #792ec0)"},hover:{name:"--vkui--color_accent_violet--hover",value:"var(--vkui--color_accent_violet--hover, #742DBB)"},active:{name:"--vkui--color_accent_violet--active",value:"var(--vkui--color_accent_violet--active, #6F2CB6)"}},colorAccentRaspberryPink:{normal:{name:"--vkui--color_accent_raspberry_pink",value:"var(--vkui--color_accent_raspberry_pink, #e03fab)"},hover:{name:"--vkui--color_accent_raspberry_pink--hover",value:"var(--vkui--color_accent_raspberry_pink--hover, #D73DA7)"},active:{name:"--vkui--color_accent_raspberry_pink--active",value:"var(--vkui--color_accent_raspberry_pink--active, #CE3BA2)"}},colorAccentPink:{normal:{name:"--vkui--color_accent_pink",value:"var(--vkui--color_accent_pink, #F45FFF)"},hover:{name:"--vkui--color_accent_pink--hover",value:"var(--vkui--color_accent_pink--hover, #EA5CF7)"},active:{name:"--vkui--color_accent_pink--active",value:"var(--vkui--color_accent_pink--active, #E059EF)"}},colorAccentSecondary:{normal:{name:"--vkui--color_accent_secondary",value:"var(--vkui--color_accent_secondary, #3f8ae0)"},hover:{name:"--vkui--color_accent_secondary--hover",value:"var(--vkui--color_accent_secondary--hover, #3C85D9)"},active:{name:"--vkui--color_accent_secondary--active",value:"var(--vkui--color_accent_secondary--active, #3A80D3)"}},colorOverlayPrimary:{normal:{name:"--vkui--color_overlay_primary",value:"var(--vkui--color_overlay_primary, rgba(0, 0, 0, 0.40))"},hover:{name:"--vkui--color_overlay_primary--hover",value:"var(--vkui--color_overlay_primary--hover, rgba(0, 0, 0, 0.44))"},active:{name:"--vkui--color_overlay_primary--active",value:"var(--vkui--color_overlay_primary--active, rgba(0, 0, 0, 0.48))"}},colorOverlaySecondary:{normal:{name:"--vkui--color_overlay_secondary",value:"var(--vkui--color_overlay_secondary, rgba(0, 0, 0, 0.27))"},hover:{name:"--vkui--color_overlay_secondary--hover",value:"var(--vkui--color_overlay_secondary--hover, rgba(0, 0, 0, 0.31))"},active:{name:"--vkui--color_overlay_secondary--active",value:"var(--vkui--color_overlay_secondary--active, rgba(0, 0, 0, 0.35))"}},colorAvatarOverlay:{normal:{name:"--vkui--color_avatar_overlay",value:"var(--vkui--color_avatar_overlay, rgba(0, 0, 0, 0.60))"},hover:{name:"--vkui--color_avatar_overlay--hover",value:"var(--vkui--color_avatar_overlay--hover, rgba(0, 0, 0, 0.64))"},active:{name:"--vkui--color_avatar_overlay--active",value:"var(--vkui--color_avatar_overlay--active, rgba(0, 0, 0, 0.68))"}},colorAvatarOverlayInverseAlpha:{normal:{name:"--vkui--color_avatar_overlay_inverse_alpha",value:"var(--vkui--color_avatar_overlay_inverse_alpha, rgba(255, 255, 255, 0.85))"},hover:{name:"--vkui--color_avatar_overlay_inverse_alpha--hover",value:"var(--vkui--color_avatar_overlay_inverse_alpha--hover, rgba(255, 255, 255, 0.89))"},active:{name:"--vkui--color_avatar_overlay_inverse_alpha--active",value:"var(--vkui--color_avatar_overlay_inverse_alpha--active, rgba(255, 255, 255, 0.93))"}},colorActionSheetText:{normal:{name:"--vkui--color_action_sheet_text",value:"var(--vkui--color_action_sheet_text, #3f8ae0)"},hover:{name:"--vkui--color_action_sheet_text--hover",value:"var(--vkui--color_action_sheet_text--hover, #3C85D9)"},active:{name:"--vkui--color_action_sheet_text--active",value:"var(--vkui--color_action_sheet_text--active, #3A80D3)"}},colorImagePlaceholder:{normal:{name:"--vkui--color_image_placeholder",value:"var(--vkui--color_image_placeholder, #f2f3f5)"},hover:{name:"--vkui--color_image_placeholder--hover",value:"var(--vkui--color_image_placeholder--hover, #E8EAEE)"},active:{name:"--vkui--color_image_placeholder--active",value:"var(--vkui--color_image_placeholder--active, #DFE1E6)"}},colorImagePlaceholderAlpha:{normal:{name:"--vkui--color_image_placeholder_alpha",value:"var(--vkui--color_image_placeholder_alpha, rgba(0, 28, 61, 0.08))"},hover:{name:"--vkui--color_image_placeholder_alpha--hover",value:"var(--vkui--color_image_placeholder_alpha--hover, rgba(0, 28, 61, 0.12))"},active:{name:"--vkui--color_image_placeholder_alpha--active",value:"var(--vkui--color_image_placeholder_alpha--active, rgba(0, 28, 61, 0.16))"}},colorSkeletonFrom:{normal:{name:"--vkui--color_skeleton_from",value:"var(--vkui--color_skeleton_from, #f5f5f5)"},hover:{name:"--vkui--color_skeleton_from--hover",value:"var(--vkui--color_skeleton_from--hover, #EBECEE)"},active:{name:"--vkui--color_skeleton_from--active",value:"var(--vkui--color_skeleton_from--active, #E1E3E6)"}},colorSkeletonTo:{normal:{name:"--vkui--color_skeleton_to",value:"var(--vkui--color_skeleton_to, #e1e3e6)"},hover:{name:"--vkui--color_skeleton_to--hover",value:"var(--vkui--color_skeleton_to--hover, #D8DBDF)"},active:{name:"--vkui--color_skeleton_to--active",value:"var(--vkui--color_skeleton_to--active, #CFD2D8)"}},colorButtonText:{normal:{name:"--vkui--color_button_text",value:"var(--vkui--color_button_text, #2688eb)"},hover:{name:"--vkui--color_button_text--hover",value:"var(--vkui--color_button_text--hover, #2483E4)"},active:{name:"--vkui--color_button_text--active",value:"var(--vkui--color_button_text--active, #237EDD)"}},colorButtonIcon:{normal:{name:"--vkui--color_button_icon",value:"var(--vkui--color_button_icon, #2688eb)"},hover:{name:"--vkui--color_button_icon--hover",value:"var(--vkui--color_button_icon--hover, #2483E4)"},active:{name:"--vkui--color_button_icon--active",value:"var(--vkui--color_button_icon--active, #237EDD)"}},colorButtonStroke:{normal:{name:"--vkui--color_button_stroke",value:"var(--vkui--color_button_stroke, #2688eb)"},hover:{name:"--vkui--color_button_stroke--hover",value:"var(--vkui--color_button_stroke--hover, #2483E4)"},active:{name:"--vkui--color_button_stroke--active",value:"var(--vkui--color_button_stroke--active, #237EDD)"}},colorWriteBarIcon:{normal:{name:"--vkui--color_write_bar_icon",value:"var(--vkui--color_write_bar_icon, #3f8ae0)"},hover:{name:"--vkui--color_write_bar_icon--hover",value:"var(--vkui--color_write_bar_icon--hover, #3C85D9)"},active:{name:"--vkui--color_write_bar_icon--active",value:"var(--vkui--color_write_bar_icon--active, #3A80D3)"}},colorWriteBarInputBackground:{normal:{name:"--vkui--color_write_bar_input_background",value:"var(--vkui--color_write_bar_input_background, #f2f3f5)"},hover:{name:"--vkui--color_write_bar_input_background--hover",value:"var(--vkui--color_write_bar_input_background--hover, #E8EAEE)"},active:{name:"--vkui--color_write_bar_input_background--active",value:"var(--vkui--color_write_bar_input_background--active, #DFE1E6)"}},colorWriteBarInputBorder:{normal:{name:"--vkui--color_write_bar_input_border",value:"var(--vkui--color_write_bar_input_border, #e1e3e6)"},hover:{name:"--vkui--color_write_bar_input_border--hover",value:"var(--vkui--color_write_bar_input_border--hover, #D8DBDF)"},active:{name:"--vkui--color_write_bar_input_border--active",value:"var(--vkui--color_write_bar_input_border--active, #CFD2D8)"}},colorWriteBarInputBorderAlpha:{normal:{name:"--vkui--color_write_bar_input_border_alpha",value:"var(--vkui--color_write_bar_input_border_alpha, rgba(0, 0, 0, 0.08))"},hover:{name:"--vkui--color_write_bar_input_border_alpha--hover",value:"var(--vkui--color_write_bar_input_border_alpha--hover, rgba(0, 0, 0, 0.12))"},active:{name:"--vkui--color_write_bar_input_border_alpha--active",value:"var(--vkui--color_write_bar_input_border_alpha--active, rgba(0, 0, 0, 0.16))"}},colorTrackBackground:{normal:{name:"--vkui--color_track_background",value:"var(--vkui--color_track_background, #e1e3e6)"},hover:{name:"--vkui--color_track_background--hover",value:"var(--vkui--color_track_background--hover, #D8DBDF)"},active:{name:"--vkui--color_track_background--active",value:"var(--vkui--color_track_background--active, #CFD2D8)"}},colorTrackBuffer:{normal:{name:"--vkui--color_track_buffer",value:"var(--vkui--color_track_buffer, #a0bfe4)"},hover:{name:"--vkui--color_track_buffer--hover",value:"var(--vkui--color_track_buffer--hover, #9AB8DD)"},active:{name:"--vkui--color_track_buffer--active",value:"var(--vkui--color_track_buffer--active, #93B1D7)"}},colorSearchFieldBackground:{normal:{name:"--vkui--color_search_field_background",value:"var(--vkui--color_search_field_background, #ebedf0)"},hover:{name:"--vkui--color_search_field_background--hover",value:"var(--vkui--color_search_field_background--hover, #E2E4E9)"},active:{name:"--vkui--color_search_field_background--active",value:"var(--vkui--color_search_field_background--active, #D8DBE2)"}},colorPanelHeaderIcon:{normal:{name:"--vkui--color_panel_header_icon",value:"var(--vkui--color_panel_header_icon, #2688eb)"},hover:{name:"--vkui--color_panel_header_icon--hover",value:"var(--vkui--color_panel_header_icon--hover, #2483E4)"},active:{name:"--vkui--color_panel_header_icon--active",value:"var(--vkui--color_panel_header_icon--active, #237EDD)"}},colorSegmentedControl:{normal:{name:"--vkui--color_segmented_control",value:"var(--vkui--color_segmented_control, #ffffff)"},hover:{name:"--vkui--color_segmented_control--hover",value:"var(--vkui--color_segmented_control--hover, #F5F5F7)"},active:{name:"--vkui--color_segmented_control--active",value:"var(--vkui--color_segmented_control--active, #EBECEF)"}},colorTabbarTextInactive:{normal:{name:"--vkui--color_tabbar_text_inactive",value:"var(--vkui--color_tabbar_text_inactive, #99a2ad)"},hover:{name:"--vkui--color_tabbar_text_inactive--hover",value:"var(--vkui--color_tabbar_text_inactive--hover, #939CA9)"},active:{name:"--vkui--color_tabbar_text_inactive--active",value:"var(--vkui--color_tabbar_text_inactive--active, #8D96A4)"}},colorTransparent:{normal:{name:"--vkui--color_transparent",value:"var(--vkui--color_transparent, transparent)"},hover:{name:"--vkui--color_transparent--hover",value:"var(--vkui--color_transparent--hover, rgba(0, 16, 61, 0.04))"},active:{name:"--vkui--color_transparent--active",value:"var(--vkui--color_transparent--active, rgba(0, 16, 61, 0.08))"}},themeType:"cssVars"}},530454:e=>{"use strict";var t="%[a-f0-9]{2}",i=new RegExp("("+t+")|([^%]+?)","gi"),o=new RegExp("("+t+")+","gi");function r(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;t=t||1;var i=e.slice(0,t),o=e.slice(t);return Array.prototype.concat.call([],r(i),r(o))}function n(e){try{return decodeURIComponent(e)}catch(n){for(var t=e.match(i)||[],o=1;o<t.length;o++)t=(e=r(t,o).join("")).match(i)||[];return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},i=o.exec(e);i;){try{t[i[0]]=decodeURIComponent(i[0])}catch(e){var r=n(i[0]);r!==i[0]&&(t[i[0]]=r)}i=o.exec(e)}t["%C2"]="�";for(var a=Object.keys(t),s=0;s<a.length;s++){var c=a[s];e=e.replace(new RegExp(c,"g"),t[c])}return e}(e)}}},473055:e=>{"use strict";e.exports=function(e,t){for(var i={},o=Object.keys(e),r=Array.isArray(t),n=0;n<o.length;n++){var a=o[n],s=e[a];(r?-1!==t.indexOf(a):t(a,s,e))&&(i[a]=s)}return i}},515037:(e,t,i)=>{"use strict";i.d(t,{default:()=>o});const o={root:"SpecialProjectHeader__root--MUgyn",singleImage:"SpecialProjectHeader__singleImage--tRSSj"}},709241:(e,t,i)=>{"use strict";i.d(t,{default:()=>o});const o={root:"renderAvatarToString__root--HfR8k"}},905867:(e,t,i)=>{"use strict";function o(e,t){void 0===t&&(t={});for(var i=function(e){for(var t=[],i=0;i<e.length;){var o=e[i];if("*"!==o&&"+"!==o&&"?"!==o)if("\\"!==o)if("{"!==o)if("}"!==o)if(":"!==o)if("("!==o)t.push({type:"CHAR",index:i,value:e[i++]});else{var r=1,n="";if("?"===e[s=i+1])throw new TypeError('Pattern cannot start with "?" at '.concat(s));for(;s<e.length;)if("\\"!==e[s]){if(")"===e[s]){if(0==--r){s++;break}}else if("("===e[s]&&(r++,"?"!==e[s+1]))throw new TypeError("Capturing groups are not allowed at ".concat(s));n+=e[s++]}else n+=e[s++]+e[s++];if(r)throw new TypeError("Unbalanced pattern at ".concat(i));if(!n)throw new TypeError("Missing pattern at ".concat(i));t.push({type:"PATTERN",index:i,value:n}),i=s}else{for(var a="",s=i+1;s<e.length;){var c=e.charCodeAt(s);if(!(c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||95===c))break;a+=e[s++]}if(!a)throw new TypeError("Missing parameter name at ".concat(i));t.push({type:"NAME",index:i,value:a}),i=s}else t.push({type:"CLOSE",index:i,value:e[i++]});else t.push({type:"OPEN",index:i,value:e[i++]});else t.push({type:"ESCAPED_CHAR",index:i++,value:e[i++]});else t.push({type:"MODIFIER",index:i,value:e[i++]})}return t.push({type:"END",index:i,value:""}),t}(e),o=t.prefixes,r=void 0===o?"./":o,n="[^".concat(a(t.delimiter||"/#?"),"]+?"),s=[],c=0,l=0,d="",u=function(e){if(l<i.length&&i[l].type===e)return i[l++].value},_=function(e){var t=u(e);if(void 0!==t)return t;var o=i[l],r=o.type,n=o.index;throw new TypeError("Unexpected ".concat(r," at ").concat(n,", expected ").concat(e))},p=function(){for(var e,t="";e=u("CHAR")||u("ESCAPED_CHAR");)t+=e;return t};l<i.length;){var m=u("CHAR"),g=u("NAME"),v=u("PATTERN");if(g||v){var f=m||"";-1===r.indexOf(f)&&(d+=f,f=""),d&&(s.push(d),d=""),s.push({name:g||c++,prefix:f,suffix:"",pattern:v||n,modifier:u("MODIFIER")||""})}else{var y=m||u("ESCAPED_CHAR");if(y)d+=y;else if(d&&(s.push(d),d=""),u("OPEN")){f=p();var E=u("NAME")||"",A=u("PATTERN")||"",S=p();_("CLOSE"),s.push({name:E||(A?c++:""),pattern:E&&!A?n:A,prefix:f,suffix:S,modifier:u("MODIFIER")||""})}else _("END")}}return s}function r(e,t){return function(e,t){void 0===t&&(t={});var i=s(t),o=t.encode,r=void 0===o?function(e){return e}:o,n=t.validate,a=void 0===n||n,c=e.map((function(e){if("object"==typeof e)return new RegExp("^(?:".concat(e.pattern,")$"),i)}));return function(t){for(var i="",o=0;o<e.length;o++){var n=e[o];if("string"!=typeof n){var s=t?t[n.name]:void 0,l="?"===n.modifier||"*"===n.modifier,d="*"===n.modifier||"+"===n.modifier;if(Array.isArray(s)){if(!d)throw new TypeError('Expected "'.concat(n.name,'" to not repeat, but got an array'));if(0===s.length){if(l)continue;throw new TypeError('Expected "'.concat(n.name,'" to not be empty'))}for(var u=0;u<s.length;u++){var _=r(s[u],n);if(a&&!c[o].test(_))throw new TypeError('Expected all "'.concat(n.name,'" to match "').concat(n.pattern,'", but got "').concat(_,'"'));i+=n.prefix+_+n.suffix}}else if("string"!=typeof s&&"number"!=typeof s){if(!l){var p=d?"an array":"a string";throw new TypeError('Expected "'.concat(n.name,'" to be ').concat(p))}}else{_=r(String(s),n);if(a&&!c[o].test(_))throw new TypeError('Expected "'.concat(n.name,'" to match "').concat(n.pattern,'", but got "').concat(_,'"'));i+=n.prefix+_+n.suffix}}else i+=n}return i}}(o(e,t),t)}function n(e,t){var i=[];return function(e,t,i){void 0===i&&(i={});var o=i.decode,r=void 0===o?function(e){return e}:o;return function(i){var o=e.exec(i);if(!o)return!1;for(var n=o[0],a=o.index,s=Object.create(null),c=function(e){if(void 0===o[e])return"continue";var i=t[e-1];"*"===i.modifier||"+"===i.modifier?s[i.name]=o[e].split(i.prefix+i.suffix).map((function(e){return r(e,i)})):s[i.name]=r(o[e],i)},l=1;l<o.length;l++)c(l);return{path:n,index:a,params:s}}}(l(e,i,t),i,t)}function a(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function s(e){return e&&e.sensitive?"":"i"}function c(e,t,i){return function(e,t,i){void 0===i&&(i={});for(var o=i.strict,r=void 0!==o&&o,n=i.start,c=void 0===n||n,l=i.end,d=void 0===l||l,u=i.encode,_=void 0===u?function(e){return e}:u,p=i.delimiter,m=void 0===p?"/#?":p,g=i.endsWith,v="[".concat(a(void 0===g?"":g),"]|$"),f="[".concat(a(m),"]"),y=c?"^":"",E=0,A=e;E<A.length;E++){var S=A[E];if("string"==typeof S)y+=a(_(S));else{var b=a(_(S.prefix)),T=a(_(S.suffix));if(S.pattern)if(t&&t.push(S),b||T)if("+"===S.modifier||"*"===S.modifier){var I="*"===S.modifier?"?":"";y+="(?:".concat(b,"((?:").concat(S.pattern,")(?:").concat(T).concat(b,"(?:").concat(S.pattern,"))*)").concat(T,")").concat(I)}else y+="(?:".concat(b,"(").concat(S.pattern,")").concat(T,")").concat(S.modifier);else"+"===S.modifier||"*"===S.modifier?y+="((?:".concat(S.pattern,")").concat(S.modifier,")"):y+="(".concat(S.pattern,")").concat(S.modifier);else y+="(?:".concat(b).concat(T,")").concat(S.modifier)}}if(d)r||(y+="".concat(f,"?")),y+=i.endsWith?"(?=".concat(v,")"):"$";else{var C=e[e.length-1],k="string"==typeof C?f.indexOf(C[C.length-1])>-1:void 0===C;r||(y+="(?:".concat(f,"(?=").concat(v,"))?")),k||(y+="(?=".concat(f,"|").concat(v,")"))}return new RegExp(y,s(i))}(o(e,i),t,i)}function l(e,t,i){return e instanceof RegExp?function(e,t){if(!t)return e;for(var i=/\((?:\?<(.*?)>)?(?!\?)/g,o=0,r=i.exec(e.source);r;)t.push({name:r[1]||o++,prefix:"",suffix:"",modifier:"",pattern:""}),r=i.exec(e.source);return e}(e,t):Array.isArray(e)?function(e,t,i){var o=e.map((function(e){return l(e,t,i).source}));return new RegExp("(?:".concat(o.join("|"),")"),s(i))}(e,t,i):c(e,t,i)}i.d(t,{compile:()=>r,match:()=>n,pathToRegexp:()=>l})},686663:(e,t,i)=>{"use strict";const o=i(594470),r=i(530454),n=i(300528),a=i(473055),s=Symbol("encodeFragmentIdentifier");function c(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function l(e,t){return t.encode?t.strict?o(e):encodeURIComponent(e):e}function d(e,t){return t.decode?r(e):e}function u(e){return Array.isArray(e)?e.sort():"object"==typeof e?u(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function _(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function p(e){const t=(e=_(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function m(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function g(e,t){c((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const i=function(e){let t;switch(e.arrayFormat){case"index":return(e,i,o)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===o[e]&&(o[e]={}),o[e][t[1]]=i):o[e]=i};case"bracket":return(e,i,o)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==o[e]?o[e]=[].concat(o[e],i):o[e]=[i]:o[e]=i};case"colon-list-separator":return(e,i,o)=>{t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==o[e]?o[e]=[].concat(o[e],i):o[e]=[i]:o[e]=i};case"comma":case"separator":return(t,i,o)=>{const r="string"==typeof i&&i.includes(e.arrayFormatSeparator),n="string"==typeof i&&!r&&d(i,e).includes(e.arrayFormatSeparator);i=n?d(i,e):i;const a=r||n?i.split(e.arrayFormatSeparator).map((t=>d(t,e))):null===i?i:d(i,e);o[t]=a};case"bracket-separator":return(t,i,o)=>{const r=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!r)return void(o[t]=i?d(i,e):i);const n=null===i?[]:i.split(e.arrayFormatSeparator).map((t=>d(t,e)));void 0!==o[t]?o[t]=[].concat(o[t],n):o[t]=n};default:return(e,t,i)=>{void 0!==i[e]?i[e]=[].concat(i[e],t):i[e]=t}}}(t),o=Object.create(null);if("string"!=typeof e)return o;if(!(e=e.trim().replace(/^[?#&]/,"")))return o;for(const r of e.split("&")){if(""===r)continue;let[e,a]=n(t.decode?r.replace(/\+/g," "):r,"=");a=void 0===a?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?a:d(a,t),i(d(e,t),a,o)}for(const e of Object.keys(o)){const i=o[e];if("object"==typeof i&&null!==i)for(const e of Object.keys(i))i[e]=m(i[e],t);else o[e]=m(i,t)}return!1===t.sort?o:(!0===t.sort?Object.keys(o).sort():Object.keys(o).sort(t.sort)).reduce(((e,t)=>{const i=o[t];return Boolean(i)&&"object"==typeof i&&!Array.isArray(i)?e[t]=u(i):e[t]=i,e}),Object.create(null))}t.extract=p,t.parse=g,t.stringify=(e,t)=>{if(!e)return"";c((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const i=i=>t.skipNull&&null==e[i]||t.skipEmptyString&&""===e[i],o=function(e){switch(e.arrayFormat){case"index":return t=>(i,o)=>{const r=i.length;return void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?i:null===o?[...i,[l(t,e),"[",r,"]"].join("")]:[...i,[l(t,e),"[",l(r,e),"]=",l(o,e)].join("")]};case"bracket":return t=>(i,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?i:null===o?[...i,[l(t,e),"[]"].join("")]:[...i,[l(t,e),"[]=",l(o,e)].join("")];case"colon-list-separator":return t=>(i,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?i:null===o?[...i,[l(t,e),":list="].join("")]:[...i,[l(t,e),":list=",l(o,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t="bracket-separator"===e.arrayFormat?"[]=":"=";return i=>(o,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?o:(r=null===r?"":r,0===o.length?[[l(i,e),t,l(r,e)].join("")]:[[o,l(r,e)].join(e.arrayFormatSeparator)])}default:return t=>(i,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?i:null===o?[...i,l(t,e)]:[...i,[l(t,e),"=",l(o,e)].join("")]}}(t),r={};for(const t of Object.keys(e))i(t)||(r[t]=e[t]);const n=Object.keys(r);return!1!==t.sort&&n.sort(t.sort),n.map((i=>{const r=e[i];return void 0===r?"":null===r?l(i,t):Array.isArray(r)?0===r.length&&"bracket-separator"===t.arrayFormat?l(i,t)+"[]":r.reduce(o(i),[]).join("&"):l(i,t)+"="+l(r,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[i,o]=n(e,"#");return Object.assign({url:i.split("?")[0]||"",query:g(p(e),t)},t&&t.parseFragmentIdentifier&&o?{fragmentIdentifier:d(o,t)}:{})},t.stringifyUrl=(e,i)=>{i=Object.assign({encode:!0,strict:!0,[s]:!0},i);const o=_(e.url).split("?")[0]||"",r=t.extract(e.url),n=t.parse(r,{sort:!1}),a=Object.assign(n,e.query);let c=t.stringify(a,i);c&&(c=`?${c}`);let d=function(e){let t="";const i=e.indexOf("#");return-1!==i&&(t=e.slice(i)),t}(e.url);return e.fragmentIdentifier&&(d=`#${i[s]?l(e.fragmentIdentifier,i):e.fragmentIdentifier}`),`${o}${c}${d}`},t.pick=(e,i,o)=>{o=Object.assign({parseFragmentIdentifier:!0,[s]:!1},o);const{url:r,query:n,fragmentIdentifier:c}=t.parseUrl(e,o);return t.stringifyUrl({url:r,query:a(n,i),fragmentIdentifier:c},o)},t.exclude=(e,i,o)=>{const r=Array.isArray(i)?e=>!i.includes(e):(e,t)=>!i(e,t);return t.pick(e,r,o)}},594470:e=>{"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},300528:e=>{"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const i=e.indexOf(t);return-1===i?[e]:[e.slice(0,i),e.slice(i+t.length)]}},758493:(e,t,i)=>{"use strict";var o=i(296540);var r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=o.useState,a=o.useEffect,s=o.useLayoutEffect,c=o.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!r(e,i)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var i=t(),o=n({inst:{value:i,getSnapshot:t}}),r=o[0].inst,d=o[1];return s((function(){r.value=i,r.getSnapshot=t,l(r)&&d({inst:r})}),[e,i,t]),a((function(){return l(r)&&d({inst:r}),e((function(){l(r)&&d({inst:r})}))}),[e]),c(i),i};t.useSyncExternalStore=void 0!==o.useSyncExternalStore?o.useSyncExternalStore:d},922162:(e,t,i)=>{"use strict";var o=i(296540),r=i(19888);var n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=r.useSyncExternalStore,s=o.useRef,c=o.useEffect,l=o.useMemo,d=o.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,i,o,r){var u=s(null);if(null===u.current){var _={hasValue:!1,value:null};u.current=_}else _=u.current;u=l((function(){function e(e){if(!c){if(c=!0,a=e,e=o(e),void 0!==r&&_.hasValue){var t=_.value;if(r(t,e))return s=t}return s=e}if(t=s,n(a,e))return t;var i=o(e);return void 0!==r&&r(t,i)?(a=e,t):(a=e,s=i)}var a,s,c=!1,l=void 0===i?null:i;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,i,o,r]);var p=a(e,u[0],u[1]);return c((function(){_.hasValue=!0,_.value=p}),[p]),d(p),p}},19888:(e,t,i)=>{"use strict";e.exports=i(758493)},69242:(e,t,i)=>{"use strict";e.exports=i(922162)},391943:(e,t,i)=>{"use strict";i.d(t,{default:()=>o});const o={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)}},913469:(e,t,i)=>{"use strict";i.d(t,{default:()=>o});const o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},543407:(e,t,i)=>{"use strict";let o;i.d(t,{default:()=>n});const r=new Uint8Array(16);function n(){if(!o&&(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!o))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(r)}},338823:(e,t,i)=>{"use strict";i.d(t,{unsafeStringify:()=>r});i(766382);const o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));function r(e,t=0){return(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase()}},418562:(e,t,i)=>{"use strict";i.d(t,{default:()=>a});var o=i(391943),r=i(543407),n=i(338823);const a=function(e,t,i){if(o.default.randomUUID&&!t&&!e)return o.default.randomUUID();const a=(e=e||{}).random||(e.rng||r.default)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){i=i||0;for(let e=0;e<16;++e)t[i+e]=a[e];return t}return(0,n.unsafeStringify)(a)}},766382:(e,t,i)=>{"use strict";i.d(t,{default:()=>r});var o=i(913469);const r=function(e){return"string"==typeof e&&o.default.test(e)}},402210:function(e,t,i){var o;!function(t){"use strict";function r(){}var n=r.prototype,a=t.EventEmitter;function s(e,t){for(var i=e.length;i--;)if(e[i].listener===t)return i;return-1}function c(e){return function(){return this[e].apply(this,arguments)}}function l(e){return"function"==typeof e||e instanceof RegExp||!(!e||"object"!=typeof e)&&l(e.listener)}n.getListeners=function(e){var t,i,o=this._getEvents();if(e instanceof RegExp)for(i in t={},o)o.hasOwnProperty(i)&&e.test(i)&&(t[i]=o[i]);else t=o[e]||(o[e]=[]);return t},n.flattenListeners=function(e){var t,i=[];for(t=0;t<e.length;t+=1)i.push(e[t].listener);return i},n.getListenersAsObject=function(e){var t,i=this.getListeners(e);return i instanceof Array&&((t={})[e]=i),t||i},n.addListener=function(e,t){if(!l(t))throw new TypeError("listener must be a function");var i,o=this.getListenersAsObject(e),r="object"==typeof t;for(i in o)o.hasOwnProperty(i)&&-1===s(o[i],t)&&o[i].push(r?t:{listener:t,once:!1});return this},n.on=c("addListener"),n.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},n.once=c("addOnceListener"),n.defineEvent=function(e){return this.getListeners(e),this},n.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},n.removeListener=function(e,t){var i,o,r=this.getListenersAsObject(e);for(o in r)r.hasOwnProperty(o)&&-1!==(i=s(r[o],t))&&r[o].splice(i,1);return this},n.off=c("removeListener"),n.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},n.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},n.manipulateListeners=function(e,t,i){var o,r,n=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(o=i.length;o--;)n.call(this,t,i[o]);else for(o in t)t.hasOwnProperty(o)&&(r=t[o])&&("function"==typeof r?n.call(this,o,r):a.call(this,o,r));return this},n.removeEvent=function(e){var t,i=typeof e,o=this._getEvents();if("string"===i)delete o[e];else if(e instanceof RegExp)for(t in o)o.hasOwnProperty(t)&&e.test(t)&&delete o[t];else delete this._events;return this},n.removeAllListeners=c("removeEvent"),n.emitEvent=function(e,t){var i,o,r,n,a=this.getListenersAsObject(e);for(n in a)if(a.hasOwnProperty(n))for(i=a[n].slice(0),r=0;r<i.length;r++)!0===(o=i[r]).once&&this.removeListener(e,o.listener),o.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,o.listener);return this},n.trigger=c("emitEvent"),n.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},n.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},n._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},n._getEvents=function(){return this._events||(this._events={})},r.noConflict=function(){return t.EventEmitter=a,r},void 0===(o=function(){return r}.call(t,i,t,e))||(e.exports=o)}("undefined"!=typeof window?window:this||{})},773444:(e,t,i)=>{"use strict";i.d(t,{Action:()=>o});var o;i(58168);!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(o||(o={}))},923737:(e,t,i)=>{"use strict";i.d(t,{getAsyncContextStrategy:()=>n});var o=i(334837),r=i(397944);function n(e){const t=(0,o.getSentryCarrier)(e);return t.acs?t.acs:(0,r.getStackAsyncContextStrategy)()}},397944:(e,t,i)=>{"use strict";i.d(t,{getStackAsyncContextStrategy:()=>_});var o=i(946741),r=i(411817),n=i(19325),a=i(334837);class s{withScope(e){const t=this._pushScope();let i;try{i=e(t)}catch(e){throw this._popScope(),e}return(0,n.isThenable)(i)?i.then((e=>(this._popScope(),e)),(e=>{throw this._popScope(),e})):(this._popScope(),i)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}constructor(e,t){let i,o;i=e||new r.Scope,o=t||new r.Scope,this._stack=[{scope:i}],this._isolationScope=o}}function c(){const e=(0,a.getMainCarrier)(),t=(0,a.getSentryCarrier)(e);return t.stack=t.stack||new s((0,o.getDefaultCurrentScope)(),(0,o.getDefaultIsolationScope)())}function l(e){return c().withScope(e)}function d(e,t){const i=c();return i.withScope((()=>(i.getStackTop().scope=e,t(e))))}function u(e){return c().withScope((()=>e(c().getIsolationScope())))}function _(){return{withIsolationScope:u,withScope:l,withSetScope:d,withSetIsolationScope:(e,t)=>u(t),getCurrentScope:()=>c().getScope(),getIsolationScope:()=>c().getIsolationScope()}}},606979:(e,t,i)=>{"use strict";i.d(t,{addBreadcrumb:()=>s});var o=i(944705),r=i(676965),n=i(254244);const a=100;function s(e,t){const i=(0,o.getClient)(),s=(0,o.getIsolationScope)();if(!i)return;const{beforeBreadcrumb:c=null,maxBreadcrumbs:l=a}=i.getOptions();if(l<=0)return;const d={timestamp:(0,n.dateTimestampInSeconds)(),...e},u=c?(0,r.consoleSandbox)((()=>c(d,t))):d;null!==u&&(i.emit&&i.emit("beforeAddBreadcrumb",u,t),s.addBreadcrumb(u,l))}},334837:(e,t,i)=>{"use strict";i.d(t,{getGlobalSingleton:()=>s,getMainCarrier:()=>n,getSentryCarrier:()=>a});var o=i(279365),r=i(138398);function n(){return a(r.GLOBAL_OBJ),r.GLOBAL_OBJ}function a(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||o.SDK_VERSION,t[o.SDK_VERSION]=t[o.SDK_VERSION]||{}}function s(e,t,i=r.GLOBAL_OBJ){const n=i.__SENTRY__=i.__SENTRY__||{},a=n[o.SDK_VERSION]=n[o.SDK_VERSION]||{};return a[e]||(a[e]=t())}},944705:(e,t,i)=>{"use strict";i.d(t,{getClient:()=>p,getCurrentScope:()=>c,getGlobalScope:()=>d,getIsolationScope:()=>l,getTraceContextFromScope:()=>m,withIsolationScope:()=>_,withScope:()=>u});var o=i(923737),r=i(334837),n=i(411817),a=i(767422),s=i(844228);function c(){const e=(0,r.getMainCarrier)();return(0,o.getAsyncContextStrategy)(e).getCurrentScope()}function l(){const e=(0,r.getMainCarrier)();return(0,o.getAsyncContextStrategy)(e).getIsolationScope()}function d(){return(0,r.getGlobalSingleton)("globalScope",(()=>new n.Scope))}function u(...e){const t=(0,r.getMainCarrier)(),i=(0,o.getAsyncContextStrategy)(t);if(2===e.length){const[t,o]=e;return t?i.withSetScope(t,o):i.withScope(o)}return i.withScope(e[0])}function _(...e){const t=(0,r.getMainCarrier)(),i=(0,o.getAsyncContextStrategy)(t);if(2===e.length){const[t,o]=e;return t?i.withSetIsolationScope(t,o):i.withIsolationScope(o)}return i.withIsolationScope(e[0])}function p(){return c().getClient()}function m(e){const t=e.getPropagationContext(),{traceId:i,parentSpanId:o,propagationSpanId:r}=t;return(0,a.dropUndefinedKeys)({trace_id:i,span_id:r||(0,s.generateSpanId)(),parent_span_id:o})}},946741:(e,t,i)=>{"use strict";i.d(t,{getDefaultCurrentScope:()=>n,getDefaultIsolationScope:()=>a});var o=i(334837),r=i(411817);function n(){return(0,o.getGlobalSingleton)("defaultCurrentScope",(()=>new r.Scope))}function a(){return(0,o.getGlobalSingleton)("defaultIsolationScope",(()=>new r.Scope))}},411817:(e,t,i)=>{"use strict";i.d(t,{Scope:()=>u});var o=i(719873),r=i(19325),n=i(676965),a=i(929385),s=i(844228),c=i(254244),l=i(53915),d=i(239700);class u{clone(){const e=new u;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},this._contexts.flags&&(e._contexts.flags={values:[...this._contexts.flags.values]}),e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,(0,d._setSpanForScope)(e,(0,d._getSpanForScope)(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&(0,o.updateSession)(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"==typeof e?e(this):e,i=t instanceof u?t.getScopeData():(0,r.isPlainObject)(t)?e:void 0,{tags:o,extra:n,user:a,contexts:s,level:c,fingerprint:l=[],propagationContext:d}=i||{};return this._tags={...this._tags,...o},this._extra={...this._extra,...n},this._contexts={...this._contexts,...s},a&&Object.keys(a).length&&(this._user=a),c&&(this._level=c),l.length&&(this._fingerprint=l),d&&(this._propagationContext=d),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,(0,d._setSpanForScope)(this,void 0),this._attachments=[],this.setPropagationContext({traceId:(0,s.generateTraceId)(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(e,t){const i="number"==typeof t?t:100;if(i<=0)return this;const o={timestamp:(0,c.dateTimestampInSeconds)(),...e};return this._breadcrumbs.push(o),this._breadcrumbs.length>i&&(this._breadcrumbs=this._breadcrumbs.slice(-i),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:(0,d._getSpanForScope)(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata=(0,l.merge)(this._sdkProcessingMetadata,e,2),this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const i=t?.event_id||(0,a.uuid4)();if(!this._client)return n.logger.warn("No client configured on scope - will not capture exception!"),i;const o=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:o,...t,event_id:i},this),i}captureMessage(e,t,i){const o=i?.event_id||(0,a.uuid4)();if(!this._client)return n.logger.warn("No client configured on scope - will not capture message!"),o;const r=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:r,...i,event_id:o},this),o}captureEvent(e,t){const i=t?.event_id||(0,a.uuid4)();return this._client?(this._client.captureEvent(e,{...t,event_id:i},this),i):(n.logger.warn("No client configured on scope - will not capture event!"),i)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:(0,s.generateTraceId)(),sampleRand:Math.random()}}}},719873:(e,t,i)=>{"use strict";i.d(t,{closeSession:()=>c,makeSession:()=>a,updateSession:()=>s});var o=i(767422),r=i(254244),n=i(929385);function a(e){const t=(0,r.timestampInSeconds)(),i={sid:(0,n.uuid4)(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return(0,o.dropUndefinedKeys)({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(i)};return e&&s(i,e),i}function s(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||(0,r.timestampInSeconds)(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:(0,n.uuid4)()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function c(e,t){let i={};t?i={status:t}:"ok"===e.status&&(i={status:"exited"}),s(e,i)}},874621:(e,t,i)=>{"use strict";i.d(t,{getComponentName:()=>l,getLocationHref:()=>c,htmlTreeAsString:()=>a});var o=i(19325);const r=i(138398).GLOBAL_OBJ,n=80;function a(e,t={}){if(!e)return"<unknown>";try{let i=e;const o=5,r=[];let a=0,c=0;const l=" > ",d=l.length;let u;const _=Array.isArray(t)?t:t.keyAttrs,p=!Array.isArray(t)&&t.maxStringLength||n;for(;i&&a++<o&&(u=s(i,_),!("html"===u||a>1&&c+r.length*d+u.length>=p));)r.push(u),c+=u.length,i=i.parentNode;return r.reverse().join(l)}catch(e){return"<unknown>"}}function s(e,t){const i=e,n=[];if(!i?.tagName)return"";if(r.HTMLElement&&i instanceof HTMLElement&&i.dataset){if(i.dataset.sentryComponent)return i.dataset.sentryComponent;if(i.dataset.sentryElement)return i.dataset.sentryElement}n.push(i.tagName.toLowerCase());const a=t?.length?t.filter((e=>i.getAttribute(e))).map((e=>[e,i.getAttribute(e)])):null;if(a?.length)a.forEach((e=>{n.push(`[${e[0]}="${e[1]}"]`)}));else{i.id&&n.push(`#${i.id}`);const e=i.className;if(e&&(0,o.isString)(e)){const t=e.split(/\s+/);for(const e of t)n.push(`.${e}`)}}const s=["aria-label","type","name","title","alt"];for(const e of s){const t=i.getAttribute(e);t&&n.push(`[${e}="${t}"]`)}return n.join("")}function c(){try{return r.document.location.href}catch(e){return""}}function l(e){if(!r.HTMLElement)return null;let t=e;for(let e=0;e<5;e++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}},676003:(e,t,i)=>{"use strict";i.d(t,{DEBUG_BUILD:()=>o});const o=!1},19325:(e,t,i)=>{"use strict";i.d(t,{isDOMError:()=>s,isDOMException:()=>c,isElement:()=>m,isError:()=>r,isErrorEvent:()=>a,isEvent:()=>p,isInstanceOf:()=>y,isParameterizedString:()=>d,isPlainObject:()=>_,isPrimitive:()=>u,isRegExp:()=>g,isString:()=>l,isSyntheticEvent:()=>f,isThenable:()=>v,isVueViewModel:()=>E});const o=Object.prototype.toString;function r(e){switch(o.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return y(e,Error)}}function n(e,t){return o.call(e)===`[object ${t}]`}function a(e){return n(e,"ErrorEvent")}function s(e){return n(e,"DOMError")}function c(e){return n(e,"DOMException")}function l(e){return n(e,"String")}function d(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function u(e){return null===e||d(e)||"object"!=typeof e&&"function"!=typeof e}function _(e){return n(e,"Object")}function p(e){return"undefined"!=typeof Event&&y(e,Event)}function m(e){return"undefined"!=typeof Element&&y(e,Element)}function g(e){return n(e,"RegExp")}function v(e){return Boolean(e?.then&&"function"==typeof e.then)}function f(e){return _(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function y(e,t){try{return e instanceof t}catch(e){return!1}}function E(e){return!("object"!=typeof e||null===e||!e.__isVue&&!e._isVue)}},676965:(e,t,i)=>{"use strict";i.d(t,{CONSOLE_LEVELS:()=>a,consoleSandbox:()=>c,logger:()=>l,originalConsoleMethods:()=>s});var o=i(334837),r=i(676003),n=i(138398);const a=["debug","info","warn","error","log","assert","trace"],s={};function c(e){if(!("console"in n.GLOBAL_OBJ))return e();const t=n.GLOBAL_OBJ.console,i={},o=Object.keys(s);o.forEach((e=>{const o=s[e];i[e]=t[e],t[e]=o}));try{return e()}finally{o.forEach((e=>{t[e]=i[e]}))}}const l=(0,o.getGlobalSingleton)("logger",(function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return r.DEBUG_BUILD?a.forEach((i=>{t[i]=(...t)=>{e&&c((()=>{n.GLOBAL_OBJ.console[i](`Sentry Logger [${i}]:`,...t)}))}})):a.forEach((e=>{t[e]=()=>{}})),t}))},929385:(e,t,i)=>{"use strict";i.d(t,{addContextToFrame:()=>u,addExceptionMechanism:()=>d,addExceptionTypeValue:()=>l,checkOrSetAlreadyCaught:()=>_,getEventDescription:()=>c,uuid4:()=>a});var o=i(767422),r=i(2556),n=i(138398);function a(e=function(){const e=n.GLOBAL_OBJ;return e.crypto||e.msCrypto}()){let t=()=>16*Math.random();try{if(e?.randomUUID)return e.randomUUID().replace(/-/g,"");e?.getRandomValues&&(t=()=>{const t=new Uint8Array(1);return e.getRandomValues(t),t[0]})}catch(e){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&t())>>e/4).toString(16)))}function s(e){return e.exception?.values?.[0]}function c(e){const{message:t,event_id:i}=e;if(t)return t;const o=s(e);return o?o.type&&o.value?`${o.type}: ${o.value}`:o.type||o.value||i||"<unknown>":i||"<unknown>"}function l(e,t,i){const o=e.exception=e.exception||{},r=o.values=o.values||[],n=r[0]=r[0]||{};n.value||(n.value=t||""),n.type||(n.type=i||"Error")}function d(e,t){const i=s(e);if(!i)return;const o=i.mechanism;if(i.mechanism={type:"generic",handled:!0,...o,...t},t&&"data"in t){const e={...o?.data,...t.data};i.mechanism.data=e}}function u(e,t,i=5){if(void 0===t.lineno)return;const o=e.length,n=Math.max(Math.min(o-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,n-i),n).map((e=>(0,r.snipLine)(e,0)));const a=Math.min(o-1,n);t.context_line=(0,r.snipLine)(e[a],t.colno||0),t.post_context=e.slice(Math.min(n+1,o),n+1+i).map((e=>(0,r.snipLine)(e,0)))}function _(e){if(function(e){try{return e.__sentry_captured__}catch{}}(e))return!0;try{(0,o.addNonEnumerableProperty)(e,"__sentry_captured__",!0)}catch(e){}return!1}},767422:(e,t,i)=>{"use strict";i.d(t,{addNonEnumerableProperty:()=>l,convertToPlainObject:()=>_,dropUndefinedKeys:()=>v,extractExceptionKeysForMessage:()=>g,fill:()=>c,getOriginalFunction:()=>u,markFunctionWrapped:()=>d});var o=i(874621),r=i(676003),n=i(19325),a=i(676965),s=i(2556);function c(e,t,i){if(!(t in e))return;const o=e[t],n=i(o);"function"==typeof n&&d(n,o);try{e[t]=n}catch{r.DEBUG_BUILD&&a.logger.log(`Failed to replace method "${t}" in object`,e)}}function l(e,t,i){try{Object.defineProperty(e,t,{value:i,writable:!0,configurable:!0})}catch(i){r.DEBUG_BUILD&&a.logger.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function d(e,t){try{const i=t.prototype||{};e.prototype=t.prototype=i,l(e,"__sentry_original__",t)}catch(e){}}function u(e){return e.__sentry_original__}function _(e){if((0,n.isError)(e))return{message:e.message,name:e.name,stack:e.stack,...m(e)};if((0,n.isEvent)(e)){const t={type:e.type,target:p(e.target),currentTarget:p(e.currentTarget),...m(e)};return"undefined"!=typeof CustomEvent&&(0,n.isInstanceOf)(e,CustomEvent)&&(t.detail=e.detail),t}return e}function p(e){try{return(0,n.isElement)(e)?(0,o.htmlTreeAsString)(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function m(e){if("object"==typeof e&&null!==e){const t={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}return{}}function g(e,t=40){const i=Object.keys(_(e));i.sort();const o=i[0];if(!o)return"[object has no keys]";if(o.length>=t)return(0,s.truncate)(o,t);for(let e=i.length;e>0;e--){const o=i.slice(0,e).join(", ");if(!(o.length>t))return e===i.length?o:(0,s.truncate)(o,t)}return""}function v(e){return f(e,new Map)}function f(e,t){if(function(e){if(!(0,n.isPlainObject)(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch{return!0}}(e)){const i=t.get(e);if(void 0!==i)return i;const o={};t.set(e,o);for(const i of Object.getOwnPropertyNames(e))void 0!==e[i]&&(o[i]=f(e[i],t));return o}if(Array.isArray(e)){const i=t.get(e);if(void 0!==i)return i;const o=[];return t.set(e,o),e.forEach((e=>{o.push(f(e,t))})),o}return e}},844228:(e,t,i)=>{"use strict";i.d(t,{generateSpanId:()=>n,generateTraceId:()=>r});var o=i(929385);function r(){return(0,o.uuid4)()}function n(){return(0,o.uuid4)().substring(16)}},2556:(e,t,i)=>{"use strict";i.d(t,{safeJoin:()=>a,snipLine:()=>n,stringMatchesSomePattern:()=>s,truncate:()=>r});var o=i(19325);function r(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function n(e,t){let i=e;const o=i.length;if(o<=150)return i;t>o&&(t=o);let r=Math.max(t-60,0);r<5&&(r=0);let n=Math.min(r+140,o);return n>o-5&&(n=o),n===o&&(r=Math.max(n-140,0)),i=i.slice(r,n),r>0&&(i=`'{snip} ${i}`),n<o&&(i+=" {snip}"),i}function a(e,t){if(!Array.isArray(e))return"";const i=[];for(let t=0;t<e.length;t++){const r=e[t];try{(0,o.isVueViewModel)(r)?i.push("[VueViewModel]"):i.push(String(r))}catch(e){i.push("[value cannot be serialized]")}}return i.join(t)}function s(e,t=[],i=!1){return t.some((t=>function(e,t,i=!1){return!!(0,o.isString)(e)&&((0,o.isRegExp)(t)?t.test(e):!!(0,o.isString)(t)&&(i?e===t:e.includes(t)))}(e,t,i)))}},254244:(e,t,i)=>{"use strict";i.d(t,{dateTimestampInSeconds:()=>n,timestampInSeconds:()=>a});var o=i(138398);const r=1e3;function n(){return Date.now()/r}const a=function(){const{performance:e}=o.GLOBAL_OBJ;if(!e?.now)return n;const t=Date.now()-e.now(),i=null==e.timeOrigin?t:e.timeOrigin;return()=>(i+e.now())/r}()},279365:(e,t,i)=>{"use strict";i.d(t,{SDK_VERSION:()=>o});const o="9.5.0"},138398:(e,t,i)=>{"use strict";i.d(t,{GLOBAL_OBJ:()=>o});const o=globalThis},53915:(e,t,i)=>{"use strict";function o(e,t,i=2){if(!t||"object"!=typeof t||i<=0)return t;if(e&&0===Object.keys(t).length)return e;const r={...e};for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=o(r[e],t[e],i-1));return r}i.d(t,{merge:()=>o})},239700:(e,t,i)=>{"use strict";i.d(t,{_getSpanForScope:()=>a,_setSpanForScope:()=>n});var o=i(767422);const r="_sentrySpan";function n(e,t){t?(0,o.addNonEnumerableProperty)(e,r,t):delete e[r]}function a(e){return e[r]}},890630:(e,t,i)=>{"use strict";let o;function r(){if(o||(o={instance:{}}),"undefined"==typeof window)return o;const e="TracerSDK_2.5.1";return window[e]||(window[e]=o),window[e]}function n(e){const t=r();let i=t.instance[e];return i||(i={plugins:[],inner:{},modules:{},version:"2.5.1"},t.instance[e]=i),i}function a(e){return n(e).inner}function s(e,t,i){const o=a(e);return o[t]||(o[t]=i(e)),o[t]}i.d(t,{getTracerModules:()=>_t,initTracerError:()=>he,initTracerErrorUploader:()=>xe,initTracerLog:()=>m,initTracerPerformance:()=>ot,initTracerPerformanceUploader:()=>at,initTracerPlugins:()=>ut,initTracerSdk:()=>pt,initTracerSessionUploader:()=>ct});class c{constructor(){this.log=[],this.logBytes=[],this.logIndex=0,this.logTotalBytes=0,this.logMaxBytes=64e3}destroy(){this.clear()}add(e){const t=`#${this.logIndex} ${Date.now()} | ${e}\n`,i=new Blob([t]).size;if(this.logTotalBytes+=i,this.log.push(t),this.logBytes.push(i),this.logIndex++,this.logTotalBytes>this.logMaxBytes){const e=this.logTotalBytes-this.logMaxBytes;let t=0;const i=this.logBytes.length-1;for(let o=0;o<i;o++)if(t+=this.logBytes[o],t>=e||o==i-1){this.logBytes=this.logBytes.slice(o+1),this.log=this.log.slice(o+1),this.logTotalBytes-=t;break}}}getData(){return this.log}clear(){this.log=[],this.logBytes=[],this.logTotalBytes=0}}function l(e){return n(e).modules}function d(e,t,i){const o=l(e);if(o[t])throw new Error(`Tracer module "${t}" was already initialized`);return o[t]=i(e),o[t]}function u(e,t){return a(e)[t]}class _{constructor(e){this.sdkKey=e}getSdkData(){return u(this.sdkKey,0)}log(e){const t=this.getSdkData();t&&t.add(e)}clearLog(){const e=this.getSdkData();e&&e.clear()}}const p="tracerMain";function m(){return s(e=p,0,(function(){return new c})),d(e,"log",(function(){return new _(e)}));var e}const g=["fatal","error","warning","notice","debug"];class v{constructor(e,t){this.crashesCount=0,this.errors=[],this.keys={},this.sdkKey=e,this.config=t}getConfig(){return this.config}withCrashes(){return Boolean(this.crashesCount)}getMaxSeverity(){return this.maxSeverity}destroy(){this.errors=[],this.keys={},this.userId=void 0,this.module=void 0}add(e){this.maxSeverity=function(...e){let t=null;for(let o=0;o<e.length;o++){const r=(i=e[o])?g.indexOf(i):-1;-1!==r&&(null===t||r<t)&&(t=r)}var i;return null===t?void 0:g[t]}(this.maxSeverity,e.severity);if("fatal"===e.severity||"CRASH"===e.type){this.crashesCount++,this.errors.push(e);const t=u(this.sdkKey,8),i=u(this.sdkKey,3);t&&t.setCrashed(this.maxSeverity),i&&1===this.crashesCount&&i.forceUpload()}else this.errors.push(e)}getData(){return this.errors}dequeue(e=1){return this.errors.splice(0,e)}setKey(e,t){this.keys[e]=t}setKeys(e){for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.keys[t]=e[t])}removeKey(e){delete this.keys[e]}removeKeys(e){for(let t=0,i=e.length;t<i;t++)this.removeKey(e[t])}getKeys(){return this.keys}}function f(e,t,i,o={}){i=function(e,t,i){if(!i)return"";const o=e+": "+t;return 0===i.indexOf(o)?i.slice(o.length+1):i}(e,t,i);const r=i.lastIndexOf("\n");r===i.length-1&&(i=i.slice(0,r));const n=o.removeFirstLines,a=o.removeLastLines;if(n||a){let e=i.split("\n");if(n||a&&e.length){const t=n||0,i=a?e.length-a:e.length;e=e.slice(t,i)}i=e.join("\n")}if(o.detectByNames){const e=i.split("\n"),t=[];for(let i=0,o=e.length;i<o;i++){const o=e[i];-1===o.indexOf("APPTRACER_")&&t.push(o)}i=t.join("\n")}return i}const y="tracerCurrentStack";let E;function A(){return E||(E=new Error(y)),E}const S="ResizeObserver";function b(e){T(I(e,20))}function T(e){r().currentAsyncScope=e}function I(e,t){if(e)return 0===t&&(e.parent=void 0),I(e.parent,t-1),e}let C,k;try{C=new Map}catch(e){}function P(){clearTimeout(k),k=setTimeout(O,0)}function O(){C&&(C.clear(),clearTimeout(k),k=setTimeout(O,1e4))}function M(e){const t=D();t&&(C&&(t.name!==S||e||(e=S),C.set(e,t)),t.sameScopeCount--,T(L(t)))}function L(e){if(e)return e.sameScopeCount?e:L(e.parent)}function D(){return r().currentAsyncScope}function R(e,t=[],i){let o="("+e.name+")";if(e.sameScopeCount>1&&(o+=" x"+e.sameScopeCount),t.push(o),i){const i=A();t.push(f(i.name,i.message,e.stack,{detectByNames:!0}))}else t.push(e.stack);return e.parent&&R(e.parent,t,i),t.join("\n")}function N(e,t,i){if(i=t.tracerScope||i){const o=function(e){const t=u(e,4);return!!t&&t.disableStackCleanup}(e);return R(i,[f(t.name,t.message,t.stack,{detectByNames:!o})],!o)}return f(t.name,t.message,t.stack)}const x={};class F{constructor(){this.data={}}getItem(e){return this.data[e]||null}removeItem(e){this.data[e]=void 0}setItem(e,t){this.data[e]=t}}let U;function B(){if(!U){const e=r();U=e.ls,U||(U=function(){let e;try{if("undefined"==typeof window)return new F;e=window.localStorage;const t="__ls_tracer_test";return e.setItem(t,t),e.getItem(t)!==t?new F:(e.removeItem(t),e)}catch(e){return new F}}(),e.ls=U)}return U}function V(e){return"tracer-mute-"+e}function H(e){const t=B().getItem(V(e));return t?parseInt(t):null}function j(e){return!("all"===e||!W("all"))||W(e)}function W(e){let t=x[e];return void 0===t&&(x[e]=t=H(e)),!!t&&(Date.now()<t||(function(e){x[e]=null,B().removeItem(V(e))}(e),!1))}function G(){try{return String(document.visibilityState)}catch(e){return"unknown"}}const z={},K={},Y=1e4,$=10;function q(e){const t=function(e,t=0){let i=3735928559^t,o=1103547991^t;for(let t,r=0;r<e.length;r++)t=e.charCodeAt(r),i=Math.imul(i^t,2654435761),o=Math.imul(o^t,1597334677);return i=Math.imul(i^i>>>16,2246822507),i^=Math.imul(o^o>>>13,3266489909),o=Math.imul(o^o>>>16,2246822507),o^=Math.imul(i^i>>>13,3266489909),4294967296*(2097151&o)+(i>>>0)}(e),i=Date.now(),o=z[t]||i,r=K[t]||0,n=i-o,a=Math.floor(n/Y),s=Math.max(0,r-a);return s>=$||(z[t]=i,K[t]=s+1,!1)}function X(e){return e instanceof Error}function Q(e){return"object"==typeof e}function Z(e,t=!1){const i=Object.prototype.toString;let o;if(Q(e)){o=i.call(e);try{t&&(o=JSON.stringify(e))}catch(e){}}else o="function"==typeof e?i.call(e):String(e);return o}function J(e,t,i){for(let o=0,r=e.length;o<r;o++){const r=e[o];if(ee(r,t)&&!1===i(r))return}}function ee(e,t){return void 0!==e[t]}function te(e){return n(e).plugins}const ie="undefined"!=typeof window;function oe(){return ie}function re(){if(oe()){const e=window.screen,t={screenWidth:e.width,screenHeight:e.height,host:window.location.host};return e.orientation&&void 0!==e.orientation.angle&&(t.screenOrientationAngle=e.orientation.angle),t}return{}}function ne(e,t){if(j("crashUpload"))return;const i=u(e,1),o=u(e,0);if(!i)return;let r=N(e,t.error,t.asyncScope);const n=t.error.cause;let a;if(void 0!==n)try{X(n)?r=function(e,t,i){return i+"\n\nCaused by: "+t.name+": "+t.message+"\n"+N(e,t)}(e,n,r):a=Z(n,i.getConfig().stringifyErrorDataObject)}catch(e){}const s=Object.assign(Object.assign({},t),{timestamp:Date.now(),log:o?o.getData().join(""):void 0,errorStack:r,causeSimpleValue:a?a.slice(0,100):void 0,documentVisibilityState:G(),properties:re()});s.keys=Object.assign(Object.assign({},i.getKeys()),s.keys),s.userId||(s.userId=i.userId),u(e,4)&&(s.properties.asyncModuleEnabled=!0,(t.asyncScope||t.error.tracerScope)&&(s.properties.asyncModuleDataAdded=!0));const c=i.getConfig().filterError,l={error:t.error,errorStack:r,causeSimpleValue:a,component:s.component,versionName:s.versionName,versionCode:s.versionCode,severity:s.severity,keys:JSON.parse(JSON.stringify(s.keys)),issueKey:s.issueKey,crashIdSource:s.crashIdSource,userId:s.userId,documentVisibilityState:s.documentVisibilityState,errorEventType:s.errorEventType,timestamp:s.timestamp,log:s.log,properties:JSON.parse(JSON.stringify(s.properties))},d=te(e);if(q(s.component+(t.crashIdSource||r||t.error.name||t.error.message)))return void J(d,"errorOnThrottle",(function(e){e.errorOnThrottle(l)}));if(c&&!1===c(t.error,l))return;let _=!1;var p;(J(d,"errorBeforeAdd",(function(e){const t=e.errorBeforeAdd(l);if(!1===t)return _=!0,!1;if(t&&"object"==typeof t){ae(s,t),ae(l,t);let i,o=s.properties.modifiedByPlugins;i=o?o.split(", "):[],-1===i.indexOf(e.name)&&i.push(e.name),o=i.join(", "),s.properties.modifiedByPlugins=o,l.properties.modifiedByPlugins=o}})),_)||(s.severity&&(p=s.severity,-1===g.indexOf(p)&&(console.warn("Wrong Tracer severity, value will be ignored. Valid values: "+g.join(", ")),1))&&(s.severity=void 0),i.add(s))}function ae(e,t){let i;for(i in t)"keys"===i&&t[i]?se(e,i,Object.assign(Object.assign({},e[i]),t[i])):se(e,i,t[i])}function se(e,t,i){ce[t]&&(e[t]=i)}const ce={severity:!0,keys:!0,issueKey:!0,crashIdSource:!0,userId:!0,component:!0,versionName:!0,versionCode:!0};function le(e,t){const i=Z(t);return i?e+": "+i:e}let de=!1;function ue(e,t,i,o){if(X(t))ne(e,{error:t,type:"CRASH",errorEventType:i});else if(o){const o=new Error(le("Unhandled data error",t));o.tracerScope=function(e){if(C)return"string"==typeof e&&0===e.indexOf(S)?C.get(S):C.get(e)}(t),o.cause=t,ne(e,{error:o,type:"CRASH",errorEventType:i})}}class _e{constructor(e){this.sdkKey=e}getErrorsData(){return u(this.sdkKey,1)}error(e,t){let i;X(e)?i=e:(i=new Error(le("Unknown data error",e)),i.cause=e,i.stack=f(i.name,i.message,i.stack,{removeFirstLines:1})),ne(this.sdkKey,Object.assign(Object.assign({},t),{type:"NON_FATAL",error:i,errorEventType:"manual",asyncScope:i.tracerScope?void 0:D()}))}setErrorKey(e,t){const i=this.getErrorsData();i&&i.setKey(e,t)}setErrorKeys(e){const t=this.getErrorsData();t&&t.setKeys(e)}removeErrorKey(e){const t=this.getErrorsData();t&&t.removeKey(e)}removeErrorKeys(e){const t=this.getErrorsData();t&&t.removeKeys(e)}setUserId(e){const t=this.getErrorsData();t&&(t.userId=e)}removeUserId(){const e=this.getErrorsData();e&&(e.userId=void 0)}}function pe(e,t){return Error.stackTraceLimit=t.stackTraceLimit||50,s(e,1,(function(){return new v(e,t)})),t.disableUnhandledErrorsListeners||s(e,2,(function(){return function(e,t=!1,i=!1){if("undefined"==typeof window||de)return{destroy:function(){}};function o(o){let r;t&&o.stopImmediatePropagation(),r=!o.error&&o.message?o.message:o.error,ue(e,r,o.type,i)}function r(o){t&&o.stopImmediatePropagation(),ue(e,o.reason,o.type,i),P()}return window.addEventListener("error",o),window.addEventListener("unhandledrejection",r),de=!0,{destroy:function(){de&&(window.removeEventListener("error",o),window.removeEventListener("unhandledrejection",r))}}}(e,t.restrictOtherErrorListeners,t.handleOtherErrorDataType)})),d(e,"error",(function(){return new _e(e)}))}function he(e={}){return pe(p,{stackTraceLimit:e.stackTraceLimit,disableUnhandledErrorsListeners:e.disableUnhandledErrorsListeners,restrictOtherErrorListeners:e.restrictOtherErrorListeners,filterError:e.filterError,handleOtherErrorDataType:e.handleOtherErrorDataType,stringifyErrorDataObject:e.stringifyErrorDataObject})}function me(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}const ge="tracer-device-id";function ve(){const e=B();let t=e.getItem(ge);return t||(t=me(),e.setItem(ge,t)),t}function fe(e){return e.getFullYear()+"-"+ye(e.getMonth()+1)+"-"+ye(e.getDate())+"T"+ye(e.getHours())+":"+ye(e.getMinutes())+":"+ye(e.getSeconds())+function(e){if(0===e)return"Z";const t=e>0?"-":"+";return e=Math.abs(e),t+ye(Math.floor(e/60))+":"+ye(e%60)}(e.getTimezoneOffset())}function ye(e){return e<10?"0"+e:e}function Ee(e,t,i){const o=new Blob([e]);if(oe()&&Boolean(window.CompressionStream))try{Ae(o.stream().pipeThrough(new CompressionStream("gzip")).getReader()).then(t,(function(){i(o)}))}catch(e){i(o)}else i(o)}function Ae(e,t=[]){return e.read().then((function(i){return i.value&&t.push(i.value),i.done?new Blob(t):Ae(e,t)}))}function we(){const e=r();return e.sessionUuid||(e.sessionUuid=me()),e.sessionUuid}function Se(e){return"https://"+(e.apiHost||"sdk-api.apptracer.ru")+e.apiUrl+function(e){const t=e.queryParams||{},i=[];e.sdkVersion&&(t.sdkVersion=e.sdkVersion);for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e]&&i.push(e+"="+t[e]);return i.length?"?"+i.join("&"):""}(e)}function be(e,t){if(x[e])return;const i=V(e),o=H(e);if(o)x[e]=o;else{const o=x[e]=Date.now()+t;B().setItem(i,String(o))}}function Te(e){let t;const i=Se(e),o=function(e){if("form"===e.dataType){const t=new FormData;for(const i in e.data)if(Object.prototype.hasOwnProperty.call(e.data,i)){let o=e.data[i];"object"!=typeof o||o instanceof Blob||(o=JSON.stringify(o)),t.append(i,o)}return t}return"blob"===e.dataType?e.data:JSON.stringify(e.data)}(e),r=e.onRequestEnd,n={};let a=1e4,s=e.retryCount||1/0;const c="Content-Type";function l(){const e=new XMLHttpRequest;e.open("POST",i);for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&n[t]&&e.setRequestHeader(t,n[t]);return e.responseType="json",e.onload=u,e.onerror=u,e.onabort=u,e.ontimeout=u,e.send(o),e}function d(){a=Math.min(2*a,3e5),s--,t=l()}function u(i){if(!t)return;if(("timeout"===i.type||"error"===i.type&&t.readyState===XMLHttpRequest.DONE&&0===t.status)&&s>0)setTimeout(d,a);else{"undefined"!=typeof window&&window.removeEventListener("beforeunload",_);try{const i=t.response;if(i.commands){const t=i.commands.globalShutdownMs;t&&be("all",t);const o=i.commands.featureShutdownMs;o&&e.onMute(o)}}catch(e){}r&&r()}}function _(){if(navigator.sendBeacon)if(t&&t.abort(),"string"==typeof o||o instanceof Blob){let t=n[c];t="blob"===e.dataType?void 0:t,navigator.sendBeacon(i,new Blob([o],t?{type:t}:void 0))}else navigator.sendBeacon(i,o);else t||(t=l())}"json"===e.dataType?n[c]="application/json":"blob"===e.dataType&&(n[c]="application/octet-stream"),e.beforeUnload?_():(oe()&&window.addEventListener("beforeunload",_),t=l())}function Ie(e){oe()&&Te(e)}function Ce(e){return n(e).version}function ke(e){if(e)return e.toUpperCase()}let Pe,Oe,Me,Le;function De(){if(Pe)return Pe;const e={function:!0,object:!0};let t=e[typeof window]&&window||this;const i=e[typeof exports]&&exports,o=e[typeof module]&&module&&!module.nodeType&&module,r=i&&o&&"object"==typeof global&&global;!r||r.global!==r&&r.window!==r&&r.self!==r||(t=r);const n=Math.pow(2,53)-1,a=/\bOpera/,s=Object.prototype,c=s.hasOwnProperty,l=s.toString;function d(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function u(e){return e=v(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:d(e)}function _(e,t){for(const i in e)c.call(e,i)&&t(e[i],i,e)}function p(e){return null==e?d(e):l.call(e).slice(8,-1)}function m(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function g(e,t){let i=null;return function(e,t){let i=-1,o=e?e.length:0;if("number"==typeof o&&o>-1&&o<=n)for(;++i<o;)t(e[i],i,e);else _(e,t)}(e,(function(o,r){i=t(i,o,r,e)})),i}function v(e){return String(e).replace(/^ +| +$/g,"")}return Pe=function e(i){let o=t;const r=i&&"object"==typeof i&&"String"!=p(i);r&&(o=i,i=null);const n=o.navigator||{},s=n.userAgent||"";i||(i=s);const c=r?!!n.likeChrome:/\bChrome\b/.test(i)&&!/internal|\n/i.test(l.toString()),d="Object",f=r?d:"ScriptBridgingProxyObject",y=r?d:"Environment",E=r&&o.java?"JavaPackage":p(o.java),A=r?d:"RuntimeObject",S=/\bJava/.test(E)&&o.java,b=S&&p(o.environment)==y,T=S?"a":"α",I=S?"b":"β",C=o.document||{};let k=o.operamini||o.opera;var P=a.test(P=r&&k?k["[[Class]]"]:p(k))?P:k=null;let O,M=i,L=[],D=null;const R=i==s;let N,x=R&&k&&"function"==typeof k.version&&k.version(),F=g([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],(function(e,t){return e||RegExp("\\b"+(t.pattern||m(t))+"\\b","i").exec(i)&&(t.label||t)})),U=function(e){return g(e,(function(e,t){return e||RegExp("\\b"+(t.pattern||m(t))+"\\b","i").exec(i)&&(t.label||t)}))}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),B=j([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),V=function(e){return g(e,(function(e,t,o){return e||(t[B]||t[/^[a-z]+(?: +[a-z]+\b)*/i.exec(B)]||RegExp("\\b"+m(o)+"(?:\\b|\\w*\\d)","i").exec(i))&&o}))}({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}}),H=function(e){return g(e,(function(e,t){const o=t.pattern||m(t);return!e&&(e=RegExp("\\b"+o+"(?:/[\\d.]+|[ \\w.]*)","i").exec(i))&&(e=function(e,t,i){let o={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&i&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(o=o[/[\d.]+$/.exec(e)])&&(e="Windows "+o),e=String(e),t&&i&&(e=e.replace(RegExp(t,"i"),i)),u(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,o,t.label||t)),e}))}(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function j(e){return g(e,(function(e,t){const o=t.pattern||m(t);return!e&&(e=RegExp("\\b"+o+" *\\d+[.\\w_]*","i").exec(i)||RegExp("\\b"+o+" *\\w+-[\\w]*","i").exec(i)||RegExp("\\b"+o+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(i))&&((e=String(t.label&&!RegExp(o,"i").test(t.label)?t.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),t=t.label||t,e=u(e[0].replace(RegExp(o,"i"),t).replace(RegExp("; *(?:"+t+"[_-])?","i")," ").replace(RegExp("("+t+")[-_.]?(\\w)","i"),"$1 $2"))),e}))}function W(e){return g(e,(function(e,t){return e||(RegExp(t+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(i)||0)[1]||null}))}if(F&&(F=[F]),/\bAndroid\b/.test(H)&&!B&&(O=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(i))&&(B=v(O[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),V&&!B?B=j([V]):V&&B&&(B=B.replace(RegExp("^("+m(V)+")[-_.\\s]","i"),V+" ").replace(RegExp("^("+m(V)+")[-_.]?(\\w)","i"),V+" $2")),(O=/\bGoogle TV\b/.exec(B))&&(B=O[0]),/\bSimulator\b/i.test(i)&&(B=(B?B+" ":"")+"Simulator"),"Opera Mini"==U&&/\bOPiOS\b/.test(i)&&L.push("running in Turbo/Uncompressed mode"),"IE"==U&&/\blike iPhone OS\b/.test(i)?(O=e(i.replace(/like iPhone OS/,"")),V=O.manufacturer,B=O.product):/^iP/.test(B)?(U||(U="Safari"),H="iOS"+((O=/ OS ([\d_]+)/i.exec(i))?" "+O[1].replace(/_/g,"."):"")):"Konqueror"==U&&/^Linux\b/i.test(H)?H="Kubuntu":V&&"Google"!=V&&(/Chrome/.test(U)&&!/\bMobile Safari\b/i.test(i)||/\bVita\b/.test(B))||/\bAndroid\b/.test(H)&&/^Chrome/.test(U)&&/\bVersion\//i.test(i)?(U="Android Browser",H=/\bAndroid\b/.test(H)?H:"Android"):"Silk"==U?(/\bMobi/i.test(i)||(H="Android",L.unshift("desktop mode")),/Accelerated *= *true/i.test(i)&&L.unshift("accelerated")):"UC Browser"==U&&/\bUCWEB\b/.test(i)?L.push("speed mode"):"PaleMoon"==U&&(O=/\bFirefox\/([\d.]+)\b/.exec(i))?L.push("identifying as Firefox "+O[1]):"Firefox"==U&&(O=/\b(Mobile|Tablet|TV)\b/i.exec(i))?(H||(H="Firefox OS"),B||(B=O[1])):!U||(O=!/\bMinefield\b/i.test(i)&&/\b(?:Firefox|Safari)\b/.exec(U))?(U&&!B&&/[\/,]|^[^(]+?\)/.test(i.slice(i.indexOf(O+"/")+8))&&(U=null),(O=B||V||H)&&(B||V||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(H))&&(U=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(H)?H:O)+" Browser")):"Electron"==U&&(O=(/\bChrome\/([\d.]+)\b/.exec(i)||0)[1])&&L.push("Chromium "+O),x||(x=W(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",m(U),"(?:Firefox|Minefield|NetFront)"])),(O=("iCab"==F&&parseFloat(x)>3?"WebKit":/\bOpera\b/.test(U)&&(/\bOPR\b/.test(i)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(i)&&!/^(?:Trident|EdgeHTML)$/.test(F)&&"WebKit"||!F&&/\bMSIE\b/i.test(i)&&("Mac OS"==H?"Tasman":"Trident")||"WebKit"==F&&/\bPlayStation\b(?! Vita\b)/i.test(U)&&"NetFront")&&(F=[O]),"IE"==U&&(O=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(i)||0)[1])?(U+=" Mobile",H="Windows Phone "+(/\+$/.test(O)?O:O+".x"),L.unshift("desktop mode")):/\bWPDesktop\b/i.test(i)?(U="IE Mobile",H="Windows Phone 8.x",L.unshift("desktop mode"),x||(x=(/\brv:([\d.]+)/.exec(i)||0)[1])):"IE"!=U&&"Trident"==F&&(O=/\brv:([\d.]+)/.exec(i))&&(U&&L.push("identifying as "+U+(x?" "+x:"")),U="IE",x=O[1]),R){if(function(e,t){const i=null!=e?typeof e[t]:"number";return!(/^(?:boolean|number|string|undefined)$/.test(i)||"object"==i&&!e[t])}(o,"global"))if(S&&(O=S.lang.System,M=O.getProperty("os.arch"),H=H||O.getProperty("os.name")+" "+O.getProperty("os.version")),b){try{x=o.require("ringo/engine").version.join("."),U="RingoJS"}catch(e){(O=o.system)&&O.global.system==o.system&&(U="Narwhal",H||(H=O[0].os||null))}U||(U="Rhino")}else"object"==typeof o.process&&!o.process.browser&&(O=o.process)&&("object"==typeof O.versions&&("string"==typeof O.versions.electron?(L.push("Node "+O.versions.node),U="Electron",x=O.versions.electron):"string"==typeof O.versions.nw&&(L.push("Chromium "+x,"Node "+O.versions.node),U="NW.js",x=O.versions.nw)),U||(U="Node.js",M=O.arch,H=O.platform,x=/[\d.]+/.exec(O.version),x=x?x[0]:null));else p(O=o.runtime)==f?(U="Adobe AIR",H=O.flash.system.Capabilities.os):p(O=o.phantom)==A?(U="PhantomJS",x=(O=O.version||null)&&O.major+"."+O.minor+"."+O.patch):"number"==typeof C.documentMode&&(O=/\bTrident\/(\d+)/i.exec(i))?(x=[x,C.documentMode],(O=+O[1]+4)!=x[1]&&(L.push("IE "+x[1]+" mode"),F&&(F[1]=""),x[1]=O),x="IE"==U?String(x[1].toFixed(1)):x[0]):"number"==typeof C.documentMode&&/^(?:Chrome|Firefox)\b/.test(U)&&(L.push("masking as "+U+" "+x),U="IE",x="11.0",F=["Trident"],H="Windows");H=H&&u(H)}if(x&&(O=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(x)||/(?:alpha|beta)(?: ?\d)?/i.exec(i+";"+(R&&n.appMinorVersion))||/\bMinefield\b/i.test(i)&&"a")&&(D=/b/i.test(O)?"beta":"alpha",x=x.replace(RegExp(O+"\\+?$"),"")+("beta"==D?I:T)+(/\d+\+?/.exec(O)||"")),"Fennec"==U||"Firefox"==U&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(H))U="Firefox Mobile";else if("Maxthon"==U&&x)x=x.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(B))"Xbox 360"==B&&(H=null),"Xbox 360"==B&&/\bIEMobile\b/.test(i)&&L.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(U)&&(!U||B||/Browser|Mobi/.test(U))||"Windows CE"!=H&&!/Mobi/i.test(i))if("IE"==U&&R)try{null===o.external&&L.unshift("platform preview")}catch(e){L.unshift("embedded")}else(/\bBlackBerry\b/.test(B)||/\bBB10\b/.test(i))&&(O=(RegExp(B.replace(/ +/g," *")+"/([.\\d]+)","i").exec(i)||0)[1]||x)?(O=[O,/BB10/.test(i)],H=(O[1]?(B=null,V="BlackBerry"):"Device Software")+" "+O[0],x=null):this!=_&&"Wii"!=B&&(R&&k||/Opera/.test(U)&&/\b(?:MSIE|Firefox)\b/i.test(i)||"Firefox"==U&&/\bOS X (?:\d+\.){2,}/.test(H)||"IE"==U&&(H&&!/^Win/.test(H)&&x>5.5||/\bWindows XP\b/.test(H)&&x>8||8==x&&!/\bTrident\b/.test(i)))&&!a.test(O=e.call(_,i.replace(a,"")+";"))&&O.name&&(O="ing as "+O.name+((O=O.version)?" "+O:""),a.test(U)?(/\bIE\b/.test(O)&&"Mac OS"==H&&(H=null),O="identify"+O):(O="mask"+O,U=P?u(P.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(O)&&(H=null),R||(x=null)),F=["Presto"],L.push(O));else U+=" Mobile";(O=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(i)||0)[1])&&(O=[parseFloat(O.replace(/\.(\d)$/,".0$1")),O],"Safari"==U&&"+"==O[1].slice(-1)?(U="WebKit Nightly",D="alpha",x=O[1].slice(0,-1)):x!=O[1]&&x!=(O[2]=(/\bSafari\/([\d.]+\+?)/i.exec(i)||0)[1])||(x=null),O[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(i)||0)[1],537.36==O[0]&&537.36==O[2]&&parseFloat(O[1])>=28&&"WebKit"==F&&(F=["Blink"]),R&&(c||O[1])?(F&&(F[1]="like Chrome"),O=O[1]||(O=O[0],O<530?1:O<532?2:O<532.05?3:O<533?4:O<534.03?5:O<534.07?6:O<534.1?7:O<534.13?8:O<534.16?9:O<534.24?10:O<534.3?11:O<535.01?12:O<535.02?"13+":O<535.07?15:O<535.11?16:O<535.19?17:O<536.05?18:O<536.1?19:O<537.01?20:O<537.11?"21+":O<537.13?23:O<537.18?24:O<537.24?25:O<537.36?26:"Blink"!=F?"27":"28")):(F&&(F[1]="like Safari"),O=O[0],O=O<400?1:O<500?2:O<526?3:O<533?4:O<534?"4+":O<535?5:O<537?6:O<538?7:O<601?8:O<602?9:O<604?10:O<606?11:O<608?12:"12"),F&&(F[1]+=" "+(O+="number"==typeof O?".x":/[.+]/.test(O)?"":"+")),"Safari"==U&&(!x||parseInt(x)>45)?x=O:"Chrome"==U&&/\bHeadlessChrome/i.test(i)&&L.unshift("headless")),"Opera"==U&&(O=/\bzbov|zvav$/.exec(H))?(U+=" ",L.unshift("desktop mode"),"zvav"==O?(U+="Mini",x=null):U+="Mobile",H=H.replace(RegExp(" *"+O+"$"),"")):"Safari"==U&&/\bChrome\b/.exec(F&&F[1])?(L.unshift("desktop mode"),U="Chrome Mobile",x=null,/\bOS X\b/.test(H)?(V="Apple",H="iOS 4.3+"):H=null):/\bSRWare Iron\b/.test(U)&&!x&&(x=W("Chrome")),x&&0==x.indexOf(O=/[\d.]+$/.exec(H))&&i.indexOf("/"+O+"-")>-1&&(H=v(H.replace(O,""))),H&&-1!=H.indexOf(U)&&!RegExp(U+" OS").test(H)&&(H=H.replace(RegExp(" *"+m(U)+" *"),"")),F&&!/\b(?:Avant|Nook)\b/.test(U)&&(/Browser|Lunascape|Maxthon/.test(U)||"Safari"!=U&&/^iOS/.test(H)&&/\bSafari\b/.test(F[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(U)&&F[1])&&(O=F[F.length-1])&&L.push(O),L.length&&(L=["("+L.join("; ")+")"]),V&&B&&B.indexOf(V)<0&&L.push("on "+V),B&&L.push((/^on /.test(L[L.length-1])?"":"on ")+B),H&&(O=/ ([\d.+]+)$/.exec(H),N=O&&"/"==H.charAt(H.length-O[0].length-1),H={architecture:32,family:O&&!N?H.replace(O[0],""):H,version:O?O[1]:null,toString:function(){const e=this.version;return this.family+(e&&!N?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(O=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(M))&&!/\bi686\b/i.test(M)?(H&&(H.architecture=64,H.family=H.family.replace(RegExp(" *"+O),"")),U&&(/\bWOW64\b/i.test(i)||R&&/\w(?:86|32)$/.test(n.cpuClass||n.platform)&&!/\bWin64; x64\b/i.test(i))&&L.unshift("32-bit")):H&&/^OS X/.test(H.family)&&"Chrome"==U&&parseFloat(x)>=39&&(H.architecture=64),i||(i=null);const G={};return G.description=i,G.layout=F&&F[0],G.manufacturer=V,G.name=U,G.prerelease=D,G.product=B,G.ua=i,G.version=U&&x,G.os=H||{architecture:null,family:null,version:null,toString:function(){return"null"}},G.parse=e,G.toString=function(){return this.description||""},G.version&&L.unshift(x),G.name&&L.unshift(U),H&&U&&(H!=String(H).split(" ")[0]||H!=U.split(" ")[0]&&!B)&&L.push(B?"("+H+")":"on "+H),L.length&&(G.description=L.join(" ")),G}(),Pe}function Re(){var e;if(!Me){const t="unknown",i=De();Me={osVersion:(null===(e=i.os)||void 0===e?void 0:e.version)||t,vendor:i.name||t,device:i.version||t}}return Me}class Ne{constructor(e,t){this.CRASH_BATCH_SIZE=20,this.UPLOAD_BATCH_TIMEOUT_MS=15e3,this.beforeUnload=!1,this.sdkKey=e,this.environment=t.environment,this.appToken=t.appToken,this.versionName=t.versionName,this.versionCode=t.versionCode,this.apiHost=t.apiHost,this.uploadBatch=this.uploadBatch.bind(this),this.onUploadBatchEnd=this.onUploadBatchEnd.bind(this),this.onBatchDataEncoded=this.onBatchDataEncoded.bind(this),this.onBeforeUnload=this.onBeforeUnload.bind(this),oe()&&window.addEventListener("beforeunload",this.onBeforeUnload),this.setUploadTask(1e3)}onBeforeUnload(){this.beforeUnload=!0,this.uploadBatch()}destroy(){clearTimeout(this.uploadBatchTimeout),oe()&&window.removeEventListener("beforeunload",this.onBeforeUnload)}setUploadTask(e=this.UPLOAD_BATCH_TIMEOUT_MS){clearTimeout(this.uploadBatchTimeout),this.beforeUnload||(this.uploadBatchTimeout=setTimeout(this.uploadBatch,e))}forceUpload(){clearTimeout(this.uploadBatchTimeout),this.uploadBatch()}uploadBatch(){const e=u(this.sdkKey,1);if(!e||j("crashUpload"))return void this.setUploadTask();const t=e.dequeue(this.CRASH_BATCH_SIZE),i=this.getFilteredRawBatchData(t);i.length?this.encodeBatchDataItems(i,this.onBatchDataEncoded):this.setUploadTask()}onBatchDataEncoded(e){Ee(JSON.stringify(e),this.runUpload.bind(this,"GZIP"),this.runUpload.bind(this,"NONE"))}runUpload(e,t){Ie({beforeUnload:this.beforeUnload,sdkVersion:Ce(this.sdkKey),apiHost:this.apiHost,apiUrl:"/api/crash/uploadBatch",data:t,queryParams:{crashToken:this.appToken,compressType:e},dataType:"blob",onRequestEnd:this.onUploadBatchEnd,onMute:be.bind(null,"crashUpload")})}onUploadBatchEnd(){this.setUploadTask(0)}encodeBatchDataItems(e,t){const i=e.length;let o=0;for(let r=0;r<i;r++)this.encodeBatchDataItem(e[r],(function(){o++,o===i&&t(e)}))}encodeBatchDataItem(e,t){if(e.logsFile)return function(e,t){const i=new FileReader;i.onloadend=function(){const e=String(i.result);t(e.slice(e.indexOf("base64,")+7))},i.readAsDataURL(new Blob([e]))}(e.logsFile,(function(i){e.logsFile=i,t(e)}));t(e)}getFilteredRawBatchData(e){if(!e.length)return[];const t=[];for(let i=0;i<e.length;i++){const o=e[i],r=o.error.name+": "+o.error.message+"\n"+o.errorStack,n={type:o.type,format:"JS_STACKTRACE",severity:ke(o.severity)||o.type,uploadBean:this.getUploadBeanForError(o),stackTrace:r};o.log&&(n.logsFile=o.log),t.push(n)}return t}getUploadBeanForError(e){const t=[],i=e.keys;if(i)for(const e in i)e&&Object.prototype.hasOwnProperty.call(i,e)&&t.push(`${e}=${i[e]}`);const o=this.sdkKey,r=Object.assign(Object.assign(Object.assign({},e.properties),{tracerSdkVersion:Ce(o),timestamp:e.timestamp,date:fe(new Date(e.timestamp)),userId:e.userId?String(e.userId):void 0,issueKey:e.issueKey,errorEventType:e.errorEventType,documentVisibilityState:e.documentVisibilityState,errorCause:e.causeSimpleValue}),function(){var e,t,i;if(!Oe){const o=De();Oe={userAgent:o.ua,browserName:o.name,browserVersion:o.version,osFamily:null===(e=o.os)||void 0===e?void 0:e.family,osVersion:null===(t=o.os)||void 0===t?void 0:t.version,osArchitecture:null===(i=o.os)||void 0===i?void 0:i.architecture}}return Oe}()),n=Object.assign({crashIdSource:e.crashIdSource,environment:this.environment,component:e.component||(o!==p?o:void 0),deviceId:ve(),sessionUuid:we(),versionName:e.versionName||this.versionName,versionCode:e.versionCode||this.versionCode,tags:t.length?t:void 0,properties:r},Re());return e.crashIdSource&&(n.crashIdSourceField="crashIdSource",r.crashIdSource=e.crashIdSource),n}}function xe(e){return function(e,t){s(e,3,(function(){return new Ne(e,{appToken:t.appToken,apiHost:t.apiHost,versionName:t.versionName,versionCode:t.versionCode,environment:t.environment})}))}(p,e)}function Fe(){try{return Le||(Le=new Function("return (async function() { }).constructor;")()),Le}catch(e){return null}}function Ue(e,t,i){i&&i.stack===t?(i.sameScopeCount++,b(i)):b({name:e,stack:t,parent:i,sameScopeCount:1})}function Be(e){X(e)&&!e.tracerScope&&(e.tracerScope=D()),M(e)}let Ve=!1;const He=function(e,t){if(!t||"function"!=typeof t||t.tracerWrapper)return t;if(!Ve&&(void 0===t.tracerIsNativeFunction&&(t.tracerIsNativeFunction=-1!==t.toString().indexOf("[native code]")),t.tracerIsNativeFunction))return t;const i=D(),o=new Error(y).stack||"";let r;return r=function(e){const t=Fe();return"function"==typeof e&&null!==t&&e instanceof t}(t)?{APPTRACER_WRAPPED_HANDLER:We()(e,t,o,i,Ue,M,Be)}:{APPTRACER_WRAPPED_HANDLER:function(...r){Ue(e,o,i);try{const e=t(...r);return M(e),e}catch(e){throw Be(e),e}}},r.APPTRACER_WRAPPED_HANDLER.tracerWrapper=!0,r.APPTRACER_WRAPPED_HANDLER};let je;function We(){return je||(je=new Function("name","handler","stack","scope","initScope","endScope","catchEndScope","return async function APPTRACER_WRAPPED_HANDLER(...args) {\n            initScope(name, stack, scope);\n\n            try {\n                const result = await handler(...args);\n                endScope(result);\n                return result;\n            } catch (e) {\n                catchEndScope(e);\n                throw e;\n            }\n        };"),je)}const Ge={APPTRACER_PATCHED_TASK:class extends Promise{constructor(e){super(He("Promise.constructor",e)),Object.setPrototypeOf(this,Ge.APPTRACER_PATCHED_TASK.prototype)}}};if(Fe()){const e=Promise;Object.defineProperty(Ge.APPTRACER_PATCHED_TASK,Symbol.hasInstance,{value:function(t){return t instanceof e}})}const ze="ns",Ke="ms",Ye="10*-n",$e="undefined"!=typeof performance;function qe(){return $e?performance.now():Date.now()}function Xe(e){return Math.round(1e6*e)}function Qe(){let e;return e=$e&&performance.now?performance.timeOrigin?performance.timeOrigin+performance.now():performance.timing&&performance.timing.navigationStart?performance.timing.navigationStart+performance.now():Date.now()+performance.now():Date.now(),e}function Ze(e){return"string"==typeof e?e:e.join("-")}function Je(e){return"string"==typeof e?e:e[0]}class et{constructor(e){this.samples=[],this.timeLabel={},this.sdkKey=e}destroy(){this.samples=[],this.timeLabel={}}setPerformanceAttributes(e){this.performanceAttributes||(this.performanceAttributes=e)}time(e,t){const i=Ze(e);this.timeLabel[i]?console.warn(`Timer '${Je(e)}' already exists`):this.timeLabel[i]={from:qe(),attributes:Object.assign({},t)}}timeEnd(e,t){const i=Ze(e),o=this.timeLabel[i];null!==o&&(o?(this.timeLabel[i]=void 0,this.add({name:Je(e),value:Xe(qe()-o.from),unit:ze,attributes:Object.assign(Object.assign({},o.attributes),t)})):console.warn(`Timer '${Je(e)}' does not exist`))}timeAbort(e){this.timeLabel[Ze(e)]=null}add(e){if(j("perfUpload"))return;if(e.value<0)throw new Error("Tracer performance do not support negative values");let t;const i=Xe(Qe());let o=e.attributes;this.performanceAttributes&&(o=Object.assign(Object.assign({},this.performanceAttributes()),o)),t=e.unit===Ye?{name:e.name,timeUnixNano:i,value:Math.round(e.value*Math.pow(10,e.precision)),unit:"10*-"+e.precision,attributes:o}:{name:e.name,timeUnixNano:i,value:e.value,unit:e.unit,attributes:o},this.samples.push(t)}getData(){return this.samples}clear(){this.samples=[]}dequeue(e=1){return this.samples.splice(0,e)}}function tt(){}class it{constructor(e){this.sdkKey=e}getPerformanceData(){return u(this.sdkKey,5)}addSample(e){const t=this.getPerformanceData();t&&t.add(e)}addSampleTime(e,t,i,o=Ke){const r=this.getPerformanceData();r&&r.add({name:e,value:t,attributes:i,unit:o})}startTimer(e,t){const i=this.sdkKey,o=qe(),r={endTimer:function(){!function(e,t,i,o,r){const n=u(e,5);n&&n.add({name:t,value:Xe(qe()-i),unit:ze,attributes:Object.assign(Object.assign({},o),r)})}(i,e,o,t),r.endTimer=tt},abortTimer:function(){r.endTimer=tt,r.abortTimer=tt}};return r}time(e,t){const i=this.getPerformanceData();i&&i.time(e,t)}timeEnd(e,t){const i=this.getPerformanceData();i&&i.timeEnd(e,t)}timeAbort(e){const t=this.getPerformanceData();t&&t.timeAbort(e)}}function ot(e={}){return function(e,t={}){return s(e,5,(function(){return new et(e)})).setPerformanceAttributes(t.performanceAttributes),d(e,"performance",(function(){return new it(e)}))}(p,e)}class rt{constructor(e,t){this.PERFORMANCE_SAMPLE_DATA_SIZE=500,this.PERFORMANCE_UPLOAD_TIMEOUT=15e3,this.beforeUnload=!1,this.sdkKey=e,this.appToken=t.appToken,this.versionName=t.versionName,this.versionCode=t.versionCode,this.apiHost=t.apiHost,this.upload=this.upload.bind(this),this.onBeforeUnload=this.onBeforeUnload.bind(this),oe()&&window.addEventListener("beforeunload",this.onBeforeUnload),this.setUploadTask(1e3)}onBeforeUnload(){this.beforeUnload=!0,this.upload()}destroy(){clearInterval(this.uploadTimeout),oe()&&window.removeEventListener("beforeunload",this.onBeforeUnload)}setUploadTask(e=this.PERFORMANCE_UPLOAD_TIMEOUT){clearTimeout(this.uploadTimeout),this.beforeUnload||(this.uploadTimeout=setTimeout(this.upload,e))}upload(){const e=u(this.sdkKey,5);if(!e||j("perfUpload"))return void this.setUploadTask();const t=e.dequeue(this.PERFORMANCE_SAMPLE_DATA_SIZE);if(!t.length)return void this.setUploadTask();const i=Object.assign(Object.assign({},Re()),{samples:t,versionName:this.versionName,versionCode:String(this.versionCode),sessionUuid:we(),deviceId:ve(),clientTimeUnixNano:String(Xe(Qe()))}),o=this.onUploadEnd.bind(this);Ie({beforeUnload:this.beforeUnload,sdkVersion:Ce(this.sdkKey),apiHost:this.apiHost,apiUrl:"/api/perf/upload",queryParams:{crashToken:this.appToken},data:i,dataType:"json",onRequestEnd:o,onMute:be.bind(null,"perfUpload")})}onUploadEnd(){this.setUploadTask(0)}}function nt(e,t){s(e,7,(function(){return new rt(e,t)}))}function at(e){return nt(p,e)}new Map;Date.now();class st{constructor(e,t){this.status="BLANK",this.uploaded=!1,this.beforeUnload=!1,this.sdkKey=e,this.environment=t.environment,this.appToken=t.appToken,this.versionName=t.versionName,this.versionCode=t.versionCode,this.apiHost=t.apiHost,this.onBeforeUnload=this.onBeforeUnload.bind(this);const i=u(this.sdkKey,1);i&&i.withCrashes()&&this.setCrashed(i.getMaxSeverity()),oe()&&window.addEventListener("beforeunload",this.onBeforeUnload)}onBeforeUnload(){this.beforeUnload=!0,this.upload()}setCrashed(e){"CRASH"!==this.status&&(this.status="CRASH",this.maxSeverity=e,this.upload())}destroy(){"undefined"!=typeof window&&window.removeEventListener("beforeunload",this.onBeforeUnload)}upload(){if(this.uploaded||j("trackSession"))return;this.uploaded=!0;const e={sessionUuid:we(),versionName:this.versionName,versionCode:String(this.versionCode),status:this.status,maxSeverity:ke(this.maxSeverity),environment:this.environment};this.uploadSessionInfo(e)}uploadSessionInfo(e){const t={};t.versionName=this.versionName,t.versionCode=String(this.versionCode),t.deviceId=ve(),t.sessions=[e],Ie({beforeUnload:this.beforeUnload,sdkVersion:Ce(this.sdkKey),apiHost:this.apiHost,apiUrl:"/api/crash/trackSession",queryParams:{crashToken:this.appToken},data:t,dataType:"json",onMute:be.bind(null,"trackSession")})}}function ct(e){return function(e,t){s(e,8,(function(){return new st(e,t)}))}(p,e)}function lt(e,t){const i=Object.assign({},t),o=te(e);return o.push(i),function(){const e=o.indexOf(i);-1!==e&&o.splice(e,1)}}function dt(e,t){const i=[];for(let o=0,r=t.length;o<r;o++)i.push(lt(e,t[o]));return function(){for(let e=0,t=i.length;e<t;e++)i[e]()}}function ut(e){!function(e,t){s(e,11,(function(e){return{destroy:dt(e,t.plugins)}}))}(p,e)}function _t(){return l(p)}function pt(e,...t){const i={};for(let o=0,r=t.length;o<r;o++){const r=t[o](e);if(r){const e=Object.getPrototypeOf(r),t=Object.getOwnPropertyNames(e);for(let o=0,n=t.length;o<n;o++){const n=t[o];"function"==typeof e[n]&&"constructor"!==n&&(i[n]=e[n].bind(r))}}}return i}},58168:(e,t,i)=>{"use strict";function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)({}).hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},o.apply(null,arguments)}i.d(t,{default:()=>o})},195361:(e,t,i)=>{"use strict";i.d(t,{arrow:()=>s,autoPlacement:()=>c,computePosition:()=>n,detectOverflow:()=>a,flip:()=>l,hide:()=>_,inline:()=>m,limitShift:()=>y,offset:()=>v,shift:()=>f,size:()=>E});var o=i(997193);function r(e,t,i){let{reference:r,floating:n}=e;const a=(0,o.getSideAxis)(t),s=(0,o.getAlignmentAxis)(t),c=(0,o.getAxisLength)(s),l=(0,o.getSide)(t),d="y"===a,u=r.x+r.width/2-n.width/2,_=r.y+r.height/2-n.height/2,p=r[c]/2-n[c]/2;let m;switch(l){case"top":m={x:u,y:r.y-n.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:_};break;case"left":m={x:r.x-n.width,y:_};break;default:m={x:r.x,y:r.y}}switch((0,o.getAlignment)(t)){case"start":m[s]-=p*(i&&d?-1:1);break;case"end":m[s]+=p*(i&&d?-1:1)}return m}const n=async(e,t,i)=>{const{placement:o="bottom",strategy:n="absolute",middleware:a=[],platform:s}=i,c=a.filter(Boolean),l=await(null==s.isRTL?void 0:s.isRTL(t));let d=await s.getElementRects({reference:e,floating:t,strategy:n}),{x:u,y:_}=r(d,o,l),p=o,m={},g=0;for(let i=0;i<c.length;i++){const{name:a,fn:v}=c[i],{x:f,y,data:E,reset:A}=await v({x:u,y:_,initialPlacement:o,placement:p,strategy:n,middlewareData:m,rects:d,platform:s,elements:{reference:e,floating:t}});u=null!=f?f:u,_=null!=y?y:_,m={...m,[a]:{...m[a],...E}},A&&g<=50&&(g++,"object"==typeof A&&(A.placement&&(p=A.placement),A.rects&&(d=!0===A.rects?await s.getElementRects({reference:e,floating:t,strategy:n}):A.rects),({x:u,y:_}=r(d,p,l))),i=-1)}return{x:u,y:_,placement:p,strategy:n,middlewareData:m}};async function a(e,t){var i;void 0===t&&(t={});const{x:r,y:n,platform:a,rects:s,elements:c,strategy:l}=e,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:_="floating",altBoundary:p=!1,padding:m=0}=(0,o.evaluate)(t,e),g=(0,o.getPaddingObject)(m),v=c[p?"floating"===_?"reference":"floating":_],f=(0,o.rectToClientRect)(await a.getClippingRect({element:null==(i=await(null==a.isElement?void 0:a.isElement(v)))||i?v:v.contextElement||await(null==a.getDocumentElement?void 0:a.getDocumentElement(c.floating)),boundary:d,rootBoundary:u,strategy:l})),y="floating"===_?{x:r,y:n,width:s.floating.width,height:s.floating.height}:s.reference,E=await(null==a.getOffsetParent?void 0:a.getOffsetParent(c.floating)),A=await(null==a.isElement?void 0:a.isElement(E))&&await(null==a.getScale?void 0:a.getScale(E))||{x:1,y:1},S=(0,o.rectToClientRect)(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:y,offsetParent:E,strategy:l}):y);return{top:(f.top-S.top+g.top)/A.y,bottom:(S.bottom-f.bottom+g.bottom)/A.y,left:(f.left-S.left+g.left)/A.x,right:(S.right-f.right+g.right)/A.x}}const s=e=>({name:"arrow",options:e,async fn(t){const{x:i,y:r,placement:n,rects:a,platform:s,elements:c,middlewareData:l}=t,{element:d,padding:u=0}=(0,o.evaluate)(e,t)||{};if(null==d)return{};const _=(0,o.getPaddingObject)(u),p={x:i,y:r},m=(0,o.getAlignmentAxis)(n),g=(0,o.getAxisLength)(m),v=await s.getDimensions(d),f="y"===m,y=f?"top":"left",E=f?"bottom":"right",A=f?"clientHeight":"clientWidth",S=a.reference[g]+a.reference[m]-p[m]-a.floating[g],b=p[m]-a.reference[m],T=await(null==s.getOffsetParent?void 0:s.getOffsetParent(d));let I=T?T[A]:0;I&&await(null==s.isElement?void 0:s.isElement(T))||(I=c.floating[A]||a.floating[g]);const C=S/2-b/2,k=I/2-v[g]/2-1,P=(0,o.min)(_[y],k),O=(0,o.min)(_[E],k),M=P,L=I-v[g]-O,D=I/2-v[g]/2+C,R=(0,o.clamp)(M,D,L),N=!l.arrow&&null!=(0,o.getAlignment)(n)&&D!==R&&a.reference[g]/2-(D<M?P:O)-v[g]/2<0,x=N?D<M?D-M:D-L:0;return{[m]:p[m]+x,data:{[m]:R,centerOffset:D-R-x,...N&&{alignmentOffset:x}},reset:N}}});const c=function(e){return void 0===e&&(e={}),{name:"autoPlacement",options:e,async fn(t){var i,r,n;const{rects:s,middlewareData:c,placement:l,platform:d,elements:u}=t,{crossAxis:_=!1,alignment:p,allowedPlacements:m=o.placements,autoAlignment:g=!0,...v}=(0,o.evaluate)(e,t),f=void 0!==p||m===o.placements?function(e,t,i){return(e?[...i.filter((t=>(0,o.getAlignment)(t)===e)),...i.filter((t=>(0,o.getAlignment)(t)!==e))]:i.filter((e=>(0,o.getSide)(e)===e))).filter((i=>!e||(0,o.getAlignment)(i)===e||!!t&&(0,o.getOppositeAlignmentPlacement)(i)!==i))}(p||null,g,m):m,y=await a(t,v),E=(null==(i=c.autoPlacement)?void 0:i.index)||0,A=f[E];if(null==A)return{};const S=(0,o.getAlignmentSides)(A,s,await(null==d.isRTL?void 0:d.isRTL(u.floating)));if(l!==A)return{reset:{placement:f[0]}};const b=[y[(0,o.getSide)(A)],y[S[0]],y[S[1]]],T=[...(null==(r=c.autoPlacement)?void 0:r.overflows)||[],{placement:A,overflows:b}],I=f[E+1];if(I)return{data:{index:E+1,overflows:T},reset:{placement:I}};const C=T.map((e=>{const t=(0,o.getAlignment)(e.placement);return[e.placement,t&&_?e.overflows.slice(0,2).reduce(((e,t)=>e+t),0):e.overflows[0],e.overflows]})).sort(((e,t)=>e[1]-t[1])),k=(null==(n=C.filter((e=>e[2].slice(0,(0,o.getAlignment)(e[0])?2:3).every((e=>e<=0))))[0])?void 0:n[0])||C[0][0];return k!==l?{data:{index:E+1,overflows:T},reset:{placement:k}}:{}}}},l=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var i,r;const{placement:n,middlewareData:s,rects:c,initialPlacement:l,platform:d,elements:u}=t,{mainAxis:_=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:f=!0,...y}=(0,o.evaluate)(e,t);if(null!=(i=s.arrow)&&i.alignmentOffset)return{};const E=(0,o.getSide)(n),A=(0,o.getSideAxis)(l),S=(0,o.getSide)(l)===l,b=await(null==d.isRTL?void 0:d.isRTL(u.floating)),T=m||(S||!f?[(0,o.getOppositePlacement)(l)]:(0,o.getExpandedPlacements)(l)),I="none"!==v;!m&&I&&T.push(...(0,o.getOppositeAxisPlacements)(l,f,v,b));const C=[l,...T],k=await a(t,y),P=[];let O=(null==(r=s.flip)?void 0:r.overflows)||[];if(_&&P.push(k[E]),p){const e=(0,o.getAlignmentSides)(n,c,b);P.push(k[e[0]],k[e[1]])}if(O=[...O,{placement:n,overflows:P}],!P.every((e=>e<=0))){var M,L;const e=((null==(M=s.flip)?void 0:M.index)||0)+1,t=C[e];if(t){if(!("alignment"===p&&A!==(0,o.getSideAxis)(t))||O.every((e=>(0,o.getSideAxis)(e.placement)!==A||e.overflows[0]>0)))return{data:{index:e,overflows:O},reset:{placement:t}}}let i=null==(L=O.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:L.placement;if(!i)switch(g){case"bestFit":{var D;const e=null==(D=O.filter((e=>{if(I){const t=(0,o.getSideAxis)(e.placement);return t===A||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:D[0];e&&(i=e);break}case"initialPlacement":i=l}if(n!==i)return{reset:{placement:i}}}return{}}}};function d(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function u(e){return o.sides.some((t=>e[t]>=0))}const _=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:i}=t,{strategy:r="referenceHidden",...n}=(0,o.evaluate)(e,t);switch(r){case"referenceHidden":{const e=d(await a(t,{...n,elementContext:"reference"}),i.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:u(e)}}}case"escaped":{const e=d(await a(t,{...n,altBoundary:!0}),i.floating);return{data:{escapedOffsets:e,escaped:u(e)}}}default:return{}}}}};function p(e){const t=(0,o.min)(...e.map((e=>e.left))),i=(0,o.min)(...e.map((e=>e.top)));return{x:t,y:i,width:(0,o.max)(...e.map((e=>e.right)))-t,height:(0,o.max)(...e.map((e=>e.bottom)))-i}}const m=function(e){return void 0===e&&(e={}),{name:"inline",options:e,async fn(t){const{placement:i,elements:r,rects:n,platform:a,strategy:s}=t,{padding:c=2,x:l,y:d}=(0,o.evaluate)(e,t),u=Array.from(await(null==a.getClientRects?void 0:a.getClientRects(r.reference))||[]),_=function(e){const t=e.slice().sort(((e,t)=>e.y-t.y)),i=[];let r=null;for(let e=0;e<t.length;e++){const o=t[e];!r||o.y-r.y>r.height/2?i.push([o]):i[i.length-1].push(o),r=o}return i.map((e=>(0,o.rectToClientRect)(p(e))))}(u),m=(0,o.rectToClientRect)(p(u)),g=(0,o.getPaddingObject)(c);const v=await a.getElementRects({reference:{getBoundingClientRect:function(){if(2===_.length&&_[0].left>_[1].right&&null!=l&&null!=d)return _.find((e=>l>e.left-g.left&&l<e.right+g.right&&d>e.top-g.top&&d<e.bottom+g.bottom))||m;if(_.length>=2){if("y"===(0,o.getSideAxis)(i)){const e=_[0],t=_[_.length-1],r="top"===(0,o.getSide)(i),n=e.top,a=t.bottom,s=r?e.left:t.left,c=r?e.right:t.right;return{top:n,bottom:a,left:s,right:c,width:c-s,height:a-n,x:s,y:n}}const e="left"===(0,o.getSide)(i),t=(0,o.max)(..._.map((e=>e.right))),r=(0,o.min)(..._.map((e=>e.left))),n=_.filter((i=>e?i.left===r:i.right===t)),a=n[0].top,s=n[n.length-1].bottom;return{top:a,bottom:s,left:r,right:t,width:t-r,height:s-a,x:r,y:a}}return m}},floating:r.floating,strategy:s});return n.reference.x!==v.reference.x||n.reference.y!==v.reference.y||n.reference.width!==v.reference.width||n.reference.height!==v.reference.height?{reset:{rects:v}}:{}}}},g=new Set(["left","top"]);const v=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var i,r;const{x:n,y:a,placement:s,middlewareData:c}=t,l=await async function(e,t){const{placement:i,platform:r,elements:n}=e,a=await(null==r.isRTL?void 0:r.isRTL(n.floating)),s=(0,o.getSide)(i),c=(0,o.getAlignment)(i),l="y"===(0,o.getSideAxis)(i),d=g.has(s)?-1:1,u=a&&l?-1:1,_=(0,o.evaluate)(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:v}="number"==typeof _?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return c&&"number"==typeof v&&(m="end"===c?-1*v:v),l?{x:m*u,y:p*d}:{x:p*d,y:m*u}}(t,e);return s===(null==(i=c.offset)?void 0:i.placement)&&null!=(r=c.arrow)&&r.alignmentOffset?{}:{x:n+l.x,y:a+l.y,data:{...l,placement:s}}}}},f=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:i,y:r,placement:n}=t,{mainAxis:s=!0,crossAxis:c=!1,limiter:l={fn:e=>{let{x:t,y:i}=e;return{x:t,y:i}}},...d}=(0,o.evaluate)(e,t),u={x:i,y:r},_=await a(t,d),p=(0,o.getSideAxis)((0,o.getSide)(n)),m=(0,o.getOppositeAxis)(p);let g=u[m],v=u[p];if(s){const e="y"===m?"bottom":"right",t=g+_["y"===m?"top":"left"],i=g-_[e];g=(0,o.clamp)(t,g,i)}if(c){const e="y"===p?"bottom":"right",t=v+_["y"===p?"top":"left"],i=v-_[e];v=(0,o.clamp)(t,v,i)}const f=l.fn({...t,[m]:g,[p]:v});return{...f,data:{x:f.x-i,y:f.y-r,enabled:{[m]:s,[p]:c}}}}}},y=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:i,y:r,placement:n,rects:a,middlewareData:s}=t,{offset:c=0,mainAxis:l=!0,crossAxis:d=!0}=(0,o.evaluate)(e,t),u={x:i,y:r},_=(0,o.getSideAxis)(n),p=(0,o.getOppositeAxis)(_);let m=u[p],v=u[_];const f=(0,o.evaluate)(c,t),y="number"==typeof f?{mainAxis:f,crossAxis:0}:{mainAxis:0,crossAxis:0,...f};if(l){const e="y"===p?"height":"width",t=a.reference[p]-a.floating[e]+y.mainAxis,i=a.reference[p]+a.reference[e]-y.mainAxis;m<t?m=t:m>i&&(m=i)}if(d){var E,A;const e="y"===p?"width":"height",t=g.has((0,o.getSide)(n)),i=a.reference[_]-a.floating[e]+(t&&(null==(E=s.offset)?void 0:E[_])||0)+(t?0:y.crossAxis),r=a.reference[_]+a.reference[e]+(t?0:(null==(A=s.offset)?void 0:A[_])||0)-(t?y.crossAxis:0);v<i?v=i:v>r&&(v=r)}return{[p]:m,[_]:v}}}},E=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var i,r;const{placement:n,rects:s,platform:c,elements:l}=t,{apply:d=()=>{},...u}=(0,o.evaluate)(e,t),_=await a(t,u),p=(0,o.getSide)(n),m=(0,o.getAlignment)(n),g="y"===(0,o.getSideAxis)(n),{width:v,height:f}=s.floating;let y,E;"top"===p||"bottom"===p?(y=p,E=m===(await(null==c.isRTL?void 0:c.isRTL(l.floating))?"start":"end")?"left":"right"):(E=p,y="end"===m?"top":"bottom");const A=f-_.top-_.bottom,S=v-_.left-_.right,b=(0,o.min)(f-_[y],A),T=(0,o.min)(v-_[E],S),I=!t.middlewareData.shift;let C=b,k=T;if(null!=(i=t.middlewareData.shift)&&i.enabled.x&&(k=S),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(C=A),I&&!m){const e=(0,o.max)(_.left,0),t=(0,o.max)(_.right,0),i=(0,o.max)(_.top,0),r=(0,o.max)(_.bottom,0);g?k=v-2*(0!==e||0!==t?e+t:(0,o.max)(_.left,_.right)):C=f-2*(0!==i||0!==r?i+r:(0,o.max)(_.top,_.bottom))}await d({...t,availableWidth:k,availableHeight:C});const P=await c.getDimensions(l.floating);return v!==P.width||f!==P.height?{reset:{rects:!0}}:{}}}}},818491:(e,t,i)=>{"use strict";i.d(t,{arrow:()=>L,autoPlacement:()=>C,autoUpdate:()=>T,computePosition:()=>N,flip:()=>P,hide:()=>M,inline:()=>D,limitShift:()=>R,offset:()=>I,shift:()=>k,size:()=>O});var o=i(997193),r=i(195361),n=i(786635);function a(e){const t=(0,n.getComputedStyle)(e);let i=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=(0,n.isHTMLElement)(e),s=a?e.offsetWidth:i,c=a?e.offsetHeight:r,l=(0,o.round)(i)!==s||(0,o.round)(r)!==c;return l&&(i=s,r=c),{width:i,height:r,$:l}}function s(e){return(0,n.isElement)(e)?e:e.contextElement}function c(e){const t=s(e);if(!(0,n.isHTMLElement)(t))return(0,o.createCoords)(1);const i=t.getBoundingClientRect(),{width:r,height:c,$:l}=a(t);let d=(l?(0,o.round)(i.width):i.width)/r,u=(l?(0,o.round)(i.height):i.height)/c;return d&&Number.isFinite(d)||(d=1),u&&Number.isFinite(u)||(u=1),{x:d,y:u}}const l=(0,o.createCoords)(0);function d(e){const t=(0,n.getWindow)(e);return(0,n.isWebKit)()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:l}function u(e,t,i,r){void 0===t&&(t=!1),void 0===i&&(i=!1);const a=e.getBoundingClientRect(),l=s(e);let u=(0,o.createCoords)(1);t&&(r?(0,n.isElement)(r)&&(u=c(r)):u=c(e));const _=function(e,t,i){return void 0===t&&(t=!1),!(!i||t&&i!==(0,n.getWindow)(e))&&t}(l,i,r)?d(l):(0,o.createCoords)(0);let p=(a.left+_.x)/u.x,m=(a.top+_.y)/u.y,g=a.width/u.x,v=a.height/u.y;if(l){const e=(0,n.getWindow)(l),t=r&&(0,n.isElement)(r)?(0,n.getWindow)(r):r;let i=e,o=(0,n.getFrameElement)(i);for(;o&&r&&t!==i;){const e=c(o),t=o.getBoundingClientRect(),r=(0,n.getComputedStyle)(o),a=t.left+(o.clientLeft+parseFloat(r.paddingLeft))*e.x,s=t.top+(o.clientTop+parseFloat(r.paddingTop))*e.y;p*=e.x,m*=e.y,g*=e.x,v*=e.y,p+=a,m+=s,i=(0,n.getWindow)(o),o=(0,n.getFrameElement)(i)}}return(0,o.rectToClientRect)({width:g,height:v,x:p,y:m})}function _(e,t){const i=(0,n.getNodeScroll)(e).scrollLeft;return t?t.left+i:u((0,n.getDocumentElement)(e)).left+i}function p(e,t){const i=e.getBoundingClientRect();return{x:i.left+t.scrollLeft-_(e,i),y:i.top+t.scrollTop}}const m=new Set(["absolute","fixed"]);function g(e,t,i){let r;if("viewport"===t)r=function(e,t){const i=(0,n.getWindow)(e),o=(0,n.getDocumentElement)(e),r=i.visualViewport;let a=o.clientWidth,s=o.clientHeight,c=0,l=0;if(r){a=r.width,s=r.height;const e=(0,n.isWebKit)();(!e||e&&"fixed"===t)&&(c=r.offsetLeft,l=r.offsetTop)}const d=_(o);if(d<=0){const e=o.ownerDocument,t=e.body,i=getComputedStyle(t),r="CSS1Compat"===e.compatMode&&parseFloat(i.marginLeft)+parseFloat(i.marginRight)||0,n=Math.abs(o.clientWidth-t.clientWidth-r);n<=25&&(a-=n)}else d<=25&&(a+=d);return{width:a,height:s,x:c,y:l}}(e,i);else if("document"===t)r=function(e){const t=(0,n.getDocumentElement)(e),i=(0,n.getNodeScroll)(e),r=e.ownerDocument.body,a=(0,o.max)(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=(0,o.max)(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let c=-i.scrollLeft+_(e);const l=-i.scrollTop;return"rtl"===(0,n.getComputedStyle)(r).direction&&(c+=(0,o.max)(t.clientWidth,r.clientWidth)-a),{width:a,height:s,x:c,y:l}}((0,n.getDocumentElement)(e));else if((0,n.isElement)(t))r=function(e,t){const i=u(e,!0,"fixed"===t),r=i.top+e.clientTop,a=i.left+e.clientLeft,s=(0,n.isHTMLElement)(e)?c(e):(0,o.createCoords)(1);return{width:e.clientWidth*s.x,height:e.clientHeight*s.y,x:a*s.x,y:r*s.y}}(t,i);else{const i=d(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return(0,o.rectToClientRect)(r)}function v(e,t){const i=(0,n.getParentNode)(e);return!(i===t||!(0,n.isElement)(i)||(0,n.isLastTraversableNode)(i))&&("fixed"===(0,n.getComputedStyle)(i).position||v(i,t))}function f(e,t,i){const r=(0,n.isHTMLElement)(t),a=(0,n.getDocumentElement)(t),s="fixed"===i,c=u(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const d=(0,o.createCoords)(0);function m(){d.x=_(a)}if(r||!r&&!s)if(("body"!==(0,n.getNodeName)(t)||(0,n.isOverflowElement)(a))&&(l=(0,n.getNodeScroll)(t)),r){const e=u(t,!0,s,t);d.x=e.x+t.clientLeft,d.y=e.y+t.clientTop}else a&&m();s&&!r&&a&&m();const g=!a||r||s?(0,o.createCoords)(0):p(a,l);return{x:c.left+l.scrollLeft-d.x-g.x,y:c.top+l.scrollTop-d.y-g.y,width:c.width,height:c.height}}function y(e){return"static"===(0,n.getComputedStyle)(e).position}function E(e,t){if(!(0,n.isHTMLElement)(e)||"fixed"===(0,n.getComputedStyle)(e).position)return null;if(t)return t(e);let i=e.offsetParent;return(0,n.getDocumentElement)(e)===i&&(i=i.ownerDocument.body),i}function A(e,t){const i=(0,n.getWindow)(e);if((0,n.isTopLayer)(e))return i;if(!(0,n.isHTMLElement)(e)){let t=(0,n.getParentNode)(e);for(;t&&!(0,n.isLastTraversableNode)(t);){if((0,n.isElement)(t)&&!y(t))return t;t=(0,n.getParentNode)(t)}return i}let o=E(e,t);for(;o&&(0,n.isTableElement)(o)&&y(o);)o=E(o,t);return o&&(0,n.isLastTraversableNode)(o)&&y(o)&&!(0,n.isContainingBlock)(o)?i:o||(0,n.getContainingBlock)(e)||i}const S={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:i,offsetParent:r,strategy:a}=e;const s="fixed"===a,l=(0,n.getDocumentElement)(r),d=!!t&&(0,n.isTopLayer)(t.floating);if(r===l||d&&s)return i;let _={scrollLeft:0,scrollTop:0},m=(0,o.createCoords)(1);const g=(0,o.createCoords)(0),v=(0,n.isHTMLElement)(r);if((v||!v&&!s)&&(("body"!==(0,n.getNodeName)(r)||(0,n.isOverflowElement)(l))&&(_=(0,n.getNodeScroll)(r)),(0,n.isHTMLElement)(r))){const e=u(r);m=c(r),g.x=e.x+r.clientLeft,g.y=e.y+r.clientTop}const f=!l||v||s?(0,o.createCoords)(0):p(l,_);return{width:i.width*m.x,height:i.height*m.y,x:i.x*m.x-_.scrollLeft*m.x+g.x+f.x,y:i.y*m.y-_.scrollTop*m.y+g.y+f.y}},getDocumentElement:n.getDocumentElement,getClippingRect:function(e){let{element:t,boundary:i,rootBoundary:r,strategy:a}=e;const s=[..."clippingAncestors"===i?(0,n.isTopLayer)(t)?[]:function(e,t){const i=t.get(e);if(i)return i;let o=(0,n.getOverflowAncestors)(e,[],!1).filter((e=>(0,n.isElement)(e)&&"body"!==(0,n.getNodeName)(e))),r=null;const a="fixed"===(0,n.getComputedStyle)(e).position;let s=a?(0,n.getParentNode)(e):e;for(;(0,n.isElement)(s)&&!(0,n.isLastTraversableNode)(s);){const t=(0,n.getComputedStyle)(s),i=(0,n.isContainingBlock)(s);i||"fixed"!==t.position||(r=null),(a?!i&&!r:!i&&"static"===t.position&&r&&m.has(r.position)||(0,n.isOverflowElement)(s)&&!i&&v(e,s))?o=o.filter((e=>e!==s)):r=t,s=(0,n.getParentNode)(s)}return t.set(e,o),o}(t,this._c):[].concat(i),r],c=s[0],l=s.reduce(((e,i)=>{const r=g(t,i,a);return e.top=(0,o.max)(r.top,e.top),e.right=(0,o.min)(r.right,e.right),e.bottom=(0,o.min)(r.bottom,e.bottom),e.left=(0,o.max)(r.left,e.left),e}),g(t,c,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:A,getElementRects:async function(e){const t=this.getOffsetParent||A,i=this.getDimensions,o=await i(e.floating);return{reference:f(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:i}=a(e);return{width:t,height:i}},getScale:c,isElement:n.isElement,isRTL:function(e){return"rtl"===(0,n.getComputedStyle)(e).direction}};function b(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function T(e,t,i,r){void 0===r&&(r={});const{ancestorScroll:a=!0,ancestorResize:c=!0,elementResize:l="function"==typeof ResizeObserver,layoutShift:d="function"==typeof IntersectionObserver,animationFrame:_=!1}=r,p=s(e),m=a||c?[...p?(0,n.getOverflowAncestors)(p):[],...(0,n.getOverflowAncestors)(t)]:[];m.forEach((e=>{a&&e.addEventListener("scroll",i,{passive:!0}),c&&e.addEventListener("resize",i)}));const g=p&&d?function(e,t){let i,r=null;const a=(0,n.getDocumentElement)(e);function s(){var e;clearTimeout(i),null==(e=r)||e.disconnect(),r=null}return function n(c,l){void 0===c&&(c=!1),void 0===l&&(l=1),s();const d=e.getBoundingClientRect(),{left:u,top:_,width:p,height:m}=d;if(c||t(),!p||!m)return;const g={rootMargin:-(0,o.floor)(_)+"px "+-(0,o.floor)(a.clientWidth-(u+p))+"px "+-(0,o.floor)(a.clientHeight-(_+m))+"px "+-(0,o.floor)(u)+"px",threshold:(0,o.max)(0,(0,o.min)(1,l))||1};let v=!0;function f(t){const o=t[0].intersectionRatio;if(o!==l){if(!v)return n();o?n(!1,o):i=setTimeout((()=>{n(!1,1e-7)}),1e3)}1!==o||b(d,e.getBoundingClientRect())||n(),v=!1}try{r=new IntersectionObserver(f,{...g,root:a.ownerDocument})}catch(e){r=new IntersectionObserver(f,g)}r.observe(e)}(!0),s}(p,i):null;let v,f=-1,y=null;l&&(y=new ResizeObserver((e=>{let[o]=e;o&&o.target===p&&y&&(y.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame((()=>{var e;null==(e=y)||e.observe(t)}))),i()})),p&&!_&&y.observe(p),y.observe(t));let E=_?u(e):null;return _&&function t(){const o=u(e);E&&!b(E,o)&&i();E=o,v=requestAnimationFrame(t)}(),i(),()=>{var e;m.forEach((e=>{a&&e.removeEventListener("scroll",i),c&&e.removeEventListener("resize",i)})),null==g||g(),null==(e=y)||e.disconnect(),y=null,_&&cancelAnimationFrame(v)}}r.detectOverflow;const I=r.offset,C=r.autoPlacement,k=r.shift,P=r.flip,O=r.size,M=r.hide,L=r.arrow,D=r.inline,R=r.limitShift,N=(e,t,i)=>{const o=new Map,n={platform:S,...i},a={...n.platform,_c:o};return(0,r.computePosition)(e,t,{...n,platform:a})}},786635:(e,t,i)=>{"use strict";function o(){return"undefined"!=typeof window}function r(e){return s(e)?(e.nodeName||"").toLowerCase():"#document"}function n(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function a(e){var t;return null==(t=(s(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function s(e){return!!o()&&(e instanceof Node||e instanceof n(e).Node)}function c(e){return!!o()&&(e instanceof Element||e instanceof n(e).Element)}function l(e){return!!o()&&(e instanceof HTMLElement||e instanceof n(e).HTMLElement)}function d(e){return!(!o()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof n(e).ShadowRoot)}i.d(t,{getComputedStyle:()=>C,getContainingBlock:()=>S,getDocumentElement:()=>a,getFrameElement:()=>L,getNodeName:()=>r,getNodeScroll:()=>k,getOverflowAncestors:()=>M,getParentNode:()=>P,getWindow:()=>n,isContainingBlock:()=>A,isElement:()=>c,isHTMLElement:()=>l,isLastTraversableNode:()=>I,isOverflowElement:()=>_,isTableElement:()=>m,isTopLayer:()=>v,isWebKit:()=>b});const u=new Set(["inline","contents"]);function _(e){const{overflow:t,overflowX:i,overflowY:o,display:r}=C(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+i)&&!u.has(r)}const p=new Set(["table","td","th"]);function m(e){return p.has(r(e))}const g=[":popover-open",":modal"];function v(e){return g.some((t=>{try{return e.matches(t)}catch(e){return!1}}))}const f=["transform","translate","scale","rotate","perspective"],y=["transform","translate","scale","rotate","perspective","filter"],E=["paint","layout","strict","content"];function A(e){const t=b(),i=c(e)?C(e):e;return f.some((e=>!!i[e]&&"none"!==i[e]))||!!i.containerType&&"normal"!==i.containerType||!t&&!!i.backdropFilter&&"none"!==i.backdropFilter||!t&&!!i.filter&&"none"!==i.filter||y.some((e=>(i.willChange||"").includes(e)))||E.some((e=>(i.contain||"").includes(e)))}function S(e){let t=P(e);for(;l(t)&&!I(t);){if(A(t))return t;if(v(t))return null;t=P(t)}return null}function b(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const T=new Set(["html","body","#document"]);function I(e){return T.has(r(e))}function C(e){return n(e).getComputedStyle(e)}function k(e){return c(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function P(e){if("html"===r(e))return e;const t=e.assignedSlot||e.parentNode||d(e)&&e.host||a(e);return d(t)?t.host:t}function O(e){const t=P(e);return I(t)?e.ownerDocument?e.ownerDocument.body:e.body:l(t)&&_(t)?t:O(t)}function M(e,t,i){var o;void 0===t&&(t=[]),void 0===i&&(i=!0);const r=O(e),a=r===(null==(o=e.ownerDocument)?void 0:o.body),s=n(r);if(a){const e=L(s);return t.concat(s,s.visualViewport||[],_(r)?r:[],e&&i?M(e):[])}return t.concat(r,M(r,[],i))}function L(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}},997193:(e,t,i)=>{"use strict";i.d(t,{clamp:()=>p,createCoords:()=>d,evaluate:()=>m,floor:()=>l,getAlignment:()=>v,getAlignmentAxis:()=>S,getAlignmentSides:()=>b,getAxisLength:()=>y,getExpandedPlacements:()=>T,getOppositeAlignmentPlacement:()=>I,getOppositeAxis:()=>f,getOppositeAxisPlacements:()=>M,getOppositePlacement:()=>L,getPaddingObject:()=>D,getSide:()=>g,getSideAxis:()=>A,max:()=>s,min:()=>a,placements:()=>n,rectToClientRect:()=>R,round:()=>c,sides:()=>o});const o=["top","right","bottom","left"],r=["start","end"],n=o.reduce(((e,t)=>e.concat(t,t+"-"+r[0],t+"-"+r[1])),[]),a=Math.min,s=Math.max,c=Math.round,l=Math.floor,d=e=>({x:e,y:e}),u={left:"right",right:"left",bottom:"top",top:"bottom"},_={start:"end",end:"start"};function p(e,t,i){return s(e,a(t,i))}function m(e,t){return"function"==typeof e?e(t):e}function g(e){return e.split("-")[0]}function v(e){return e.split("-")[1]}function f(e){return"x"===e?"y":"x"}function y(e){return"y"===e?"height":"width"}const E=new Set(["top","bottom"]);function A(e){return E.has(g(e))?"y":"x"}function S(e){return f(A(e))}function b(e,t,i){void 0===i&&(i=!1);const o=v(e),r=S(e),n=y(r);let a="x"===r?o===(i?"end":"start")?"right":"left":"start"===o?"bottom":"top";return t.reference[n]>t.floating[n]&&(a=L(a)),[a,L(a)]}function T(e){const t=L(e);return[I(e),t,I(t)]}function I(e){return e.replace(/start|end/g,(e=>_[e]))}const C=["left","right"],k=["right","left"],P=["top","bottom"],O=["bottom","top"];function M(e,t,i,o){const r=v(e);let n=function(e,t,i){switch(e){case"top":case"bottom":return i?t?k:C:t?C:k;case"left":case"right":return t?P:O;default:return[]}}(g(e),"start"===i,o);return r&&(n=n.map((e=>e+"-"+r)),t&&(n=n.concat(n.map(I)))),n}function L(e){return e.replace(/left|right|bottom|top/g,(e=>u[e]))}function D(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function R(e){const{x:t,y:i,width:o,height:r}=e;return{width:o,height:r,top:i,left:t,right:t+o,bottom:i+r,x:t,y:i}}},347835:(e,t,i)=>{"use strict";function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,o=new Array(t);i<t;i++)o[i]=e[i];return o}i.d(t,{_:()=>o})},18806:(e,t,i)=>{"use strict";function o(e){if(Array.isArray(e))return e}i.d(t,{_:()=>o})},507768:(e,t,i)=>{"use strict";i.d(t,{_:()=>r});var o=i(347835);function r(e){if(Array.isArray(e))return(0,o._)(e)}},453482:(e,t,i)=>{"use strict";function o(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}i.d(t,{_:()=>o})},950894:(e,t,i)=>{"use strict";function o(e,t){return t.get?t.get.call(e):t.value}i.d(t,{_:()=>o})},305570:(e,t,i)=>{"use strict";function o(e,t,i){if(t.set)t.set.call(e,i);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=i}}i.d(t,{_:()=>o})},730494:(e,t,i)=>{"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}i.d(t,{_:()=>o})},906923:(e,t,i)=>{"use strict";function o(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance");return t.get(e)}i.d(t,{_:()=>o})},935750:(e,t,i)=>{"use strict";i.d(t,{_:()=>n});var o=i(950894),r=i(906923);function n(e,t){var i=(0,r._)(e,t,"get");return(0,o._)(e,i)}},518150:(e,t,i)=>{"use strict";i.d(t,{_:()=>r});var o=i(453482);function r(e,t,i){(0,o._)(e,t),t.set(e,i)}},434518:(e,t,i)=>{"use strict";function o(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}i.d(t,{_:()=>o})},763812:(e,t,i)=>{"use strict";i.d(t,{_:()=>r});var o=0;function r(e){return"__private_"+o+++"_"+e}},885242:(e,t,i)=>{"use strict";i.d(t,{_:()=>n});var o=i(305570),r=i(906923);function n(e,t,i){var n=(0,r._)(e,t,"set");return(0,o._)(e,n,i),i}},799407:(e,t,i)=>{"use strict";function o(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function r(e,t,i){return t&&o(e.prototype,t),i&&o(e,i),e}i.d(t,{_:()=>r})},50467:(e,t,i)=>{"use strict";function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{_:()=>o})},153750:(e,t,i)=>{"use strict";function o(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}i.d(t,{_:()=>o})},678882:(e,t,i)=>{"use strict";function o(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}i.d(t,{_:()=>o})},617818:(e,t,i)=>{"use strict";function o(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o,r,n=[],a=!0,s=!1;try{for(i=i.call(e);!(a=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){s=!0,r=e}finally{try{a||null==i.return||i.return()}finally{if(s)throw r}}return n}}i.d(t,{_:()=>o})},252615:(e,t,i)=>{"use strict";function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i.d(t,{_:()=>o})},418474:(e,t,i)=>{"use strict";function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i.d(t,{_:()=>o})},171893:(e,t,i)=>{"use strict";i.d(t,{_:()=>r});var o=i(50467);function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},r=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),r.forEach((function(t){(0,o._)(e,t,i[t])}))}return e}},855456:(e,t,i)=>{"use strict";function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}(Object(t)).forEach((function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))})),e}i.d(t,{_:()=>o})},918542:(e,t,i)=>{"use strict";i.d(t,{_:()=>r});var o=i(140391);function r(e,t){if(null==e)return{};var i,r,n=(0,o._)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)i=a[r],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}},140391:(e,t,i)=>{"use strict";function o(e,t){if(null==e)return{};var i,o,r={},n=Object.keys(e);for(o=0;o<n.length;o++)i=n[o],t.indexOf(i)>=0||(r[i]=e[i]);return r}i.d(t,{_:()=>o})},53014:(e,t,i)=>{"use strict";i.d(t,{_:()=>s});var o=i(18806),r=i(617818),n=i(252615),a=i(675134);function s(e,t){return(0,o._)(e)||(0,r._)(e,t)||(0,a._)(e,t)||(0,n._)()}},586337:(e,t,i)=>{"use strict";i.d(t,{_:()=>s});var o=i(507768),r=i(678882),n=i(418474),a=i(675134);function s(e){return(0,o._)(e)||(0,r._)(e)||(0,a._)(e)||(0,n._)()}},561642:(e,t,i)=>{"use strict";function o(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}i.d(t,{_:()=>o})},675134:(e,t,i)=>{"use strict";i.d(t,{_:()=>r});var o=i(347835);function r(e,t){if(e){if("string"==typeof e)return(0,o._)(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?(0,o._)(e,t):void 0}}},312511:(e,t,i)=>{"use strict";i.d(t,{Icon144IllustrationSpottySick:()=>a});var o=i(474848),r=i(296540),n=i(506447);const a=e=>{const t=r.useId();return(0,o.jsxs)(n.SvgIconRootV2,{viewBox:"0 0 144 144",width:144,height:144,vkuiIconId:"illustration_spotty_sick_144",vkuiAttrs:{fill:"none"},vkuiProps:e,children:[(0,o.jsxs)("g",{clipPath:`url(#illustration_spotty_sick_144${t}a)`,children:[(0,o.jsx)("path",{fill:"#c6cfdb",d:"M59.468 133.2H85.43c27.84 0 41.748 0 50.411-8.591 8.663-8.592 8.572-22.416 8.572-50.023v-5.175c0-27.591 0-41.428-8.572-50.02-8.572-8.591-22.557-8.591-50.41-8.591H59.467c-27.846 0-41.748 0-50.41 8.591C.395 27.983.412 41.807.412 69.411v5.168c0 27.598 0 41.428 8.646 50.023 8.645 8.595 22.564 8.598 50.41 8.598"}),(0,o.jsx)("path",{fill:"#7d8c9e",fillRule:"evenodd",d:"m144.216 95.41-31.011 5.596 3.499 31.261c8.641-1.022 14.606-3.165 19.136-7.658 6.14-6.09 7.882-14.808 8.376-29.2Z",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#9eabba",fillRule:"evenodd",d:"m143.631 104.551-18.406 4.441a2.76 2.76 0 0 0-2.118 2.656l-.034 4.53a2.74 2.74 0 0 0 1.055 2.183 2.78 2.78 0 0 0 2.383.51l15.013-3.676c1.021-3.045 1.681-6.552 2.107-10.644m.762-19.204-11.852-6.027a9.88 9.88 0 0 0-6.67-.826l-37.526 8.825 27.136 14.329a8.33 8.33 0 0 0 5.831.736l22.848-5.478c.146-3.491.207-7.328.233-11.559",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#667280",d:"m118.141 105.877-.835 22.291-31.412-9.518 2.438-31.327 27.459 14.499a4.4 4.4 0 0 1 2.35 4.055"}),(0,o.jsx)("path",{fill:"#9eabba",fillRule:"evenodd",d:"M57.922 133.2c19.945-7.042 26.184-25.27 24.733-42.816-1.744-21.054-13.858-33.158-44.667-30.635-14.904 1.22-28.11 6.318-37.576 13.64v1.19c0 27.598 0 41.428 8.646 50.023 8.484 8.434 22.046 8.595 48.864 8.598",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#667280",fillRule:"evenodd",d:"M66.26 133.2h-6.792c-27.846 0-41.765-.003-50.41-8.598C.765 116.358.426 103.298.412 77.894 9.975 69.663 24.044 63.86 40.08 62.545c30.81-2.525 42.93 9.585 44.667 30.639 1.287 15.561-3.476 31.661-18.486 40.016Z",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#9eabba",fillRule:"evenodd",d:"M86.088 55.642c.002-1.186.866-1.658.32-2.712-.548-1.054-2.49-2.66-3.464-3.347a7.51 7.51 0 0 0-6.793-.953 7.5 7.5 0 0 0-2.962 1.91 7.4 7.4 0 0 0-1.747 3.049 7.38 7.38 0 0 0 1.35 6.684 6.5 6.5 0 0 1 1.141 5.975c-1.763 5.814-2.901 14.917-2.901 25.151 0 17.558 3.343 31.783 7.467 31.783 4.125 0 7.468-14.232 7.468-31.783 0-10.117-1.108-19.13-2.838-24.95a6.43 6.43 0 0 1 1.188-6.023 7.36 7.36 0 0 0 1.771-4.784",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#667280",fillRule:"evenodd",d:"M88.163 57.584a7.4 7.4 0 0 0-.83-3.41 7.4 7.4 0 0 0-2.314-2.65 7.51 7.51 0 0 0-6.793-.953 7.5 7.5 0 0 0-2.961 1.911 7.4 7.4 0 0 0-1.748 3.048 7.38 7.38 0 0 0 1.35 6.684 6.5 6.5 0 0 1 1.141 5.975c-1.763 5.815-2.901 14.918-2.901 25.152 0 17.558 3.343 31.783 7.468 31.783 4.124 0 7.467-14.232 7.467-31.783 0-10.117-1.108-19.13-2.838-24.95a6.43 6.43 0 0 1 1.188-6.023 7.36 7.36 0 0 0 1.771-4.784M4.287 117.575q.057-1.945.057-3.953c0-10.117-1.108-19.127-2.838-24.951a6.42 6.42 0 0 1 1.188-6.022 7.36 7.36 0 0 0 .941-8.19 7.43 7.43 0 0 0-3.223-3.2v3.32c0 21.12 0 34.178 3.875 42.996",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#e1e6ed",fillRule:"evenodd",d:"M37.374 132.945c2.985-.378 6.195-.617 9.647-.558l13.518.231 3.8.063c10.532-.806 18.973-1.977 20.201-2.853 3.007-2.178 1.22-37.6-8.08-52.408a5.39 5.39 0 0 1-.535-4.537c1.326-3.87-.219-6.376-2.73-7.126-2.084-.619-5.879 1.389-7.593 2.442a5.7 5.7 0 0 1-2.518.827c-5.818.481-28.2 2.787-48.087 10.977a6.7 6.7 0 0 1-2.9.515C4.51 80.1 2.15 86.366 6.584 90.554a6.6 6.6 0 0 1 1.593 2.549 6.56 6.56 0 0 1 .296 2.985c-1.01 8.986 2.501 21.007 5.36 28.102a9.3 9.3 0 0 1 .665 4.378c5.504 2.87 12.76 3.962 22.877 4.377Z",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#c6cfdb",fillRule:"evenodd",d:"M85.43 133.2H59.467c-18.416 0-30.74-.001-39.476-2.488 2.356-3.784 4.867-8.342 4.41-12.6-.95-4.412-2.003-7.629-2.903-10.377-1.228-3.749-2.17-6.625-2.17-10.471 0-1.21-.162-2.319-.313-3.348-.58-3.948-.984-6.7 8.677-9.262 13.754-3.647 30.665.778 41.234 3.543 4.291 1.123 7.537 1.973 9.102 1.897a5.3 5.3 0 0 0 2.357-.689c1.626-.923 5.219-2.666 7.13-2.024 2.31.776 3.657 3.155 2.31 6.711a4.99 4.99 0 0 0 .347 4.242c4.892 8.407 7.038 23.583 7.36 34.833-3.713.033-7.737.033-12.103.033Z",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#667280",fillRule:"evenodd",d:"M85.43 133.2H59.467c-18.946 0-31.444-.002-40.222-2.709.994-1.423 2.547-2.912 5.087-4.437a8 8 0 0 0 2.805-2.889 7.95 7.95 0 0 0 1.04-3.879c.063-5.42.666-10.706 3.918-11.194 4.119-.611 7.365-1.602 10.767-2.641 6.528-1.992 13.633-4.161 28.58-4.161 15.815 0 47.856 10.578 63.715 23.967-8.709 7.943-22.608 7.943-49.728 7.943Z",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#9eabba",fillRule:"evenodd",d:"M36.897 72.967c-5.905 2.007-7.871 7.076-7.84 11.375a5.52 5.52 0 0 1-1.65 3.904c-5.943 5.952-1.93 13.971 6.292 27.848 16.16 3.085 24.194 12.088 45.115 3.346 11.033-4.617 16.736-4.821 12.177-11.308-4.558-6.487-.05-2.546 1.58-6.929.487-1.318 1.191 1.365-1.142-2.63 3.262-15.472-9.323-25.191-14.117-25.91-2.983-.446-2.852 22.967-21.06 18.176-9.682-1.763-12.796-9.1-19.355-17.872",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#7d8c9e",fillRule:"evenodd",d:"M25.623 90.602c1.298.654 2.6 2.008 4.124 3.59 2.675 2.781 6.032 6.27 11.241 7.925.69.217 0-3.982-.626-4.35-5.843-3.423-10.294-10.125-11.49-12.044a5.5 5.5 0 0 1-1.465 2.523c-.75.75-1.34 1.532-1.784 2.356m66.904 9.703a22 22 0 0 1-1.098-1.731C94.69 83.1 82.106 73.382 77.312 72.662c-.849-.126-1.445 1.679-2.284 4.216-2.109 6.38-5.748 17.388-18.775 13.96-7.844-1.427-11.378-6.514-15.923-13.058-1.027-1.478-2.106-3.03-3.297-4.631-1.255 5.289 2.786 14.25 13.759 19.597 9.925 4.837 26.793 4.764 32.3-2.904a.59.59 0 0 1 .689-.213.59.59 0 0 1 .386.604c-.522 4.543-3.58 8.575-10.865 10.231-3.683.836-10.67.719-18.48-1.004a.764.764 0 0 0-.84.49.75.75 0 0 0 .332.909c20.404 11.426 34.235 3.247 38.213-.554",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#c6cfdb",d:"M110.094 104.642a6.17 6.17 0 0 0-1.25-3.116 6.24 6.24 0 0 0-2.702-2.012 8.57 8.57 0 0 0-4.485-.201c-.31.087-.454-.422-.454-.422-.088-.334-.175-.669-.26-.963-.791-2.466-6.117-4.229-12.258-4.229s-10.737 1.763-11.528 4.229c-1.586 5.657-3.276 19.016 1.064 22.536 3.242 2.626 13.51 3.429 21.581.612 5.134-1.79 3.879-4.684 4.185-6.357.252-1.361 2.111-2.218 2.774-2.72 2.545-2.017 3.734-4.617 3.333-7.357m-3.905 2.212a3.66 3.66 0 0 1-.923 1.412c-.459.481-.98.902-1.548 1.251a.37.37 0 0 1-.192.057.37.37 0 0 1-.337-.188.4.4 0 0 1-.047-.194 31 31 0 0 0-.606-5.717.7.7 0 0 1 .175-.619.73.73 0 0 1 .606-.244c.628.034 1.239.21 1.788.515.364.213.671.511.893.868.223.358.354.764.383 1.183.07.566.004 1.14-.192 1.676"}),(0,o.jsx)("path",{fill:"#667280",d:"M89.072 101.675c4.656.094 8.457-1.151 8.491-2.784s-3.703-3.01-8.373-3.12-8.457 1.15-8.491 2.782 3.714 3.028 8.373 3.122"}),(0,o.jsx)("path",{fill:"#fff",d:"M28.52 112.113c4.337 6.079 11.872 9.455 18.855 11.04 16.884 3.841 34.125.716 32.412-5.587 1.683-1.488 1.875-5.088.892-6.416a4.24 4.24 0 0 0-4.249-1.539c.727-.971.141-2.285-.747-3.112-3.148-2.482-7.953-.144-11.535.305-16.134 2.027-18.554-4.587-23.618-5.213-.003.004-17.19 3.169-12.01 10.522"}),(0,o.jsx)("path",{fill:"#9eabba",fillRule:"evenodd",d:"M25.454 90.932s-4.138 8.722 1.276 18.481c1.148 2.064 6.356-12.211 21.524-5.139 4.474 2.088-.462-2.753-.462-2.753l-9.17.137-11.582-6.356z",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#fff",d:"M76.703 59.093c-.98-6.056-2.57-11.148-3.03-15.62 3.653-1.553 11.11-6.263 8.847-12.643-2.599-7.324-11.638-4.272-18.234-2.007-.539-.422-14.959-12.546-32.065 2.05a62 62 0 0 0-2.67 3.286c-5.104.608-10.541 1.589-13.763 4.396-4.175 3.64-3.418 11.652 1.626 14.626 1.892 1.118 5.084 1.64 8.578 1.824a5.87 5.87 0 0 1 2.938.967 5.8 5.8 0 0 1 2.028 2.321c5.364 11.228 5.687 24.466 22.645 32.703 14.814 6.785 24.578.74 26.487-6.872 2.026-8.1-1.906-15.881-3.387-25.031"}),(0,o.jsx)("path",{fill:"#667280",d:"m74.04 38.257-1.445-1.004c.31-.257.62-.505.93-.722a.775.775 0 0 0 .31-.802.77.77 0 0 0-.342-.484.78.78 0 0 0-.864.02c-.303.215-.606.45-.906.694a.77.77 0 0 1-.932.043l-.73-.505a.783.783 0 0 0-1.085.19.77.77 0 0 0 .192 1.078l.932.645a79 79 0 0 0-1.683 1.673.78.78 0 0 1-.848.174l-.55-.227a.783.783 0 0 0-1.043.404.77.77 0 0 0 .445 1.02l.46.195q-.433.446-.898.907a.78.78 0 0 0-.16.852.78.78 0 0 0 .43.418.79.79 0 0 0 .854-.18c.337-.334.674-.669.987-1.004a.77.77 0 0 1 .842-.167l.962.402a.78.78 0 0 0 1.019-.413.77.77 0 0 0-.416-1.012l-.879-.368c.458-.469.903-.92 1.347-1.339a.76.76 0 0 1 .97-.073l1.232.853a.776.776 0 0 0 1.084-.19.77.77 0 0 0-.215-1.078m.811 18.36a5.3 5.3 0 0 0-1.31-1.19 45 45 0 0 0-4.777-2.463c-1.098-.392-1.859.826-.337 2.007-1.054 3.199-.077 5.253 1.6 6.069.36.19.749.324 1.15.395 1.98.354 3.85-.8 4.172-2.58a3.06 3.06 0 0 0-.498-2.238m-25.867 2.616a6.8 6.8 0 0 1 1.683-1.549c2.283-1.482 6.121-3.188 6.121-3.188 1.404-.502 2.384 1.1.458 2.643 1.347 4.199.108 6.885-2.04 7.94a5 5 0 0 1-1.475.508c-2.538.448-4.939-1.081-5.356-3.416-.178-1.02.04-2.07.61-2.938ZM71.205 89.15c-4.896.307-8.939-5.186-8.79-8.843.225-5.61 14.44-7.07 15.884-1.556 1.006 3.834-2.149 10.08-7.094 10.398Z"}),(0,o.jsx)("path",{fill:"#9eabba",fillRule:"evenodd",d:"M37.456 26.654c-3.218.716-6.582 2.296-8.524 6.829-.22.505-.142 1.084-.337 1.599-1.293 3.446-1.95 7.24 4.249 9.85 1.94.816 4.902 1.04 8.602 1.468 6.501.75 16.38.197 20.42-8.903 4.356-1.338 5.332-7.738 1.683-9.849a6.5 6.5 0 0 1-1.593-1.338c-5.602-6.337-16.706-3.402-16.706-3.402s-6.255 3.405-7.794 3.746",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#e1e6ed",fillRule:"evenodd",d:"M57.627 23.34a2.58 2.58 0 0 0-1.771 2.445 2.584 2.584 0 0 0 2.592 2.576 2.584 2.584 0 0 0 2.558-2.996c-1.024-.895-2.176-1.551-3.379-2.025m3.117 16.25a2.59 2.59 0 0 0-2.559-2.16 2.584 2.584 0 0 0-2.592 2.577 2.584 2.584 0 0 0 2.586 2.576 14 14 0 0 0 2.565-2.993M31.61 44.35a2.58 2.58 0 0 0 1.463-2.32 2.584 2.584 0 0 0-2.593-2.575 2.59 2.59 0 0 0-2.356 1.5c.509 1.225 1.57 2.382 3.486 3.395M30.4 30.9c.476.563 1.19.92 1.986.92a2.584 2.584 0 0 0 2.592-2.576c0-.601-.207-1.154-.554-1.592-1.47.682-2.863 1.695-4.023 3.249Zm14.066 8.096a2.584 2.584 0 0 0 2.592-2.576 2.584 2.584 0 0 0-2.592-2.576 2.584 2.584 0 0 0-2.593 2.576 2.584 2.584 0 0 0 2.593 2.576",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#7d8c9e",fillRule:"evenodd",d:"M40.752 46.32c-3.247-2.16-2.314-6.683-1.932-8.533l.033-.163c-2.539 3.495-2.261 6.483-1.655 8.286.824.108 1.712.206 2.657.31z",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#7d8c9e",d:"M40.224 28.01s-5.36 4.091-5.565 7.463c-.034.56 1.595-2.79 4.848-4.379a25.8 25.8 0 0 1 5.794-2.037z"}),(0,o.jsx)("path",{fill:"#7d8c9e",d:"M45.597 27.076s5.993-.264 8.511 2.623c.377.431-1.377-.147-3.063-.381-6.06-.837-8.057.187-8.057.187z"}),(0,o.jsx)("path",{fill:"#7d8c9e",d:"M44.907 26.16s2.357-2.757 7.356-.93a8.76 8.76 0 0 0-5.76 1.434c-3.764 2.577-.771.733-.771.733z"}),(0,o.jsx)("path",{fill:"#515a66",fillRule:"evenodd",d:"m45.358 23.975-6.501 2.776 1.097 3.272v.037c.223.67 2.02.519 4.04-.334s3.347-2.058 3.03-2.677l-.02-.026z",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#515a66",fillRule:"evenodd",d:"M45.358 23.975c.28.522-.98 1.596-2.821 2.382s-3.492.957-3.68.395c-.189-.563 1.09-1.586 2.841-2.342s3.387-.944 3.66-.435",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#667280",fillRule:"evenodd",d:"m44.863 19.92-9.47 4.045 1.245 3.944a.2.2 0 0 0 0 .044c.25.796 3.468.823 6.397-.422s4.286-3.232 3.875-3.961a.1.1 0 0 0-.027-.034z",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#9eabba",fillRule:"evenodd",d:"M44.863 19.92c.408.76-1.427 2.322-4.107 3.47-2.68 1.147-5.087 1.394-5.364.575-.276-.82 1.59-2.309 4.142-3.4s4.932-1.388 5.33-.645Z",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#667280",d:"M56.465 86.707a1.3 1.3 0 0 1 .948-.44 1.3 1.3 0 0 1 .968.397c.862.886 2.565 4.078 1.151 4.044-1.246-.03-3.872-2.924-3.067-4.001"}),(0,o.jsx)("path",{fill:"#e1e6ed",d:"M138.958 83.566c1.531-.737 2.824-.368.898 5.844 1.785 2.784 2.495 4.272 1.987 4.781-1.189 1.18-6.06 0-6.06 0s1.522-9.833 3.175-10.626Z"}),(0,o.jsx)("path",{fill:"#fff",d:"M127.47 84.171s-.097-3.54 1.744-3.918c1.842-.378 6.397 3.564 6.397 3.564s4.508-1.151 4.942-.315c.876 1.673-1.272 4.804-2.693 6.176a.82.82 0 0 0-.226.79c.92 3.469-.831 5.205-1.663 5.473-2.114.669-4.511-2.372-5.026-1.864-.515.509-6.498 2.389-6.498-.967 0-1.756 1.518-3.185 1.518-3.185s-3.777-6.129 1.505-5.754"}),(0,o.jsx)("path",{fill:"#e1e6ed",d:"M134.241 82.726c-1.256.669-3.572 1.933-2.589 1.933 1.319 0 3.942-.843 3.942-.843s-.555-.481-1.353-1.09m-8.868 12.03s4.467-2.75 4.902-3.837c.434-1.087.976 3.142.976 3.142s-3.602 1.78-5.878.695"}),(0,o.jsx)("path",{fill:"#fff",d:"M110.104 73.027c-3.215.67-5.966.13-6.397 1.603-.43 1.472 1.011 3.057.748 4.47-.387 2.167.293 5.352 3.175 5.687-.788 1.003-1.269 1.726-.812 2.449 2.044 2.298 6.498.371 7.165.8 1.653 1.06 7.319-.87 8.599-1.744 1.279-.873-.909-2.84-1.411-3.345s3.761-2.172 3.4-3.644c-.36-1.472-3.676-1.703-3.201-2.365 1.444-2.007-.253-6.44-1.347-6.919s-7.464-.364-9.919 3.008"}),(0,o.jsx)("path",{fill:"#e1e6ed",fillRule:"evenodd",d:"m121.332 77.009-.02.013c-.453.648-1.22 1.19-1.982 1.727-1.952 1.377-3.864 2.727-.341 5.763.326.283 1.607-.133 2.919-.819a16 16 0 0 0-.596-.607l-.141-.14c-.207-.208.396-.613 1.15-1.12 1.076-.725 2.462-1.657 2.25-2.523-.2-.819-1.315-1.253-2.183-1.592-.636-.248-1.14-.444-1.056-.702m-6.983 11.195c-1.096-.652-2.883-1.93-3.578-3.641-1.01-2.496.348-4.047.956-4.741.125-.143.219-.25.253-.321-1.438.234-4.377 3.365-4.377 5.272l-.007.01.034.004c-.788 1.003-1.27 1.726-.812 2.449 1.408 1.583 3.959 1.161 5.628.885.755-.124 1.329-.22 1.537-.086q.16.102.366.169m-9.937-7.08 3.565-3.948-.459.238c-1.23.641-2.464 1.285-3.037 1.15q.022.272-.026.535a6.8 6.8 0 0 0-.043 2.026Zm2.633-7.706a4.03 4.03 0 0 0 1.952 2.051c3.989 1.837 10.655-.947 6.71-.947-3.946 0-5.603-.766-5.603-1.495-1.098.229-2.143.316-3.059.391",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#fff",fillRule:"evenodd",d:"M23.945 79.708a4.48 4.48 0 0 0-1.242 3.153 4.48 4.48 0 0 0 1.323 3.12l14.427 14.72a11.9 11.9 0 0 0 3.08 2.275c3.869 1.968 7.492-1.498 5.556-5.262a12.5 12.5 0 0 0-2.175-3.045L30.272 79.74a4.43 4.43 0 0 0-3.157-1.336 4.46 4.46 0 0 0-3.17 1.305Z",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#667280",d:"m32.095 86.382-1.52 1.471a1.046 1.046 0 0 0-.018 1.486l6.91 7.046a1.06 1.06 0 0 0 1.495.02l1.519-1.471c.418-.405.427-1.07.02-1.486l-6.911-7.046a1.06 1.06 0 0 0-1.495-.02"}),(0,o.jsx)("path",{fill:"#667280",fillRule:"evenodd",d:"m23.838 85.78 6.336-6.139a4.443 4.443 0 0 0-6.155.025 4.383 4.383 0 0 0-.18 6.114Zm16.467 16.464q.592.4 1.228.726c3.63 1.843 7.185 3.543 10.077 5.895a.83.83 0 0 0 1.357-.562.81.81 0 0 0-.162-.559c-2.198-2.874-3.915-6.494-5.723-10.037q-.345-.668-.768-1.291z",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"#fff",d:"M36.24 92.856a.7.7 0 0 1-.279-.167l-2.067-2.068a.69.69 0 0 1-.148-.753.69.69 0 0 1 .644-.424.7.7 0 0 1 .49.204l2.068 2.067a.687.687 0 0 1-.253 1.133.7.7 0 0 1-.454.008Zm18.343 14.105c-6.548-.93-9.48-4.202-13.289-4.634-3.203-.363-5.753.671-7.695 1.861-2.013.99 6.672 8.571 6.672 8.571 17.675 7.838 20.103 1.321 14.312-5.798"}),(0,o.jsx)("path",{fill:"#667280",d:"M138.191 111.716c.285-1.089-.237-2.167-1.165-2.407-.929-.24-1.913.448-2.198 1.537s.237 2.167 1.166 2.407 1.912-.448 2.197-1.537"}),(0,o.jsx)("path",{fill:"#7d8c9e",d:"M139.93 112.669c.37-1.416-.308-2.817-1.515-3.129-1.208-.312-2.487.583-2.858 1.999s.308 2.817 1.515 3.129c1.208.312 2.487-.583 2.858-1.999"}),(0,o.jsx)("path",{fill:"#fff",d:"M87.019 99.658a3.53 3.53 0 0 1-1.482-1.648 3.5 3.5 0 0 1-.202-2.2c.3-1.207 1.263-2.14 1.896-3.215s.898-2.613-.03-3.456c-.741-.669-1.88-.579-2.822-.903-1.808-.619-2.72-2.847-2.212-4.684s4.229-1.519 4.003-3.406c-.458-3.847 3.727-6.932 7.912-5.864a7.55 7.55 0 0 1 3.906 2.516 7.47 7.47 0 0 1 1.676 4.315c.088 6.925-7.043 8.983-9.272 14.965-.41.87.185 1.549 1.111 1.16.673-.14 2.407.754.572 2.105-1.269.917-3.582 1.124-5.056.315"})]}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:`illustration_spotty_sick_144${t}a`,children:(0,o.jsx)("path",{fill:"#fff",d:"M0 0h144v144H0z"})})})]})}},782623:(e,t,i)=>{"use strict";i(296540)},35520:(e,t,i)=>{"use strict";i.d(t,{SvgIconRoot:()=>c});var o=i(171893),r=i(855456),n=i(918542),a=i(474848);i(296540);function s(...e){return e.filter((e=>e)).join(" ")}function c(e){var{width:t=0,height:i=0,display:c="block","aria-hidden":l=!0,className:d,baseClassName:u,getRootRef:_,style:p,title:m,children:g}=e,v=(0,n._)(e,["width","height","display","aria-hidden","className","baseClassName","getRootRef","style","title","children"]);const f=Math.max(t,i);return(0,a.jsxs)("svg",(0,r._)((0,o._)({"aria-hidden":l,display:c,className:s(d,"vkuiIcon",`vkuiIcon--${f}`,`vkuiIcon--w-${t}`,`vkuiIcon--h-${i}`,u),width:t,height:i,style:(0,o._)({width:t,height:i},p),ref:_},v),{children:[m&&(0,a.jsx)("title",{children:m}),g]}))}},456852:(e,t,i)=>{"use strict";i.d(t,{SvgIconRootV2:()=>c});var o=i(171893),r=i(855456),n=i(918542),a=i(474848),s=(i(296540),i(35520));function c(e){var{vkuiIconId:t,vkuiAttrs:i,children:c,vkuiProps:l,width:d,height:u,viewBox:_}=e,p=(0,n._)(e,["vkuiIconId","vkuiAttrs","children","vkuiProps","width","height","viewBox"]);const{width:m,height:g,viewBox:v}=l,f=(0,n._)(l,["width","height","viewBox"]);return(0,a.jsxs)(s.SvgIconRoot,(0,r._)((0,o._)((0,r._)((0,o._)({baseClassName:`vkuiIcon--${t}`,width:m||d,height:g||u,viewBox:v||_},p,f),{style:l.fill?(0,o._)({color:l.fill},l.style):l.style}),i),{children:[l.children,c]}))}},506447:(e,t,i)=>{"use strict";i.d(t,{IconAppearanceProvider:()=>n.IconAppearanceProvider,SvgIconRootV2:()=>o.SvgIconRootV2,makeRasterIcon:()=>r.makeRasterIcon});i(35520);var o=i(456852),r=i(160279),n=(i(782623),i(956655))},956655:(e,t,i)=>{"use strict";i.d(t,{IconAppearanceProvider:()=>a,appearanceTypes:()=>r,useIconAppearance:()=>s});var o=i(296540);const r=["light","dark"],n=o.createContext("light"),a=n.Provider,s=()=>o.useContext(n)},160279:(e,t,i)=>{"use strict";i.d(t,{makeRasterIcon:()=>_});var o=i(171893),r=i(918542),n=i(474848),a=i(296540),s=i(956655),c=i(157394);const l={mdpi:1,hdpi:1.5,xhdpi:1.5,xxhdpi:3,xxxhdpi:4},d=Object.keys(l),u=a.memo((function(e){var{getRootRef:t,id:i,size:a,className:u}=e,_=(0,r._)(e,["getRootRef","id","size","className"]);const p=(0,s.useIconAppearance)(),m=d.reduce(((e,t)=>{const i=(0,c.getDensityBucketAppearanceKey)(p,t);let o=_[i];delete _[i];for(const e of s.appearanceTypes){const i=(0,c.getDensityBucketAppearanceKey)(e,t);o||(o=_[i]),delete _[i]}return o&&e.push(`${o} ${l[t]}x`),e}),[]).join(", ");return(0,n.jsx)("img",(0,o._)({ref:t,"aria-hidden":"true",alt:"",className:["vkuiIcon",`vkuiIcon--${a}`,`vkuiIcon--w-${a}`,`vkuiIcon--h-${a}`,`vkuiIcon--${i}`,"vkuiRasterIcon",u].join(" ").trim(),width:a,height:a,srcSet:m,loading:"lazy",draggable:!1},_))}));function _(e,t,i,r){const a=e=>(0,n.jsx)(u,(0,o._)({id:t,size:i},r,e));return a.size=i,a.isRasterIcon=!0,a.displayName=e,a}},157394:(e,t,i)=>{"use strict";i.d(t,{getDensityBucketAppearanceKey:()=>o});const o=(e,t)=>`${e}${t}`},128225:(e,t,i)=>{"use strict";i.d(t,{Icon12OnlineMobile:()=>n});var o=i(474848),r=(i(296540),i(506447));const n=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 8 12",width:8,height:12,vkuiIconId:"online_mobile_12",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,o.jsx)("path",{fill:"currentColor",d:"M5.99 0C7.1 0 8 .9 8 2.01v7.98C8 11.1 7.1 12 5.99 12H2.01C.9 12 0 11.1 0 9.99V2.01C0 .9.9 0 2.01 0zm.008 3H2.003a.5.5 0 0 0-.503.502v4.996c0 .277.225.502.503.502h3.995a.5.5 0 0 0 .502-.502V3.503A.5.5 0 0 0 5.997 3"})})},685826:(e,t,i)=>{"use strict";i.d(t,{Icon20CalendarOutline:()=>n});var o=i(474848),r=(i(296540),i(506447));const n=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"calendar_outline_20",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M6.25 1a.75.75 0 0 1 .75.75v.257Q7.588 1.998 8.317 2h3.366q.729-.002 1.317.007V1.75a.75.75 0 0 1 1.5 0v.356c.428.064.816.172 1.18.357a4.25 4.25 0 0 1 1.857 1.858c.253.497.361 1.04.413 1.67.05.613.05 1.374.05 2.326v3.366c0 .952 0 1.713-.05 2.327-.052.63-.16 1.172-.413 1.67a4.25 4.25 0 0 1-1.857 1.857c-.498.253-1.04.361-1.67.413-.614.05-1.375.05-2.327.05H8.317c-.952 0-1.713 0-2.327-.05-.63-.052-1.172-.16-1.67-.413a4.25 4.25 0 0 1-1.857-1.857c-.253-.498-.361-1.04-.413-1.67C2 13.396 2 12.635 2 11.683V8.317c0-.952 0-1.713.05-2.327.052-.63.16-1.172.413-1.67a4.25 4.25 0 0 1 1.858-1.857A3.8 3.8 0 0 1 5.5 2.106V1.75A.75.75 0 0 1 6.25 1M5.5 3.63c-.203.044-.361.1-.498.17A2.75 2.75 0 0 0 3.8 5.002c-.128.25-.21.573-.255 1.11-.02.255-.032.543-.038.878h12.986a14 14 0 0 0-.038-.878c-.044-.537-.127-.86-.255-1.11A2.75 2.75 0 0 0 15 3.8a2 2 0 0 0-.499-.17v.12a.75.75 0 0 1-1.5 0v-.243a80 80 0 0 0-1.35-.007h-3.3c-.525 0-.968 0-1.35.007v.243a.75.75 0 0 1-1.5 0zm11 4.86h-13v3.16c0 .992 0 1.692.045 2.238.044.537.127.86.255 1.11A2.75 2.75 0 0 0 5.002 16.2c.25.128.573.21 1.11.255.546.044 1.246.045 2.238.045h3.3c.992 0 1.692 0 2.238-.045.537-.044.86-.127 1.11-.255A2.75 2.75 0 0 0 16.2 15c.128-.252.21-.574.255-1.111.044-.546.045-1.245.045-2.238z",clipRule:"evenodd"})})},419771:(e,t,i)=>{"use strict";i.d(t,{Icon20CheckBoxIndetermanate:()=>n});var o=i(474848),r=(i(296540),i(506447));const n=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"check_box_indetermanate_20",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,o.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M2 8.4c0-2.24 0-3.36.436-4.216a4 4 0 0 1 1.748-1.748C5.04 2 6.16 2 8.4 2h3.2c2.24 0 3.36 0 4.216.436a4 4 0 0 1 1.748 1.748C18 5.04 18 6.16 18 8.4v3.2c0 2.24 0 3.36-.436 4.216a4 4 0 0 1-1.748 1.748C14.96 18 13.84 18 11.6 18H8.4c-2.24 0-3.36 0-4.216-.436a4 4 0 0 1-1.748-1.748C2 14.96 2 13.84 2 11.6zm4.4.7a.9.9 0 1 0 0 1.8h7.2a.9.9 0 1 0 0-1.8z",clipRule:"evenodd"})})},139949:(e,t,i)=>{"use strict";i.d(t,{Icon20CheckBoxOff:()=>n});var o=i(474848),r=(i(296540),i(506447));const n=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"check_box_off_20",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,o.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.046 2.534C4.788 2.138 5.517 2 7.128 2h5.744c1.61 0 2.34.138 3.082.534.65.348 1.164.862 1.512 1.512.396.742.534 1.471.534 3.082v5.744c0 1.61-.138 2.34-.534 3.082a3.64 3.64 0 0 1-1.512 1.512c-.742.396-1.472.534-3.082.534H7.128c-1.61 0-2.34-.138-3.082-.534a3.64 3.64 0 0 1-1.512-1.512C2.138 15.212 2 14.482 2 12.872V7.128c0-1.61.138-2.34.534-3.082a3.65 3.65 0 0 1 1.512-1.512m3.082.966c-1.531 0-1.962.136-2.374.357a2.15 2.15 0 0 0-.897.897c-.22.412-.357.843-.357 2.374v5.744c0 1.531.136 1.962.357 2.374q.313.585.897.897c.412.22.843.357 2.374.357h5.744c1.531 0 1.962-.136 2.374-.357q.585-.313.897-.897c.22-.412.357-.843.357-2.374V7.128c0-1.531-.136-1.962-.357-2.374a2.15 2.15 0 0 0-.897-.897c-.412-.22-.843-.357-2.374-.357z",clipRule:"evenodd"})})},627793:(e,t,i)=>{"use strict";i.d(t,{Icon20CheckBoxOn:()=>n});var o=i(474848),r=(i(296540),i(506447));const n=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"check_box_on_20",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,o.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M2.436 4.184C2 5.04 2 6.16 2 8.4v3.2c0 2.24 0 3.36.436 4.216a4 4 0 0 0 1.748 1.748C5.04 18 6.16 18 8.4 18h3.2c2.24 0 3.36 0 4.216-.436a4 4 0 0 0 1.748-1.748C18 14.96 18 13.84 18 11.6V8.4c0-2.24 0-3.36-.436-4.216a4 4 0 0 0-1.748-1.748C14.96 2 13.84 2 11.6 2H8.4c-2.24 0-3.36 0-4.216.436a4 4 0 0 0-1.748 1.748m12.2 3.803a.9.9 0 1 0-1.272-1.274l-4.673 4.665-2.055-2.052A.9.9 0 0 0 5.364 10.6l2.691 2.687a.9.9 0 0 0 1.272 0z",clipRule:"evenodd"})})},967467:(e,t,i)=>{"use strict";i.d(t,{Icon20ChevronLeftOutline:()=>n});var o=i(474848),r=(i(296540),i(506447));const n=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"chevron_left_outline_20",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,o.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M12.526 4.217a.75.75 0 0 1 0 1.06L7.81 10l4.716 4.721a.75.75 0 1 1-1.061 1.06l-5.246-5.25a.75.75 0 0 1 0-1.061l5.246-5.252a.75.75 0 0 1 1.06-.001z",clipRule:"evenodd"})})},780428:(e,t,i)=>{"use strict";i.d(t,{Icon20ChevronUp:()=>n});var o=i(474848),r=(i(296540),i(506447));const n=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 20 16",width:20,height:16,vkuiIconId:"chevron_up_20",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M15.78 11.125a1 1 0 0 1-1.405.156L10 7.78l-4.375 3.5a1 1 0 0 1-1.25-1.562l5-4a1 1 0 0 1 1.25 0l5 4a1 1 0 0 1 .156 1.406Z",clipRule:"evenodd"})})},875717:(e,t,i)=>{"use strict";i.d(t,{Icon20ListPlusOutline:()=>n});var o=i(474848),r=(i(296540),i(506447));const n=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"list_plus_outline_20",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M2 4.75A.75.75 0 0 1 2.75 4h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 4.75m0 5A.75.75 0 0 1 2.75 9h8.5a.75.75 0 0 1 0 1.5h-8.5A.75.75 0 0 1 2 9.75M15.5 11a.75.75 0 0 1 .75.75V14h2.25a.75.75 0 0 1 0 1.5h-2.25v2.25a.75.75 0 0 1-1.5 0V15.5H12.5a.75.75 0 0 1 0-1.5h2.25v-2.25a.75.75 0 0 1 .75-.75M2 14.75a.75.75 0 0 1 .75-.75H8a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1-.75-.75",clipRule:"evenodd"})})},421654:(e,t,i)=>{"use strict";i.d(t,{Icon20PodcastOutline:()=>n});var o=i(474848),r=(i(296540),i(506447));const n=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"podcast_outline_20",vkuiProps:e,children:(0,o.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,o.jsx)("path",{d:"M0 0h20v20H0z",opacity:".4"}),(0,o.jsx)("path",{fill:"currentColor",fillRule:"nonzero",d:"M10 5a4 4 0 0 1 4 4v3c0 1.953-1.4 3.578-3.25 3.93v1.32a.75.75 0 1 1-1.5 0v-1.32A4 4 0 0 1 6 12V9a4 4 0 0 1 4-4m0 1.5A2.5 2.5 0 0 0 7.5 9v3a2.5 2.5 0 0 0 4.502 1.498l-.13.002H10.45a.75.75 0 1 1 0-1.5h2.05v-1.5h-2.05a.75.75 0 1 1 0-1.5h2.05A2.5 2.5 0 0 0 10 6.5M10 2a7 7 0 0 1 6.938 6.065A1.5 1.5 0 0 1 18 9.5v3a1.5 1.5 0 0 1-3 0v-3c0-.428.18-.815.468-1.088a5.5 5.5 0 0 0-5.247-4.908L10 3.5a5.5 5.5 0 0 0-5.469 4.912c.29.273.469.66.469 1.088v3a1.5 1.5 0 0 1-3 0v-3a1.5 1.5 0 0 1 1.062-1.435A7 7 0 0 1 10 2"})]})})},848659:(e,t,i)=>{"use strict";i.d(t,{Icon20ShareOutline:()=>n});var o=i(474848),r=(i(296540),i(506447));const n=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"share_outline_20",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,o.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.764 4.753a.25.25 0 0 1 .402-.198l6.742 5.247a.25.25 0 0 1 0 .395l-6.747 5.25a.25.25 0 0 1-.402-.198v-3.136a.75.75 0 0 0-.75-.75c-2.456 0-4.342.913-5.832 2.197.266-1.454.824-2.577 1.57-3.426 1.066-1.212 2.58-1.941 4.385-2.228a.75.75 0 0 0 .632-.741zm1.324-1.381c-1.15-.895-2.824-.075-2.824 1.38v1.791c-1.81.394-3.434 1.225-4.643 2.6-1.352 1.538-2.117 3.68-2.117 6.445a.75.75 0 0 0 1.329.477c1.362-1.655 3.059-2.942 5.426-3.167v2.35c0 1.456 1.674 2.277 2.823 1.382l6.747-5.25c.9-.7.9-2.061 0-2.762z",clipRule:"evenodd"})})},664179:(e,t,i)=>{"use strict";i.d(t,{Icon20ThumbsDown:()=>n});var o=i(474848),r=(i(296540),i(506447));const n=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"thumbs_down_20",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,o.jsx)("path",{fillRule:"evenodd",d:"m14.725 12.63-1.944 4.52a2.232 2.232 0 0 1-4.283-.883v-2.326a.285.285 0 0 0-.285-.285H4.498c-2.105 0-3.556-2.111-2.8-4.076l2.076-5.4A3.4 3.4 0 0 1 6.947 2h4.849a3.2 3.2 0 0 1 3.2 3.2v6.114c0 .453-.092.9-.271 1.316M16.745 2a.75.75 0 0 0-.75.75v8.5a.75.75 0 0 0 1.5 0v-8.5a.75.75 0 0 0-.75-.75",clipRule:"evenodd"})})},933052:(e,t,i)=>{"use strict";i.d(t,{Icon20ThumbsDownOutline:()=>n});var o=i(474848),r=(i(296540),i(506447));const n=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"thumbs_down_outline_20",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M10.762 18.503c.898 0 1.711-.532 2.07-1.355l1.77-4.057c.058-.134.097-.224.132-.317.152-.4.24-.823.261-1.251.005-.1.005-.198.005-.345v-4.46c0-.673 0-1.223-.037-1.671-.037-.463-.118-.882-.317-1.272a3.25 3.25 0 0 0-1.42-1.42c-.391-.2-.81-.28-1.273-.318C11.506 2 10.955 2 10.282 2h-2.47c-.829 0-1.433 0-1.974.197a3.25 3.25 0 0 0-1.254.826c-.395.42-.633.975-.96 1.736l-.994 2.32c-.387.902-.698 1.626-.89 2.218-.196.6-.306 1.166-.2 1.726a3.25 3.25 0 0 0 1.378 2.09c.473.319 1.036.441 1.665.498.62.057 1.408.057 2.389.057h1.531v2.578a2.26 2.26 0 0 0 2.26 2.258Zm.695-1.955a.759.759 0 0 1-1.454-.303V13.2c0-.571-.463-1.034-1.034-1.034h-1.96c-1.027 0-1.747-.001-2.29-.05-.543-.05-.803-.141-.963-.249a1.75 1.75 0 0 1-.742-1.125c-.036-.19-.017-.465.152-.983.169-.52.452-1.18.857-2.125l.93-2.167c.399-.93.534-1.215.724-1.417a1.75 1.75 0 0 1 .675-.445c.26-.095.576-.106 1.587-.106h2.311c.713 0 1.202 0 1.581.032.37.03.57.085.713.159.33.168.598.435.765.765.074.144.13.343.16.713.03.38.031.869.031 1.581v4.411c0 .17 0 .23-.003.29-.013.27-.069.537-.165.79-.02.055-.045.11-.113.267l-1.761 4.04ZM16.75 2a.75.75 0 0 0-.75.75v8.5a.75.75 0 0 0 1.5 0v-8.5a.75.75 0 0 0-.75-.75"})})},871186:(e,t,i)=>{"use strict";i.d(t,{Icon20VinylOutline:()=>n});var o=i(474848),r=(i(296540),i(506447));const n=e=>(0,o.jsxs)(r.SvgIconRootV2,{viewBox:"0 0 20 20",width:20,height:20,vkuiIconId:"vinyl_outline_20",vkuiAttrs:{fill:"none"},vkuiProps:e,children:[(0,o.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M10 7.5a2.5 2.5 0 0 0-1.768.732A2.5 2.5 0 0 0 7.5 10c0 .69.28 1.315.732 1.768A2.5 2.5 0 0 0 10 12.5a2.5 2.5 0 0 0 1.768-.732A2.5 2.5 0 0 0 12.5 10a2.5 2.5 0 0 0-.732-1.768A2.5 2.5 0 0 0 10 7.5m-.707 1.793A1 1 0 0 1 10 9a1 1 0 0 1 .707.293A1 1 0 0 1 11 10a1 1 0 0 1-.293.707A1 1 0 0 1 10 11a1 1 0 0 1-.707-.293A1 1 0 0 1 9 10a1 1 0 0 1 .293-.707",clipRule:"evenodd"}),(0,o.jsx)("path",{fill:"currentColor",d:"M10.21 6.006a4 4 0 0 0-4.205 4.2.75.75 0 0 1-.71.787.75.75 0 0 1-.788-.71 5.5 5.5 0 0 1 5.78-5.775.75.75 0 0 1-.078 1.497m5.283 3.712a.75.75 0 0 0-1.498.077 4 4 0 0 1-4.204 4.2.75.75 0 0 0-.079 1.498 5.5 5.5 0 0 0 4.175-1.602 5.5 5.5 0 0 0 1.606-4.173"}),(0,o.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M10 1.5a8.47 8.47 0 0 0-6.01 2.49C2.45 5.528 1.5 7.653 1.5 10s.951 4.472 2.49 6.01C5.528 17.55 7.653 18.5 10 18.5s4.472-.951 6.01-2.49c1.539-1.538 2.49-3.663 2.49-6.01s-.951-4.472-2.49-6.01A8.47 8.47 0 0 0 10 1.5M5.05 5.05A6.97 6.97 0 0 1 10 3c1.933 0 3.681.782 4.95 2.05A6.97 6.97 0 0 1 17 10a6.97 6.97 0 0 1-2.05 4.95A6.97 6.97 0 0 1 10 17a6.97 6.97 0 0 1-4.95-2.05A6.97 6.97 0 0 1 3 10c0-1.933.782-3.681 2.05-4.95",clipRule:"evenodd"})]})},229233:(e,t,i)=>{"use strict";i.d(t,{Icon24ArrowLeftOutline:()=>n});var o=i(474848),r=(i(296540),i(506447));const n=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 24 24",width:24,height:24,vkuiIconId:"arrow_left_outline_24",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,o.jsx)("path",{fill:"currentColor",d:"M11.532 4.26a.9.9 0 0 1 .089 1.18l-.08.092L6.05 11.1H20.1a.9.9 0 0 1 .113 1.793l-.113.007H6.05l5.49 5.568a.9.9 0 0 1 .073 1.181l-.081.092a.9.9 0 0 1-1.181.072l-.092-.081-7-7.1a.9.9 0 0 1-.08-1.172l.08-.092 7-7.1a.9.9 0 0 1 1.273-.009"})})},101214:(e,t,i)=>{"use strict";i.d(t,{Icon24CancelOutline:()=>n});var o=i(474848),r=(i(296540),i(506447));const n=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 24 24",width:24,height:24,vkuiIconId:"cancel_outline_24",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,o.jsx)("path",{fill:"currentColor",d:"M5.264 5.264a.9.9 0 0 1 1.272 0L12 10.727l5.464-5.463a.9.9 0 0 1 1.272 1.272L13.273 12l5.463 5.464a.9.9 0 1 1-1.272 1.272L12 13.273l-5.464 5.463a.9.9 0 1 1-1.272-1.272L10.727 12 5.264 6.536a.9.9 0 0 1 0-1.272"})})},219500:(e,t,i)=>{"use strict";i.d(t,{Icon24Chevron:()=>n});var o=i(474848),r=(i(296540),i(506447));const n=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 16 24",width:16,height:24,vkuiIconId:"chevron_24",vkuiProps:e,children:(0,o.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,o.jsx)("path",{d:"M0 0h16v24H0z"}),(0,o.jsx)("path",{fill:"currentColor",d:"M4.706 7.706a1 1 0 0 1 0-1.412l.088-.088a.997.997 0 0 1 1.414.002l5.084 5.084a1 1 0 0 1 0 1.416l-5.084 5.084a1 1 0 0 1-1.414.002l-.088-.088a.995.995 0 0 1 0-1.412L9 12z"})]})})},604862:(e,t,i)=>{"use strict";i.d(t,{Icon24ChevronCompactLeft:()=>n});var o=i(474848),r=(i(296540),i(506447));const n=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 16 24",width:16,height:24,vkuiIconId:"chevron_compact_left_24",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,o.jsx)("path",{fill:"currentColor",d:"M11.293 7.706a1 1 0 0 0 0-1.412l-.088-.088a.997.997 0 0 0-1.414.002l-5.084 5.084a1 1 0 0 0 0 1.416l5.084 5.084c.39.391 1.026.39 1.414.002l.088-.088a.995.995 0 0 0 0-1.412L7 12z"})})},594612:(e,t,i)=>{"use strict";i.d(t,{Icon24ChevronUp:()=>n});var o=i(474848),r=(i(296540),i(506447));const n=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 24 24",width:24,height:24,vkuiIconId:"chevron_up_24",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,o.jsx)("path",{d:"m12 10.302-5.36 4.466a1 1 0 1 1-1.28-1.536l6-5a1 1 0 0 1 1.28 0l6 5a1 1 0 1 1-1.28 1.536z"})})},391329:(e,t,i)=>{"use strict";i.d(t,{Icon24Dismiss:()=>n});var o=i(474848),r=(i(296540),i(506447));const n=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 24 24",width:24,height:24,vkuiIconId:"dismiss_24",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,o.jsxs)("g",{fill:"currentColor",children:[(0,o.jsx)("path",{d:"M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12",opacity:".12"}),(0,o.jsx)("path",{d:"M16.736 7.264a.9.9 0 0 1 0 1.272L13.273 12l3.463 3.464a.9.9 0 0 1 .081 1.18l-.08.092a.9.9 0 0 1-1.273 0L12 13.273l-3.464 3.463a.9.9 0 1 1-1.272-1.272L10.727 12 7.264 8.536a.9.9 0 0 1-.08-1.18l.08-.092a.9.9 0 0 1 1.272 0L12 10.727l3.464-3.463a.9.9 0 0 1 1.272 0"})]})})},115629:(e,t,i)=>{"use strict";i.d(t,{Icon24NotificationOutline:()=>n});var o=i(474848),r=(i(296540),i(506447));const n=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 24 24",width:24,height:24,vkuiIconId:"notification_outline_24",vkuiAttrs:{fill:"currentColor"},vkuiProps:e,children:(0,o.jsx)("path",{d:"M12.004 2.1c4.015 0 6.896 3.278 6.896 7.532v1.6c0 .228.193.531.72 1.075l.27.275c1.082 1.097 1.51 1.729 1.51 2.745 0 .445-.052.791-.268 1.206-.456.878-1.423 1.367-2.869 1.367l-1.912.001c-.629 2.332-2.13 3.6-4.351 3.6-2.245 0-3.754-1.295-4.371-3.675l.019.074H5.737c-1.488 0-2.466-.502-2.902-1.41-.191-.398-.235-.72-.235-1.163 0-1.016.428-1.648 1.51-2.745l.27-.275c.527-.544.72-.847.72-1.076v-1.6C5.1 5.38 7.988 2.1 12.004 2.1m2.462 15.802H9.534C9.99 19.148 10.776 19.7 12 19.7s2.01-.552 2.466-1.798M12.004 3.9C9.036 3.9 6.9 6.327 6.9 9.632v1.6c0 .852-.39 1.463-1.228 2.328-.073.075-.142.146-.281.286-.747.758-.991 1.118-.991 1.481 0 .192.014.292.057.382.107.224.433.391 1.28.391h12.526c.82 0 1.153-.169 1.272-.397.05-.095.065-.197.065-.376 0-.363-.244-.723-.99-1.48-.14-.141-.209-.212-.282-.287-.839-.865-1.228-1.476-1.228-2.329v-1.6c0-3.307-2.13-5.731-5.096-5.731"})})},320180:(e,t,i)=>{"use strict";i.d(t,{Icon24Reorder:()=>n});var o=i(474848),r=(i(296540),i(506447));const n=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 24 24",width:24,height:24,vkuiIconId:"reorder_24",vkuiProps:e,children:(0,o.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,o.jsx)("path",{d:"M0 0h24v24H0z"}),(0,o.jsx)("path",{fill:"currentColor",fillRule:"nonzero",d:"M21 18a1 1 0 0 1-1 1H4a1 1 0 0 1 0-2h16a1 1 0 0 1 1 1m0-4a1 1 0 0 1-1 1H4a1 1 0 0 1 0-2h16a1 1 0 0 1 1 1m0-4a1 1 0 0 1-1 1H4a1 1 0 0 1 0-2h16a1 1 0 0 1 1 1M3 6a1 1 0 0 1 1-1h16a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1"})]})})},637146:(e,t,i)=>{"use strict";i.d(t,{Icon24ReorderIos:()=>n});var o=i(474848),r=(i(296540),i(506447));const n=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 24 24",width:24,height:24,vkuiIconId:"reorder_ios_24",vkuiProps:e,children:(0,o.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,o.jsx)("path",{d:"M0 0h24v24H0z",opacity:".1"}),(0,o.jsx)("path",{fill:"currentColor",fillRule:"nonzero",d:"M2.75 7h18.5a.75.75 0 1 1 0 1.5H2.75a.75.75 0 0 1 0-1.5m0 4h18.5a.75.75 0 1 1 0 1.5H2.75a.75.75 0 1 1 0-1.5m0 4h18.5a.75.75 0 1 1 0 1.5H2.75a.75.75 0 1 1 0-1.5"})]})})},87777:(e,t,i)=>{"use strict";i.d(t,{Icon28ArrowLeftOutline:()=>n});var o=i(474848),r=(i(296540),i(506447));const n=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 28 28",width:28,height:28,vkuiIconId:"arrow_left_outline_28",vkuiProps:e,children:(0,o.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,o.jsx)("path",{d:"M28 0H0v28h28z"}),(0,o.jsx)("path",{fill:"currentColor",fillRule:"nonzero",d:"M12.293 6.293a1 1 0 0 1 1.414 1.414L8.414 13H22a1 1 0 0 1 .993.883L23 14a1 1 0 0 1-1 1H8.414l5.293 5.293a1 1 0 0 1 .083 1.32l-.083.094a1 1 0 0 1-1.414 0l-7-7-.073-.082A1 1 0 0 1 5 14l.004.09L5 14.02V14a1 1 0 0 1 .125-.484 1 1 0 0 1 .071-.111 1 1 0 0 1 .097-.112l-.08.09q.037-.047.08-.09Z"})]})})},876310:(e,t,i)=>{"use strict";i.d(t,{Icon28CancelOutline:()=>n});var o=i(474848),r=(i(296540),i(506447));const n=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 28 28",width:28,height:28,vkuiIconId:"cancel_outline_28",vkuiProps:e,children:(0,o.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,o.jsx)("path",{d:"M0 0h28v28H0z"}),(0,o.jsx)("path",{fill:"currentColor",fillRule:"nonzero",d:"M6.293 6.293a1 1 0 0 1 1.414 0L14 12.585l6.293-6.292a1 1 0 0 1 1.32-.083l.094.083a1 1 0 0 1 0 1.414L15.415 14l6.292 6.293a1 1 0 0 1 .083 1.32l-.083.094a1 1 0 0 1-1.414 0L14 15.415l-6.293 6.292a1 1 0 0 1-1.32.083l-.094-.083a1 1 0 0 1 0-1.414L12.585 14 6.293 7.707a1 1 0 0 1-.083-1.32Z"})]})})},145691:(e,t,i)=>{"use strict";i.d(t,{Icon28ChevronLeftOutline:()=>n});var o=i(474848),r=(i(296540),i(506447));const n=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 28 28",width:28,height:28,vkuiIconId:"chevron_left_outline_28",vkuiAttrs:{fill:"none"},vkuiProps:e,children:(0,o.jsx)("path",{fill:"currentColor",d:"m12.414 14 5.793-5.793a1 1 0 0 0-1.414-1.414l-6.5 6.5a1 1 0 0 0 0 1.414l6.5 6.5a1 1 0 0 0 1.414-1.414z"})})},579928:(e,t,i)=>{"use strict";i.d(t,{Icon28DoneOutline:()=>n});var o=i(474848),r=(i(296540),i(506447));const n=e=>(0,o.jsx)(r.SvgIconRootV2,{viewBox:"0 0 28 28",width:28,height:28,vkuiIconId:"done_outline_28",vkuiProps:e,children:(0,o.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,o.jsx)("path",{d:"M0 0h28v28H0z"}),(0,o.jsx)("path",{fill:"currentColor",fillRule:"nonzero",d:"m11 18.586-5.293-5.293a1 1 0 1 0-1.414 1.414l6 6a1 1 0 0 0 1.414 0l12-12a1 1 0 1 0-1.414-1.414z"})]})})},564120:(e,t,i)=>{"use strict";i.d(t,{chunkArray:()=>c,createArray:()=>n,difference:()=>d,omitFromArray:()=>l,shuffleArray:()=>s,uniqueArray:()=>a});var o=i(586337),r=i(410094);function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Array.from({length:e},(function(e,i){return t+i}))}function a(e){return Array.isArray(e)&&e.length?"undefined"!=typeof Set?Array.from(new Set(e)):(0,r.uniqueArrayFallback)(e):[]}function s(e){for(var t=e.slice(),i=t.length-1;i>0;i--){var o,r=Math.floor(Math.random()*(i+1));o=[t[r],t[i]],t[i]=o[0],t[r]=o[1]}return t}function c(e,t){if(!Array.isArray(e)||!e.length)return[];if(!t)return[e];var i=e.slice(0,t),r=e.slice(t);return[i].concat((0,o._)(c(r,t)))}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,i=e.indexOf(t);return i<0?e:(0,o._)(e.slice(0,i)).concat((0,o._)(e.slice(i+1)))}function d(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(t,i){return e.includes(i)||t.push(i),t}),[])}},99308:(e,t,i)=>{"use strict";i.d(t,{chunkArray:()=>o.chunkArray,createArray:()=>o.createArray,difference:()=>o.difference,omitFromArray:()=>o.omitFromArray,shuffleArray:()=>o.shuffleArray,uniqueArray:()=>o.uniqueArray});var o=i(564120)},808911:(e,t,i)=>{"use strict";i.d(t,{asyncImportLoader:()=>o});var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return new Promise((function(i,r){e().then(i).catch((function(n){setTimeout((function(){0!==t?o(e,t-1).then(i,r):r(n)}),1e3)}))}))}},486526:(e,t,i)=>{"use strict";function o(e,t){var i,o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"undefined"!=typeof window?window:void 0,n=function(){return e.apply(r,o)},a=function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];o=r,clearTimeout(i),i=setTimeout(n,t)};return a.cancel=function(){clearTimeout(i)},a}i.d(t,{debounce:()=>o})},335137:(e,t,i)=>{"use strict";i.d(t,{asyncImportLoader:()=>o.asyncImportLoader,debounce:()=>r.debounce,throttle:()=>n.throttle});var o=i(808911),r=i(486526),n=i(888817)},888817:(e,t,i)=>{"use strict";function o(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"undefined"!=typeof window?window:void 0,r=Date.now()-i,n=function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var c=r+i-Date.now();clearTimeout(t),c>0?t=setTimeout((function(){r=Date.now(),e.apply(o,a)}),c):(r=Date.now(),e.apply(o,a))};return n.cancel=function(){clearTimeout(t)},n}i.d(t,{throttle:()=>o})},323128:(e,t,i)=>{"use strict";i.d(t,{SECONDS_IN_THE_DAY:()=>r,addDays:()=>l,createDateFromUnixTimestamp:()=>d,getLastDayOfMonth:()=>c,isDateTomorrow:()=>s,isDateYesterday:()=>a});i(975389);var o=i(857623),r=86400,n=1e3*r;function a(e){var t=new Date(e.getTime()+n);return(0,o.isDateToday)(t)}function s(e){var t=new Date(e.getTime()-n);return(0,o.isDateToday)(t)}function c(e,t){return 2==+t?function(e){return e%4==0&&e%100!=0||e%400==0}(e)?29:28:t>0&&(t<8&&t%2==0||t>7&&t%2==1)?30:31}function l(e,t){var i=new Date(e.getTime());return i.setDate(i.getDate()+t),i}function d(e){return new Date(1e3*e)}},785160:(e,t,i)=>{"use strict";i.d(t,{formatDuration:()=>r});var o=i(975389);function r(e,t){e||(e=0),e=Math.abs(e);var i=Math.floor(e/3600),r=Math.floor(e/60)%60,n=e%60;return e>=3600||t?[i,(0,o.leadingZero)(r),(0,o.leadingZero)(n)].join(":"):[r,(0,o.leadingZero)(n)].join(":")}},233686:(e,t,i)=>{"use strict";i.d(t,{SECONDS_IN_THE_DAY:()=>o.SECONDS_IN_THE_DAY,addDays:()=>o.addDays,createDateFromUnixTimestamp:()=>o.createDateFromUnixTimestamp,formatDuration:()=>a.formatDuration,getLastDayOfMonth:()=>o.getLastDayOfMonth,isDateToday:()=>r.isDateToday,isDateTomorrow:()=>o.isDateTomorrow,isDateYesterday:()=>o.isDateYesterday,isSameDate:()=>n.isSameDate});var o=i(323128),r=i(857623),n=i(653810),a=i(785160)},857623:(e,t,i)=>{"use strict";i.d(t,{isDateToday:()=>r});var o=i(653810);function r(e){return(0,o.isSameDate)(e,new Date)}},653810:(e,t,i)=>{"use strict";function o(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}i.d(t,{isSameDate:()=>o})},386140:(e,t,i)=>{"use strict";i.d(t,{detectIOS:()=>r,isIOS:()=>s,isIPad:()=>a,isIPadOS:()=>c});var o=i(856623);function r(e){e||(e=o.canUseDOM?navigator.userAgent:"");var t=function(e){if(!o.canUseDOM)return!1;var t=!/ipPad|iPhone|iPod/i.test(e),i=/Mac OS/i.test(e);return t&&i&&"ontouchend"in document}(e=e.toLowerCase()),i=t||e.includes("ipad"),r=!i&&-1!==e.search(/iphone|ipod/),n=r||i,a=n&&e.match(/os ([\d_]+) like mac os x/i),s=0,c=0;t?(s=13,c=0):a&&(s=+(a=a[1].split("_"))[0],c=+a[1]),a=null;var l=s<13&&!(11===s&&c<3),d=n&&function(e){if(!o.canUseDOM)return!1;var t=window.webkit;if(t&&t.messageHandlers)return!0;var i=/constructor/i.test(String(window.HTMLElement)),r=!!window.indexedDB;if(e.includes("safari")&&e.includes("version")&&!navigator.standalone);else if(!r&&i||!window.statusbar||!window.statusbar.visible);else if(!i||r)return!0;return!1}(e),u=!1;return o.canUseDOM&&(u=n&&375===screen.width&&812===screen.height&&3===window.devicePixelRatio),{isIPad:i,isIPhone:r,isIOS:n,isIPadOS:t,iosMajor:s,iosMinor:c,isWKWebView:d,isScrollBasedViewport:l,isIPhoneX:u,isIOSChrome:-1!==e.search(/crios/i)}}var n=r(),a=function(){return n.isIPad}(),s=function(){return n.isIOS}(),c=function(){return n.isIPadOS}()},259636:(e,t,i)=>{"use strict";i.d(t,{hasHover:()=>s,hasMouse:()=>a});var o=i(386140),r=i(856623),n=function(){var e={hasMouse:!1,hasTouchEvents:!1,hasHover:!1,hasTouch:!1};if(!r.canUseDOM)return e;if(o.isIOS&&!o.isIPadOS)e.hasMouse=!1,e.hasHover=!1,e.hasTouchEvents=!0,e.hasTouch=!0;else if(e.hasTouchEvents="ontouchstart"in document,e.hasTouch=e.hasTouchEvents||"maxTouchPoints"in navigator&&navigator.maxTouchPoints>0,e.hasTouch){var t=!/android|mobile|tablet/i.test(navigator.userAgent);e.hasMouse="function"==typeof window.matchMedia&&window.matchMedia("(pointer)").matches?matchMedia("(pointer: fine)").matches:t,e.hasHover=e.hasMouse&&("function"==typeof window.matchMedia&&window.matchMedia("(hover)").matches?matchMedia("(hover: hover)").matches:t)}else e.hasMouse=!0,e.hasHover=!0;return e}(),a=function(){return n.hasMouse}(),s=function(){return n.hasHover}()},358573:(e,t,i)=>{"use strict";i.d(t,{detectIOS:()=>o.detectIOS,hasHover:()=>r.hasHover,hasMouse:()=>r.hasMouse,isIPad:()=>o.isIPad,isIPadOS:()=>o.isIPadOS,isRetina:()=>n.isRetina});var o=i(386140),r=i(259636),n=i(836382)},836382:(e,t,i)=>{"use strict";i.d(t,{isRetina:()=>r});var o=i(856623);function r(){return o.canUseDOM&&window.devicePixelRatio>=2}},629039:(e,t,i)=>{"use strict";i.d(t,{buildFullNamedEntities:()=>s,fullNamedEntities:()=>n});var o={AElig:"Æ",AMP:"&",Aacute:"Á",Agrave:"À",Aring:"Å",Acirc:"Â",Atilde:"Ã",Auml:"Ä",COPY:"©",Ccedil:"Ç",ETH:"Ð",Eacute:"É",Ecirc:"Ê",Egrave:"È",Euml:"Ë",GT:">",Iacute:"Í",Icirc:"Î",Igrave:"Ì",Iuml:"Ï",LT:"<",Ntilde:"Ñ",Oacute:"Ó",Ocirc:"Ô",Ograve:"Ò",Oslash:"Ø",Otilde:"Õ",Ouml:"Ö",QUOT:'"',REG:"®",THORN:"Þ",Uacute:"Ú",Ucirc:"Û",Ugrave:"Ù",Uuml:"Ü",Yacute:"Ý",aacute:"á",acirc:"â",acute:"´",aelig:"æ",agrave:"à",amp:"&",aring:"å",atilde:"ã",auml:"ä",brvbar:"¦",ccedil:"ç",cedil:"¸",cent:"¢",copy:"©",curren:"¤",deg:"°",divide:"÷",eacute:"é",ecirc:"ê",egrave:"è",eth:"ð",euml:"ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",iacute:"í",icirc:"î",iexcl:"¡",igrave:"ì",iquest:"¿",iuml:"ï",laquo:"«",lt:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",ntilde:"ñ",oacute:"ó",ocirc:"ô",ograve:"ò",ordf:"ª",ordm:"º",oslash:"ø",otilde:"õ",ouml:"ö",para:"¶",plusmn:"±",pound:"£",quot:'"',raquo:"»",reg:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",thorn:"þ",times:"×",uacute:"ú",ucirc:"û",ugrave:"ù",uml:"¨",uuml:"ü",yacute:"ý",yen:"¥",yuml:"ÿ"},r={Abreve:"Ă",Acy:"А",Afr:"𝔄",Alpha:"Α",Amacr:"Ā",And:"⩓",Aogon:"Ą",Aopf:"𝔸",ApplyFunction:"⁡",Ascr:"𝒜",Assign:"≔",Backslash:"∖",Barv:"⫧",Barwed:"⌆",Bcy:"Б",Because:"∵",Bernoullis:"ℬ",Beta:"Β",Bfr:"𝔅",Bopf:"𝔹",Breve:"˘",Bscr:"ℬ",Bumpeq:"≎",CHcy:"Ч",Cacute:"Ć",Cap:"⋒",CapitalDifferentialD:"ⅅ",Cayleys:"ℭ",Ccaron:"Č",Ccirc:"Ĉ",Cconint:"∰",Cdot:"Ċ",Cedilla:"¸",CenterDot:"·",Cfr:"ℭ",Chi:"Χ",CircleDot:"⊙",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",Colon:"∷",Colone:"⩴",Congruent:"≡",Conint:"∯",ContourIntegral:"∮",Copf:"ℂ",Coproduct:"∐",CounterClockwiseContourIntegral:"∳",Cross:"⨯",Cscr:"𝒞",Cup:"⋓",CupCap:"≍",DD:"ⅅ",DDotrahd:"⤑",DJcy:"Ђ",DScy:"Ѕ",DZcy:"Џ",Dagger:"‡",Darr:"↡",Dashv:"⫤",Dcaron:"Ď",Dcy:"Д",Del:"∇",Delta:"Δ",Dfr:"𝔇",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",Diamond:"⋄",DifferentialD:"ⅆ",Dopf:"𝔻",Dot:"¨",DotDot:"⃜",DotEqual:"≐",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",Downarrow:"⇓",Dscr:"𝒟",Dstrok:"Đ",ENG:"Ŋ",Ecaron:"Ě",Ecy:"Э",Edot:"Ė",Efr:"𝔈",Element:"∈",Emacr:"Ē",EmptySmallSquare:"◻",EmptyVerySmallSquare:"▫",Eogon:"Ę",Eopf:"𝔼",Epsilon:"Ε",Equal:"⩵",EqualTilde:"≂",Equilibrium:"⇌",Escr:"ℰ",Esim:"⩳",Eta:"Η",Exists:"∃",ExponentialE:"ⅇ",Fcy:"Ф",Ffr:"𝔉",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",Fopf:"𝔽",ForAll:"∀",Fouriertrf:"ℱ",Fscr:"ℱ",GJcy:"Ѓ",Gamma:"Γ",Gammad:"Ϝ",Gbreve:"Ğ",Gcedil:"Ģ",Gcirc:"Ĝ",Gcy:"Г",Gdot:"Ġ",Gfr:"𝔊",Gg:"⋙",Gopf:"𝔾",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",Gt:"≫",HARDcy:"Ъ",Hacek:"ˇ",Hat:"^",Hcirc:"Ĥ",Hfr:"ℌ",HilbertSpace:"ℋ",Hopf:"ℍ",HorizontalLine:"─",Hscr:"ℋ",Hstrok:"Ħ",HumpDownHump:"≎",HumpEqual:"≏",IEcy:"Е",IJlig:"Ĳ",IOcy:"Ё",Icy:"И",Idot:"İ",Ifr:"ℑ",Im:"ℑ",Imacr:"Ī",ImaginaryI:"ⅈ",Implies:"⇒",Int:"∬",Integral:"∫",Intersection:"⋂",InvisibleComma:"⁣",InvisibleTimes:"⁢",Iogon:"Į",Iopf:"𝕀",Iota:"Ι",Iscr:"ℐ",Itilde:"Ĩ",Iukcy:"І",Jcirc:"Ĵ",Jcy:"Й",Jfr:"𝔍",Jopf:"𝕁",Jscr:"𝒥",Jsercy:"Ј",Jukcy:"Є",KHcy:"Х",KJcy:"Ќ",Kappa:"Κ",Kcedil:"Ķ",Kcy:"К",Kfr:"𝔎",Kopf:"𝕂",Kscr:"𝒦",LJcy:"Љ",Lacute:"Ĺ",Lambda:"Λ",Lang:"⟪",Laplacetrf:"ℒ",Larr:"↞",Lcaron:"Ľ",Lcedil:"Ļ",Lcy:"Л",LeftAngleBracket:"⟨",LeftArrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",LeftRightArrow:"↔",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",Leftarrow:"⇐",Leftrightarrow:"⇔",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",LessLess:"⪡",LessSlantEqual:"⩽",LessTilde:"≲",Lfr:"𝔏",Ll:"⋘",Lleftarrow:"⇚",Lmidot:"Ŀ",LongLeftArrow:"⟵",LongLeftRightArrow:"⟷",LongRightArrow:"⟶",Longleftarrow:"⟸",Longleftrightarrow:"⟺",Longrightarrow:"⟹",Lopf:"𝕃",LowerLeftArrow:"↙",LowerRightArrow:"↘",Lscr:"ℒ",Lsh:"↰",Lstrok:"Ł",Lt:"≪",Map:"⤅",Mcy:"М",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",MinusPlus:"∓",Mopf:"𝕄",Mscr:"ℳ",Mu:"Μ",NJcy:"Њ",Nacute:"Ń",Ncaron:"Ň",Ncedil:"Ņ",Ncy:"Н",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",Nfr:"𝔑",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",Not:"⫬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",Nscr:"𝒩",Nu:"Ν",OElig:"Œ",Ocy:"О",Odblac:"Ő",Ofr:"𝔒",Omacr:"Ō",Omega:"Ω",Omicron:"Ο",Oopf:"𝕆",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",Or:"⩔",Oscr:"𝒪",Otimes:"⨷",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",PartialD:"∂",Pcy:"П",Pfr:"𝔓",Phi:"Φ",Pi:"Π",PlusMinus:"±",Poincareplane:"ℌ",Popf:"ℙ",Pr:"⪻",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",Prime:"″",Product:"∏",Proportion:"∷",Proportional:"∝",Pscr:"𝒫",Psi:"Ψ",Qfr:"𝔔",Qopf:"ℚ",Qscr:"𝒬",RBarr:"⤐",Racute:"Ŕ",Rang:"⟫",Rarr:"↠",Rarrtl:"⤖",Rcaron:"Ř",Rcedil:"Ŗ",Rcy:"Р",Re:"ℜ",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",Rfr:"ℜ",Rho:"Ρ",RightAngleBracket:"⟩",RightArrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",Rightarrow:"⇒",Ropf:"ℝ",RoundImplies:"⥰",Rrightarrow:"⇛",Rscr:"ℛ",Rsh:"↱",RuleDelayed:"⧴",SHCHcy:"Щ",SHcy:"Ш",SOFTcy:"Ь",Sacute:"Ś",Sc:"⪼",Scaron:"Š",Scedil:"Ş",Scirc:"Ŝ",Scy:"С",Sfr:"𝔖",ShortDownArrow:"↓",ShortLeftArrow:"←",ShortRightArrow:"→",ShortUpArrow:"↑",Sigma:"Σ",SmallCircle:"∘",Sopf:"𝕊",Sqrt:"√",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",Sscr:"𝒮",Star:"⋆",Sub:"⋐",Subset:"⋐",SubsetEqual:"⊆",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",SuchThat:"∋",Sum:"∑",Sup:"⋑",Superset:"⊃",SupersetEqual:"⊇",Supset:"⋑",TRADE:"™",TSHcy:"Ћ",TScy:"Ц",Tab:"\t",Tau:"Τ",Tcaron:"Ť",Tcedil:"Ţ",Tcy:"Т",Tfr:"𝔗",Therefore:"∴",Theta:"Θ",ThickSpace:"  ",ThinSpace:" ",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",Topf:"𝕋",TripleDot:"⃛",Tscr:"𝒯",Tstrok:"Ŧ",Uarr:"↟",Uarrocir:"⥉",Ubrcy:"Ў",Ubreve:"Ŭ",Ucy:"У",Udblac:"Ű",Ufr:"𝔘",Umacr:"Ū",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",Uopf:"𝕌",UpArrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",UpEquilibrium:"⥮",UpTee:"⊥",UpTeeArrow:"↥",Uparrow:"⇑",Updownarrow:"⇕",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",Upsilon:"Υ",Uring:"Ů",Uscr:"𝒰",Utilde:"Ũ",VDash:"⊫",Vbar:"⫫",Vcy:"В",Vdash:"⊩",Vdashl:"⫦",Vee:"⋁",Verbar:"‖",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",Vopf:"𝕍",Vscr:"𝒱",Vvdash:"⊪",Wcirc:"Ŵ",Wedge:"⋀",Wfr:"𝔚",Wopf:"𝕎",Wscr:"𝒲",Xfr:"𝔛",Xi:"Ξ",Xopf:"𝕏",Xscr:"𝒳",YAcy:"Я",YIcy:"Ї",YUcy:"Ю",Ycirc:"Ŷ",Ycy:"Ы",Yfr:"𝔜",Yopf:"𝕐",Yscr:"𝒴",Yuml:"Ÿ",ZHcy:"Ж",Zacute:"Ź",Zcaron:"Ž",Zcy:"З",Zdot:"Ż",ZeroWidthSpace:"​",Zeta:"Ζ",Zfr:"ℨ",Zopf:"ℤ",Zscr:"𝒵",abreve:"ă",ac:"∾",acE:"∾̳",acd:"∿",acy:"а",af:"⁡",afr:"𝔞",alefsym:"ℵ",aleph:"ℵ",alpha:"α",amacr:"ā",amalg:"⨿",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",aogon:"ą",aopf:"𝕒",ap:"≈",apE:"⩰",apacir:"⩯",ape:"≊",apid:"≋",apos:"'",approx:"≈",approxeq:"≊",ascr:"𝒶",ast:"*",asymp:"≈",asympeq:"≍",awconint:"∳",awint:"⨑",bNot:"⫭",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",barvee:"⊽",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",bcy:"б",bdquo:"„",becaus:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",beta:"β",beth:"ℶ",between:"≬",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bnot:"⌐",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxDL:"╗",boxDR:"╔",boxDl:"╖",boxDr:"╓",boxH:"═",boxHD:"╦",boxHU:"╩",boxHd:"╤",boxHu:"╧",boxUL:"╝",boxUR:"╚",boxUl:"╜",boxUr:"╙",boxV:"║",boxVH:"╬",boxVL:"╣",boxVR:"╠",boxVh:"╫",boxVl:"╢",boxVr:"╟",boxbox:"⧉",boxdL:"╕",boxdR:"╒",boxdl:"┐",boxdr:"┌",boxh:"─",boxhD:"╥",boxhU:"╨",boxhd:"┬",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxuL:"╛",boxuR:"╘",boxul:"┘",boxur:"└",boxv:"│",boxvH:"╪",boxvL:"╡",boxvR:"╞",boxvh:"┼",boxvl:"┤",boxvr:"├",bprime:"‵",breve:"˘",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",bumpeq:"≏",cacute:"ć",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",caps:"∩︀",caret:"⁁",caron:"ˇ",ccaps:"⩍",ccaron:"č",ccirc:"ĉ",ccups:"⩌",ccupssm:"⩐",cdot:"ċ",cemptyv:"⦲",centerdot:"·",cfr:"𝔠",chcy:"ч",check:"✓",checkmark:"✓",chi:"χ",cir:"○",cirE:"⧃",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledR:"®",circledS:"Ⓢ",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",clubs:"♣",clubsuit:"♣",colon:":",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",conint:"∮",copf:"𝕔",coprod:"∐",copysr:"℗",crarr:"↵",cross:"✗",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cup:"∪",cupbrcap:"⩈",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dArr:"⇓",dHar:"⥥",dagger:"†",daleth:"ℸ",darr:"↓",dash:"‐",dashv:"⊣",dbkarow:"⤏",dblac:"˝",dcaron:"ď",dcy:"д",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",ddotseq:"⩷",delta:"δ",demptyv:"⦱",dfisht:"⥿",dfr:"𝔡",dharl:"⇃",dharr:"⇂",diam:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",digamma:"ϝ",disin:"⋲",div:"÷",divideontimes:"⋇",divonx:"⋇",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",dopf:"𝕕",dot:"˙",doteq:"≐",doteqdot:"≑",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",downarrow:"↓",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",dscr:"𝒹",dscy:"ѕ",dsol:"⧶",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",dzcy:"џ",dzigrarr:"⟿",eDDot:"⩷",eDot:"≑",easter:"⩮",ecaron:"ě",ecir:"≖",ecolon:"≕",ecy:"э",edot:"ė",ee:"ⅇ",efDot:"≒",efr:"𝔢",eg:"⪚",egs:"⪖",egsdot:"⪘",el:"⪙",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",emacr:"ē",empty:"∅",emptyset:"∅",emptyv:"∅",emsp13:" ",emsp14:" ",emsp:" ",eng:"ŋ",ensp:" ",eogon:"ę",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",equals:"=",equest:"≟",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erDot:"≓",erarr:"⥱",escr:"ℯ",esdot:"≐",esim:"≂",eta:"η",euro:"€",excl:"!",exist:"∃",expectation:"ℰ",exponentiale:"ⅇ",fallingdotseq:"≒",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",ffr:"𝔣",filig:"ﬁ",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",fopf:"𝕗",forall:"∀",fork:"⋔",forkv:"⫙",fpartint:"⨍",frac13:"⅓",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",gE:"≧",gEl:"⪌",gacute:"ǵ",gamma:"γ",gammad:"ϝ",gap:"⪆",gbreve:"ğ",gcirc:"ĝ",gcy:"г",gdot:"ġ",ge:"≥",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",gfr:"𝔤",gg:"≫",ggg:"⋙",gimel:"ℷ",gjcy:"ѓ",gl:"≷",glE:"⪒",gla:"⪥",glj:"⪤",gnE:"≩",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",gopf:"𝕘",grave:"`",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",hArr:"⇔",hairsp:" ",half:"½",hamilt:"ℋ",hardcy:"ъ",harr:"↔",harrcir:"⥈",harrw:"↭",hbar:"ℏ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",horbar:"―",hscr:"𝒽",hslash:"ℏ",hstrok:"ħ",hybull:"⁃",hyphen:"‐",ic:"⁣",icy:"и",iecy:"е",iff:"⇔",ifr:"𝔦",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",ijlig:"ĳ",imacr:"ī",image:"ℑ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",int:"∫",intcal:"⊺",integers:"ℤ",intercal:"⊺",intlarhk:"⨗",intprod:"⨼",iocy:"ё",iogon:"į",iopf:"𝕚",iota:"ι",iprod:"⨼",iscr:"𝒾",isin:"∈",isinE:"⋹",isindot:"⋵",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",itilde:"ĩ",iukcy:"і",jcirc:"ĵ",jcy:"й",jfr:"𝔧",jmath:"ȷ",jopf:"𝕛",jscr:"𝒿",jsercy:"ј",jukcy:"є",kappa:"κ",kappav:"ϰ",kcedil:"ķ",kcy:"к",kfr:"𝔨",kgreen:"ĸ",khcy:"х",kjcy:"ќ",kopf:"𝕜",kscr:"𝓀",lAarr:"⇚",lArr:"⇐",lAtail:"⤛",lBarr:"⤎",lE:"≦",lEg:"⪋",lHar:"⥢",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",lambda:"λ",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",latail:"⤙",late:"⪭",lates:"⪭︀",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",lcaron:"ľ",lcedil:"ļ",lceil:"⌈",lcub:"{",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",leftarrow:"←",leftarrowtail:"↢",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",leftthreetimes:"⋋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",lessgtr:"≶",lesssim:"≲",lfisht:"⥼",lfloor:"⌊",lfr:"𝔩",lg:"≶",lgE:"⪑",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",ljcy:"љ",ll:"≪",llarr:"⇇",llcorner:"⌞",llhard:"⥫",lltri:"◺",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnE:"≨",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",longleftrightarrow:"⟷",longmapsto:"⟼",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",lstrok:"ł",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltrPar:"⦖",ltri:"◃",ltrie:"⊴",ltrif:"◂",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",mDDot:"∺",male:"♂",malt:"✠",maltese:"✠",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",mcy:"м",mdash:"—",measuredangle:"∡",mfr:"𝔪",mho:"℧",mid:"∣",midast:"*",midcir:"⫰",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",mopf:"𝕞",mp:"∓",mscr:"𝓂",mstpos:"∾",mu:"μ",multimap:"⊸",mumap:"⊸",nGg:"⋙̸",nGt:"≫⃒",nGtv:"≫̸",nLeftarrow:"⇍",nLeftrightarrow:"⇎",nLl:"⋘̸",nLt:"≪⃒",nLtv:"≪̸",nRightarrow:"⇏",nVDash:"⊯",nVdash:"⊮",nabla:"∇",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",ncaron:"ň",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",ncy:"н",ndash:"–",ne:"≠",neArr:"⇗",nearhk:"⤤",nearr:"↗",nearrow:"↗",nedot:"≐̸",nequiv:"≢",nesear:"⤨",nesim:"≂̸",nexist:"∄",nexists:"∄",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",ngsim:"≵",ngt:"≯",ngtr:"≯",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",njcy:"њ",nlArr:"⇍",nlE:"≦̸",nlarr:"↚",nldr:"‥",nle:"≰",nleftarrow:"↚",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nlsim:"≴",nlt:"≮",nltri:"⋪",nltrie:"⋬",nmid:"∤",nopf:"𝕟",notin:"∉",notinE:"⋹̸",notindot:"⋵̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",nu:"ν",num:"#",numero:"№",numsp:" ",nvDash:"⊭",nvHarr:"⤄",nvap:"≍⃒",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwArr:"⇖",nwarhk:"⤣",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",oS:"Ⓢ",oast:"⊛",ocir:"⊚",ocy:"о",odash:"⊝",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",oelig:"œ",ofcir:"⦿",ofr:"𝔬",ogon:"˛",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",omacr:"ō",omega:"ω",omicron:"ο",omid:"⦶",ominus:"⊖",oopf:"𝕠",opar:"⦷",operp:"⦹",oplus:"⊕",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oscr:"ℴ",osol:"⊘",otimes:"⊗",otimesas:"⨶",ovbar:"⌽",par:"∥",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",pfr:"𝔭",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",plussim:"⨦",plustwo:"⨧",pm:"±",pointint:"⨕",popf:"𝕡",pr:"≺",prE:"⪳",prap:"⪷",prcue:"≼",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",prime:"′",primes:"ℙ",prnE:"⪵",prnap:"⪹",prnsim:"⋨",prod:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",propto:"∝",prsim:"≾",prurel:"⊰",pscr:"𝓅",psi:"ψ",puncsp:" ",qfr:"𝔮",qint:"⨌",qopf:"𝕢",qprime:"⁗",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",rAarr:"⇛",rArr:"⇒",rAtail:"⤜",rBarr:"⤏",rHar:"⥤",race:"∽̱",racute:"ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",rarrtl:"↣",rarrw:"↝",ratail:"⤚",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",rcaron:"ř",rcedil:"ŗ",rceil:"⌉",rcub:"}",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",rhard:"⇁",rharu:"⇀",rharul:"⥬",rho:"ρ",rhov:"ϱ",rightarrow:"→",rightarrowtail:"↣",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",rightthreetimes:"⋌",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",rsaquo:"›",rscr:"𝓇",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",ruluhar:"⥨",rx:"℞",sacute:"ś",sbquo:"‚",sc:"≻",scE:"⪴",scap:"⪸",scaron:"š",sccue:"≽",sce:"⪰",scedil:"ş",scirc:"ŝ",scnE:"⪶",scnap:"⪺",scnsim:"⋩",scpolint:"⨓",scsim:"≿",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",seArr:"⇘",searhk:"⤥",searr:"↘",searrow:"↘",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",sfr:"𝔰",sfrown:"⌢",sharp:"♯",shchcy:"щ",shcy:"ш",shortmid:"∣",shortparallel:"∥",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",square:"□",squarf:"▪",squf:"▪",srarr:"→",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",subE:"⫅",subdot:"⪽",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",sum:"∑",sung:"♪",sup:"⊃",supE:"⫆",supdot:"⪾",supdsub:"⫘",supe:"⊇",supedot:"⫄",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swArr:"⇙",swarhk:"⤦",swarr:"↙",swarrow:"↙",swnwar:"⤪",target:"⌖",tau:"τ",tbrk:"⎴",tcaron:"ť",tcedil:"ţ",tcy:"т",tdot:"⃛",telrec:"⌕",tfr:"𝔱",there4:"∴",therefore:"∴",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",thinsp:" ",thkap:"≈",thksim:"∼",tilde:"˜",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",tscr:"𝓉",tscy:"ц",tshcy:"ћ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",uArr:"⇑",uHar:"⥣",uarr:"↑",ubrcy:"ў",ubreve:"ŭ",ucy:"у",udarr:"⇅",udblac:"ű",udhar:"⥮",ufisht:"⥾",ufr:"𝔲",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",umacr:"ū",uogon:"ų",uopf:"𝕦",uparrow:"↑",updownarrow:"↕",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",upsi:"υ",upsih:"ϒ",upsilon:"υ",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",uring:"ů",urtri:"◹",uscr:"𝓊",utdot:"⋰",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",uwangle:"⦧",vArr:"⇕",vBar:"⫨",vBarv:"⫩",vDash:"⊨",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vcy:"в",vdash:"⊢",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",verbar:"|",vert:"|",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",vopf:"𝕧",vprop:"∝",vrtri:"⊳",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",vzigzag:"⦚",wcirc:"ŵ",wedbar:"⩟",wedge:"∧",wedgeq:"≙",weierp:"℘",wfr:"𝔴",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",yacy:"я",ycirc:"ŷ",ycy:"ы",yfr:"𝔶",yicy:"ї",yopf:"𝕪",yscr:"𝓎",yucy:"ю",zacute:"ź",zcaron:"ž",zcy:"з",zdot:"ż",zeetrf:"ℨ",zeta:"ζ",zfr:"𝔷",zhcy:"ж",zigrarr:"⇝",zopf:"𝕫",zscr:"𝓏",zwj:"‍",zwnj:"‌"},n={},a=!1;function s(){a||(Object.keys(o).forEach((function(e){n[e+";"]=o[e],n[e]=o[e]})),Object.keys(r).forEach((function(e){n[e+";"]=r[e]})),a=!0)}},42999:(e,t,i)=>{"use strict";i.d(t,{decodeHTMLEntities:()=>y,decodeHTMLEntitiesDeep:()=>f,decodeHTMLFullEntities:()=>E,encodeHTMLEntities:()=>m,escape:()=>d,unescape:()=>u});var o=i(561642),r=i(158398),n=i(542662),a=i(629039),s=new r.Replacer({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"}),c=new r.Replacer({"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"'}),l={"amp;":"&","lt;":"<","gt;":">","quot;":'"',"apos;":"'"};function d(e){return s.replace(e)}function u(e){return c.replace(e)}var _=String.fromCharCode(65533),p=/(?:[<>'"&\x01-\x08\x11-\x15\x17-\x1F\x7f-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g;function m(e){return null==e?"":e.replace(p,(function(e){var t=e.length>1?(0,n.getCodePointAt)(e,0):e.charCodeAt(0);return"&#"+String(t)+";"}))}var g=/&(?:#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);?/g;function v(e,t){return"string"==typeof e&&e?e.replace(g,(function(e){if("#"===e[1]){if(e.length<=3)return e;var i=e.charAt(2),o="x"===i||"X"===i?parseInt(e.substr(3).toLowerCase(),16):parseInt(e.substr(2));return o>=1114111?_:o>65535?(0,n.fromCodePoint)(o):String.fromCharCode(n.numericUnicodeMap[o]||o)}return t[e.slice(1)]||e})):""}function f(e){if("string"==typeof e)return y(e);if("object"===(void 0===e?"undefined":(0,o._)(e))){var t=Object.prototype.toString.apply(e);if("[object Array]"===t)return e.map((function(e){return f(e)}));if("[object Object]"===t){var i={};return Object.keys(e).forEach((function(t){i[y(t)]=f(e[t])})),i}}return e}function y(e){return v(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:l)}function E(e){return(0,a.buildFullNamedEntities)(),v(e,a.fullNamedEntities)}},645534:(e,t,i)=>{"use strict";i.d(t,{decodeHTMLEntities:()=>o.decodeHTMLEntities,decodeHTMLEntitiesDeep:()=>o.decodeHTMLEntitiesDeep,decodeHTMLFullEntities:()=>o.decodeHTMLFullEntities,encodeHTMLEntities:()=>o.encodeHTMLEntities,escape:()=>o.escape,unescape:()=>o.unescape});var o=i(42999)},351118:(e,t,i)=>{"use strict";i.d(t,{SECONDS_IN_THE_DAY:()=>n.SECONDS_IN_THE_DAY,addDays:()=>n.addDays,asyncImportLoader:()=>r.asyncImportLoader,canUseDOM:()=>c.canUseDOM,chunkArray:()=>o.chunkArray,classNames:()=>c.classNames,copyTextToClipboard:()=>c.copyTextToClipboard,createArray:()=>o.createArray,createDateFromUnixTimestamp:()=>n.createDateFromUnixTimestamp,debounce:()=>r.debounce,decodeHTMLEntities:()=>s.decodeHTMLEntities,decodeHTMLEntitiesDeep:()=>s.decodeHTMLEntitiesDeep,decodeHTMLFullEntities:()=>s.decodeHTMLFullEntities,deleteObjectKeys:()=>c.deleteObjectKeys,detectIOS:()=>a.detectIOS,difference:()=>o.difference,encodeHTMLEntities:()=>s.encodeHTMLEntities,escape:()=>s.escape,escapeRegExp:()=>c.escapeRegExp,formatDuration:()=>n.formatDuration,formatNumber:()=>l.formatNumber,getCookie:()=>c.getCookie,getLastDayOfMonth:()=>n.getLastDayOfMonth,getOffsetRect:()=>c.getOffsetRect,getPhotoSize:()=>c.getPhotoSize,getRandomInt:()=>c.getRandomInt,getRandomString:()=>c.getRandomString,hasHover:()=>a.hasHover,hasMouse:()=>a.hasMouse,hasReactNode:()=>c.hasReactNode,isArray:()=>d.isArray,isCookieEnabled:()=>c.isCookieEnabled,isDateToday:()=>n.isDateToday,isDateTomorrow:()=>n.isDateTomorrow,isDateYesterday:()=>n.isDateYesterday,isEqual:()=>c.isEqual,isFunction:()=>d.isFunction,isIPad:()=>a.isIPad,isIPadOS:()=>a.isIPadOS,isNumber:()=>d.isNumber,isNumeric:()=>c.isNumeric,isObject:()=>d.isObject,isObjectLike:()=>d.isObjectLike,isPrimitiveReactNode:()=>c.isPrimitiveReactNode,isRetina:()=>a.isRetina,isSameDate:()=>n.isSameDate,isString:()=>d.isString,isUndefined:()=>d.isUndefined,leadingZero:()=>l.leadingZero,localStorage:()=>c.localStorage,noop:()=>c.noop,omitFromArray:()=>o.omitFromArray,once:()=>c.once,querystring:()=>c.querystring,shuffleArray:()=>o.shuffleArray,throttle:()=>r.throttle,unescape:()=>s.unescape,uniqueArray:()=>o.uniqueArray});var o=i(99308),r=i(335137),n=i(233686),a=i(358573),s=i(645534),c=i(638447),l=i(670272),d=i(741513)},542662:(e,t,i)=>{"use strict";i.d(t,{fromCodePoint:()=>r,getCodePointAt:()=>a,numericUnicodeMap:()=>o});var o={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},r=function(){return String.fromCodePoint||function(e){return String.fromCharCode(Math.floor((e-65536)/1024)+55296,(e-65536)%1024+56320)}}(),n=function(){return String.prototype.codePointAt}(),a=function(){return n?function(e,t){return e.codePointAt(t)}:function(e,t){return 1024*(e.charCodeAt(t)-55296)+e.charCodeAt(t+1)-56320+65536}}()},158398:(e,t,i)=>{"use strict";i.d(t,{Replacer:()=>s});var o=i(730494),r=i(799407),n=i(50467),a=i(463882),s=function(){function e(t){(0,o._)(this,e),(0,n._)(this,"regexp",void 0),(0,n._)(this,"map",void 0),this.map=t}return(0,r._)(e,[{key:"build",value:function(){if(!this.regexp){var e=Object.keys(this.map).map(a.escapeRegExp).sort((function(e,t){return t.length-e.length})),t="(?:".concat(e.join("|"),")");this.regexp=new RegExp(t,"g")}}},{key:"replace",value:function(e){var t=this;return e?(this.build(),e.replace(this.regexp,(function(e){return t.map[e]}))):""}}]),e}()},410094:(e,t,i)=>{"use strict";i.d(t,{uniqueArrayFallback:()=>r});var o=i(561642);function r(e){if(!Array.isArray(e)||!e.length)return[];for(var t={},i=[],r=0;r<e.length;r++){var n=e[r],a=String(n)+(void 0===n?"undefined":(0,o._)(n));t[a]||(i.push(n),t[a]=!0)}return i}},879093:(e,t,i)=>{"use strict";function o(e){return new Promise((function(t,i){var o=document.createElement("textarea"),r=document.createRange();o.value=e,o.style.position="fixed",o.contentEditable="true",document.body.appendChild(o),o.focus(),o.select(),r.selectNodeContents(o);var n=window.getSelection();n&&(n.removeAllRanges(),n.addRange(r)),o.setSelectionRange(0,999999);try{document.execCommand("copy")?t(!0):i(new Error("copy failed"))}catch(e){i(e)}n&&n.removeAllRanges(),document.body.removeChild(o)}))}function r(e){return navigator.clipboard?function(e){return navigator.clipboard.writeText(e).then((function(){return!0}))}(e).catch((function(){return o(e)})):o(e)}i.d(t,{copyTextToClipboard:()=>r})},294590:(e,t,i)=>{"use strict";function o(e){return!isNaN(parseFloat(e))&&isFinite(e)&&!Array.isArray(e)}i.d(t,{isNumeric:()=>o})},377277:(e,t,i)=>{"use strict";function o(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([.$?*|{}()\[\]\\\/+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}i.d(t,{getCookie:()=>o,isCookieEnabled:()=>n});var r=null,n=function(){if(null===r)try{document.cookie="cookietest=1",r=document.cookie.includes("cookietest="),document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT"}catch(e){r=!1}return r}},856623:(e,t,i)=>{"use strict";i.d(t,{canUseDOM:()=>o});var o=function(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}()},736819:(e,t,i)=>{"use strict";i.d(t,{isEqual:()=>r});var o=i(947008);function r(e,t){if(e===t)return!0;if(null==e||null==t||!(0,o.isObjectLike)(e)&&!(0,o.isObjectLike)(t))return e!=e&&t!=t;if((0,o.isObjectLike)(e)&&(0,o.isObjectLike)(t)){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var i in e){if(!e.hasOwnProperty(i)||!t.hasOwnProperty(i))return!1;if(!r(e[i],t[i]))return!1}return!0}return!1}},754694:(e,t,i)=>{"use strict";i.d(t,{noop:()=>o,once:()=>r});var o=function(){};function r(e){var t=!1;return function(){for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];if(!t)return t=!0,e.apply(this,o)}}},835438:(e,t,i)=>{"use strict";i.d(t,{getOffsetRect:()=>r});var o=i(153750);function r(e){var t=(0,o._)(e,HTMLElement)||(0,o._)(e,SVGElement);if("undefined"==typeof window||!t)return{top:0,left:0,width:0,height:0};var i=e.getBoundingClientRect(),r=document.body,n=document.documentElement,a=window.pageYOffset||n.scrollTop||r.scrollTop,s=window.pageXOffset||n.scrollLeft||r.scrollLeft,c=n.clientTop||r.clientTop||0,l=n.clientLeft||r.clientLeft||0;return{top:Math.round(i.top+a-c),left:Math.round(i.left+s-l),width:Math.round(i.width),height:Math.round(i.height)}}},300806:(e,t,i)=>{"use strict";i.d(t,{getPhotoSize:()=>r});var o=i(586337);function r(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Array.isArray(e)||!e.length)return null;var r=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(1===e.length)return e[0];var r=(0,o._)(e).sort((function(e,t){return e.width<t.width?-1:e.width===t.width?e.height>t.height?1:-1:1})),n=r.filter((function(e){return e.width>=t}));if(!n.length)return r[r.length-1];if(!i)return n[0];for(var a=0;a<n.length;a++){var s=n[a];if(s.height>=i)return s}var c=n.sort((function(e,t){return e.height>t.height?1:-1}));return c[c.length-1]}(e,t,i);return function(e){return{url:e.url||e.src||"",width:e.width,height:e.height}}(r)}},638447:(e,t,i)=>{"use strict";i.d(t,{canUseDOM:()=>f.canUseDOM,classNames:()=>o.clsx,copyTextToClipboard:()=>r.copyTextToClipboard,deleteObjectKeys:()=>u.deleteObjectKeys,escapeRegExp:()=>g.escapeRegExp,getCookie:()=>c.getCookie,getOffsetRect:()=>l.getOffsetRect,getPhotoSize:()=>d.getPhotoSize,getRandomInt:()=>p.getRandomInt,getRandomString:()=>p.getRandomString,hasReactNode:()=>m.hasReactNode,isCookieEnabled:()=>c.isCookieEnabled,isEqual:()=>a.isEqual,isNumeric:()=>n.isNumeric,isPrimitiveReactNode:()=>m.isPrimitiveReactNode,localStorage:()=>v.localStorage,noop:()=>s.noop,once:()=>s.once,querystring:()=>_.querystring});var o=i(634164),r=i(879093),n=i(294590),a=i(736819),s=i(754694),c=i(377277),l=i(835438),d=i(300806),u=i(163039),_=i(138930),p=i(636848),m=i(109914),g=i(463882),v=i(849862),f=i(856623)},975389:(e,t,i)=>{"use strict";function o(e){return e>=10?String(e):"0"+String(e)}i.d(t,{leadingZero:()=>o})},163039:(e,t,i)=>{"use strict";i.d(t,{deleteObjectKeys:()=>r});var o=i(171893);function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=(0,o._)({},e);return t.forEach((function(e){return delete i[e]})),i}},138930:(e,t,i)=>{"use strict";i.d(t,{querystring:()=>n});var o=i(171893),r=i(561642);var n={parse:function(e){if("string"!=typeof e)return{};var t=e.trim().replace(/^[?#&]/,"");return t?t.substring(t.indexOf("?")+1).split("&").reduce((function(e,t){var i=t.split("=");return i[1]&&(e[decodeURIComponent(i[0])]=decodeURIComponent(i[1].replace(/\+/g," "))),e}),{}):{}},stringify:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==(void 0===e?"undefined":(0,r._)(e))||null===e)return"";t=(0,o._)({encode:!0},t);var i=function(e){return t.encode?encodeURIComponent(e):String(e)};return Object.keys(e).reduce((function(o,r){var n=e[r];return void 0===n?o:null===n?(t.skipNull||o.push([i(r),""].join("=")),o):Array.isArray(n)?(n.map((function(e){o.push("".concat(i(r),"[]=").concat(i(e)))})).join(),o):(o.push([i(r),i(n)].join("=")),o)}),[]).join("&")}}},636848:(e,t,i)=>{"use strict";function o(e,t){return Math.round(e-.5+Math.random()*(t-e+1))}function r(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=[],o=0;o<e;o++)i.push(t.charAt(Math.floor(62*Math.random())));return i.join("")}i.d(t,{getRandomInt:()=>o,getRandomString:()=>r})},109914:(e,t,i)=>{"use strict";function o(e){return void 0!==e&&!1!==e&&null!==e&&""!==e}function r(e){return"string"==typeof e||"number"==typeof e}i.d(t,{hasReactNode:()=>o,isPrimitiveReactNode:()=>r})},463882:(e,t,i)=>{"use strict";function o(e){return e?e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1"):""}i.d(t,{escapeRegExp:()=>o})},849862:(e,t,i)=>{"use strict";i.d(t,{localStorage:()=>_});var o,r=i(730494),n=i(799407),a=i(50467),s=i(153750),c=function(){function e(){var t=this;(0,r._)(this,e),(0,a._)(this,"data",{}),(0,a._)(this,"getItem",(function(e){return t.data.hasOwnProperty(e)?t.data[e]:null})),(0,a._)(this,"keys",(function(){return Object.keys(t.data)}))}return(0,n._)(e,[{key:"setItem",value:function(e,t){this.data[e]=String(t)}},{key:"removeItem",value:function(e){delete this.data[e]}},{key:"clear",value:function(){this.data={}}},{key:"length",get:function(){return Object.keys(this.data).length}},{key:"key",value:function(e){return Object.keys(this.data)[e]}}]),e}(),l="vk-ls-dummy",d="test";function u(){if(o)return o;try{if(window.localStorage.setItem(l,d),d!==window.localStorage.getItem(l))throw new Error("localStorage is broken");window.localStorage.removeItem(l),o=window.localStorage}catch(e){o=new c}return o}var _={setItem:function(e,t){return u().setItem(e,t)},getItem:function(e){return u().getItem(e)},removeItem:function(e){return u().removeItem(e)},clear:function(){return u().clear()},length:function(){return u().length},key:function(e){return u().key(e)},keys:function(){var e=u();return(0,s._)(e,c)?e.keys():Object.keys(e)},getPrefixedKeys:function(e){return _.keys().filter((function(t){return t.startsWith(e)}))}}},670272:(e,t,i)=>{"use strict";i.d(t,{formatNumber:()=>o.formatNumber,leadingZero:()=>o.leadingZero});var o=i(956250);i(799609)},956250:(e,t,i)=>{"use strict";function o(e){return e>=10?String(e):"0"+String(e)}function r(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:",",o=e.toString().split("."),r=[],n=o[0].length-3;n>-3;n-=3)r.unshift(o[0].slice(n>0?n:0,n+3));return o[0]=r.join(t),o.join(i)}i.d(t,{formatNumber:()=>r,leadingZero:()=>o})},799609:(e,t,i)=>{"use strict";i(730494),i(799407),i(50467),i(158398)},741513:(e,t,i)=>{"use strict";i.d(t,{isArray:()=>o.isArray,isFunction:()=>o.isFunction,isNumber:()=>o.isNumber,isObject:()=>o.isObject,isObjectLike:()=>o.isObjectLike,isString:()=>o.isString,isUndefined:()=>o.isUndefined});var o=i(947008)},947008:(e,t,i)=>{"use strict";i.d(t,{isArray:()=>n,isFunction:()=>c,isNumber:()=>d,isObject:()=>a,isObjectLike:()=>r,isString:()=>l,isUndefined:()=>s});var o=i(561642);function r(e){return"object"===(void 0===e?"undefined":(0,o._)(e))&&null!==e}function n(e){return Array.isArray(e)}function a(e){return"[object Object]"===Object.prototype.toString.call(e)}function s(e){return void 0===e}function c(e){return"function"==typeof e}function l(e){return"string"==typeof e}function d(e){return"number"==typeof e}},84249:(e,t,i)=>{"use strict";Symbol.for("constructDateFrom")},973608:(e,t,i)=>{"use strict";i.d(t,{TZDate:()=>s});var o=i(171893),r=i(855456),n=i(836357),a=i(999765);class s extends a.TZDateMini{static tz(e,...t){return t.length?new s(...t,e):new s(Date.now(),e)}toISOString(){const[e,t,i]=this.tzComponents(),o=`${e}${t}:${i}`;return this.internal.toISOString().slice(0,-1)+o}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,t,i,o]=this.internal.toUTCString().split(" ");return`${null==e?void 0:e.slice(0,-1)} ${i} ${t} ${o}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[t,i,o]=this.tzComponents();return`${e} GMT${t}${i}${o} (${(0,n.tzName)(this.timeZone,this)})`}toLocaleString(e,t){return Date.prototype.toLocaleString.call(this,e,(0,r._)((0,o._)({},t),{timeZone:(null==t?void 0:t.timeZone)||this.timeZone}))}toLocaleDateString(e,t){return Date.prototype.toLocaleDateString.call(this,e,(0,r._)((0,o._)({},t),{timeZone:(null==t?void 0:t.timeZone)||this.timeZone}))}toLocaleTimeString(e,t){return Date.prototype.toLocaleTimeString.call(this,e,(0,r._)((0,o._)({},t),{timeZone:(null==t?void 0:t.timeZone)||this.timeZone}))}tzComponents(){const e=this.getTimezoneOffset();return[e>0?"-":"+",String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),String(Math.abs(e)%60).padStart(2,"0")]}withTimeZone(e){return new s(+this,e)}[Symbol.for("constructDateFrom")](e){return new s(+new Date(e),this.timeZone)}}},999765:(e,t,i)=>{"use strict";i.d(t,{TZDateMini:()=>r});var o=i(690665);class r extends Date{static tz(e,...t){return t.length?new r(...t,e):new r(Date.now(),e)}withTimeZone(e){return new r(+this,e)}getTimezoneOffset(){const e=-(0,o.tzOffset)(this.timeZone,this);return e>0?Math.floor(e):Math.ceil(e)}setTime(e){return Date.prototype.setTime.apply(this,arguments),a(this),+this}[Symbol.for("constructDateFrom")](e){return new r(+new Date(e),this.timeZone)}constructor(...e){super(),e.length>1&&"string"==typeof e[e.length-1]&&(this.timeZone=e.pop()),this.internal=new Date,isNaN((0,o.tzOffset)(this.timeZone,this))?this.setTime(NaN):e.length?"number"==typeof e[0]&&(1===e.length||2===e.length&&"number"!=typeof e[1])?this.setTime(e[0]):"string"==typeof e[0]?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),s(this),a(this)):this.setTime(Date.now())}}const n=/^(get|set)(?!UTC)/;function a(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(60*-(0,o.tzOffset)(e.timeZone,e)))}function s(e){const t=(0,o.tzOffset)(e.timeZone,e),i=t>0?Math.floor(t):Math.ceil(t),r=new Date(+e);r.setUTCHours(r.getUTCHours()-1);const n=-new Date(+e).getTimezoneOffset(),a=n- -new Date(+r).getTimezoneOffset(),s=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();a&&s&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+a);const c=n-i;c&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+c);const l=new Date(+e);l.setUTCSeconds(0);const d=n>0?l.getSeconds():(l.getSeconds()-60)%60,u=Math.round(-60*(0,o.tzOffset)(e.timeZone,e))%60;(u||d)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+u),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+u+d));const _=(0,o.tzOffset)(e.timeZone,e),p=_>0?Math.floor(_):Math.ceil(_),m=-new Date(+e).getTimezoneOffset()-p-c;if(p!==i&&m){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+m);const t=(0,o.tzOffset)(e.timeZone,e),i=p-(t>0?Math.floor(t):Math.ceil(t));i&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+i),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+i))}}Object.getOwnPropertyNames(Date.prototype).forEach((e=>{if(!n.test(e))return;const t=e.replace(n,"$1UTC");r.prototype[t]&&(e.startsWith("get")?r.prototype[e]=function(){return this.internal[t]()}:(r.prototype[e]=function(){var e;return Date.prototype[t].apply(this.internal,arguments),e=this,Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),s(e),+this},r.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),a(this),+this}))}))},724823:(e,t,i)=>{"use strict";i.d(t,{TZDateMini:()=>o.TZDateMini});i(84249),i(973608);var o=i(999765);i(278482),i(690665),i(598879)},278482:(e,t,i)=>{"use strict";i(973608)},836357:(e,t,i)=>{"use strict";function o(e,t,i="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:i}).format(t).split(/\s/g).slice(2).join(" ")}i.d(t,{tzName:()=>o})},690665:(e,t,i)=>{"use strict";i.d(t,{tzOffset:()=>n});const o={},r={};function n(e,t){try{var i,n;const a=((i=o)[n=e]||(i[n]=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format))(t).split("GMT")[1];return a in r?r[a]:s(a,a.split(":"))}catch(t){if(e in r)return r[e];const i=null==e?void 0:e.match(a);return i?s(e,i.slice(1)):NaN}}const a=/([+-]\d\d):?(\d\d)?/;function s(e,t){const i=+(t[0]||0),o=+(t[1]||0),n=+(t[2]||0)/60;return r[e]=60*i+o>0?60*i+o+n:60*i-o-n}},598879:(e,t,i)=>{"use strict";i(690665)},634164:(e,t,i)=>{"use strict";function o(e){var t,i,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(i=o(e[t]))&&(r&&(r+=" "),r+=i)}else for(i in e)e[i]&&(r&&(r+=" "),r+=i);return r}function r(){for(var e,t,i=0,r="",n=arguments.length;i<n;i++)(e=arguments[i])&&(t=o(e))&&(r&&(r+=" "),r+=t);return r}i.d(t,{clsx:()=>r})},314123:(e,t,i)=>{"use strict";function o(e){return t=>{const i=(e?Math[e]:Math.trunc)(t);return 0===i?0:i}}i.d(t,{getRoundingMethod:()=>o})},540215:(e,t,i)=>{"use strict";i.d(t,{getTimezoneOffsetInMilliseconds:()=>r});var o=i(680261);function r(e){const t=(0,o.toDate)(e),i=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return i.setUTCFullYear(t.getFullYear()),+e-+i}},502940:(e,t,i)=>{"use strict";i.d(t,{daysInWeek:()=>o,daysInYear:()=>r,millisecondsInDay:()=>a,millisecondsInHour:()=>c,millisecondsInMinute:()=>s,millisecondsInSecond:()=>l,millisecondsInWeek:()=>n,minutesInDay:()=>_,minutesInHour:()=>p,minutesInMonth:()=>u,minutesInYear:()=>d,monthsInQuarter:()=>m,monthsInYear:()=>g,quartersInYear:()=>v,secondsInDay:()=>E,secondsInHour:()=>f,secondsInMinute:()=>y,secondsInMonth:()=>b,secondsInQuarter:()=>T,secondsInWeek:()=>A,secondsInYear:()=>S});const o=7,r=365.2425,n=(Math.pow(10,8),6048e5),a=864e5,s=6e4,c=36e5,l=1e3,d=525600,u=43200,_=1440,p=60,m=3,g=12,v=4,f=3600,y=60,E=24*f,A=7*E,S=E*r,b=S/12,T=3*b},720514:(e,t,i)=>{"use strict";i.d(t,{differenceInCalendarDays:()=>a});var o=i(502940),r=i(51730),n=i(540215);function a(e,t){const i=(0,r.startOfDay)(e),a=(0,r.startOfDay)(t),s=+i-(0,n.getTimezoneOffsetInMilliseconds)(i),c=+a-(0,n.getTimezoneOffsetInMilliseconds)(a);return Math.round((s-c)/o.millisecondsInDay)}},317764:(e,t,i)=>{"use strict";i.d(t,{differenceInDays:()=>n});var o=i(720514),r=i(680261);function n(e,t){const i=(0,r.toDate)(e),n=(0,r.toDate)(t),s=a(i,n),c=Math.abs((0,o.differenceInCalendarDays)(i,n));i.setDate(i.getDate()-s*c);const l=s*(c-Number(a(i,n)===-s));return 0===l?0:l}function a(e,t){const i=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return i<0?-1:i>0?1:i}},550502:(e,t,i)=>{"use strict";i.d(t,{differenceInHours:()=>a});var o=i(314123),r=i(502940),n=i(977275);function a(e,t,i){const a=(0,n.differenceInMilliseconds)(e,t)/r.millisecondsInHour;return(0,o.getRoundingMethod)(i?.roundingMethod)(a)}},977275:(e,t,i)=>{"use strict";i.d(t,{differenceInMilliseconds:()=>r});var o=i(680261);function r(e,t){return+(0,o.toDate)(e)-+(0,o.toDate)(t)}},610648:(e,t,i)=>{"use strict";i.d(t,{differenceInMinutes:()=>a});var o=i(314123),r=i(502940),n=i(977275);function a(e,t,i){const a=(0,n.differenceInMilliseconds)(e,t)/r.millisecondsInMinute;return(0,o.getRoundingMethod)(i?.roundingMethod)(a)}},43924:(e,t,i)=>{"use strict";i.d(t,{differenceInSeconds:()=>n});var o=i(314123),r=i(977275);function n(e,t,i){const n=(0,r.differenceInMilliseconds)(e,t)/1e3;return(0,o.getRoundingMethod)(i?.roundingMethod)(n)}},277068:(e,t,i)=>{"use strict";i.d(t,{differenceInWeeks:()=>n});var o=i(314123),r=i(317764);function n(e,t,i){const n=(0,r.differenceInDays)(e,t)/7;return(0,o.getRoundingMethod)(i?.roundingMethod)(n)}},683592:(e,t,i)=>{"use strict";i.d(t,{isSameYear:()=>r});var o=i(680261);function r(e,t){const i=(0,o.toDate)(e),r=(0,o.toDate)(t);return i.getFullYear()===r.getFullYear()}},51730:(e,t,i)=>{"use strict";i.d(t,{startOfDay:()=>r});var o=i(680261);function r(e){const t=(0,o.toDate)(e);return t.setHours(0,0,0,0),t}},680261:(e,t,i)=>{"use strict";function o(e){const t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new e.constructor(+e):"number"==typeof e||"[object Number]"===t||"string"==typeof e||"[object String]"===t?new Date(e):new Date(NaN)}i.d(t,{toDate:()=>o})},43014:(e,t,i)=>{"use strict";i.d(t,{persist:()=>s});var o=i(32489),r=new Map,n=e=>(t,i)=>e(i,t.ref),a=(0,o.createEvent)();function s(e){var{adapter:t,store:i,source:s=i,target:c=i,clock:l=s,done:d,fail:u=a,finally:_,pickup:p,context:m,key:g,keyPrefix:v="",contract:f}=e;if(!t)throw Error("Adapter is not defined");if(!s)throw Error("Store or source is not defined");if(!c)throw Error("Target is not defined");if(!g&&s.shortName===s.id)throw Error("Key or name is not defined");if(s===c&&!o.is.store(s))throw Error("Source must be different from target");void 0===e.def&&o.is.store(s)&&(e.def=s.defaultState);var y="factory"in t?t(e):t,E=g||s.shortName,A=function(e,t){var i=r.get(e);void 0===i&&(i=new Map,r.set(e,i));var n=i.get(t);return void 0!==n||(n=(0,o.createStore)(null,{serialize:"ignore"}),i.set(t,n)),n}(y.keyArea||y,v+E),S=(0,o.createNode)(),b=()=>(0,o.clearNode)(S),T=e=>({status:t="fail",params:i,result:o,error:r})=>"done"===t?{status:t,key:E,keyPrefix:v,operation:e,value:"get"===e?o:i}:{status:t,key:E,keyPrefix:v,operation:e,value:i,error:r};return(0,o.withRegion)(S,(()=>{var e,t=(0,o.createStore)({ref:void 0},{serialize:"ignore"}),i=y(v+E,(e=>k(e))),r=(0,o.attach)({source:t,effect:n(i.get)}),a=(0,o.attach)({source:t,effect:n(i.set)}),g=(0,o.createEffect)((e=f,t=>!e||void 0===t||("isData"in e?e.isData(t):e(t))?t:(()=>{throw"getErrorMessages"in e?e.getErrorMessages(t):void 0})())),S=(0,o.createEvent)(),b=S.filterMap((({status:e,key:t,keyPrefix:i,operation:o,value:r})=>"done"===e?{key:t,keyPrefix:i,operation:o,value:r}:void 0)),I=S.filterMap((({status:e,key:t,keyPrefix:i,operation:o,error:r,value:n})=>"fail"===e?{key:t,keyPrefix:i,operation:o,error:r,value:n}:void 0)),C=(0,o.createEvent)(),k=r;t.updates.watch((()=>{k=(e=>{try{return(0,o.scopeBind)(e,{safe:!0})}catch(t){return e}})(r)})),(0,o.sample)({source:s,clock:l,target:C}),(0,o.guard)({source:(0,o.sample)(A,C,((e,t)=>[t,e])),filter:([e,t])=>e!==t,target:a.prepend((([e])=>e))}),(0,o.forward)({from:[r.doneData,a],to:A}),(0,o.sample)({source:(0,o.merge)([r.doneData,A]),target:g}),(0,o.forward)({from:g.doneData,to:c}),(0,o.forward)({from:[r.finally.map(T("get")),a.finally.map(T("set")),g.fail.map(T("validate"))],to:S}),(0,o.forward)({from:I,to:u}),d&&(0,o.forward)({from:b,to:d}),_&&(0,o.forward)({from:S,to:_}),m&&t.on(m,(({ref:e},t)=>({ref:void 0===t?e:t}))),p?((0,o.forward)({from:p,to:r.prepend((()=>{}))}),t.on(p,(({ref:e},t)=>({ref:void 0===t?e:t})))):r()})),b.unsubscribe=b}a.watch((e=>console.error(e.error)))},225604:(e,t,i)=>{"use strict";i.d(t,{persist:()=>c});var o=i(43014),r=i(719888),n=i(764318);function a(e){return function(){try{return"undefined"!=typeof localStorage}catch(e){return!0}}()?(0,n.storage)({storage:()=>localStorage,sync:!0,...e}):(0,r.nil)({keyArea:"local"})}a.factory=!0;var s,c=e=>(0,o.persist)({adapter:a,...s,...e})},719888:(e,t,i)=>{"use strict";function o({keyArea:e=""}={}){var t=()=>({get(){},set(){}});return t.keyArea=e,t.noop=!0,t}i.d(t,{nil:()=>o}),o.factory=!0},764318:(e,t,i)=>{"use strict";function o({storage:e,sync:t=!1,serialize:i=JSON.stringify,deserialize:o=JSON.parse,timeout:r,def:n}){var a=(a,s)=>{var c,l,d,u=()=>d.setItem(a,i(l)),_=e=>{c=clearTimeout(c),e&&u(),"undefined"!=typeof removeEventListener&&removeEventListener("beforeunload",_)};return t&&"undefined"!=typeof addEventListener&&addEventListener("storage",(i=>{i.storageArea===e()&&(i.key===a&&s("force"===t?void 0:i.newValue),null===i.key&&s(null))})),{get(t){_();var i=void 0!==t?t:e().getItem(a);return null===i?void 0!==n?n:t:o(i)},set(t){l=t,d=e(),void 0===r?u():c||(c=setTimeout(_,r,1),"undefined"!=typeof addEventListener&&addEventListener("beforeunload",_))}}};try{a.keyArea=e()}catch(e){}return a}i.d(t,{storage:()=>o}),o.factory=!0},260602:(e,t,i)=>{"use strict";i.d(t,{deleteDB:()=>n,openDB:()=>r});var o=i(767500);function r(e,t,{blocked:i,upgrade:r,blocking:n,terminated:a}={}){const s=indexedDB.open(e,t),c=(0,o.w)(s);return r&&s.addEventListener("upgradeneeded",(e=>{r((0,o.w)(s.result),e.oldVersion,e.newVersion,(0,o.w)(s.transaction),e)})),i&&s.addEventListener("blocked",(e=>i(e.oldVersion,e.newVersion,e))),c.then((e=>{a&&e.addEventListener("close",(()=>a())),n&&e.addEventListener("versionchange",(e=>n(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),c}function n(e,{blocked:t}={}){const i=indexedDB.deleteDatabase(e);return t&&i.addEventListener("blocked",(e=>t(e.oldVersion,e))),(0,o.w)(i).then((()=>{}))}const a=["get","getKey","getAll","getAllKeys","count"],s=["put","add","delete","clear"],c=new Map;function l(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(c.get(t))return c.get(t);const i=t.replace(/FromIndex$/,""),o=t!==i,r=s.includes(i);if(!(i in(o?IDBIndex:IDBObjectStore).prototype)||!r&&!a.includes(i))return;const n=async function(e,...t){const n=this.transaction(e,r?"readwrite":"readonly");let a=n.store;return o&&(a=a.index(t.shift())),(await Promise.all([a[i](...t),r&&n.done]))[0]};return c.set(t,n),n}(0,o.r)((e=>({...e,get:(t,i,o)=>l(t,i)||e.get(t,i,o),has:(t,i)=>!!l(t,i)||e.has(t,i)})))},767500:(e,t,i)=>{"use strict";i.d(t,{r:()=>_,w:()=>g});const o=(e,t)=>t.some((t=>e instanceof t));let r,n;const a=new WeakMap,s=new WeakMap,c=new WeakMap,l=new WeakMap,d=new WeakMap;let u={get(e,t,i){if(e instanceof IDBTransaction){if("done"===t)return s.get(e);if("objectStoreNames"===t)return e.objectStoreNames||c.get(e);if("store"===t)return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return g(e[t])},set:(e,t,i)=>(e[t]=i,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function _(e){u=e(u)}function p(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(n||(n=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(v(this),t),g(a.get(this))}:function(...t){return g(e.apply(v(this),t))}:function(t,...i){const o=e.call(v(this),t,...i);return c.set(o,t.sort?t.sort():[t]),g(o)}}function m(e){return"function"==typeof e?p(e):(e instanceof IDBTransaction&&function(e){if(s.has(e))return;const t=new Promise(((t,i)=>{const o=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",n),e.removeEventListener("abort",n)},r=()=>{t(),o()},n=()=>{i(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",r),e.addEventListener("error",n),e.addEventListener("abort",n)}));s.set(e,t)}(e),o(e,r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,u):e)}function g(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,i)=>{const o=()=>{e.removeEventListener("success",r),e.removeEventListener("error",n)},r=()=>{t(g(e.result)),o()},n=()=>{i(e.error),o()};e.addEventListener("success",r),e.addEventListener("error",n)}));return t.then((t=>{t instanceof IDBCursor&&a.set(t,e)})).catch((()=>{})),d.set(t,e),t}(e);if(l.has(e))return l.get(e);const t=m(e);return t!==e&&(l.set(e,t),d.set(t,e)),t}const v=e=>d.get(e)},700241:(e,t,i)=>{"use strict";i.d(t,{default:()=>o});const o=i(41917).default.Symbol},45572:(e,t,i)=>{"use strict";i.d(t,{default:()=>o});const o=function(e,t){for(var i=-1,o=null==e?0:e.length,r=Array(o);++i<o;)r[i]=t(e[i],i,e);return r}},633331:(e,t,i)=>{"use strict";i.d(t,{default:()=>o});const o=(0,i(770805).default)("length")},279010:(e,t,i)=>{"use strict";i.d(t,{default:()=>o});const o=function(e){return e.split("")}},979672:(e,t,i)=>{"use strict";i.d(t,{default:()=>s});var o=i(700241),r=i(240451),n=i(965606),a=o.default?o.default.toStringTag:void 0;const s=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?(0,r.default)(e):(0,n.default)(e)}},712973:(e,t,i)=>{"use strict";i.d(t,{default:()=>n});var o=i(979672),r=i(753098);const n=function(e){return(0,r.default)(e)&&"[object RegExp]"==(0,o.default)(e)}},770805:(e,t,i)=>{"use strict";i.d(t,{default:()=>o});const o=function(e){return function(t){return null==t?void 0:t[e]}}},237688:(e,t,i)=>{"use strict";i.d(t,{default:()=>o});const o=function(e,t,i){var o=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(i=i>r?r:i)<0&&(i+=r),r=t>i?0:i-t>>>0,t>>>=0;for(var n=Array(r);++o<r;)n[o]=e[o+t];return n}},630052:(e,t,i)=>{"use strict";i.d(t,{default:()=>l});var o=i(700241),r=i(45572),n=i(292049),a=i(761882),s=o.default?o.default.prototype:void 0,c=s?s.toString:void 0;const l=function e(t){if("string"==typeof t)return t;if((0,n.default)(t))return(0,r.default)(t,e)+"";if((0,a.default)(t))return c?c.call(t):"";var i=t+"";return"0"==i&&1/t==-1/0?"-0":i}},375488:(e,t,i)=>{"use strict";i.d(t,{default:()=>n});var o=i(507880),r=/^\s+/;const n=function(e){return e?e.slice(0,(0,o.default)(e)+1).replace(r,""):e}},552789:(e,t,i)=>{"use strict";i.d(t,{default:()=>o});const o=function(e){return function(t){return e(t)}}},20098:(e,t,i)=>{"use strict";i.d(t,{default:()=>r});var o=i(237688);const r=function(e,t,i){var r=e.length;return i=void 0===i?r:i,!t&&i>=r?e:(0,o.default)(e,t,i)}},272136:(e,t,i)=>{"use strict";i.d(t,{default:()=>o});const o="object"==typeof global&&global&&global.Object===Object&&global},240451:(e,t,i)=>{"use strict";i.d(t,{default:()=>c});var o=i(700241),r=Object.prototype,n=r.hasOwnProperty,a=r.toString,s=o.default?o.default.toStringTag:void 0;const c=function(e){var t=n.call(e,s),i=e[s];try{e[s]=void 0;var o=!0}catch(e){}var r=a.call(e);return o&&(t?e[s]=i:delete e[s]),r}},770898:(e,t,i)=>{"use strict";i.d(t,{default:()=>r});var o=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const r=function(e){return o.test(e)}},364841:(e,t,i)=>{"use strict";i.d(t,{default:()=>s});var o=i(272136),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,n=r&&"object"==typeof module&&module&&!module.nodeType&&module,a=n&&n.exports===r&&o.default.process;const s=function(){try{var e=n&&n.require&&n.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}()},965606:(e,t,i)=>{"use strict";i.d(t,{default:()=>r});var o=Object.prototype.toString;const r=function(e){return o.call(e)}},41917:(e,t,i)=>{"use strict";i.d(t,{default:()=>n});var o=i(272136),r="object"==typeof self&&self&&self.Object===Object&&self;const n=o.default||r||Function("return this")()},994553:(e,t,i)=>{"use strict";i.d(t,{default:()=>a});var o=i(633331),r=i(770898),n=i(138615);const a=function(e){return(0,r.default)(e)?(0,n.default)(e):(0,o.default)(e)}},174616:(e,t,i)=>{"use strict";i.d(t,{default:()=>a});var o=i(279010),r=i(770898),n=i(632694);const a=function(e){return(0,r.default)(e)?(0,n.default)(e):(0,o.default)(e)}},507880:(e,t,i)=>{"use strict";i.d(t,{default:()=>r});var o=/\s/;const r=function(e){for(var t=e.length;t--&&o.test(e.charAt(t)););return t}},138615:(e,t,i)=>{"use strict";i.d(t,{default:()=>g});var o="\\ud800-\\udfff",r="["+o+"]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",s="[^"+o+"]",c="(?:\\ud83c[\\udde6-\\uddff]){2}",l="[\\ud800-\\udbff][\\udc00-\\udfff]",d="(?:"+n+"|"+a+")"+"?",u="[\\ufe0e\\ufe0f]?",_=u+d+("(?:\\u200d(?:"+[s,c,l].join("|")+")"+u+d+")*"),p="(?:"+[s+n+"?",n,c,l,r].join("|")+")",m=RegExp(a+"(?="+a+")|"+p+_,"g");const g=function(e){for(var t=m.lastIndex=0;m.test(e);)++t;return t}},632694:(e,t,i)=>{"use strict";i.d(t,{default:()=>g});var o="\\ud800-\\udfff",r="["+o+"]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",s="[^"+o+"]",c="(?:\\ud83c[\\udde6-\\uddff]){2}",l="[\\ud800-\\udbff][\\udc00-\\udfff]",d="(?:"+n+"|"+a+")"+"?",u="[\\ufe0e\\ufe0f]?",_=u+d+("(?:\\u200d(?:"+[s,c,l].join("|")+")"+u+d+")*"),p="(?:"+[s+n+"?",n,c,l,r].join("|")+")",m=RegExp(a+"(?="+a+")|"+p+_,"g");const g=function(e){return e.match(m)||[]}},292049:(e,t,i)=>{"use strict";i.d(t,{default:()=>o});const o=Array.isArray},523149:(e,t,i)=>{"use strict";i.d(t,{default:()=>o});const o=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},753098:(e,t,i)=>{"use strict";i.d(t,{default:()=>o});const o=function(e){return null!=e&&"object"==typeof e}},411767:(e,t,i)=>{"use strict";i.d(t,{default:()=>s});var o=i(712973),r=i(552789),n=i(364841),a=n.default&&n.default.isRegExp;const s=a?(0,r.default)(a):o.default},761882:(e,t,i)=>{"use strict";i.d(t,{default:()=>n});var o=i(979672),r=i(753098);const n=function(e){return"symbol"==typeof e||(0,r.default)(e)&&"[object Symbol]"==(0,o.default)(e)}},808776:(e,t,i)=>{"use strict";i.d(t,{default:()=>n});var o=i(501694),r=1/0;const n=function(e){return e?(e=(0,o.default)(e))===r||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},818593:(e,t,i)=>{"use strict";i.d(t,{default:()=>r});var o=i(808776);const r=function(e){var t=(0,o.default)(e),i=t%1;return t==t?i?t-i:t:0}},501694:(e,t,i)=>{"use strict";i.d(t,{default:()=>d});var o=i(375488),r=i(523149),n=i(761882),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;const d=function(e){if("number"==typeof e)return e;if((0,n.default)(e))return NaN;if((0,r.default)(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=(0,r.default)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=(0,o.default)(e);var i=s.test(e);return i||c.test(e)?l(e.slice(2),i?2:8):a.test(e)?NaN:+e}},648182:(e,t,i)=>{"use strict";i.d(t,{default:()=>r});var o=i(630052);const r=function(e){return null==e?"":(0,o.default)(e)}},609620:(e,t,i)=>{"use strict";i.d(t,{default:()=>p});var o=i(630052),r=i(20098),n=i(770898),a=i(523149),s=i(411767),c=i(994553),l=i(174616),d=i(818593),u=i(648182),_=/\w*$/;const p=function(e,t){var i=30,p="...";if((0,a.default)(t)){var m="separator"in t?t.separator:m;i="length"in t?(0,d.default)(t.length):i,p="omission"in t?(0,o.default)(t.omission):p}var g=(e=(0,u.default)(e)).length;if((0,n.default)(e)){var v=(0,l.default)(e);g=v.length}if(i>=g)return e;var f=i-(0,c.default)(p);if(f<1)return p;var y=v?(0,r.default)(v,0,f).join(""):e.slice(0,f);if(void 0===m)return y+p;if(v&&(f+=y.length-f),(0,s.default)(m)){if(e.slice(f).search(m)){var E,A=y;for(m.global||(m=RegExp(m.source,(0,u.default)(_.exec(m))+"g")),m.lastIndex=0;E=m.exec(A);)var S=E.index;y=y.slice(0,void 0===S?f:S)}}else if(e.indexOf((0,o.default)(m),f)!=f){var b=y.lastIndexOf(m);b>-1&&(y=y.slice(0,b))}return y+p}},444329:(e,t,i)=>{"use strict";i.d(t,{customAlphabet:()=>r,nanoid:()=>n});let o=e=>crypto.getRandomValues(new Uint8Array(e)),r=(e,t=21)=>((e,t,i)=>{let o=(2<<Math.log(e.length-1)/Math.LN2)-1,r=-~(1.6*o*t/e.length);return(n=t)=>{let a="";for(;;){let t=i(r),s=r;for(;s--;)if(a+=e[t[s]&o]||"",a.length===n)return a}}})(e,t,o),n=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"),"")},908423:(e,t,i)=>{"use strict";i.d(t,{nanoid:()=>o});let o=(e=21)=>{let t="",i=e;for(;i--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t}},182807:(e,t,i)=>{"use strict";i.d(t,{default:()=>o});class o extends Map{#e=0;#t=new Map;#i=new Map;#o;#r;#n;constructor(e={}){if(super(),!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if("number"==typeof e.maxAge&&0===e.maxAge)throw new TypeError("`maxAge` must be a number greater than 0");this.#o=e.maxSize,this.#r=e.maxAge||Number.POSITIVE_INFINITY,this.#n=e.onEviction}get __oldCache(){return this.#i}#a(e){if("function"==typeof this.#n)for(const[t,i]of e)this.#n(t,i.value)}#s(e,t){return"number"==typeof t.expiry&&t.expiry<=Date.now()&&("function"==typeof this.#n&&this.#n(e,t.value),this.delete(e))}#c(e,t){if(!1===this.#s(e,t))return t.value}#l(e,t){return t.expiry?this.#c(e,t):t.value}#d(e,t){const i=t.get(e);return this.#l(e,i)}#u(e,t){this.#t.set(e,t),this.#e++,this.#e>=this.#o&&(this.#e=0,this.#a(this.#i),this.#i=this.#t,this.#t=new Map)}#_(e,t){this.#i.delete(e),this.#u(e,t)}*#p(){for(const e of this.#i){const[t,i]=e;if(!this.#t.has(t)){!1===this.#s(t,i)&&(yield e)}}for(const e of this.#t){const[t,i]=e;!1===this.#s(t,i)&&(yield e)}}get(e){if(this.#t.has(e)){const t=this.#t.get(e);return this.#l(e,t)}if(this.#i.has(e)){const t=this.#i.get(e);if(!1===this.#s(e,t))return this.#_(e,t),t.value}}set(e,t,{maxAge:i=this.#r}={}){const o="number"==typeof i&&i!==Number.POSITIVE_INFINITY?Date.now()+i:void 0;return this.#t.has(e)?this.#t.set(e,{value:t,expiry:o}):this.#u(e,{value:t,expiry:o}),this}has(e){return this.#t.has(e)?!this.#s(e,this.#t.get(e)):!!this.#i.has(e)&&!this.#s(e,this.#i.get(e))}peek(e){return this.#t.has(e)?this.#d(e,this.#t):this.#i.has(e)?this.#d(e,this.#i):void 0}delete(e){const t=this.#t.delete(e);return t&&this.#e--,this.#i.delete(e)||t}clear(){this.#t.clear(),this.#i.clear(),this.#e=0}resize(e){if(!(e&&e>0))throw new TypeError("`maxSize` must be a number greater than 0");const t=[...this.#p()],i=t.length-e;i<0?(this.#t=new Map(t),this.#i=new Map,this.#e=t.length):(i>0&&this.#a(t.slice(0,i)),this.#i=new Map(t.slice(i)),this.#t=new Map,this.#e=0),this.#o=e}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.#t){const[t,i]=e;!1===this.#s(t,i)&&(yield[t,i.value])}for(const e of this.#i){const[t,i]=e;if(!this.#t.has(t)){!1===this.#s(t,i)&&(yield[t,i.value])}}}*entriesDescending(){let e=[...this.#t];for(let t=e.length-1;t>=0;--t){const i=e[t],[o,r]=i;!1===this.#s(o,r)&&(yield[o,r.value])}e=[...this.#i];for(let t=e.length-1;t>=0;--t){const i=e[t],[o,r]=i;if(!this.#t.has(o)){!1===this.#s(o,r)&&(yield[o,r.value])}}}*entriesAscending(){for(const[e,t]of this.#p())yield[e,t.value]}get size(){if(!this.#e)return this.#i.size;let e=0;for(const t of this.#i.keys())this.#t.has(t)||e++;return Math.min(this.#e+e,this.#o)}get maxSize(){return this.#o}entries(){return this.entriesAscending()}forEach(e,t=this){for(const[i,o]of this.entriesAscending())e.call(t,o,i,this)}get[Symbol.toStringTag](){return JSON.stringify([...this.entriesAscending()])}}},331635:(e,t,i)=>{"use strict";i.d(t,{__assign:()=>n,__decorate:()=>s,__extends:()=>r,__metadata:()=>c,__read:()=>d,__rest:()=>a,__spreadArray:()=>u,__values:()=>l});var o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},o(e,t)};function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var n=function(){return n=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},n.apply(this,arguments)};function a(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(i[o[r]]=e[o[r]])}return i}function s(e,t,i,o){var r,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n<3?r(a):n>3?r(t,i,a):r(t,i))||a);return n>3&&a&&Object.defineProperty(t,i,a),a}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}Object.create;function l(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],o=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var o,r,n=i.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=n.next()).done;)a.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(i=n.return)&&i.call(n)}finally{if(r)throw r.error}}return a}function u(e,t,i){if(i||2===arguments.length)for(var o,r=0,n=t.length;r<n;r++)!o&&r in t||(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}Object.create;"function"==typeof SuppressedError&&SuppressedError}}]),"undefined"!=typeof window&&window.stManager?.done?.("dist/web/chunks/common.b4bf67f4.js")}catch(e){throw"undefined"!=typeof window&&window.stManager?.fail?.("dist/web/chunks/common.b4bf67f4.js",e),e}